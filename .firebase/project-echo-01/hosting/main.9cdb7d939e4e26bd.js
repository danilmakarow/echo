"use strict";(self.webpackChunkecho=self.webpackChunkecho||[]).push([[179],{2313:(En,rt,S)=>{S.d(rt,{nm:()=>Vi});var l=S(2122),g=S(5963),z=S(8996),ue=S(4351),Me=S(7552),we=S(4650),Pe=S(3692),le=S(259),_e=S(5861),se=S(9681),Re=S(4859),Le=S(2090),Xe=S(1877);
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const We=new Map,St={activated:!1,tokenObservers:[]},Ft={initialized:!1,enabled:!1};function Ie(mt){return We.get(mt)||Object.assign({},St)}function gt(){return Ft}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const bt="https://content-firebaseappcheck.googleapis.com/v1",at="exchangeDebugToken",qt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class X{constructor(ct,Qe,jt,ln,Gn){if(this.operation=ct,this.retryPolicy=Qe,this.getWaitDuration=jt,this.lowerBound=ln,this.upperBound=Gn,this.pending=null,this.nextErrorWaitInterval=ln,ln>Gn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ct){var Qe=this;return(0,_e.Z)(function*(){Qe.stop();try{Qe.pending=new Le.BH,yield function Bt(mt){return new Promise(ct=>{setTimeout(ct,mt)})}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(Qe.getNextRun(ct)),Qe.pending.resolve(),yield Qe.pending.promise,Qe.pending=new Le.BH,yield Qe.operation(),Qe.pending.resolve(),yield Qe.pending.promise,Qe.process(!0).catch(()=>{})}catch(jt){Qe.retryPolicy(jt)?Qe.process(!1).catch(()=>{}):Qe.stop()}})()}getNextRun(ct){if(ct)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Qe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Qe}}}const _n={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},en=new Le.LL("appCheck","AppCheck",_n);
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Pn(mt){if(!Ie(mt).activated)throw en.create("use-before-activation",{appName:mt.name})}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Rt(mt,ct){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,_e.Z)(function*({url:mt,body:ct},Qe){const jt={"Content-Type":"application/json"},ln=Qe.getImmediate({optional:!0});if(ln){const _i=yield ln.getHeartbeatsHeader();_i&&(jt["X-Firebase-Client"]=_i)}const Gn={method:"POST",body:JSON.stringify(ct),headers:jt};let cr,$r;try{cr=yield fetch(mt,Gn)}catch(_i){throw en.create("fetch-network-error",{originalErrorMessage:_i?.message})}if(200!==cr.status)throw en.create("fetch-status-error",{httpStatus:cr.status});try{$r=yield cr.json()}catch(_i){throw en.create("fetch-parse-error",{originalErrorMessage:_i?.message})}const _r=$r.ttl.match(/^([\d.]+)(s)$/);if(!_r||!_r[2]||isNaN(Number(_r[1])))throw en.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$r.ttl}`});const zi=1e3*Number(_r[1]),Ii=Date.now();return{token:$r.token,expireTimeMillis:Ii+zi,issuedAtTimeMillis:Ii}})).apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const it="firebase-app-check-database",It=1,Mt="firebase-app-check-store",vn="debug-token";let on=null;function xn(){return on||(on=new Promise((mt,ct)=>{try{const Qe=indexedDB.open(it,It);Qe.onsuccess=jt=>{mt(jt.target.result)},Qe.onerror=jt=>{var ln;ct(en.create("storage-open",{originalErrorMessage:null===(ln=jt.target.error)||void 0===ln?void 0:ln.message}))},Qe.onupgradeneeded=jt=>{const ln=jt.target.result;if(0===jt.oldVersion)ln.createObjectStore(Mt,{keyPath:"compositeKey"})}}catch(Qe){ct(en.create("storage-open",{originalErrorMessage:Qe?.message}))}}),on)}function Nr(mt,ct){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,_e.Z)(function*(mt,ct){const jt=(yield xn()).transaction(Mt,"readwrite"),Gn=jt.objectStore(Mt).put({compositeKey:mt,value:ct});return new Promise((cr,$r)=>{Gn.onsuccess=_r=>{cr()},jt.onerror=_r=>{var zi;$r(en.create("storage-set",{originalErrorMessage:null===(zi=_r.target.error)||void 0===zi?void 0:zi.message}))}})})).apply(this,arguments)}function Br(mt){return dr.apply(this,arguments)}function dr(){return(dr=(0,_e.Z)(function*(mt){const Qe=(yield xn()).transaction(Mt,"readonly"),ln=Qe.objectStore(Mt).get(mt);return new Promise((Gn,cr)=>{ln.onsuccess=$r=>{const _r=$r.target.result;Gn(_r?_r.value:void 0)},Qe.onerror=$r=>{var _r;cr(en.create("storage-get",{originalErrorMessage:null===(_r=$r.target.error)||void 0===_r?void 0:_r.message}))}})})).apply(this,arguments)}function ri(mt){return`${mt.options.appId}-${mt.name}`}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const hr=new Xe.Yd("@firebase/app-check");
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Hn(){return(Hn=(0,_e.Z)(function*(mt){if((0,Le.hl)()){let ct;try{ct=yield function ur(mt){return Br(ri(mt))}(mt)}catch(Qe){hr.warn(`Failed to read token from IndexedDB. Error: ${Qe}`)}return ct}})).apply(this,arguments)}function Tr(mt,ct){return(0,Le.hl)()?function br(mt,ct){return Nr(ri(mt),ct)}(mt,ct).catch(Qe=>{hr.warn(`Failed to write token to IndexedDB. Error: ${Qe}`)}):Promise.resolve()}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function er(){return(er=(0,_e.Z)(function*(){let mt;try{mt=yield function vr(){return Br(vn)}()}catch{}if(mt)return mt;{const ct=(0,Le.k$)();return function Un(mt){return Nr(vn,mt)}(ct).catch(Qe=>hr.warn(`Failed to persist debug token to IndexedDB. Error: ${Qe}`)),ct}})).apply(this,arguments)}function Zr(){return gt().enabled}function Lr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,_e.Z)(function*(){const mt=gt();if(mt.enabled&&mt.token)return mt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}function rr(){const mt=(0,Le.Rd)(),ct=gt();if(ct.initialized=!0,"string"!=typeof mt.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==mt.FIREBASE_APPCHECK_DEBUG_TOKEN)return;ct.enabled=!0;const Qe=new Le.BH;ct.token=Qe,"string"==typeof mt.FIREBASE_APPCHECK_DEBUG_TOKEN?Qe.resolve(mt.FIREBASE_APPCHECK_DEBUG_TOKEN):Qe.resolve(function Di(){return er.apply(this,arguments)}())}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const $n={error:"UNKNOWN_ERROR"};function Rn(mt){return Le.US.encodeString(JSON.stringify(mt),!1)}function ar(mt){return wr.apply(this,arguments)}function wr(){return(wr=(0,_e.Z)(function*(mt,ct=!1){const Qe=mt.app;Pn(Qe);const jt=Ie(Qe);let Gn,ln=jt.token;if(ln&&!Mn(ln)&&(jt.token=void 0,ln=void 0),!ln){const _r=yield jt.cachedTokenPromise;_r&&(Mn(_r)?ln=_r:yield Tr(Qe,void 0))}if(!ct&&ln&&Mn(ln))return{token:ln.token};let $r,cr=!1;if(Zr()){jt.exchangeTokenPromise||(jt.exchangeTokenPromise=Rt(function Qt(mt,ct){const{projectId:Qe,appId:jt,apiKey:ln}=mt.options;return{url:`${bt}/projects/${Qe}/apps/${jt}:${at}?key=${ln}`,body:{debug_token:ct}}}(Qe,yield Lr()),mt.heartbeatServiceProvider).finally(()=>{jt.exchangeTokenPromise=void 0}),cr=!0);const _r=yield jt.exchangeTokenPromise;return yield Tr(Qe,_r),jt.token=_r,{token:_r.token}}try{jt.exchangeTokenPromise||(jt.exchangeTokenPromise=jt.provider.getToken().finally(()=>{jt.exchangeTokenPromise=void 0}),cr=!0),ln=yield Ie(Qe).exchangeTokenPromise}catch(_r){"appCheck/throttled"===_r.code?hr.warn(_r.message):hr.error(_r),Gn=_r}return ln?Gn?$r=Mn(ln)?{token:ln.token,internalError:Gn}:Xt(Gn):($r={token:ln.token},jt.token=ln,yield Tr(Qe,ln)):$r=Xt(Gn),cr&&xr(Qe,$r),$r})).apply(this,arguments)}function gr(mt,ct,Qe,jt){const{app:ln}=mt,Gn=Ie(ln),cr={next:Qe,error:jt,type:ct};if(Gn.tokenObservers=[...Gn.tokenObservers,cr],Gn.token&&Mn(Gn.token)){const $r=Gn.token;Promise.resolve().then(()=>{Qe({token:$r.token}),di(mt)}).catch(()=>{})}Gn.cachedTokenPromise.then(()=>di(mt))}function jr(mt,ct){const Qe=Ie(mt),jt=Qe.tokenObservers.filter(ln=>ln.next!==ct);0===jt.length&&Qe.tokenRefresher&&Qe.tokenRefresher.isRunning()&&Qe.tokenRefresher.stop(),Qe.tokenObservers=jt}function di(mt){const{app:ct}=mt,Qe=Ie(ct);let jt=Qe.tokenRefresher;jt||(jt=function Wn(mt){const{app:ct}=mt;return new X((0,_e.Z)(function*(){let jt;if(jt=Ie(ct).token?yield ar(mt,!0):yield ar(mt),jt.error)throw jt.error;if(jt.internalError)throw jt.internalError}),()=>!0,()=>{const Qe=Ie(ct);if(Qe.token){let jt=Qe.token.issuedAtTimeMillis+.5*(Qe.token.expireTimeMillis-Qe.token.issuedAtTimeMillis)+3e5;const ln=Qe.token.expireTimeMillis-3e5;return jt=Math.min(jt,ln),Math.max(0,jt-Date.now())}return 0},qt.RETRIAL_MIN_WAIT,qt.RETRIAL_MAX_WAIT)}(mt),Qe.tokenRefresher=jt),!jt.isRunning()&&Qe.isTokenAutoRefreshEnabled&&jt.start()}function xr(mt,ct){const Qe=Ie(mt).tokenObservers;for(const jt of Qe)try{"EXTERNAL"===jt.type&&null!=ct.error?jt.error(ct.error):jt.next(ct)}catch{}}function Mn(mt){return mt.expireTimeMillis-Date.now()>0}function Xt(mt){return{token:Rn($n),error:mt}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class de{constructor(ct,Qe){this.app=ct,this.heartbeatServiceProvider=Qe}_delete(){const{tokenObservers:ct}=Ie(this.app);for(const Qe of ct)jr(this.app,Qe.next);return Promise.resolve()}}const Y="@firebase/app-check",Se="0.6.4";
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Kt(){return(Kt=(0,_e.Z)(function*(mt,ct){const Qe=yield ar(mt,ct);if(Qe.error)throw Qe.error;return{token:Qe.token}})).apply(this,arguments)}const nr="app-check",Zi="app-check-internal";!function Ui(){(0,se._registerComponent)(new Re.wA(nr,mt=>function Ce(mt,ct){return new de(mt,ct)}(mt.getProvider("app").getImmediate(),mt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((mt,ct,Qe)=>{mt.getProvider(Zi).initialize()})),(0,se._registerComponent)(new Re.wA(Zi,mt=>function Ee(mt){return{getToken:ct=>ar(mt,ct),addTokenListener:ct=>gr(mt,"INTERNAL",ct),removeTokenListener:ct=>jr(mt.app,ct)}}(mt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(Y,Se)}();const Ti="app-check";class Or{constructor(ct){return ct}}class Vi{constructor(){return(0,l.vb)(Ti)}}(0,g.H)(0,300).pipe((0,ue.b)(()=>(0,z.D)((0,l.vb)(Ti))),(0,Me.E)());const io=new we.OlP("angularfire2.app-check-instances");Symbol("angularfire2.app-check.namespace");typeof window<"u"&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);const ge={provide:Vi,deps:[[new we.FiY,io]]},ze={provide:Or,useFactory:function ai(mt,ct){const Qe=(0,l.JM)(Ti,mt,ct);return Qe&&new Or(Qe)},deps:[[new we.FiY,io],Pe.Ot,we.Lbi]};class xt{constructor(){(0,le.KN)("angularfire",l.q4.full,"app-check")}}xt.\u0275fac=function(ct){return new(ct||xt)},xt.\u0275mod=we.oAB({type:xt}),xt.\u0275inj=we.cJS({providers:[ze,ge]});(0,l.u3)(function yt(mt,ct){return Kt.apply(this,arguments)},!0),(0,l.u3)(
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function lt(mt=(0,se.getApp)(),ct){mt=(0,Le.m9)(mt);const Qe=(0,se._getProvider)(mt,"app-check");if(gt().initialized||rr(),Zr()&&Lr().then(ln=>console.log(`App Check debug token: ${ln}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),Qe.isInitialized()){const ln=Qe.getImmediate(),Gn=Qe.getOptions();if(Gn.isTokenAutoRefreshEnabled===ct.isTokenAutoRefreshEnabled&&Gn.provider.isEqual(ct.provider))return ln;throw en.create("already-initialized",{appName:mt.name})}const jt=Qe.initialize({options:ct});return function q(mt,ct,Qe){const jt=function Et(mt,ct){return We.set(mt,ct),We.get(mt)}(mt,Object.assign({},St));jt.activated=!0,jt.provider=ct,jt.cachedTokenPromise=function fi(mt){return Hn.apply(this,arguments)}(mt).then(ln=>(ln&&Mn(ln)&&(jt.token=ln,xr(mt,{token:ln.token})),ln)),jt.isTokenAutoRefreshEnabled=void 0===Qe?mt.automaticDataCollectionEnabled:Qe,jt.provider.initialize(mt)}(mt,ct.provider,ct.isTokenAutoRefreshEnabled),Ie(mt).isTokenAutoRefreshEnabled&&gr(jt,"INTERNAL",()=>{}),jt},!0),(0,l.u3)(function Cn(mt,ct,Qe,jt){let ln=()=>{},Gn=()=>{};return ln=null!=ct.next?ct.next.bind(ct):ct,null!=ct.error?Gn=ct.error.bind(ct):Qe&&(Gn=Qe),gr(mt,"EXTERNAL",ln,Gn),()=>jr(mt.app,ln)},!0),(0,l.u3)(function Ne(mt,ct){const jt=Ie(mt.app);jt.tokenRefresher&&(!0===ct?jt.tokenRefresher.start():jt.tokenRefresher.stop()),jt.isTokenAutoRefreshEnabled=ct},!0)},3692:(En,rt,S)=>{S.d(rt,{Ot:()=>le,ZF:()=>_t,hX:()=>Ie,z6:()=>_e});var l=S(259),g=S(5963),z=S(8996),ue=S(4351),Me=S(7552),we=S(4650),Pe=S(2122);class le{constructor(X){return X}}class _e{constructor(){return(0,l.C6)()}}(0,g.H)(0,300).pipe((0,ue.b)(()=>(0,z.D)((0,l.C6)())),(0,Me.E)());const Le=new we.OlP("angularfire2._apps"),Xe={provide:le,useFactory:function Re(Ye){return Ye&&1===Ye.length?Ye[0]:new le((0,l.Mq)())},deps:[[new we.FiY,Le]]},We={provide:_e,deps:[[new we.FiY,Le]]};function St(Ye){return(X,Bt)=>{const _n=X.runOutsideAngular(()=>Ye(Bt));return new le(_n)}}class Ft{constructor(X){(0,l.KN)("angularfire",Pe.q4.full,"core"),(0,l.KN)("angularfire",Pe.q4.full,"app"),(0,l.KN)("angular",we.q4F.full,X.toString())}}function Ie(Ye,...X){return{ngModule:Ft,providers:[{provide:Le,useFactory:St(Ye),multi:!0,deps:[we.R0b,we.zs3,Pe.HU,...X]}]}}Ft.\u0275fac=function(X){return new(X||Ft)(we.LFG(we.Lbi))},Ft.\u0275mod=we.oAB({type:Ft}),Ft.\u0275inj=we.cJS({providers:[Xe,We]});(0,Pe.u3)(l.P2,!0),(0,Pe.u3)(l.Mq,!0),(0,Pe.u3)(l.C6,!0);const _t=(0,Pe.u3)(l.ZF,!0);(0,Pe.u3)(l.TP,!0),(0,Pe.u3)(l.KN,!0),(0,Pe.u3)(l.Ub,!0)},3385:(En,rt,S)=>{S.d(rt,{zQ:()=>en,rT:()=>Ye,f7:()=>Bt,L6:()=>at,_Q:()=>qt,lh:()=>X,Qv:()=>Be,nw:()=>_n});var l=S(4650),g=S(7579),z=S(9646),ue=S(9751),Me=S(8996),we=S(6451),Pe=S(5363),le=S(3900),_e=S(4004),se=S(3151),Re=S(590),Le=S(576);function Xe(Pn,ft){return(0,Le.m)(ft)?(0,le.w)(()=>Pn,ft):(0,le.w)(()=>Pn)}var We=S(9468),St=S(9300),Ft=S(2122),Ie=S(2011),Et=S(6895),gt=S(2313),bt=S(9260);const Be=new l.OlP("angularfire2.auth.use-emulator"),at=new l.OlP("angularfire2.auth.settings"),qt=new l.OlP("angularfire2.auth.tenant-id"),Ye=new l.OlP("angularfire2.auth.langugage-code"),X=new l.OlP("angularfire2.auth.use-device-language"),Bt=new l.OlP("angularfire.auth.persistence"),_n=(Pn,ft,Ot,Rt,Lt,Ht,Gt,Qt)=>(0,Ie.cc)(`${Pn.name}.auth`,"AngularFireAuth",Pn.name,()=>{const it=ft.runOutsideAngular(()=>Pn.auth());if(Ot&&it.useEmulator(...Ot),Rt&&(it.tenantId=Rt),it.languageCode=Lt,Ht&&it.useDeviceLanguage(),Gt)for(const[It,Mt]of Object.entries(Gt))it.settings[It]=Mt;return Qt&&it.setPersistence(Qt),it},[Ot,Rt,Lt,Ht,Gt,Qt]);class en{constructor(ft,Ot,Rt,Lt,Ht,Gt,Qt,it,It,Mt,vn,on){const xn=new g.x,ur=(0,z.of)(void 0).pipe((0,Pe.Q)(Ht.outsideAngular),(0,le.w)(()=>Lt.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,9568)))),(0,_e.U)(()=>(0,Ie.on)(ft,Lt,Ot)),(0,_e.U)(br=>_n(br,Lt,Gt,it,It,Mt,Qt,vn)),(0,se.d)({bufferSize:1,refCount:!1}));if((0,Et.PM)(Rt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z.of)(null);else{ur.pipe((0,Re.P)()).subscribe();const Un=ur.pipe((0,le.w)(Jn=>Jn.getRedirectResult().then(Br=>Br,()=>null)),Ft.iC,(0,se.d)({bufferSize:1,refCount:!1})),vr=ur.pipe((0,le.w)(Jn=>new ue.y(Br=>({unsubscribe:Lt.runOutsideAngular(()=>Jn.onAuthStateChanged(dr=>Br.next(dr),dr=>Br.error(dr),()=>Br.complete()))})))),Nr=ur.pipe((0,le.w)(Jn=>new ue.y(Br=>({unsubscribe:Lt.runOutsideAngular(()=>Jn.onIdTokenChanged(dr=>Br.next(dr),dr=>Br.error(dr),()=>Br.complete()))}))));this.authState=Un.pipe(Xe(vr),(0,We.R)(Ht.outsideAngular),(0,Pe.Q)(Ht.insideAngular)),this.user=Un.pipe(Xe(Nr),(0,We.R)(Ht.outsideAngular),(0,Pe.Q)(Ht.insideAngular)),this.idToken=this.user.pipe((0,le.w)(Jn=>Jn?(0,Me.D)(Jn.getIdToken()):(0,z.of)(null))),this.idTokenResult=this.user.pipe((0,le.w)(Jn=>Jn?(0,Me.D)(Jn.getIdTokenResult()):(0,z.of)(null))),this.credential=(0,we.T)(Un,xn,this.authState.pipe((0,St.h)(Jn=>!Jn))).pipe((0,_e.U)(Jn=>Jn?.user?Jn:null),(0,We.R)(Ht.outsideAngular),(0,Pe.Q)(Ht.insideAngular))}return(0,Ie.pX)(this,ur,Lt,{spy:{apply:(br,Un,vr)=>{(br.startsWith("signIn")||br.startsWith("createUser"))&&vr.then(Nr=>xn.next(Nr))}}})}}en.\u0275fac=function(ft){return new(ft||en)(l.LFG(Ie.Dh),l.LFG(Ie.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ft.HU),l.LFG(Be,8),l.LFG(at,8),l.LFG(qt,8),l.LFG(Ye,8),l.LFG(X,8),l.LFG(Bt,8),l.LFG(gt.nm,8))},en.\u0275prov=l.Yz7({token:en,factory:en.\u0275fac,providedIn:"any"}),(0,Ie.GT)(en,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class jn{constructor(){bt.Z.registerVersion("angularfire",Ft.q4.full,"auth-compat")}}jn.\u0275fac=function(ft){return new(ft||jn)},jn.\u0275mod=l.oAB({type:jn}),jn.\u0275inj=l.cJS({providers:[en]})},5197:(En,rt,S)=>{S.d(rt,{JS:()=>qc});var l=S(4650),g=S(4986),z=S(9751),ue=S(9646),Me=S(6451),we=S(4004),Pe=S(3099),le=S(3900),_e=S(5026),se=S(1884),Re=S(4482),Le=S(5403),Xe=S(8421),We=S(4671),St=S(5032),Ft=S(3269);var gt=S(2122),bt=S(2011),Be=(S(9568),S(3942)),at=S(4859),qt=S(5861),Ye=S(9681),X=S(2090),Bt=S(1877);const _n="@firebase/database",en="0.14.4";
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let jn="";function Pn(f){jn=f}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ft{constructor(a){this.domStorage_=a,this.prefix_="firebase:"}set(a,d){null==d?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),(0,X.Wl)(d))}get(a){const d=this.domStorage_.getItem(this.prefixedName_(a));return null==d?null:(0,X.cI)(d)}remove(a){this.domStorage_.removeItem(this.prefixedName_(a))}prefixedName_(a){return this.prefix_+a}toString(){return this.domStorage_.toString()}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Ot{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(a,d){null==d?delete this.cache_[a]:this.cache_[a]=d}get(a){return(0,X.r3)(this.cache_,a)?this.cache_[a]:null}remove(a){delete this.cache_[a]}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Rt=function(f){try{if(typeof window<"u"&&typeof window[f]<"u"){const a=window[f];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new ft(a)}}catch{}return new Ot},Lt=Rt("localStorage"),Ht=Rt("sessionStorage"),Gt=new Bt.Yd("@firebase/database"),Qt=function(){let f=1;return function(){return f++}}(),it=function(f){const a=(0,X.dS)(f),d=new X.gQ;d.update(a);const v=d.digest();return X.US.encodeByteArray(v)},It=function(...f){let a="";for(let d=0;d<f.length;d++){const v=f[d];Array.isArray(v)||v&&"object"==typeof v&&"number"==typeof v.length?a+=It.apply(null,v):a+="object"==typeof v?(0,X.Wl)(v):v,a+=" "}return a};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let Mt=null,vn=!0;const on=function(f,a){(0,X.hu)(!a||!0===f||!1===f,"Can't turn on custom loggers persistently."),!0===f?(Gt.logLevel=Bt.in.VERBOSE,Mt=Gt.log.bind(Gt),a&&Ht.set("logging_enabled",!0)):"function"==typeof f?Mt=f:(Mt=null,Ht.remove("logging_enabled"))},xn=function(...f){if(!0===vn&&(vn=!1,null===Mt&&!0===Ht.get("logging_enabled")&&on(!0)),Mt){const a=It.apply(null,f);Mt(a)}},ur=function(f){return function(...a){xn(f,...a)}},br=function(...f){const a="FIREBASE INTERNAL ERROR: "+It(...f);Gt.error(a)},Un=function(...f){const a=`FIREBASE FATAL ERROR: ${It(...f)}`;throw Gt.error(a),new Error(a)},vr=function(...f){const a="FIREBASE WARNING: "+It(...f);Gt.warn(a)},Jn=function(f){return"number"==typeof f&&(f!=f||f===Number.POSITIVE_INFINITY||f===Number.NEGATIVE_INFINITY)},dr="[MIN_NAME]",ri="[MAX_NAME]",hr=function(f,a){if(f===a)return 0;if(f===dr||a===ri)return-1;if(a===dr||f===ri)return 1;{const d=wr(f),v=wr(a);return null!==d?null!==v?d-v==0?f.length-a.length:d-v:-1:null!==v?1:f<a?-1:1}},fi=function(f,a){return f===a?0:f<a?-1:1},Hn=function(f,a){if(a&&f in a)return a[f];throw new Error("Missing required key ("+f+") in object: "+(0,X.Wl)(a))},Tr=function(f){if("object"!=typeof f||null===f)return(0,X.Wl)(f);const a=[];for(const v in f)a.push(v);a.sort();let d="{";for(let v=0;v<a.length;v++)0!==v&&(d+=","),d+=(0,X.Wl)(a[v]),d+=":",d+=Tr(f[a[v]]);return d+="}",d},Di=function(f,a){const d=f.length;if(d<=a)return[f];const v=[];for(let x=0;x<d;x+=a)x+a>d?v.push(f.substring(x,d)):v.push(f.substring(x,x+a));return v};function er(f,a){for(const d in f)f.hasOwnProperty(d)&&a(d,f[d])}const Zr=function(f){(0,X.hu)(!Jn(f),"Invalid JSON number");const v=1023;let x,U,Q,Te,$e;0===f?(U=0,Q=0,x=1/f==-1/0?1:0):(x=f<0,(f=Math.abs(f))>=Math.pow(2,1-v)?(Te=Math.min(Math.floor(Math.log(f)/Math.LN2),v),U=Te+v,Q=Math.round(f*Math.pow(2,52-Te)-Math.pow(2,52))):(U=0,Q=Math.round(f/Math.pow(2,-1074))));const et=[];for($e=52;$e;$e-=1)et.push(Q%2?1:0),Q=Math.floor(Q/2);for($e=11;$e;$e-=1)et.push(U%2?1:0),U=Math.floor(U/2);et.push(x?1:0),et.reverse();const nn=et.join("");let dn="";for($e=0;$e<64;$e+=8){let mn=parseInt(nn.substr($e,8),2).toString(16);1===mn.length&&(mn="0"+mn),dn+=mn}return dn.toLowerCase()};const $n=new RegExp("^-?(0*)\\d{1,10}$"),wr=function(f){if($n.test(f)){const a=Number(f);if(a>=-2147483648&&a<=2147483647)return a}return null},gr=function(f){try{f()}catch(a){setTimeout(()=>{const d=a.stack||"";throw vr("Exception was thrown by user callback.",d),a},Math.floor(0))}},jr=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},di=function(f,a){const d=setTimeout(f,a);return"number"==typeof d&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(d):"object"==typeof d&&d.unref&&d.unref(),d};
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Wn{constructor(a,d){this.appName_=a,this.appCheckProvider=d,this.appCheck=d?.getImmediate({optional:!0}),this.appCheck||d?.get().then(v=>this.appCheck=v)}getToken(a){return this.appCheck?this.appCheck.getToken(a):new Promise((d,v)=>{setTimeout(()=>{this.appCheck?this.getToken(a).then(d,v):d(null)},0)})}addTokenChangeListener(a){var d;null===(d=this.appCheckProvider)||void 0===d||d.get().then(v=>v.addTokenListener(a))}notifyForInvalidToken(){vr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class xr{constructor(a,d,v){this.appName_=a,this.firebaseOptions_=d,this.authProvider_=v,this.auth_=null,this.auth_=v.getImmediate({optional:!0}),this.auth_||v.onInit(x=>this.auth_=x)}getToken(a){return this.auth_?this.auth_.getToken(a).catch(d=>d&&"auth/token-not-initialized"===d.code?(xn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)):new Promise((d,v)=>{setTimeout(()=>{this.auth_?this.getToken(a).then(d,v):d(null)},0)})}addTokenChangeListener(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(d=>d.addAuthTokenListener(a))}removeTokenChangeListener(a){this.authProvider_.get().then(d=>d.removeAuthTokenListener(a))}notifyForInvalidToken(){let a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?a+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?a+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':a+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vr(a)}}class Mn{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}Mn.OWNER="owner";
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const Se=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,He="websocket",Ue="long_polling";
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class fe{constructor(a,d,v,x,U=!1,Q="",Te=!1,$e=!1){this.secure=d,this.namespace=v,this.webSocketOnly=x,this.nodeAdmin=U,this.persistenceKey=Q,this.includeNamespaceInQueryParams=Te,this.isUsingEmulator=$e,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lt.get("host:"+a)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&Lt.set("host:"+this._host,this.internalHost))}toString(){let a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a}toURLString(){const a=this.secure?"https://":"http://",d=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${a}${this.host}/${d}`}}function me(f,a,d){let v;if((0,X.hu)("string"==typeof a,"typeof type must == string"),(0,X.hu)("object"==typeof d,"typeof params must == object"),a===He)v=(f.secure?"wss://":"ws://")+f.internalHost+"/.ws?";else{if(a!==Ue)throw new Error("Unknown connection type: "+a);v=(f.secure?"https://":"http://")+f.internalHost+"/.lp?"}(function oe(f){return f.host!==f.internalHost||f.isCustomHost()||f.includeNamespaceInQueryParams})(f)&&(d.ns=f.namespace);const x=[];return er(d,(U,Q)=>{x.push(U+"="+Q)}),v+x.join("&")
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}class Ct{constructor(){this.counters_={}}incrementCounter(a,d=1){(0,X.r3)(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=d}get(){return(0,X.p$)(this.counters_)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Ke={},ee={};function Oe(f){const a=f.toString();return Ke[a]||(Ke[a]=new Ct),Ke[a]}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class Ut{constructor(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(a,d){this.closeAfterResponse=a,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(a,d){for(this.pendingResponses[a]=d;this.pendingResponses[this.currentResponseNum];){const v=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let x=0;x<v.length;++x)v[x]&&gr(()=>{this.onMessage_(v[x])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ai{constructor(a,d,v,x,U,Q,Te){this.connId=a,this.repoInfo=d,this.applicationId=v,this.appCheckToken=x,this.authToken=U,this.transportSessionId=Q,this.lastSessionId=Te,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ur(a),this.stats_=Oe(d),this.urlFn=$e=>(this.appCheckToken&&($e.ac=this.appCheckToken),me(d,Ue,$e))}open(a,d){this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new Ut(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(f){if((0,X.Yr)()||"complete"===document.readyState)f();else{let a=!1;const d=function(){document.body?a||(a=!0,f()):setTimeout(d,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&d()}),window.attachEvent("onload",d))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vn((...U)=>{const[Q,Te,$e,et,nn]=U;if(this.incrementIncomingBytes_(U),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===Q)this.id=Te,this.password=$e;else{if("close"!==Q)throw new Error("Unrecognized command received: "+Q);Te?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Te,()=>{this.onClosed_()})):this.onClosed_()}},(...U)=>{const[Q,Te]=U;this.incrementIncomingBytes_(U),this.myPacketOrderer.handleResponse(Q,Te)},()=>{this.onClosed_()},this.urlFn);const v={start:"t"};v.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(v.cb=this.scriptTagHolder.uniqueCallbackIdentifier),v.v="5",this.transportSessionId&&(v.s=this.transportSessionId),this.lastSessionId&&(v.ls=this.lastSessionId),this.applicationId&&(v.p=this.applicationId),this.appCheckToken&&(v.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Se.test(location.hostname)&&(v.r="f");const x=this.urlFn(v);this.log_("Connecting via long-poll to "+x),this.scriptTagHolder.addTag(x,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ai.forceAllow_=!0}static forceDisallow(){ai.forceDisallow_=!0}static isAvailable(){return!(0,X.Yr)()&&(!!ai.forceAllow_||!(ai.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(a){const d=(0,X.Wl)(a);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const v=(0,X.h$)(d),x=Di(v,1840);for(let U=0;U<x.length;U++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,x.length,x[U]),this.curSegmentNum++}addDisconnectPingFrame(a,d){if((0,X.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const v={dframe:"t"};v.id=a,v.pw=d,this.myDisconnFrame.src=this.urlFn(v),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(a){const d=(0,X.Wl)(a).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)}}class Vn{constructor(a,d,v,x){if(this.onDisconnect=v,this.urlFn=x,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,X.Yr)())this.commandCB=a,this.onMessageCB=d;else{this.uniqueCallbackIdentifier=Qt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=a,window["pRTLPCB"+this.uniqueCallbackIdentifier]=d,this.myIFrame=Vn.createIFrame_();let U="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(U='<script>document.domain="'+document.domain+'";<\/script>');const Q="<html><body>"+U+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(Q),this.myIFrame.doc.close()}catch(Te){xn("frame writing exception"),Te.stack&&xn(Te.stack),xn(Te)}}}static createIFrame_(){const a=document.createElement("iframe");if(a.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(a);try{a.contentWindow.document||xn("No IE domain setting required")}catch{const v=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+v+"';document.close();})())"}return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const a=this.onDisconnect;a&&(this.onDisconnect=null,a())}startLongPoll(a,d){for(this.myID=a,this.myPW=d,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const a={};a.id=this.myID,a.pw=this.myPW,a.ser=this.currentSerial;let d=this.urlFn(a),v="",x=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+v.length<=1870;){const Q=this.pendingSegs.shift();v=v+"&seg"+x+"="+Q.seg+"&ts"+x+"="+Q.ts+"&d"+x+"="+Q.d,x++}return d+=v,this.addLongPollTag_(d,this.currentSerial),!0}return!1}enqueueSegment(a,d,v){this.pendingSegs.push({seg:a,ts:d,d:v}),this.alive&&this.newRequest_()}addLongPollTag_(a,d){this.outstandingRequests.add(d);const v=()=>{this.outstandingRequests.delete(d),this.newRequest_()},x=setTimeout(v,Math.floor(25e3));this.addTag(a,()=>{clearTimeout(x),v()})}addTag(a,d){(0,X.Yr)()?this.doNodeLongPoll(a,d):setTimeout(()=>{try{if(!this.sendNewPolls)return;const v=this.myIFrame.doc.createElement("script");v.type="text/javascript",v.async=!0,v.src=a,v.onload=v.onreadystatechange=function(){const x=v.readyState;(!x||"loaded"===x||"complete"===x)&&(v.onload=v.onreadystatechange=null,v.parentNode&&v.parentNode.removeChild(v),d())},v.onerror=()=>{xn("Long-poll script failed to load: "+a),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(v)}catch{}},Math.floor(1))}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let ge=null;typeof MozWebSocket<"u"?ge=MozWebSocket:typeof WebSocket<"u"&&(ge=WebSocket);class ze{constructor(a,d,v,x,U,Q,Te){this.connId=a,this.applicationId=v,this.appCheckToken=x,this.authToken=U,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ur(this.connId),this.stats_=Oe(d),this.connURL=ze.connectionURL_(d,Q,Te,x,v),this.nodeAdmin=d.nodeAdmin}static connectionURL_(a,d,v,x,U){const Q={v:"5"};return!(0,X.Yr)()&&typeof location<"u"&&location.hostname&&Se.test(location.hostname)&&(Q.r="f"),d&&(Q.s=d),v&&(Q.ls=v),x&&(Q.ac=x),U&&(Q.p=U),me(a,He,Q)}open(a,d){this.onDisconnect=d,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lt.set("previous_websocket_failure",!0);try{let v;if((0,X.Yr)()){const x=this.nodeAdmin?"AdminNode":"Node";v={headers:{"User-Agent":`Firebase/5/${jn}/${process.platform}/${x}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(v.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(v.headers["X-Firebase-AppCheck"]=this.appCheckToken);const U=process.env,Q=0===this.connURL.indexOf("wss://")?U.HTTPS_PROXY||U.https_proxy:U.HTTP_PROXY||U.http_proxy;Q&&(v.proxy={origin:Q})}this.mySock=new ge(this.connURL,[],v)}catch(v){this.log_("Error instantiating WebSocket.");const x=v.message||v.data;return x&&this.log_(x),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=v=>{this.handleIncomingFrame(v)},this.mySock.onerror=v=>{this.log_("WebSocket error.  Closing connection.");const x=v.message||v.data;x&&this.log_(x),this.onClosed_()}}start(){}static forceDisallow(){ze.forceDisallow_=!0}static isAvailable(){let a=!1;if(typeof navigator<"u"&&navigator.userAgent){const d=/Android ([0-9]{0,}\.[0-9]{0,})/,v=navigator.userAgent.match(d);v&&v.length>1&&parseFloat(v[1])<4.4&&(a=!0)}return!a&&null!==ge&&!ze.forceDisallow_}static previouslyFailed(){return Lt.isInMemoryStorage||!0===Lt.get("previous_websocket_failure")}markConnectionHealthy(){Lt.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const v=(0,X.cI)(d);this.onMessage(v)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if((0,X.hu)(null===this.frames,"We already have a frame buffer"),a.length<=6){const d=Number(a);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(null===this.mySock)return;const d=a.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(d);else{const v=this.extractFrameCount_(d);null!==v&&this.appendFrame_(v)}}send(a){this.resetKeepAlive();const d=(0,X.Wl)(a);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const v=Di(d,16384);v.length>1&&this.sendString_(String(v.length));for(let x=0;x<v.length;x++)this.sendString_(v[x])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(a){try{this.mySock.send(a)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ze.responsesRequiredToBeHealthy=2,ze.healthyTimeout=3e4;
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class xt{constructor(a){this.initTransports_(a)}static get ALL_TRANSPORTS(){return[ai,ze]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(a){const d=ze&&ze.isAvailable();let v=d&&!ze.previouslyFailed();if(a.webSocketOnly&&(d||vr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),v=!0),v)this.transports_=[ze];else{const x=this.transports_=[];for(const U of xt.ALL_TRANSPORTS)U&&U.isAvailable()&&x.push(U);xt.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xt.globalTransportInitialized_=!1;class zi{constructor(a,d,v,x,U,Q,Te,$e,et,nn){this.id=a,this.repoInfo_=d,this.applicationId_=v,this.appCheckToken_=x,this.authToken_=U,this.onMessage_=Q,this.onReady_=Te,this.onDisconnect_=$e,this.onKill_=et,this.lastSessionId=nn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ur("c:"+this.id+":"),this.transportManager_=new xt(d),this.log_("Connection created"),this.start_()}start_(){const a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.conn_),v=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(d,v)},Math.floor(0));const x=a.healthyTimeout||0;x>0&&(this.healthyTimeout_=di(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(x)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(a){return d=>{a===this.conn_?this.onConnectionLost_(d):a===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(a){return d=>{2!==this.state_&&(a===this.rx_?this.onPrimaryMessageReceived_(d):a===this.secondaryConn_?this.onSecondaryMessageReceived_(d):this.log_("message on old connection"))}}sendRequest(a){const d={t:"d",d:a};this.sendData_(d)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(a){if("t"in a){const d=a.t;"a"===d?this.upgradeIfSecondaryHealthy_():"r"===d?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===d&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(a){const d=Hn("t",a),v=Hn("d",a);if("c"===d)this.onSecondaryControl_(v);else{if("d"!==d)throw new Error("Unknown protocol layer: "+d);this.pendingDataMessages.push(v)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(a){const d=Hn("t",a),v=Hn("d",a);"c"===d?this.onControl_(v):"d"===d&&this.onDataMessage_(v)}onDataMessage_(a){this.onPrimaryResponse_(),this.onMessage_(a)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(a){const d=Hn("t",a);if("d"in a){const v=a.d;if("h"===d){const x=Object.assign({},v);this.repoInfo_.isUsingEmulator&&(x.h=this.repoInfo_.host),this.onHandshake_(x)}else if("n"===d){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let x=0;x<this.pendingDataMessages.length;++x)this.onDataMessage_(this.pendingDataMessages[x]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===d?this.onConnectionShutdown_(v):"r"===d?this.onReset_(v):"e"===d?br("Server Error: "+v):"o"===d?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):br("Unknown control packet command: "+d)}}onHandshake_(a){const d=a.ts,v=a.v,x=a.h;this.sessionId=a.s,this.repoInfo_.host=x,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),"5"!==v&&vr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)}startUpgrade_(a){this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.secondaryConn_),v=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(d,v),di(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(a,d){this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):di(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()}onConnectionLost_(a){this.conn_=null,a||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(a){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(a)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Ii{put(a,d,v,x){}merge(a,d,v,x){}refreshAuthToken(a){}refreshAppCheckToken(a){}onDisconnectPut(a,d,v){}onDisconnectMerge(a,d,v){}onDisconnectCancel(a,d){}reportStats(a){}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class _i{constructor(a){this.allowedEvents_=a,this.listeners_={},(0,X.hu)(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}trigger(a,...d){if(Array.isArray(this.listeners_[a])){const v=[...this.listeners_[a]];for(let x=0;x<v.length;x++)v[x].callback.apply(v[x].context,d)}}on(a,d,v){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:d,context:v});const x=this.getInitialEvent(a);x&&d.apply(v,x)}off(a,d,v){this.validateEventType_(a);const x=this.listeners_[a]||[];for(let U=0;U<x.length;U++)if(x[U].callback===d&&(!v||v===x[U].context))return void x.splice(U,1)}validateEventType_(a){(0,X.hu)(this.allowedEvents_.find(d=>d===a),"Unknown event: "+a)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Oo extends _i{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,X.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Oo}getInitialEvent(a){return(0,X.hu)("online"===a,"Unknown event type: "+a),[this.online_]}currentlyOnline(){return this.online_}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Wr=32,jo=768;class si{constructor(a,d){if(void 0===d){this.pieces_=a.split("/");let v=0;for(let x=0;x<this.pieces_.length;x++)this.pieces_[x].length>0&&(this.pieces_[v]=this.pieces_[x],v++);this.pieces_.length=v,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=d}toString(){let a="";for(let d=this.pieceNum_;d<this.pieces_.length;d++)""!==this.pieces_[d]&&(a+="/"+this.pieces_[d]);return a||"/"}}function ii(){return new si("")}function pr(f){return f.pieceNum_>=f.pieces_.length?null:f.pieces_[f.pieceNum_]}function pi(f){return f.pieces_.length-f.pieceNum_}function Ar(f){let a=f.pieceNum_;return a<f.pieces_.length&&a++,new si(f.pieces_,a)}function no(f){return f.pieceNum_<f.pieces_.length?f.pieces_[f.pieces_.length-1]:null}function qr(f,a=0){return f.pieces_.slice(f.pieceNum_+a)}function xi(f){if(f.pieceNum_>=f.pieces_.length)return null;const a=[];for(let d=f.pieceNum_;d<f.pieces_.length-1;d++)a.push(f.pieces_[d]);return new si(a,0)}function Jr(f,a){const d=[];for(let v=f.pieceNum_;v<f.pieces_.length;v++)d.push(f.pieces_[v]);if(a instanceof si)for(let v=a.pieceNum_;v<a.pieces_.length;v++)d.push(a.pieces_[v]);else{const v=a.split("/");for(let x=0;x<v.length;x++)v[x].length>0&&d.push(v[x])}return new si(d,0)}function Ir(f){return f.pieceNum_>=f.pieces_.length}function Ur(f,a){const d=pr(f),v=pr(a);if(null===d)return a;if(d===v)return Ur(Ar(f),Ar(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+f+")")}function vo(f,a){const d=qr(f,0),v=qr(a,0);for(let x=0;x<d.length&&x<v.length;x++){const U=hr(d[x],v[x]);if(0!==U)return U}return d.length===v.length?0:d.length<v.length?-1:1}function Si(f,a){if(pi(f)!==pi(a))return!1;for(let d=f.pieceNum_,v=a.pieceNum_;d<=f.pieces_.length;d++,v++)if(f.pieces_[d]!==a.pieces_[v])return!1;return!0}function ki(f,a){let d=f.pieceNum_,v=a.pieceNum_;if(pi(f)>pi(a))return!1;for(;d<f.pieces_.length;){if(f.pieces_[d]!==a.pieces_[v])return!1;++d,++v}return!0}class Pr{constructor(a,d){this.errorPrefix_=d,this.parts_=qr(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(let v=0;v<this.parts_.length;v++)this.byteLength_+=(0,X.ug)(this.parts_[v]);Ki(this)}}function Ki(f){if(f.byteLength_>jo)throw new Error(f.errorPrefix_+"has a key path longer than "+jo+" bytes ("+f.byteLength_+").");if(f.parts_.length>Wr)throw new Error(f.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wr+") or object contains a cycle "+so(f))}function so(f){return 0===f.parts_.length?"":"in property '"+f.parts_.join(".")+"'"}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ko extends _i{constructor(){let a,d;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(d="visibilitychange",a="hidden"):typeof document.mozHidden<"u"?(d="mozvisibilitychange",a="mozHidden"):typeof document.msHidden<"u"?(d="msvisibilitychange",a="msHidden"):typeof document.webkitHidden<"u"&&(d="webkitvisibilitychange",a="webkitHidden")),this.visible_=!0,d&&document.addEventListener(d,()=>{const v=!document[a];v!==this.visible_&&(this.visible_=v,this.trigger("visible",v))},!1)}static getInstance(){return new ko}getInitialEvent(a){return(0,X.hu)("visible"===a,"Unknown event type: "+a),[this.visible_]}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Po=1e3;class Pi extends Ii{constructor(a,d,v,x,U,Q,Te,$e){if(super(),this.repoInfo_=a,this.applicationId_=d,this.onDataUpdate_=v,this.onConnectStatus_=x,this.onServerInfoUpdate_=U,this.authTokenProvider_=Q,this.appCheckTokenProvider_=Te,this.authOverride_=$e,this.id=Pi.nextPersistentConnectionId_++,this.log_=ur("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Po,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,$e&&!(0,X.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ko.getInstance().on("visible",this.onVisible_,this),-1===a.host.indexOf("fblocal")&&Oo.getInstance().on("online",this.onOnline_,this)}sendRequest(a,d,v){const x=++this.requestNumber_,U={r:x,a,b:d};this.log_((0,X.Wl)(U)),(0,X.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(U),v&&(this.requestCBHash_[x]=v)}get(a){this.initConnection_();const d=new X.BH,x={action:"g",request:{p:a._path.toString(),q:a._queryObject},onComplete:Q=>{const Te=Q.d;"ok"===Q.s?d.resolve(Te):d.reject(Te)}};this.outstandingGets_.push(x),this.outstandingGetCount_++;const U=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(U),d.promise}listen(a,d,v,x){this.initConnection_();const U=a._queryIdentifier,Q=a._path.toString();this.log_("Listen called for "+Q+" "+U),this.listens.has(Q)||this.listens.set(Q,new Map),(0,X.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,X.hu)(!this.listens.get(Q).has(U),"listen() called twice for same path/queryId.");const Te={onComplete:x,hashFn:d,query:a,tag:v};this.listens.get(Q).set(U,Te),this.connected_&&this.sendListen_(Te)}sendGet_(a){const d=this.outstandingGets_[a];this.sendRequest("g",d.request,v=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(v)})}sendListen_(a){const d=a.query,v=d._path.toString(),x=d._queryIdentifier;this.log_("Listen on "+v+" for "+x);const U={p:v};a.tag&&(U.q=d._queryObject,U.t=a.tag),U.h=a.hashFn(),this.sendRequest("q",U,Te=>{const $e=Te.d,et=Te.s;Pi.warnOnListenWarnings_($e,d),(this.listens.get(v)&&this.listens.get(v).get(x))===a&&(this.log_("listen response",Te),"ok"!==et&&this.removeListen_(v,x),a.onComplete&&a.onComplete(et,$e))})}static warnOnListenWarnings_(a,d){if(a&&"object"==typeof a&&(0,X.r3)(a,"w")){const v=(0,X.DV)(a,"w");if(Array.isArray(v)&&~v.indexOf("no_index")){const x='".indexOn": "'+d._queryParams.getIndex().toString()+'"',U=d._path.toString();vr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${x} at ${U} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&40===a.length||(0,X.GJ)(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,d=(0,X.w9)(a)?"auth":"gauth",v={cred:a};null===this.authOverride_?v.noauth=!0:"object"==typeof this.authOverride_&&(v.authvar=this.authOverride_),this.sendRequest(d,v,x=>{const U=x.s,Q=x.d||"error";this.authToken_===a&&("ok"===U?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(U,Q))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const d=a.s,v=a.d||"error";"ok"===d?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,v)})}unlisten(a,d){const v=a._path.toString(),x=a._queryIdentifier;this.log_("Unlisten called for "+v+" "+x),(0,X.hu)(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(v,x)&&this.connected_&&this.sendUnlisten_(v,x,a._queryObject,d)}sendUnlisten_(a,d,v,x){this.log_("Unlisten on "+a+" for "+d);const U={p:a};x&&(U.q=v,U.t=x),this.sendRequest("n",U)}onDisconnectPut(a,d,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,d,v):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:d,onComplete:v})}onDisconnectMerge(a,d,v){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,d,v):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:d,onComplete:v})}onDisconnectCancel(a,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,d):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(a,d,v,x){const U={p:d,d:v};this.log_("onDisconnect "+a,U),this.sendRequest(a,U,Q=>{x&&setTimeout(()=>{x(Q.s,Q.d)},Math.floor(0))})}put(a,d,v,x){this.putInternal("p",a,d,v,x)}merge(a,d,v,x){this.putInternal("m",a,d,v,x)}putInternal(a,d,v,x,U){this.initConnection_();const Q={p:d,d:v};void 0!==U&&(Q.h=U),this.outstandingPuts_.push({action:a,request:Q,onComplete:x}),this.outstandingPutCount_++;const Te=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(Te):this.log_("Buffering put: "+d)}sendPut_(a){const d=this.outstandingPuts_[a].action,v=this.outstandingPuts_[a].request,x=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(d,v,U=>{this.log_(d+" response",U),delete this.outstandingPuts_[a],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),x&&x(U.s,U.d)})}reportStats(a){if(this.connected_){const d={c:a};this.log_("reportStats",d),this.sendRequest("s",d,v=>{if("ok"!==v.s){const U=v.d;this.log_("reportStats","Error sending stats: "+U)}})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+(0,X.Wl)(a));const d=a.r,v=this.requestCBHash_[d];v&&(delete this.requestCBHash_[d],v(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,d){this.log_("handleServerMessage",a,d),"d"===a?this.onDataUpdate_(d.p,d.d,!1,d.t):"m"===a?this.onDataUpdate_(d.p,d.d,!0,d.t):"c"===a?this.onListenRevoked_(d.p,d.q):"ac"===a?this.onAuthRevoked_(d.s,d.d):"apc"===a?this.onAppCheckRevoked_(d.s,d.d):"sd"===a?this.onSecurityDebugPacket_(d):br("Unrecognized action received from server: "+(0,X.Wl)(a)+"\nAre you using the latest client?")}onReady_(a,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(a),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){(0,X.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Po),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const a=(new Date).getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-a);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var a=this;return(0,qt.Z)(function*(){if(a.shouldReconnect_()){a.log_("Making a connection attempt"),a.lastConnectionAttemptTime_=(new Date).getTime(),a.lastConnectionEstablishedTime_=null;const d=a.onDataMessage_.bind(a),v=a.onReady_.bind(a),x=a.onRealtimeDisconnect_.bind(a),U=a.id+":"+Pi.nextConnectionId_++,Q=a.lastSessionId;let Te=!1,$e=null;const et=function(){$e?$e.close():(Te=!0,x())},nn=function(mn){(0,X.hu)($e,"sendRequest call when we're not connected not allowed."),$e.sendRequest(mn)};a.realtime_={close:et,sendRequest:nn};const dn=a.forceTokenRefresh_;a.forceTokenRefresh_=!1;try{const[mn,Sr]=yield Promise.all([a.authTokenProvider_.getToken(dn),a.appCheckTokenProvider_.getToken(dn)]);Te?xn("getToken() completed but was canceled"):(xn("getToken() completed. Creating connection."),a.authToken_=mn&&mn.accessToken,a.appCheckToken_=Sr&&Sr.token,$e=new zi(U,a.repoInfo_,a.applicationId_,a.appCheckToken_,a.authToken_,d,v,x,Xr=>{vr(Xr+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},Q))}catch(mn){a.log_("Failed to get token: "+mn),Te||(a.repoInfo_.nodeAdmin&&vr(mn),et())}}})()}interrupt(a){xn("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){xn("Resuming connection for reason: "+a),delete this.interruptReasons_[a],(0,X.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Po,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const d=a-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const d=this.outstandingPuts_[a];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(a,d){let v;v=d?d.map(U=>Tr(U)).join("$"):"default";const x=this.removeListen_(a,v);x&&x.onComplete&&x.onComplete("permission_denied")}removeListen_(a,d){const v=new si(a).toString();let x;if(this.listens.has(v)){const U=this.listens.get(v);x=U.get(d),U.delete(d),0===U.size&&this.listens.delete(v)}else x=void 0;return x}onAuthRevoked_(a,d){xn("Auth token revoked: "+a+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===a||"permission_denied"===a)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,d){xn("App check token revoked: "+a+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===a||"permission_denied"===a)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const d of a.values())this.sendListen_(d);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let d="js";(0,X.Yr)()&&(d=this.repoInfo_.nodeAdmin?"admin_node":"node"),a["sdk."+d+"."+jn.replace(/\./g,"-")]=1,(0,X.uI)()?a["framework.cordova"]=1:(0,X.b$)()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=Oo.getInstance().currentlyOnline();return(0,X.xb)(this.interruptReasons_)&&a}}Pi.nextPersistentConnectionId_=0,Pi.nextConnectionId_=0;
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class Gr{constructor(a,d){this.name=a,this.node=d}static Wrap(a,d){return new Gr(a,d)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class $o{getCompare(){return this.compare.bind(this)}indexedValueChanged(a,d){const v=new Gr(dr,a),x=new Gr(dr,d);return 0!==this.compare(v,x)}minPost(){return Gr.MIN}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let lo;class bo extends $o{static get __EMPTY_NODE(){return lo}static set __EMPTY_NODE(a){lo=a}compare(a,d){return hr(a.name,d.name)}isDefinedOn(a){throw(0,X.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(a,d){return!1}minPost(){return Gr.MIN}maxPost(){return new Gr(ri,lo)}makePost(a,d){return(0,X.hu)("string"==typeof a,"KeyIndex indexValue must always be a string."),new Gr(a,lo)}toString(){return".key"}}const xo=new bo;
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ao{constructor(a,d,v,x,U=null){this.isReverse_=x,this.resultGenerator_=U,this.nodeStack_=[];let Q=1;for(;!a.isEmpty();)if(Q=d?v(a.key,d):1,x&&(Q*=-1),Q<0)a=this.isReverse_?a.left:a.right;else{if(0===Q){this.nodeStack_.push(a);break}this.nodeStack_.push(a),a=this.isReverse_?a.right:a.left}}getNext(){if(0===this.nodeStack_.length)return null;let d,a=this.nodeStack_.pop();if(d=this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return d}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}}}class uo{constructor(a,d,v,x,U){this.key=a,this.value=d,this.color=v??uo.RED,this.left=x??ho.EMPTY_NODE,this.right=U??ho.EMPTY_NODE}copy(a,d,v,x,U){return new uo(a??this.key,d??this.value,v??this.color,x??this.left,U??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,d,v){let x=this;const U=v(a,x.key);return x=U<0?x.copy(null,null,null,x.left.insert(a,d,v),null):0===U?x.copy(null,d,null,null,null):x.copy(null,null,null,null,x.right.insert(a,d,v)),x.fixUp_()}removeMin_(){if(this.left.isEmpty())return ho.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,d){let v,x;if(v=this,d(a,v.key)<0)!v.left.isEmpty()&&!v.left.isRed_()&&!v.left.left.isRed_()&&(v=v.moveRedLeft_()),v=v.copy(null,null,null,v.left.remove(a,d),null);else{if(v.left.isRed_()&&(v=v.rotateRight_()),!v.right.isEmpty()&&!v.right.isRed_()&&!v.right.left.isRed_()&&(v=v.moveRedRight_()),0===d(a,v.key)){if(v.right.isEmpty())return ho.EMPTY_NODE;x=v.right.min_(),v=v.copy(x.key,x.value,null,null,v.right.removeMin_())}v=v.copy(null,null,null,null,v.right.remove(a,d))}return v.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,uo.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,uo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,d)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}uo.RED=!0,uo.BLACK=!1;class ho{constructor(a,d=ho.EMPTY_NODE){this.comparator_=a,this.root_=d}insert(a,d){return new ho(this.comparator_,this.root_.insert(a,d,this.comparator_).copy(null,null,uo.BLACK,null,null))}remove(a){return new ho(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,uo.BLACK,null,null))}get(a){let d,v=this.root_;for(;!v.isEmpty();){if(d=this.comparator_(a,v.key),0===d)return v.value;d<0?v=v.left:d>0&&(v=v.right)}return null}getPredecessorKey(a){let d,v=this.root_,x=null;for(;!v.isEmpty();){if(d=this.comparator_(a,v.key),0===d){if(v.left.isEmpty())return x?x.key:null;for(v=v.left;!v.right.isEmpty();)v=v.right;return v.key}d<0?v=v.left:d>0&&(x=v,v=v.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(a){return this.root_.inorderTraversal(a)}reverseTraversal(a){return this.root_.reverseTraversal(a)}getIterator(a){return new ao(this.root_,null,this.comparator_,!1,a)}getIteratorFrom(a,d){return new ao(this.root_,a,this.comparator_,!1,d)}getReverseIteratorFrom(a,d){return new ao(this.root_,a,this.comparator_,!0,d)}getReverseIterator(a){return new ao(this.root_,null,this.comparator_,!0,a)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Ds(f,a){return hr(f.name,a.name)}function Mo(f,a){return hr(f,a)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let Uo;ho.EMPTY_NODE=new class qi{copy(a,d,v,x,U){return this}insert(a,d,v){return new uo(a,d,null)}remove(a,d){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Co=function(f){return"number"==typeof f?"number:"+Zr(f):"string:"+f},fs=function(f){if(f.isLeafNode()){const a=f.val();(0,X.hu)("string"==typeof a||"number"==typeof a||"object"==typeof a&&(0,X.r3)(a,".sv"),"Priority must be a string or number.")}else(0,X.hu)(f===Uo||f.isEmpty(),"priority of unexpected type.");(0,X.hu)(f===Uo||f.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let Qo,fo,Bi;class Fr{constructor(a,d=Fr.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=d,this.lazyHash_=null,(0,X.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),fs(this.priorityNode_)}static set __childrenNodeConstructor(a){Qo=a}static get __childrenNodeConstructor(){return Qo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new Fr(this.value_,a)}getImmediateChild(a){return".priority"===a?this.priorityNode_:Fr.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return Ir(a)?this:".priority"===pr(a)?this.priorityNode_:Fr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,d){return null}updateImmediateChild(a,d){return".priority"===a?this.updatePriority(d):d.isEmpty()&&".priority"!==a?this:Fr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,d).updatePriority(this.priorityNode_)}updateChild(a,d){const v=pr(a);return null===v?d:d.isEmpty()&&".priority"!==v?this:((0,X.hu)(".priority"!==v||1===pi(a),".priority must be the last token in a path"),this.updateImmediateChild(v,Fr.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ar(a),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,d){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+Co(this.priorityNode_.val())+":");const d=typeof this.value_;a+=d+":",a+="number"===d?Zr(this.value_):this.value_,this.lazyHash_=it(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===Fr.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof Fr.__childrenNodeConstructor?-1:((0,X.hu)(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const d=typeof a.value_,v=typeof this.value_,x=Fr.VALUE_TYPE_ORDER.indexOf(d),U=Fr.VALUE_TYPE_ORDER.indexOf(v);return(0,X.hu)(x>=0,"Unknown leaf type: "+d),(0,X.hu)(U>=0,"Unknown leaf type: "+v),x===U?"object"===v?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:U-x}withIndex(){return this}isIndexed(){return!0}equals(a){if(a===this)return!0;if(a.isLeafNode()){const d=a;return this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_)}return!1}}Fr.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Hr=new class is extends $o{compare(a,d){const v=a.node.getPriority(),x=d.node.getPriority(),U=v.compareTo(x);return 0===U?hr(a.name,d.name):U}isDefinedOn(a){return!a.getPriority().isEmpty()}indexedValueChanged(a,d){return!a.getPriority().equals(d.getPriority())}minPost(){return Gr.MIN}maxPost(){return new Gr(ri,new Fr("[PRIORITY-POST]",Bi))}makePost(a,d){const v=fo(a);return new Gr(d,new Fr("[PRIORITY-POST]",v))}toString(){return".priority"}},zo=Math.log(2);
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Ni{constructor(a){var U;this.count=(U=a+1,parseInt(Math.log(U)/zo,10)),this.current_=this.count-1;const x=(U=>parseInt(Array(U+1).join("1"),2))(this.count);this.bits_=a+1&x}nextBitIsOne(){const a=!(this.bits_&1<<this.current_);return this.current_--,a}}const co=function(f,a,d,v){f.sort(a);const x=function($e,et){const nn=et-$e;let dn,mn;if(0===nn)return null;if(1===nn)return dn=f[$e],mn=d?d(dn):dn,new uo(mn,dn.node,uo.BLACK,null,null);{const Sr=parseInt(nn/2,10)+$e,Xr=x($e,Sr),Gi=x(Sr+1,et);return dn=f[Sr],mn=d?d(dn):dn,new uo(mn,dn.node,uo.BLACK,Xr,Gi)}},Te=function($e){let et=null,nn=null,dn=f.length;const mn=function(Xr,Gi){const hs=dn-Xr,$a=dn;dn-=Xr;const Ua=x(hs+1,$a),bh=f[hs],fl=d?d(bh):bh;Sr(new uo(fl,bh.node,Gi,null,Ua))},Sr=function(Xr){et?(et.left=Xr,et=Xr):(nn=Xr,et=Xr)};for(let Xr=0;Xr<$e.count;++Xr){const Gi=$e.nextBitIsOne(),hs=Math.pow(2,$e.count-(Xr+1));Gi?mn(hs,uo.BLACK):(mn(hs,uo.BLACK),mn(hs,uo.RED))}return nn}(new Ni(f.length));return new ho(v||a,Te)};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let ji;const Wo={};class $i{constructor(a,d){this.indexes_=a,this.indexSet_=d}static get Default(){return(0,X.hu)(Wo&&Hr,"ChildrenNode.ts has not been loaded"),ji=ji||new $i({".priority":Wo},{".priority":Hr}),ji}get(a){const d=(0,X.DV)(this.indexes_,a);if(!d)throw new Error("No index defined for "+a);return d instanceof ho?d:null}hasIndex(a){return(0,X.r3)(this.indexSet_,a.toString())}addIndex(a,d){(0,X.hu)(a!==xo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const v=[];let x=!1;const U=d.getIterator(Gr.Wrap);let Te,Q=U.getNext();for(;Q;)x=x||a.isDefinedOn(Q.node),v.push(Q),Q=U.getNext();Te=x?co(v,a.getCompare()):Wo;const $e=a.toString(),et=Object.assign({},this.indexSet_);et[$e]=a;const nn=Object.assign({},this.indexes_);return nn[$e]=Te,new $i(nn,et)}addToIndexes(a,d){const v=(0,X.UI)(this.indexes_,(x,U)=>{const Q=(0,X.DV)(this.indexSet_,U);if((0,X.hu)(Q,"Missing index implementation for "+U),x===Wo){if(Q.isDefinedOn(a.node)){const Te=[],$e=d.getIterator(Gr.Wrap);let et=$e.getNext();for(;et;)et.name!==a.name&&Te.push(et),et=$e.getNext();return Te.push(a),co(Te,Q.getCompare())}return Wo}{const Te=d.get(a.name);let $e=x;return Te&&($e=$e.remove(new Gr(a.name,Te))),$e.insert(a,a.node)}});return new $i(v,this.indexSet_)}removeFromIndexes(a,d){const v=(0,X.UI)(this.indexes_,x=>{if(x===Wo)return x;{const U=d.get(a.name);return U?x.remove(new Gr(a.name,U)):x}});return new $i(v,this.indexSet_)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let Xo;class or{constructor(a,d,v){this.children_=a,this.priorityNode_=d,this.indexMap_=v,this.lazyHash_=null,this.priorityNode_&&fs(this.priorityNode_),this.children_.isEmpty()&&(0,X.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xo||(Xo=new or(new ho(Mo),null,$i.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xo}updatePriority(a){return this.children_.isEmpty()?this:new or(this.children_,a,this.indexMap_)}getImmediateChild(a){if(".priority"===a)return this.getPriority();{const d=this.children_.get(a);return null===d?Xo:d}}getChild(a){const d=pr(a);return null===d?this:this.getImmediateChild(d).getChild(Ar(a))}hasChild(a){return null!==this.children_.get(a)}updateImmediateChild(a,d){if((0,X.hu)(d,"We should always be passing snapshot nodes"),".priority"===a)return this.updatePriority(d);{const v=new Gr(a,d);let x,U;d.isEmpty()?(x=this.children_.remove(a),U=this.indexMap_.removeFromIndexes(v,this.children_)):(x=this.children_.insert(a,d),U=this.indexMap_.addToIndexes(v,this.children_));const Q=x.isEmpty()?Xo:this.priorityNode_;return new or(x,Q,U)}}updateChild(a,d){const v=pr(a);if(null===v)return d;{(0,X.hu)(".priority"!==pr(a)||1===pi(a),".priority must be the last token in a path");const x=this.getImmediateChild(v).updateChild(Ar(a),d);return this.updateImmediateChild(v,x)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const d={};let v=0,x=0,U=!0;if(this.forEachChild(Hr,(Q,Te)=>{d[Q]=Te.val(a),v++,U&&or.INTEGER_REGEXP_.test(Q)?x=Math.max(x,Number(Q)):U=!1}),!a&&U&&x<2*v){const Q=[];for(const Te in d)Q[Te]=d[Te];return Q}return a&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(null===this.lazyHash_){let a="";this.getPriority().isEmpty()||(a+="priority:"+Co(this.getPriority().val())+":"),this.forEachChild(Hr,(d,v)=>{const x=v.hash();""!==x&&(a+=":"+d+":"+x)}),this.lazyHash_=""===a?"":it(a)}return this.lazyHash_}getPredecessorChildName(a,d,v){const x=this.resolveIndex_(v);if(x){const U=x.getPredecessorKey(new Gr(a,d));return U?U.name:null}return this.children_.getPredecessorKey(a)}getFirstChildName(a){const d=this.resolveIndex_(a);if(d){const v=d.minKey();return v&&v.name}return this.children_.minKey()}getFirstChild(a){const d=this.getFirstChildName(a);return d?new Gr(d,this.children_.get(d)):null}getLastChildName(a){const d=this.resolveIndex_(a);if(d){const v=d.maxKey();return v&&v.name}return this.children_.maxKey()}getLastChild(a){const d=this.getLastChildName(a);return d?new Gr(d,this.children_.get(d)):null}forEachChild(a,d){const v=this.resolveIndex_(a);return v?v.inorderTraversal(x=>d(x.name,x.node)):this.children_.inorderTraversal(d)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,d){const v=this.resolveIndex_(d);if(v)return v.getIteratorFrom(a,x=>x);{const x=this.children_.getIteratorFrom(a.name,Gr.Wrap);let U=x.peek();for(;null!=U&&d.compare(U,a)<0;)x.getNext(),U=x.peek();return x}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,d){const v=this.resolveIndex_(d);if(v)return v.getReverseIteratorFrom(a,x=>x);{const x=this.children_.getReverseIteratorFrom(a.name,Gr.Wrap);let U=x.peek();for(;null!=U&&d.compare(U,a)>0;)x.getNext(),U=x.peek();return x}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===Wi?-1:0}withIndex(a){if(a===xo||this.indexMap_.hasIndex(a))return this;{const d=this.indexMap_.addIndex(a,this.children_);return new or(this.children_,this.priorityNode_,d)}}isIndexed(a){return a===xo||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const d=a;if(this.getPriority().equals(d.getPriority())){if(this.children_.count()===d.children_.count()){const v=this.getIterator(Hr),x=d.getIterator(Hr);let U=v.getNext(),Q=x.getNext();for(;U&&Q;){if(U.name!==Q.name||!U.node.equals(Q.node))return!1;U=v.getNext(),Q=x.getNext()}return null===U&&null===Q}return!1}return!1}}resolveIndex_(a){return a===xo?null:this.indexMap_.get(a.toString())}}or.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Wi=new class Cs extends or{constructor(){super(new ho(Mo),or.EMPTY_NODE,$i.Default)}compareTo(a){return a===this?0:1}equals(a){return a===this}getPriority(){return this}getImmediateChild(a){return or.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Gr,{MIN:{value:new Gr(dr,or.EMPTY_NODE)},MAX:{value:new Gr(ri,Wi)}}),bo.__EMPTY_NODE=or.EMPTY_NODE,Fr.__childrenNodeConstructor=or,function Vo(f){Uo=f}(Wi),function Eo(f){Bi=f}(Wi);
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const mr=!0;function re(f,a=null){if(null===f)return or.EMPTY_NODE;if("object"==typeof f&&".priority"in f&&(a=f[".priority"]),(0,X.hu)(null===a||"string"==typeof a||"number"==typeof a||"object"==typeof a&&".sv"in a,"Invalid priority type found: "+typeof a),"object"==typeof f&&".value"in f&&null!==f[".value"]&&(f=f[".value"]),"object"!=typeof f||".sv"in f){return new Fr(f,re(a))}if(f instanceof Array||!mr){let d=or.EMPTY_NODE;return er(f,(v,x)=>{if((0,X.r3)(f,v)&&"."!==v.substring(0,1)){const U=re(x);(U.isLeafNode()||!U.isEmpty())&&(d=d.updateImmediateChild(v,U))}}),d.updatePriority(re(a))}{const d=[];let v=!1;if(er(f,(Q,Te)=>{if("."!==Q.substring(0,1)){const $e=re(Te);$e.isEmpty()||(v=v||!$e.getPriority().isEmpty(),d.push(new Gr(Q,$e)))}}),0===d.length)return or.EMPTY_NODE;const U=co(d,Ds,Q=>Q.name,Mo);if(v){const Q=co(d,Hr.getCompare());return new or(U,re(a),new $i({".priority":Q},{".priority":Hr}))}return new or(U,re(a),$i.Default)}}!function yi(f){fo=f}(re);
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class T extends $o{constructor(a){super(),this.indexPath_=a,(0,X.hu)(!Ir(a)&&".priority"!==pr(a),"Can't create PathIndex with empty path or .priority key")}extractChild(a){return a.getChild(this.indexPath_)}isDefinedOn(a){return!a.getChild(this.indexPath_).isEmpty()}compare(a,d){const v=this.extractChild(a.node),x=this.extractChild(d.node),U=v.compareTo(x);return 0===U?hr(a.name,d.name):U}makePost(a,d){const v=re(a),x=or.EMPTY_NODE.updateChild(this.indexPath_,v);return new Gr(d,x)}maxPost(){const a=or.EMPTY_NODE.updateChild(this.indexPath_,Wi);return new Gr(ri,a)}toString(){return qr(this.indexPath_,0).join("/")}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const ot=new class J extends $o{compare(a,d){const v=a.node.compareTo(d.node);return 0===v?hr(a.name,d.name):v}isDefinedOn(a){return!0}indexedValueChanged(a,d){return!a.equals(d)}minPost(){return Gr.MIN}maxPost(){return Gr.MAX}makePost(a,d){const v=re(a);return new Gr(d,v)}toString(){return".value"}};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function pn(f){return{type:"value",snapshotNode:f}}function st(f,a){return{type:"child_added",snapshotNode:a,childName:f}}function ut(f,a){return{type:"child_removed",snapshotNode:a,childName:f}}function Tt(f,a,d){return{type:"child_changed",snapshotNode:a,childName:f,oldSnap:d}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class hn{constructor(a){this.index_=a}updateChild(a,d,v,x,U,Q){(0,X.hu)(a.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Te=a.getImmediateChild(d);return Te.getChild(x).equals(v.getChild(x))&&Te.isEmpty()===v.isEmpty()||(null!=Q&&(v.isEmpty()?a.hasChild(d)?Q.trackChildChange(ut(d,Te)):(0,X.hu)(a.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Te.isEmpty()?Q.trackChildChange(st(d,v)):Q.trackChildChange(Tt(d,v,Te))),a.isLeafNode()&&v.isEmpty())?a:a.updateImmediateChild(d,v).withIndex(this.index_)}updateFullNode(a,d,v){return null!=v&&(a.isLeafNode()||a.forEachChild(Hr,(x,U)=>{d.hasChild(x)||v.trackChildChange(ut(x,U))}),d.isLeafNode()||d.forEachChild(Hr,(x,U)=>{if(a.hasChild(x)){const Q=a.getImmediateChild(x);Q.equals(U)||v.trackChildChange(Tt(x,U,Q))}else v.trackChildChange(st(x,U))})),d.withIndex(this.index_)}updatePriority(a,d){return a.isEmpty()?or.EMPTY_NODE:a.updatePriority(d)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Fn{constructor(a){this.indexedFilter_=new hn(a.getIndex()),this.index_=a.getIndex(),this.startPost_=Fn.getStartPost_(a),this.endPost_=Fn.getEndPost_(a),this.startIsInclusive_=!a.startAfterSet_,this.endIsInclusive_=!a.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(a){const d=this.startIsInclusive_?this.index_.compare(this.getStartPost(),a)<=0:this.index_.compare(this.getStartPost(),a)<0,v=this.endIsInclusive_?this.index_.compare(a,this.getEndPost())<=0:this.index_.compare(a,this.getEndPost())<0;return d&&v}updateChild(a,d,v,x,U,Q){return this.matches(new Gr(d,v))||(v=or.EMPTY_NODE),this.indexedFilter_.updateChild(a,d,v,x,U,Q)}updateFullNode(a,d,v){d.isLeafNode()&&(d=or.EMPTY_NODE);let x=d.withIndex(this.index_);x=x.updatePriority(or.EMPTY_NODE);const U=this;return d.forEachChild(Hr,(Q,Te)=>{U.matches(new Gr(Q,Te))||(x=x.updateImmediateChild(Q,or.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(a,x,v)}updatePriority(a,d){return a}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(a){if(a.hasStart()){const d=a.getIndexStartName();return a.getIndex().makePost(a.getIndexStartValue(),d)}return a.getIndex().minPost()}static getEndPost_(a){if(a.hasEnd()){const d=a.getIndexEndName();return a.getIndex().makePost(a.getIndexEndValue(),d)}return a.getIndex().maxPost()}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Qr{constructor(a){this.withinDirectionalStart=d=>this.reverse_?this.withinEndPost(d):this.withinStartPost(d),this.withinDirectionalEnd=d=>this.reverse_?this.withinStartPost(d):this.withinEndPost(d),this.withinStartPost=d=>{const v=this.index_.compare(this.rangedFilter_.getStartPost(),d);return this.startIsInclusive_?v<=0:v<0},this.withinEndPost=d=>{const v=this.index_.compare(d,this.rangedFilter_.getEndPost());return this.endIsInclusive_?v<=0:v<0},this.rangedFilter_=new Fn(a),this.index_=a.getIndex(),this.limit_=a.getLimit(),this.reverse_=!a.isViewFromLeft(),this.startIsInclusive_=!a.startAfterSet_,this.endIsInclusive_=!a.endBeforeSet_}updateChild(a,d,v,x,U,Q){return this.rangedFilter_.matches(new Gr(d,v))||(v=or.EMPTY_NODE),a.getImmediateChild(d).equals(v)?a:a.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(a,d,v,x,U,Q):this.fullLimitUpdateChild_(a,d,v,U,Q)}updateFullNode(a,d,v){let x;if(d.isLeafNode()||d.isEmpty())x=or.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<d.numChildren()&&d.isIndexed(this.index_)){let U;x=or.EMPTY_NODE.withIndex(this.index_),U=this.reverse_?d.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):d.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let Q=0;for(;U.hasNext()&&Q<this.limit_;){const Te=U.getNext();if(this.withinDirectionalStart(Te)){if(!this.withinDirectionalEnd(Te))break;x=x.updateImmediateChild(Te.name,Te.node),Q++}}}else{let U;x=d.withIndex(this.index_),x=x.updatePriority(or.EMPTY_NODE),U=this.reverse_?x.getReverseIterator(this.index_):x.getIterator(this.index_);let Q=0;for(;U.hasNext();){const Te=U.getNext();Q<this.limit_&&this.withinDirectionalStart(Te)&&this.withinDirectionalEnd(Te)?Q++:x=x.updateImmediateChild(Te.name,or.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(a,x,v)}updatePriority(a,d){return a}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(a,d,v,x,U){let Q;if(this.reverse_){const dn=this.index_.getCompare();Q=(mn,Sr)=>dn(Sr,mn)}else Q=this.index_.getCompare();const Te=a;(0,X.hu)(Te.numChildren()===this.limit_,"");const $e=new Gr(d,v),et=this.reverse_?Te.getFirstChild(this.index_):Te.getLastChild(this.index_),nn=this.rangedFilter_.matches($e);if(Te.hasChild(d)){const dn=Te.getImmediateChild(d);let mn=x.getChildAfterChild(this.index_,et,this.reverse_);for(;null!=mn&&(mn.name===d||Te.hasChild(mn.name));)mn=x.getChildAfterChild(this.index_,mn,this.reverse_);const Sr=null==mn?1:Q(mn,$e);if(nn&&!v.isEmpty()&&Sr>=0)return U?.trackChildChange(Tt(d,v,dn)),Te.updateImmediateChild(d,v);{U?.trackChildChange(ut(d,dn));const Gi=Te.updateImmediateChild(d,or.EMPTY_NODE);return null!=mn&&this.rangedFilter_.matches(mn)?(U?.trackChildChange(st(mn.name,mn.node)),Gi.updateImmediateChild(mn.name,mn.node)):Gi}}return v.isEmpty()?a:nn&&Q(et,$e)>=0?(null!=U&&(U.trackChildChange(ut(et.name,et.node)),U.trackChildChange(st(d,v))),Te.updateImmediateChild(d,v).updateImmediateChild(et.name,or.EMPTY_NODE)):a}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Rr{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hr}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,X.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,X.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:dr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,X.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,X.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ri}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,X.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hr}copy(){const a=new Rr;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.startAfterSet_=this.startAfterSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.endBeforeSet_=this.endBeforeSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a}}function Ve(f,a,d){const v=f.copy();return v.startSet_=!0,void 0===a&&(a=null),v.indexStartValue_=a,null!=d?(v.startNameSet_=!0,v.indexStartName_=d):(v.startNameSet_=!1,v.indexStartName_=""),v}function F(f,a,d){const v=f.copy();return v.endSet_=!0,void 0===a&&(a=null),v.indexEndValue_=a,void 0!==d?(v.endNameSet_=!0,v.indexEndName_=d):(v.endNameSet_=!1,v.indexEndName_=""),v}function De(f,a){const d=f.copy();return d.index_=a,d}function qe(f){const a={};if(f.isDefault())return a;let d;if(f.index_===Hr?d="$priority":f.index_===ot?d="$value":f.index_===xo?d="$key":((0,X.hu)(f.index_ instanceof T,"Unrecognized index type!"),d=f.index_.toString()),a.orderBy=(0,X.Wl)(d),f.startSet_){const v=f.startAfterSet_?"startAfter":"startAt";a[v]=(0,X.Wl)(f.indexStartValue_),f.startNameSet_&&(a[v]+=","+(0,X.Wl)(f.indexStartName_))}if(f.endSet_){const v=f.endBeforeSet_?"endBefore":"endAt";a[v]=(0,X.Wl)(f.indexEndValue_),f.endNameSet_&&(a[v]+=","+(0,X.Wl)(f.indexEndName_))}return f.limitSet_&&(f.isViewFromLeft()?a.limitToFirst=f.limit_:a.limitToLast=f.limit_),a}function Jt(f){const a={};if(f.startSet_&&(a.sp=f.indexStartValue_,f.startNameSet_&&(a.sn=f.indexStartName_),a.sin=!f.startAfterSet_),f.endSet_&&(a.ep=f.indexEndValue_,f.endNameSet_&&(a.en=f.indexEndName_),a.ein=!f.endBeforeSet_),f.limitSet_){a.l=f.limit_;let d=f.viewFrom_;""===d&&(d=f.isViewFromLeft()?"l":"r"),a.vf=d}return f.index_!==Hr&&(a.i=f.index_.toString()),a
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}class Dn extends Ii{constructor(a,d,v,x){super(),this.repoInfo_=a,this.onDataUpdate_=d,this.authTokenProvider_=v,this.appCheckTokenProvider_=x,this.log_=ur("p:rest:"),this.listens_={}}reportStats(a){throw new Error("Method not implemented.")}static getListenId_(a,d){return void 0!==d?"tag$"+d:((0,X.hu)(a._queryParams.isDefault(),"should have a tag if it's not a default query."),a._path.toString())}listen(a,d,v,x){const U=a._path.toString();this.log_("Listen called for "+U+" "+a._queryIdentifier);const Q=Dn.getListenId_(a,v),Te={};this.listens_[Q]=Te;const $e=qe(a._queryParams);this.restRequest_(U+".json",$e,(et,nn)=>{let dn=nn;if(404===et&&(dn=null,et=null),null===et&&this.onDataUpdate_(U,dn,!1,v),(0,X.DV)(this.listens_,Q)===Te){let mn;mn=et?401===et?"permission_denied":"rest_error:"+et:"ok",x(mn,null)}})}unlisten(a,d){const v=Dn.getListenId_(a,d);delete this.listens_[v]}get(a){const d=qe(a._queryParams),v=a._path.toString(),x=new X.BH;return this.restRequest_(v+".json",d,(U,Q)=>{let Te=Q;404===U&&(Te=null,U=null),null===U?(this.onDataUpdate_(v,Te,!1,null),x.resolve(Te)):x.reject(new Error(Te))}),x.promise}refreshAuthToken(a){}restRequest_(a,d={},v){return d.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([x,U])=>{x&&x.accessToken&&(d.auth=x.accessToken),U&&U.token&&(d.ac=U.token);const Q=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+a+"?ns="+this.repoInfo_.namespace+(0,X.xO)(d);this.log_("Sending REST request for "+Q);const Te=new XMLHttpRequest;Te.onreadystatechange=()=>{if(v&&4===Te.readyState){this.log_("REST Response for "+Q+" received. status:",Te.status,"response:",Te.responseText);let $e=null;if(Te.status>=200&&Te.status<300){try{$e=(0,X.cI)(Te.responseText)}catch{vr("Failed to parse JSON response for "+Q+": "+Te.responseText)}v(null,$e)}else 401!==Te.status&&404!==Te.status&&vr("Got unsuccessful REST response for "+Q+" Status: "+Te.status),v(Te.status);v=null}},Te.open("GET",Q,!0),Te.send()})}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Ln{constructor(){this.rootNode_=or.EMPTY_NODE}getNode(a){return this.rootNode_.getChild(a)}updateSnapshot(a,d){this.rootNode_=this.rootNode_.updateChild(a,d)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function qn(){return{value:null,children:new Map}}function tr(f,a,d){if(Ir(a))f.value=d,f.children.clear();else if(null!==f.value)f.value=f.value.updateChild(a,d);else{const v=pr(a);f.children.has(v)||f.children.set(v,qn());tr(f.children.get(v),a=Ar(a),d)}}function Vr(f,a){if(Ir(a))return f.value=null,f.children.clear(),!0;if(null!==f.value){if(f.value.isLeafNode())return!1;{const d=f.value;return f.value=null,d.forEachChild(Hr,(v,x)=>{tr(f,new si(v),x)}),Vr(f,a)}}if(f.children.size>0){const d=pr(a);return a=Ar(a),f.children.has(d)&&Vr(f.children.get(d),a)&&f.children.delete(d),0===f.children.size}return!0}function Ho(f,a,d){null!==f.value?d(a,f.value):function Go(f,a){f.children.forEach((d,v)=>{a(v,d)})}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(f,(v,x)=>{Ho(x,new si(a.toString()+"/"+v),d)})}class Qi{constructor(a){this.collection_=a,this.last_=null}get(){const a=this.collection_.get(),d=Object.assign({},a);return this.last_&&er(this.last_,(v,x)=>{d[v]=d[v]-x}),this.last_=a,d}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class qs{constructor(a,d){this.server_=d,this.statsToReport_={},this.statsListener_=new Qi(a);const v=1e4+2e4*Math.random();di(this.reportStats_.bind(this),Math.floor(v))}reportStats_(){const a=this.statsListener_.get(),d={};let v=!1;er(a,(x,U)=>{U>0&&(0,X.r3)(this.statsToReport_,x)&&(d[x]=U,v=!0)}),v&&this.server_.reportStats(d),di(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */var os,f;function _a(f){return{fromUser:!1,fromServer:!0,queryId:f,tagged:!0}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(f=os||(os={}))[f.OVERWRITE=0]="OVERWRITE",f[f.MERGE=1]="MERGE",f[f.ACK_USER_WRITE=2]="ACK_USER_WRITE",f[f.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class As{constructor(a,d,v){this.path=a,this.affectedTree=d,this.revert=v,this.type=os.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(a){if(Ir(this.path)){if(null!=this.affectedTree.value)return(0,X.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const d=this.affectedTree.subtree(new si(a));return new As(ii(),d,this.revert)}}return(0,X.hu)(pr(this.path)===a,"operationForChild called for unrelated child."),new As(Ar(this.path),this.affectedTree,this.revert)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class pe{constructor(a,d){this.source=a,this.path=d,this.type=os.LISTEN_COMPLETE}operationForChild(a){return Ir(this.path)?new pe(this.source,ii()):new pe(this.source,Ar(this.path))}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class C{constructor(a,d,v){this.source=a,this.path=d,this.snap=v,this.type=os.OVERWRITE}operationForChild(a){return Ir(this.path)?new C(this.source,ii(),this.snap.getImmediateChild(a)):new C(this.source,Ar(this.path),this.snap)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class A{constructor(a,d,v){this.source=a,this.path=d,this.children=v,this.type=os.MERGE}operationForChild(a){if(Ir(this.path)){const d=this.children.subtree(new si(a));return d.isEmpty()?null:d.value?new C(this.source,ii(),d.value):new A(this.source,ii(),d)}return(0,X.hu)(pr(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new A(this.source,Ar(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class H{constructor(a,d,v){this.node_=a,this.fullyInitialized_=d,this.filtered_=v}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(a){if(Ir(a))return this.isFullyInitialized()&&!this.filtered_;const d=pr(a);return this.isCompleteForChild(d)}isCompleteForChild(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)}getNode(){return this.node_}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ce{constructor(a){this.query_=a,this.index_=this.query_._queryParams.getIndex()}}function ve(f,a,d,v,x,U){const Q=v.filter(Te=>Te.type===d);Q.sort((Te,$e)=>function Pt(f,a,d){if(null==a.childName||null==d.childName)throw(0,X.g5)("Should only compare child_ events.");const v=new Gr(a.childName,a.snapshotNode),x=new Gr(d.childName,d.snapshotNode);return f.index_.compare(v,x)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(f,Te,$e)),Q.forEach(Te=>{const $e=function Je(f,a,d){return"value"===a.type||"child_removed"===a.type||(a.prevName=d.getPredecessorChildName(a.childName,a.snapshotNode,f.index_)),a}(f,Te,U);x.forEach(et=>{et.respondsTo(Te.type)&&a.push(et.createEvent($e,f.query_))})})}function rn(f,a){return{eventCache:f,serverCache:a}}function Yt(f,a,d,v){return rn(new H(a,d,v),f.serverCache)}function fn(f,a,d,v){return rn(f.eventCache,new H(a,d,v))}function vi(f){return f.eventCache.isFullyInitialized()?f.eventCache.getNode():null}function un(f){return f.serverCache.isFullyInitialized()?f.serverCache.getNode():null}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let vt;class I{constructor(a,d=(()=>(vt||(vt=new ho(fi)),vt))()){this.value=a,this.children=d}static fromObject(a){let d=new I(null);return er(a,(v,x)=>{d=d.set(new si(v),x)}),d}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(a,d){if(null!=this.value&&d(this.value))return{path:ii(),value:this.value};if(Ir(a))return null;{const v=pr(a),x=this.children.get(v);if(null!==x){const U=x.findRootMostMatchingPathAndValue(Ar(a),d);return null!=U?{path:Jr(new si(v),U.path),value:U.value}:null}return null}}findRootMostValueAndPath(a){return this.findRootMostMatchingPathAndValue(a,()=>!0)}subtree(a){if(Ir(a))return this;{const d=pr(a),v=this.children.get(d);return null!==v?v.subtree(Ar(a)):new I(null)}}set(a,d){if(Ir(a))return new I(d,this.children);{const v=pr(a),U=(this.children.get(v)||new I(null)).set(Ar(a),d),Q=this.children.insert(v,U);return new I(this.value,Q)}}remove(a){if(Ir(a))return this.children.isEmpty()?new I(null):new I(null,this.children);{const d=pr(a),v=this.children.get(d);if(v){const x=v.remove(Ar(a));let U;return U=x.isEmpty()?this.children.remove(d):this.children.insert(d,x),null===this.value&&U.isEmpty()?new I(null):new I(this.value,U)}return this}}get(a){if(Ir(a))return this.value;{const d=pr(a),v=this.children.get(d);return v?v.get(Ar(a)):null}}setTree(a,d){if(Ir(a))return d;{const v=pr(a),U=(this.children.get(v)||new I(null)).setTree(Ar(a),d);let Q;return Q=U.isEmpty()?this.children.remove(v):this.children.insert(v,U),new I(this.value,Q)}}fold(a){return this.fold_(ii(),a)}fold_(a,d){const v={};return this.children.inorderTraversal((x,U)=>{v[x]=U.fold_(Jr(a,x),d)}),d(a,this.value,v)}findOnPath(a,d){return this.findOnPath_(a,ii(),d)}findOnPath_(a,d,v){const x=!!this.value&&v(d,this.value);if(x)return x;if(Ir(a))return null;{const U=pr(a),Q=this.children.get(U);return Q?Q.findOnPath_(Ar(a),Jr(d,U),v):null}}foreachOnPath(a,d){return this.foreachOnPath_(a,ii(),d)}foreachOnPath_(a,d,v){if(Ir(a))return this;{this.value&&v(d,this.value);const x=pr(a),U=this.children.get(x);return U?U.foreachOnPath_(Ar(a),Jr(d,x),v):new I(null)}}foreach(a){this.foreach_(ii(),a)}foreach_(a,d){this.children.inorderTraversal((v,x)=>{x.foreach_(Jr(a,v),d)}),this.value&&d(a,this.value)}foreachChild(a){this.children.inorderTraversal((d,v)=>{v.value&&a(d,v.value)})}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Z{constructor(a){this.writeTree_=a}static empty(){return new Z(new I(null))}}function xe(f,a,d){if(Ir(a))return new Z(new I(d));{const v=f.writeTree_.findRootMostValueAndPath(a);if(null!=v){const x=v.path;let U=v.value;const Q=Ur(x,a);return U=U.updateChild(Q,d),new Z(f.writeTree_.set(x,U))}{const x=new I(d),U=f.writeTree_.setTree(a,x);return new Z(U)}}}function ht(f,a,d){let v=f;return er(d,(x,U)=>{v=xe(v,Jr(a,x),U)}),v}function kt(f,a){if(Ir(a))return Z.empty();{const d=f.writeTree_.setTree(a,new I(null));return new Z(d)}}function kn(f,a){return null!=yr(f,a)}function yr(f,a){const d=f.writeTree_.findRootMostValueAndPath(a);return null!=d?f.writeTree_.get(d.path).getChild(Ur(d.path,a)):null}function ui(f){const a=[],d=f.writeTree_.value;return null!=d?d.isLeafNode()||d.forEachChild(Hr,(v,x)=>{a.push(new Gr(v,x))}):f.writeTree_.children.inorderTraversal((v,x)=>{null!=x.value&&a.push(new Gr(v,x.value))}),a}function ci(f,a){if(Ir(a))return f;{const d=yr(f,a);return new Z(null!=d?new I(d):f.writeTree_.subtree(a))}}function bi(f){return f.writeTree_.isEmpty()}function Kr(f,a){return Xi(ii(),f.writeTree_,a)}function Xi(f,a,d){if(null!=a.value)return d.updateChild(f,a.value);{let v=null;return a.children.inorderTraversal((x,U)=>{".priority"===x?((0,X.hu)(null!==U.value,"Priority writes must always be leaf nodes"),v=U.value):d=Xi(Jr(f,x),U,d)}),!d.getChild(f).isEmpty()&&null!==v&&(d=d.updateChild(Jr(f,".priority"),v)),d}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Yn(f,a){return Ia(a,f)}function an(f,a){const d=f.allWrites.findIndex(Te=>Te.writeId===a);(0,X.hu)(d>=0,"removeWrite called with nonexistent writeId.");const v=f.allWrites[d];f.allWrites.splice(d,1);let x=v.visible,U=!1,Q=f.allWrites.length-1;for(;x&&Q>=0;){const Te=f.allWrites[Q];Te.visible&&(Q>=d&&sr(Te,v.path)?x=!1:ki(v.path,Te.path)&&(U=!0)),Q--}if(x){if(U)return function Nn(f){f.visibleWrites=Ei(f.allWrites,gi,ii()),f.allWrites.length>0?f.lastWriteId=f.allWrites[f.allWrites.length-1].writeId:f.lastWriteId=-1}(f),!0;if(v.snap)f.visibleWrites=kt(f.visibleWrites,v.path);else{er(v.children,$e=>{f.visibleWrites=kt(f.visibleWrites,Jr(v.path,$e))})}return!0}return!1}function sr(f,a){if(f.snap)return ki(f.path,a);for(const d in f.children)if(f.children.hasOwnProperty(d)&&ki(Jr(f.path,d),a))return!0;return!1}function gi(f){return f.visible}function Ei(f,a,d){let v=Z.empty();for(let x=0;x<f.length;++x){const U=f[x];if(a(U)){const Q=U.path;let Te;if(U.snap)ki(d,Q)?(Te=Ur(d,Q),v=xe(v,Te,U.snap)):ki(Q,d)&&(Te=Ur(Q,d),v=xe(v,ii(),U.snap.getChild(Te)));else{if(!U.children)throw(0,X.g5)("WriteRecord should have .snap or .children");if(ki(d,Q))Te=Ur(d,Q),v=ht(v,Te,U.children);else if(ki(Q,d))if(Te=Ur(Q,d),Ir(Te))v=ht(v,ii(),U.children);else{const $e=(0,X.DV)(U.children,pr(Te));if($e){const et=$e.getChild(Ar(Te));v=xe(v,ii(),et)}}}}}return v}function An(f,a,d,v,x){if(v||x){const U=ci(f.visibleWrites,a);if(!x&&bi(U))return d;if(!x&&null==d&&!kn(U,ii()))return null;{const Q=function(et){return(et.visible||x)&&(!v||!~v.indexOf(et.writeId))&&(ki(et.path,a)||ki(a,et.path))};return Kr(Ei(f.allWrites,Q,a),d||or.EMPTY_NODE)}}{const U=yr(f.visibleWrites,a);if(null!=U)return U;{const Q=ci(f.visibleWrites,a);if(bi(Q))return d;if(null==d&&!kn(Q,ii()))return null;return Kr(Q,d||or.EMPTY_NODE)}}}function Ao(f,a,d,v){return An(f.writeTree,f.treePath,a,d,v)}function us(f,a){return function cs(f,a,d){let v=or.EMPTY_NODE;const x=yr(f.visibleWrites,a);if(x)return x.isLeafNode()||x.forEachChild(Hr,(U,Q)=>{v=v.updateImmediateChild(U,Q)}),v;if(d){const U=ci(f.visibleWrites,a);return d.forEachChild(Hr,(Q,Te)=>{const $e=Kr(ci(U,new si(Q)),Te);v=v.updateImmediateChild(Q,$e)}),ui(U).forEach(Q=>{v=v.updateImmediateChild(Q.name,Q.node)}),v}return ui(ci(f.visibleWrites,a)).forEach(Q=>{v=v.updateImmediateChild(Q.name,Q.node)}),v}(f.writeTree,f.treePath,a)}function js(f,a,d,v){return function qo(f,a,d,v,x){(0,X.hu)(v||x,"Either existingEventSnap or existingServerSnap must exist");const U=Jr(a,d);if(kn(f.visibleWrites,U))return null;{const Q=ci(f.visibleWrites,U);return bi(Q)?x.getChild(d):Kr(Q,x.getChild(d))}}(f.writeTree,f.treePath,a,d,v)}function Mi(f,a){return function Ss(f,a){return yr(f.visibleWrites,a)}(f.writeTree,Jr(f.treePath,a))}function Oa(f,a,d,v,x,U){return function Qs(f,a,d,v,x,U,Q){let Te;const $e=ci(f.visibleWrites,a),et=yr($e,ii());if(null!=et)Te=et;else{if(null==d)return[];Te=Kr($e,d)}if(Te=Te.withIndex(Q),Te.isEmpty()||Te.isLeafNode())return[];{const nn=[],dn=Q.getCompare(),mn=U?Te.getReverseIteratorFrom(v,Q):Te.getIteratorFrom(v,Q);let Sr=mn.getNext();for(;Sr&&nn.length<x;)0!==dn(Sr,v)&&nn.push(Sr),Sr=mn.getNext();return nn}}(f.writeTree,f.treePath,a,d,v,x,U)}function ws(f,a,d){return function eo(f,a,d,v){const x=Jr(a,d),U=yr(f.visibleWrites,x);if(null!=U)return U;if(v.isCompleteForChild(d))return Kr(ci(f.visibleWrites,x),v.getNode().getImmediateChild(d));return null}(f.writeTree,f.treePath,a,d)}function Xs(f,a){return Ia(Jr(f.treePath,a),f.writeTree)}function Ia(f,a){return{treePath:f,writeTree:a}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Pa{constructor(){this.changeMap=new Map}trackChildChange(a){const d=a.type,v=a.childName;(0,X.hu)("child_added"===d||"child_changed"===d||"child_removed"===d,"Only child changes supported for tracking"),(0,X.hu)(".priority"!==v,"Only non-priority child changes can be tracked.");const x=this.changeMap.get(v);if(x){const U=x.type;if("child_added"===d&&"child_removed"===U)this.changeMap.set(v,Tt(v,a.snapshotNode,x.snapshotNode));else if("child_removed"===d&&"child_added"===U)this.changeMap.delete(v);else if("child_removed"===d&&"child_changed"===U)this.changeMap.set(v,ut(v,x.oldSnap));else if("child_changed"===d&&"child_added"===U)this.changeMap.set(v,st(v,a.snapshotNode));else{if("child_changed"!==d||"child_changed"!==U)throw(0,X.g5)("Illegal combination of changes: "+a+" occurred after "+x);this.changeMap.set(v,Tt(v,a.snapshotNode,x.oldSnap))}}else this.changeMap.set(v,a)}getChanges(){return Array.from(this.changeMap.values())}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Js=new class $t{getCompleteChild(a){return null}getChildAfterChild(a,d,v){return null}};class ps{constructor(a,d,v=null){this.writes_=a,this.viewCache_=d,this.optCompleteServerCache_=v}getCompleteChild(a){const d=this.viewCache_.eventCache;if(d.isCompleteForChild(a))return d.getNode().getImmediateChild(a);{const v=null!=this.optCompleteServerCache_?new H(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ws(this.writes_,a,v)}}getChildAfterChild(a,d,v){const x=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:un(this.viewCache_),U=Oa(this.writes_,x,d,1,v,a);return 0===U.length?null:U[0]}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Jo(f,a,d,v,x){const U=new Pa;let Q,Te;if(d.type===os.OVERWRITE){const et=d;et.source.fromUser?Q=ms(f,a,et.path,et.snap,v,x,U):((0,X.hu)(et.source.fromServer,"Unknown source."),Te=et.source.tagged||a.serverCache.isFiltered()&&!Ir(et.path),Q=za(f,a,et.path,et.snap,v,x,Te,U))}else if(d.type===os.MERGE){const et=d;et.source.fromUser?Q=function qa(f,a,d,v,x,U,Q){let Te=a;return v.foreach(($e,et)=>{const nn=Jr(d,$e);ca(a,pr(nn))&&(Te=ms(f,Te,nn,et,x,U,Q))}),v.foreach(($e,et)=>{const nn=Jr(d,$e);ca(a,pr(nn))||(Te=ms(f,Te,nn,et,x,U,Q))}),Te}(f,a,et.path,et.children,v,x,U):((0,X.hu)(et.source.fromServer,"Unknown source."),Te=et.source.tagged||a.serverCache.isFiltered(),Q=Qa(f,a,et.path,et.children,v,x,Te,U))}else if(d.type===os.ACK_USER_WRITE){const et=d;Q=et.revert?function ss(f,a,d,v,x,U){let Q;if(null!=Mi(v,d))return a;{const Te=new ps(v,a,x),$e=a.eventCache.getNode();let et;if(Ir(d)||".priority"===pr(d)){let nn;if(a.serverCache.isFullyInitialized())nn=Ao(v,un(a));else{const dn=a.serverCache.getNode();(0,X.hu)(dn instanceof or,"serverChildren would be complete if leaf node"),nn=us(v,dn)}et=f.filter.updateFullNode($e,nn,U)}else{const nn=pr(d);let dn=ws(v,nn,a.serverCache);null==dn&&a.serverCache.isCompleteForChild(nn)&&(dn=$e.getImmediateChild(nn)),et=null!=dn?f.filter.updateChild($e,nn,dn,Ar(d),Te,U):a.eventCache.getNode().hasChild(nn)?f.filter.updateChild($e,nn,or.EMPTY_NODE,Ar(d),Te,U):$e,et.isEmpty()&&a.serverCache.isFullyInitialized()&&(Q=Ao(v,un(a)),Q.isLeafNode()&&(et=f.filter.updateFullNode(et,Q,U)))}return Q=a.serverCache.isFullyInitialized()||null!=Mi(v,ii()),Yt(a,et,Q,f.filter.filtersNodes())}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(f,a,et.path,v,x,U):function yc(f,a,d,v,x,U,Q){if(null!=Mi(x,d))return a;const Te=a.serverCache.isFiltered(),$e=a.serverCache;if(null!=v.value){if(Ir(d)&&$e.isFullyInitialized()||$e.isCompleteForPath(d))return za(f,a,d,$e.getNode().getChild(d),x,U,Te,Q);if(Ir(d)){let et=new I(null);return $e.getNode().forEachChild(xo,(nn,dn)=>{et=et.set(new si(nn),dn)}),Qa(f,a,d,et,x,U,Te,Q)}return a}{let et=new I(null);return v.foreach((nn,dn)=>{const mn=Jr(d,nn);$e.isCompleteForPath(mn)&&(et=et.set(nn,$e.getNode().getChild(mn)))}),Qa(f,a,d,et,x,U,Te,Q)}}(f,a,et.path,et.affectedTree,v,x,U)}else{if(d.type!==os.LISTEN_COMPLETE)throw(0,X.g5)("Unknown operation type: "+d.type);Q=function Wa(f,a,d,v,x){const U=a.serverCache,Q=fn(a,U.getNode(),U.isFullyInitialized()||Ir(d),U.isFiltered());return Os(f,Q,d,v,Js,x)}(f,a,d.path,v,U)}const $e=U.getChanges();return function _c(f,a,d){const v=a.eventCache;if(v.isFullyInitialized()){const x=v.getNode().isLeafNode()||v.getNode().isEmpty(),U=vi(f);(d.length>0||!f.eventCache.isFullyInitialized()||x&&!v.getNode().equals(U)||!v.getNode().getPriority().equals(U.getPriority()))&&d.push(pn(vi(a)))}}(a,Q,$e),{viewCache:Q,changes:$e}}function Os(f,a,d,v,x,U){const Q=a.eventCache;if(null!=Mi(v,d))return a;{let Te,$e;if(Ir(d))if((0,X.hu)(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){const et=un(a),dn=us(v,et instanceof or?et:or.EMPTY_NODE);Te=f.filter.updateFullNode(a.eventCache.getNode(),dn,U)}else{const et=Ao(v,un(a));Te=f.filter.updateFullNode(a.eventCache.getNode(),et,U)}else{const et=pr(d);if(".priority"===et){(0,X.hu)(1===pi(d),"Can't have a priority with additional path components");const nn=Q.getNode();$e=a.serverCache.getNode();const dn=js(v,d,nn,$e);Te=null!=dn?f.filter.updatePriority(nn,dn):Q.getNode()}else{const nn=Ar(d);let dn;if(Q.isCompleteForChild(et)){$e=a.serverCache.getNode();const mn=js(v,d,Q.getNode(),$e);dn=null!=mn?Q.getNode().getImmediateChild(et).updateChild(nn,mn):Q.getNode().getImmediateChild(et)}else dn=ws(v,et,a.serverCache);Te=null!=dn?f.filter.updateChild(Q.getNode(),et,dn,nn,x,U):Q.getNode()}}return Yt(a,Te,Q.isFullyInitialized()||Ir(d),f.filter.filtersNodes())}}function za(f,a,d,v,x,U,Q,Te){const $e=a.serverCache;let et;const nn=Q?f.filter:f.filter.getIndexedFilter();if(Ir(d))et=nn.updateFullNode($e.getNode(),v,null);else if(nn.filtersNodes()&&!$e.isFiltered()){const Sr=$e.getNode().updateChild(d,v);et=nn.updateFullNode($e.getNode(),Sr,null)}else{const Sr=pr(d);if(!$e.isCompleteForPath(d)&&pi(d)>1)return a;const Xr=Ar(d),hs=$e.getNode().getImmediateChild(Sr).updateChild(Xr,v);et=".priority"===Sr?nn.updatePriority($e.getNode(),hs):nn.updateChild($e.getNode(),Sr,hs,Xr,Js,null)}const dn=fn(a,et,$e.isFullyInitialized()||Ir(d),nn.filtersNodes());return Os(f,dn,d,x,new ps(x,dn,U),Te)}function ms(f,a,d,v,x,U,Q){const Te=a.eventCache;let $e,et;const nn=new ps(x,a,U);if(Ir(d))et=f.filter.updateFullNode(a.eventCache.getNode(),v,Q),$e=Yt(a,et,!0,f.filter.filtersNodes());else{const dn=pr(d);if(".priority"===dn)et=f.filter.updatePriority(a.eventCache.getNode(),v),$e=Yt(a,et,Te.isFullyInitialized(),Te.isFiltered());else{const mn=Ar(d),Sr=Te.getNode().getImmediateChild(dn);let Xr;if(Ir(mn))Xr=v;else{const Gi=nn.getCompleteChild(dn);Xr=null!=Gi?".priority"===no(mn)&&Gi.getChild(xi(mn)).isEmpty()?Gi:Gi.updateChild(mn,v):or.EMPTY_NODE}if(Sr.equals(Xr))$e=a;else{$e=Yt(a,f.filter.updateChild(Te.getNode(),dn,Xr,mn,nn,Q),Te.isFullyInitialized(),f.filter.filtersNodes())}}}return $e}function ca(f,a){return f.eventCache.isCompleteForChild(a)}function Is(f,a,d){return d.foreach((v,x)=>{a=a.updateChild(v,x)}),a}function Qa(f,a,d,v,x,U,Q,Te){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;let et,$e=a;et=Ir(d)?v:new I(null).setTree(d,v);const nn=a.serverCache.getNode();return et.children.inorderTraversal((dn,mn)=>{if(nn.hasChild(dn)){const Xr=Is(0,a.serverCache.getNode().getImmediateChild(dn),mn);$e=za(f,$e,new si(dn),Xr,x,U,Q,Te)}}),et.children.inorderTraversal((dn,mn)=>{const Sr=!a.serverCache.isCompleteForChild(dn)&&null===mn.value;if(!nn.hasChild(dn)&&!Sr){const Gi=Is(0,a.serverCache.getNode().getImmediateChild(dn),mn);$e=za(f,$e,new si(dn),Gi,x,U,Q,Te)}}),$e}class ya{constructor(a,d){this.query_=a,this.eventRegistrations_=[];const v=this.query_._queryParams,x=new hn(v.getIndex()),U=function go(f){return f.loadsAllData()?new hn(f.getIndex()):f.hasLimit()?new Qr(f):new Fn(f)}(v);this.processor_=function aa(f){return{filter:f}}(U);const Q=d.serverCache,Te=d.eventCache,$e=x.updateFullNode(or.EMPTY_NODE,Q.getNode(),null),et=U.updateFullNode(or.EMPTY_NODE,Te.getNode(),null),nn=new H($e,Q.isFullyInitialized(),x.filtersNodes()),dn=new H(et,Te.isFullyInitialized(),U.filtersNodes());this.viewCache_=rn(dn,nn),this.eventGenerator_=new ce(this.query_)}get query(){return this.query_}}function zc(f,a){const d=un(f.viewCache_);return d&&(f.query._queryParams.loadsAllData()||!Ir(a)&&!d.getImmediateChild(pr(a)).isEmpty())?d.getChild(a):null}function la(f){return 0===f.eventRegistrations_.length}function tl(f,a,d){const v=[];if(d){(0,X.hu)(null==a,"A cancel should cancel all event registrations.");const x=f.query._path;f.eventRegistrations_.forEach(U=>{const Q=U.createCancelEvent(d,x);Q&&v.push(Q)})}if(a){let x=[];for(let U=0;U<f.eventRegistrations_.length;++U){const Q=f.eventRegistrations_[U];if(Q.matches(a)){if(a.hasAnyCallback()){x=x.concat(f.eventRegistrations_.slice(U+1));break}}else x.push(Q)}f.eventRegistrations_=x}else f.eventRegistrations_=[];return v}function No(f,a,d,v){a.type===os.MERGE&&null!==a.source.queryId&&((0,X.hu)(un(f.viewCache_),"We should always have a full cache before handling merges"),(0,X.hu)(vi(f.viewCache_),"Missing event cache, even though we have a server cache"));const x=f.viewCache_,U=Jo(f.processor_,x,a,d,v);return function zs(f,a){(0,X.hu)(a.eventCache.getNode().isIndexed(f.filter.getIndex()),"Event snap not indexed"),(0,X.hu)(a.serverCache.getNode().isIndexed(f.filter.getIndex()),"Server snap not indexed")}(f.processor_,U.viewCache),(0,X.hu)(U.viewCache.serverCache.isFullyInitialized()||!x.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),f.viewCache_=U.viewCache,ka(f,U.changes,U.viewCache.eventCache.getNode(),null)}function ka(f,a,d,v){const x=v?[v]:f.eventRegistrations_;return function ke(f,a,d,v){const x=[],U=[];return a.forEach(Q=>{"child_changed"===Q.type&&f.index_.indexedValueChanged(Q.oldSnap,Q.snapshotNode)&&U.push(function dt(f,a){return{type:"child_moved",snapshotNode:a,childName:f}}(Q.childName,Q.snapshotNode))}),ve(f,x,"child_removed",a,v,d),ve(f,x,"child_added",a,v,d),ve(f,x,"child_moved",U,v,d),ve(f,x,"child_changed",a,v,d),ve(f,x,"value",a,v,d),x}(f.eventGenerator_,a,d,x)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let Na,M;class Wc{constructor(){this.views=new Map}}function ea(f,a,d,v){const x=a.source.queryId;if(null!==x){const U=f.views.get(x);return(0,X.hu)(null!=U,"SyncTree gave us an op for an invalid query."),No(U,a,d,v)}{let U=[];for(const Q of f.views.values())U=U.concat(No(Q,a,d,v));return U}}function vc(f,a,d,v,x){const U=a._queryIdentifier,Q=f.views.get(U);if(!Q){let Te=Ao(d,x?v:null),$e=!1;Te?$e=!0:v instanceof or?(Te=us(d,v),$e=!1):(Te=or.EMPTY_NODE,$e=!1);const et=rn(new H(Te,$e,!1),new H(v,x,!1));return new ya(a,et)}return Q}function rl(f,a,d,v,x,U){const Q=vc(f,a,v,x,U);return f.views.has(a._queryIdentifier)||f.views.set(a._queryIdentifier,Q),function Ra(f,a){f.eventRegistrations_.push(a)}(Q,d),function nl(f,a){const d=f.viewCache_.eventCache,v=[];return d.getNode().isLeafNode()||d.getNode().forEachChild(Hr,(U,Q)=>{v.push(st(U,Q))}),d.isFullyInitialized()&&v.push(pn(d.getNode())),ka(f,v,d.getNode(),a)}(Q,d)}function es(f,a,d,v){const x=a._queryIdentifier,U=[];let Q=[];const Te=P(f);if("default"===x)for(const[$e,et]of f.views.entries())Q=Q.concat(tl(et,d,v)),la(et)&&(f.views.delete($e),et.query._queryParams.loadsAllData()||U.push(et.query));else{const $e=f.views.get(x);$e&&(Q=Q.concat(tl($e,d,v)),la($e)&&(f.views.delete(x),$e.query._queryParams.loadsAllData()||U.push($e.query)))}return Te&&!P(f)&&U.push(new(function Yl(){return(0,X.hu)(Na,"Reference.ts has not been loaded"),Na}())(a._repo,a._path)),{removed:U,events:Q}}function va(f){const a=[];for(const d of f.views.values())d.query._queryParams.loadsAllData()||a.push(d);return a}function ds(f,a){let d=null;for(const v of f.views.values())d=d||zc(v,a);return d}function Ja(f,a){if(a._queryParams.loadsAllData())return b(f);{const v=a._queryIdentifier;return f.views.get(v)}}function ta(f,a){return null!=Ja(f,a)}function P(f){return null!=b(f)}function b(f){for(const a of f.views.values())if(a.query._queryParams.loadsAllData())return a;return null}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let ae=1;class je{constructor(a){this.listenProvider_=a,this.syncPointTree_=new I(null),this.pendingWriteTree_=function ls(){return{visibleWrites:Z.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Nt(f,a,d,v,x){return function Hi(f,a,d,v,x){(0,X.hu)(v>f.lastWriteId,"Stacking an older write on top of newer ones"),void 0===x&&(x=!0),f.allWrites.push({path:a,snap:d,writeId:v,visible:x}),x&&(f.visibleWrites=xe(f.visibleWrites,a,d)),f.lastWriteId=v}(f.pendingWriteTree_,a,d,v,x),x?wo(f,new C({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,d)):[]}function sn(f,a,d,v){!function Ji(f,a,d,v){(0,X.hu)(v>f.lastWriteId,"Stacking an older merge on top of newer ones"),f.allWrites.push({path:a,children:d,writeId:v,visible:!0}),f.visibleWrites=ht(f.visibleWrites,a,d),f.lastWriteId=v}(f.pendingWriteTree_,a,d,v);const x=I.fromObject(d);return wo(f,new A({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},a,x))}function Sn(f,a,d=!1){const v=function hi(f,a){for(let d=0;d<f.allWrites.length;d++){const v=f.allWrites[d];if(v.writeId===a)return v}return null}(f.pendingWriteTree_,a);if(an(f.pendingWriteTree_,a)){let U=new I(null);return null!=v.snap?U=U.set(ii(),!0):er(v.children,Q=>{U=U.set(new si(Q),!0)}),wo(f,new As(v.path,U,d))}return[]}function Mr(f,a,d){return wo(f,new C({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,d))}function Lo(f,a,d,v,x=!1){const U=a._path,Q=f.syncPointTree_.get(U);let Te=[];if(Q&&("default"===a._queryIdentifier||ta(Q,a))){const $e=es(Q,a,d,v);(function ua(f){return 0===f.views.size})(Q)&&(f.syncPointTree_=f.syncPointTree_.remove(U));const et=$e.removed;if(Te=$e.events,!x){const nn=-1!==et.findIndex(mn=>mn._queryParams.loadsAllData()),dn=f.syncPointTree_.findOnPath(U,(mn,Sr)=>P(Sr));if(nn&&!dn){const mn=f.syncPointTree_.subtree(U);if(!mn.isEmpty()){const Sr=function wt(f){return f.fold((a,d,v)=>{if(d&&P(d))return[b(d)];{let x=[];return d&&(x=va(d)),er(v,(U,Q)=>{x=x.concat(Q)}),x}})}(mn);for(let Xr=0;Xr<Sr.length;++Xr){const Gi=Sr[Xr],hs=Gi.query,$a=bc(f,Gi);f.listenProvider_.startListening(Wt(hs),na(f,hs),$a.hashFn,$a.onComplete)}}}!dn&&et.length>0&&!v&&(nn?f.listenProvider_.stopListening(Wt(a),null):et.forEach(mn=>{const Sr=f.queryToTagMap.get(V(mn));f.listenProvider_.stopListening(Wt(mn),Sr)}))}!function wn(f,a){for(let d=0;d<a.length;++d){const v=a[d];if(!v._queryParams.loadsAllData()){const x=V(v),U=f.queryToTagMap.get(x);f.queryToTagMap.delete(x),f.tagToQueryMap.delete(U)}}}(f,et)}return Te}function Gs(f,a,d,v){const x=K(f,v);if(null!=x){const U=he(x),Q=U.path,Te=U.queryId,$e=Ur(Q,a);return Ze(f,Q,new C(_a(Te),$e,d))}return[]}function ts(f,a,d,v=!1){const x=a._path;let U=null,Q=!1;f.syncPointTree_.foreachOnPath(x,(mn,Sr)=>{const Xr=Ur(mn,x);U=U||ds(Sr,Xr),Q=Q||P(Sr)});let $e,Te=f.syncPointTree_.get(x);Te?(Q=Q||P(Te),U=U||ds(Te,ii())):(Te=new Wc,f.syncPointTree_=f.syncPointTree_.set(x,Te)),null!=U?$e=!0:($e=!1,U=or.EMPTY_NODE,f.syncPointTree_.subtree(x).foreachChild((Sr,Xr)=>{const Gi=ds(Xr,ii());Gi&&(U=U.updateImmediateChild(Sr,Gi))}));const et=ta(Te,a);if(!et&&!a._queryParams.loadsAllData()){const mn=V(a);(0,X.hu)(!f.queryToTagMap.has(mn),"View does not exist, but we have a tag");const Sr=function lr(){return ae++}();f.queryToTagMap.set(mn,Sr),f.tagToQueryMap.set(Sr,mn)}let dn=rl(Te,a,d,Yn(f.pendingWriteTree_,x),U,$e);if(!et&&!Q&&!v){const mn=Ja(Te,a);dn=dn.concat(function kr(f,a,d){const v=a._path,x=na(f,a),U=bc(f,d),Q=f.listenProvider_.startListening(Wt(a),x,U.hashFn,U.onComplete),Te=f.syncPointTree_.subtree(v);if(x)(0,X.hu)(!P(Te.value),"If we're adding a query, it shouldn't be shadowed");else{const $e=Te.fold((et,nn,dn)=>{if(!Ir(et)&&nn&&P(nn))return[b(nn).query];{let mn=[];return nn&&(mn=mn.concat(va(nn).map(Sr=>Sr.query))),er(dn,(Sr,Xr)=>{mn=mn.concat(Xr)}),mn}});for(let et=0;et<$e.length;++et){const nn=$e[et];f.listenProvider_.stopListening(Wt(nn),na(f,nn))}}return Q}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(f,a,mn))}return dn}function Ws(f,a,d){const x=f.pendingWriteTree_,U=f.syncPointTree_.findOnPath(a,(Q,Te)=>{const et=ds(Te,Ur(Q,a));if(et)return et});return An(x,a,U,d,!0)}function Ta(f,a){const d=a._path;let v=null;f.syncPointTree_.foreachOnPath(d,(et,nn)=>{const dn=Ur(et,d);v=v||ds(nn,dn)});let x=f.syncPointTree_.get(d);x?v=v||ds(x,ii()):(x=new Wc,f.syncPointTree_=f.syncPointTree_.set(d,x));const U=null!=v,Q=U?new H(v,!0,!1):null;return function $s(f){return vi(f.viewCache_)}(vc(x,a,Yn(f.pendingWriteTree_,a._path),U?Q.getNode():or.EMPTY_NODE,U))}function wo(f,a){return da(a,f.syncPointTree_,null,Yn(f.pendingWriteTree_,ii()))}function da(f,a,d,v){if(Ir(f.path))return Ha(f,a,d,v);{const x=a.get(ii());null==d&&null!=x&&(d=ds(x,ii()));let U=[];const Q=pr(f.path),Te=f.operationForChild(Q),$e=a.children.get(Q);if($e&&Te){const et=d?d.getImmediateChild(Q):null,nn=Xs(v,Q);U=U.concat(da(Te,$e,et,nn))}return x&&(U=U.concat(ea(x,f,v,d))),U}}function Ha(f,a,d,v){const x=a.get(ii());null==d&&null!=x&&(d=ds(x,ii()));let U=[];return a.children.inorderTraversal((Q,Te)=>{const $e=d?d.getImmediateChild(Q):null,et=Xs(v,Q),nn=f.operationForChild(Q);nn&&(U=U.concat(Ha(nn,Te,$e,et)))}),x&&(U=U.concat(ea(x,f,v,d))),U}function bc(f,a){const d=a.query,v=na(f,d);return{hashFn:()=>(function Xa(f){return f.viewCache_.serverCache.getNode()}(a)||or.EMPTY_NODE).hash(),onComplete:x=>{if("ok"===x)return v?function ys(f,a,d){const v=K(f,d);if(v){const x=he(v),U=x.path,Q=x.queryId,Te=Ur(U,a);return Ze(f,U,new pe(_a(Q),Te))}return[]}(f,d._path,v):function as(f,a){return wo(f,new pe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a))}(f,d._path);{const U=function rr(f,a){let d="Unknown Error";"too_big"===f?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===f?d="Client doesn't have permission to access the desired data.":"unavailable"===f&&(d="The service is unavailable");const v=new Error(f+" at "+a._path.toString()+": "+d);return v.code=f.toUpperCase(),v}(x,d);return Lo(f,d,null,U)}}}}function na(f,a){const d=V(a);return f.queryToTagMap.get(d)}function V(f){return f._path.toString()+"$"+f._queryIdentifier}function K(f,a){return f.tagToQueryMap.get(a)}function he(f){const a=f.indexOf("$");return(0,X.hu)(-1!==a&&a<f.length-1,"Bad queryKey."),{queryId:f.substr(a+1),path:new si(f.substr(0,a))}}function Ze(f,a,d){const v=f.syncPointTree_.get(a);(0,X.hu)(v,"Missing sync point for query tag that we're tracking");return ea(v,d,Yn(f.pendingWriteTree_,a),null)}function Wt(f){return f._queryParams.loadsAllData()&&!f._queryParams.isDefault()?new(function $(){return(0,X.hu)(M,"Reference.ts has not been loaded"),M}())(f._repo,f._path):f}class zr{constructor(a){this.node_=a}getImmediateChild(a){const d=this.node_.getImmediateChild(a);return new zr(d)}node(){return this.node_}}class Li{constructor(a,d){this.syncTree_=a,this.path_=d}getImmediateChild(a){const d=Jr(this.path_,a);return new Li(this.syncTree_,d)}node(){return Ws(this.syncTree_,this.path_)}}const li=function(f){return(f=f||{}).timestamp=f.timestamp||(new Date).getTime(),f},Ls=function(f,a,d){return f&&"object"==typeof f?((0,X.hu)(".sv"in f,"Unexpected leaf node or priority contents"),"string"==typeof f[".sv"]?vs(f[".sv"],a,d):"object"==typeof f[".sv"]?Ec(f[".sv"],a):void(0,X.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2))):f},vs=function(f,a,d){if("timestamp"===f)return d.timestamp;(0,X.hu)(!1,"Unexpected server value: "+f)},Ec=function(f,a,d){f.hasOwnProperty("increment")||(0,X.hu)(!1,"Unexpected server value: "+JSON.stringify(f,null,2));const v=f.increment;"number"!=typeof v&&(0,X.hu)(!1,"Unexpected increment value: "+v);const x=a.node();if((0,X.hu)(null!==x&&typeof x<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!x.isLeafNode())return v;const Q=x.getValue();return"number"!=typeof Q?v:Q+v},Dc=function(f,a,d,v){return bs(a,new Li(d,f),v)},xa=function(f,a,d){return bs(f,new zr(a),d)};function bs(f,a,d){const v=f.getPriority().val(),x=Ls(v,a.getImmediateChild(".priority"),d);let U;if(f.isLeafNode()){const Q=f,Te=Ls(Q.getValue(),a,d);return Te!==Q.getValue()||x!==Q.getPriority().val()?new Fr(Te,re(x)):f}{const Q=f;return U=Q,x!==Q.getPriority().val()&&(U=U.updatePriority(new Fr(x))),Q.forEachChild(Hr,(Te,$e)=>{const et=bs($e,a.getImmediateChild(Te),d);et!==$e&&(U=U.updateImmediateChild(Te,et))}),U}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ha{constructor(a="",d=null,v={children:{},childCount:0}){this.name=a,this.parent=d,this.node=v}}function oc(f,a){let d=a instanceof si?a:new si(a),v=f,x=pr(d);for(;null!==x;){const U=(0,X.DV)(v.node.children,x)||{children:{},childCount:0};v=new ha(x,v,U),d=Ar(d),x=pr(d)}return v}function Cc(f){return f.node.value}function Pu(f,a){f.node.value=a,il(f)}function Zl(f){return f.node.childCount>0}function Dl(f,a){er(f.node.children,(d,v)=>{a(new ha(d,f,v))})}function ns(f,a,d,v){d&&!v&&a(f),Dl(f,x=>{ns(x,a,!0,v)}),d&&v&&a(f)}function Cl(f){return new si(null===f.parent?f.name:Cl(f.parent)+"/"+f.name)}function il(f){null!==f.parent&&function wc(f,a,d){const v=function Fs(f){return void 0===Cc(f)&&!Zl(f)}(d),x=(0,X.r3)(f.node.children,a);v&&x?(delete f.node.children[a],f.node.childCount--,il(f)):!v&&!x&&(f.node.children[a]=d.node,f.node.childCount++,il(f))}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(f.parent,f.name,f)}const hf=/[\[\].#$\/\u0000-\u001F\u007F]/,th=/[\[\].#$\u0000-\u001F\u007F]/,ro=10485760,So=function(f){return"string"==typeof f&&0!==f.length&&!hf.test(f)},ol=function(f){return"string"==typeof f&&0!==f.length&&!th.test(f)},Ic=function(f){return null===f||"string"==typeof f||"number"==typeof f&&!Jn(f)||f&&"object"==typeof f&&(0,X.r3)(f,".sv")},fa=function(f,a,d,v){v&&void 0===a||Tc((0,X.gK)(f,"value"),a,d)},Tc=function(f,a,d){const v=d instanceof si?new Pr(d,f):d;if(void 0===a)throw new Error(f+"contains undefined "+so(v));if("function"==typeof a)throw new Error(f+"contains a function "+so(v)+" with contents = "+a.toString());if(Jn(a))throw new Error(f+"contains "+a.toString()+" "+so(v));if("string"==typeof a&&a.length>ro/3&&(0,X.ug)(a)>ro)throw new Error(f+"contains a string greater than "+ro+" utf8 bytes "+so(v)+" ('"+a.substring(0,50)+"...')");if(a&&"object"==typeof a){let x=!1,U=!1;if(er(a,(Q,Te)=>{if(".value"===Q)x=!0;else if(".priority"!==Q&&".sv"!==Q&&(U=!0,!So(Q)))throw new Error(f+" contains an invalid key ("+Q+") "+so(v)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Bo(f,a){f.parts_.length>0&&(f.byteLength_+=1),f.parts_.push(a),f.byteLength_+=(0,X.ug)(a),Ki(f)})(v,Q),Tc(f,Te,v),function oo(f){const a=f.parts_.pop();f.byteLength_-=(0,X.ug)(a),f.parts_.length>0&&(f.byteLength_-=1)}(v)}),x&&U)throw new Error(f+' contains ".value" child '+so(v)+" in addition to actual children.")}},ql=function(f,a,d,v){if(v&&void 0===a)return;const x=(0,X.gK)(f,"values");if(!a||"object"!=typeof a||Array.isArray(a))throw new Error(x+" must be an object containing the children to replace.");const U=[];er(a,(Q,Te)=>{const $e=new si(Q);if(Tc(x,Te,Jr(d,$e)),".priority"===no($e)&&!Ic(Te))throw new Error(x+"contains an invalid value for '"+$e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");U.push($e)}),function(f,a){let d,v;for(d=0;d<a.length;d++){v=a[d];const U=qr(v);for(let Q=0;Q<U.length;Q++)if((".priority"!==U[Q]||Q!==U.length-1)&&!So(U[Q]))throw new Error(f+"contains an invalid key ("+U[Q]+") in path "+v.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}a.sort(vo);let x=null;for(d=0;d<a.length;d++){if(v=a[d],null!==x&&ki(x,v))throw new Error(f+"contains a path "+x.toString()+" that is ancestor of another path "+v.toString());x=v}}(x,U)},xc=function(f,a,d){if(!d||void 0!==a){if(Jn(a))throw new Error((0,X.gK)(f,"priority")+"is "+a.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ic(a))throw new Error((0,X.gK)(f,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wl=function(f,a,d,v){if(!(v&&void 0===d||So(d)))throw new Error((0,X.gK)(f,a)+'was an invalid key = "'+d+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},sl=function(f,a,d,v){if(!(v&&void 0===d||ol(d)))throw new Error((0,X.gK)(f,a)+'was an invalid path = "'+d+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},nh=function(f,a,d,v){d&&(d=d.replace(/^\/*\.info(\/|$)/,"/")),sl(f,a,d,v)},ba=function(f,a){if(".info"===pr(a))throw new Error(f+" failed = Can't modify data under /.info/")},Ql=function(f,a){const d=a.path.toString();if("string"!=typeof a.repoInfo.host||0===a.repoInfo.host.length||!So(a.repoInfo.namespace)&&"localhost"!==a.repoInfo.host.split(":")[0]||0!==d.length&&!function(f){return f&&(f=f.replace(/^\/*\.info(\/|$)/,"/")),ol(f)}(d))throw new Error((0,X.gK)(f,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class dd{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function al(f,a){let d=null;for(let v=0;v<a.length;v++){const x=a[v],U=x.getPath();null!==d&&!Si(U,d.path)&&(f.eventLists_.push(d),d=null),null===d&&(d={events:[],path:U}),d.events.push(x)}d&&f.eventLists_.push(d)}function hd(f,a,d){al(f,d),Xl(f,v=>Si(v,a))}function ra(f,a,d){al(f,d),Xl(f,v=>ki(v,a)||ki(a,v))}function Xl(f,a){f.recursionDepth_++;let d=!0;for(let v=0;v<f.eventLists_.length;v++){const x=f.eventLists_[v];if(x){a(x.path)?(Mc(f.eventLists_[v]),f.eventLists_[v]=null):d=!1}}d&&(f.eventLists_=[]),f.recursionDepth_--}function Mc(f){for(let a=0;a<f.events.length;a++){const d=f.events[a];if(null!==d){f.events[a]=null;const v=d.getEventRunner();Mt&&xn("event: "+d.toString()),gr(v)}}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Ps="repo_interrupt",Ac=25;class cl{constructor(a,d,v,x){this.repoInfo_=a,this.forceRestClient_=d,this.authTokenProvider_=v,this.appCheckProvider_=x,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dd,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qn(),this.transactionQueueTree_=new ha,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Jl(f,a,d){if(f.stats_=Oe(f.repoInfo_),f.forceRestClient_||jr())f.server_=new Dn(f.repoInfo_,(v,x,U,Q)=>{Kc(f,v,x,U,Q)},f.authTokenProvider_,f.appCheckProvider_),setTimeout(()=>sc(f,!0),0);else{if(typeof d<"u"&&null!==d){if("object"!=typeof d)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,X.Wl)(d)}catch(v){throw new Error("Invalid authOverride provided: "+v)}}f.persistentConnection_=new Pi(f.repoInfo_,a,(v,x,U,Q)=>{Kc(f,v,x,U,Q)},v=>{sc(f,v)},v=>{!function Nu(f,a){er(a,(d,v)=>{ll(f,d,v)})}(f,v)},f.authTokenProvider_,f.appCheckProvider_,d),f.server_=f.persistentConnection_}f.authTokenProvider_.addTokenChangeListener(v=>{f.server_.refreshAuthToken(v)}),f.appCheckProvider_.addTokenChangeListener(v=>{f.server_.refreshAppCheckToken(v.token)}),f.statsReporter_=function nt(f,a){const d=f.toString();return ee[d]||(ee[d]=a()),ee[d]}(f.repoInfo_,()=>new qs(f.stats_,f.server_)),f.infoData_=new Ln,f.infoSyncTree_=new je({startListening:(v,x,U,Q)=>{let Te=[];const $e=f.infoData_.getNode(v._path);return $e.isEmpty()||(Te=Mr(f.infoSyncTree_,v._path,$e),setTimeout(()=>{Q("ok")},0)),Te},stopListening:()=>{}}),ll(f,"connected",!1),f.serverSyncTree_=new je({startListening:(v,x,U,Q)=>(f.server_.listen(v,U,x,(Te,$e)=>{const et=Q(Te,$e);ra(f.eventQueue_,v._path,et)}),[]),stopListening:(v,x)=>{f.server_.unlisten(v,x)}})}function Es(f){const d=f.infoData_.getNode(new si(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+d}function Bs(f){return li({timestamp:Es(f)})}function Kc(f,a,d,v,x){f.dataUpdateCount++;const U=new si(a);d=f.interceptServerDataCallback_?f.interceptServerDataCallback_(a,d):d;let Q=[];if(x)if(v){const $e=(0,X.UI)(d,et=>re(et));Q=function Ts(f,a,d,v){const x=K(f,v);if(x){const U=he(x),Q=U.path,Te=U.queryId,$e=Ur(Q,a),et=I.fromObject(d);return Ze(f,Q,new A(_a(Te),$e,et))}return[]}(f.serverSyncTree_,U,$e,x)}else{const $e=re(d);Q=Gs(f.serverSyncTree_,U,$e,x)}else if(v){const $e=(0,X.UI)(d,et=>re(et));Q=function oi(f,a,d){const v=I.fromObject(d);return wo(f,new A({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},a,v))}(f.serverSyncTree_,U,$e)}else{const $e=re(d);Q=Mr(f.serverSyncTree_,U,$e)}let Te=U;Q.length>0&&(Te=gs(f,U)),ra(f.eventQueue_,Te,Q)}function sc(f,a){ll(f,"connected",a),!1===a&&function tu(f){Vt(f,"onDisconnectEvents");const a=Bs(f),d=qn();Ho(f.onDisconnect_,ii(),(x,U)=>{const Q=Dc(x,U,f.serverSyncTree_,a);tr(d,x,Q)});let v=[];Ho(d,ii(),(x,U)=>{v=v.concat(Mr(f.serverSyncTree_,x,U));const Q=iu(f,x);gs(f,Q)}),f.onDisconnect_=qn(),ra(f.eventQueue_,ii(),v)}(f)}function ll(f,a,d){const v=new si("/.info/"+a),x=re(d);f.infoData_.updateSnapshot(v,x);const U=Mr(f.infoSyncTree_,v,x);ra(f.eventQueue_,v,U)}function jc(f){return f.nextWriteId_++}function ac(f,a,d,v,x){Vt(f,"set",{path:a.toString(),value:d,priority:v});const U=Bs(f),Q=re(d,v),Te=Ws(f.serverSyncTree_,a),$e=xa(Q,Te,U),et=jc(f),nn=Nt(f.serverSyncTree_,a,$e,et,!0);al(f.eventQueue_,nn),f.server_.put(a.toString(),Q.val(!0),(mn,Sr)=>{const Xr="ok"===mn;Xr||vr("set at "+a+" failed: "+mn);const Gi=Sn(f.serverSyncTree_,et,!Xr);ra(f.eventQueue_,a,Gi),Tn(f,x,mn,Sr)});const dn=iu(f,a);gs(f,dn),ra(f.eventQueue_,dn,[])}function nu(f,a,d){f.server_.onDisconnectCancel(a.toString(),(v,x)=>{"ok"===v&&Vr(f.onDisconnect_,a),Tn(f,d,v,x)})}function Sc(f,a,d,v){const x=re(d);f.server_.onDisconnectPut(a.toString(),x.val(!0),(U,Q)=>{"ok"===U&&tr(f.onDisconnect_,a,x),Tn(f,v,U,Q)})}function L(f,a,d){let v;v=".info"===pr(a._path)?Lo(f.infoSyncTree_,a,d):Lo(f.serverSyncTree_,a,d),hd(f.eventQueue_,a._path,v)}function ye(f){f.persistentConnection_&&f.persistentConnection_.interrupt(Ps)}function Vt(f,...a){let d="";f.persistentConnection_&&(d=f.persistentConnection_.id+":"),xn(d,...a)}function Tn(f,a,d,v){a&&gr(()=>{if("ok"===d)a(null);else{const x=(d||"error").toUpperCase();let U=x;v&&(U+=": "+v);const Q=new Error(U);Q.code=x,a(Q)}})}function ei(f,a,d){return Ws(f.serverSyncTree_,a,d)||or.EMPTY_NODE}function wi(f,a=f.transactionQueueTree_){if(a||Ai(f,a),Cc(a)){const d=Lu(f,a);(0,X.hu)(d.length>0,"Sending zero length transaction queue"),d.every(x=>0===x.status)&&function rs(f,a,d){const v=d.map(et=>et.currentWriteId),x=ei(f,a,v);let U=x;const Q=x.hash();for(let et=0;et<d.length;et++){const nn=d[et];(0,X.hu)(0===nn.status,"tryToSendTransactionQueue_: items in queue should all be run."),nn.status=1,nn.retryCount++;const dn=Ur(a,nn.path);U=U.updateChild(dn,nn.currentOutputSnapshotRaw)}const Te=U.val(!0),$e=a;f.server_.put($e.toString(),Te,et=>{Vt(f,"transaction put response",{path:$e.toString(),status:et});let nn=[];if("ok"===et){const dn=[];for(let mn=0;mn<d.length;mn++)d[mn].status=2,nn=nn.concat(Sn(f.serverSyncTree_,d[mn].currentWriteId)),d[mn].onComplete&&dn.push(()=>d[mn].onComplete(null,!0,d[mn].currentOutputSnapshotResolved)),d[mn].unwatcher();Ai(f,oc(f.transactionQueueTree_,a)),wi(f,f.transactionQueueTree_),ra(f.eventQueue_,a,nn);for(let mn=0;mn<dn.length;mn++)gr(dn[mn])}else{if("datastale"===et)for(let dn=0;dn<d.length;dn++)3===d[dn].status?d[dn].status=4:d[dn].status=0;else{vr("transaction at "+$e.toString()+" failed: "+et);for(let dn=0;dn<d.length;dn++)d[dn].status=4,d[dn].abortReason=et}gs(f,a)}},Q)}(f,Cl(a),d)}else Zl(a)&&Dl(a,d=>{wi(f,d)})}function gs(f,a){const d=lc(f,a),v=Cl(d);return function cc(f,a,d){if(0===a.length)return;const v=[];let x=[];const Q=a.filter(Te=>0===Te.status).map(Te=>Te.currentWriteId);for(let Te=0;Te<a.length;Te++){const $e=a[Te],et=Ur(d,$e.path);let dn,nn=!1;if((0,X.hu)(null!==et,"rerunTransactionsUnderNode_: relativePath should not be null."),4===$e.status)nn=!0,dn=$e.abortReason,x=x.concat(Sn(f.serverSyncTree_,$e.currentWriteId,!0));else if(0===$e.status)if($e.retryCount>=Ac)nn=!0,dn="maxretry",x=x.concat(Sn(f.serverSyncTree_,$e.currentWriteId,!0));else{const mn=ei(f,$e.path,Q);$e.currentInputSnapshot=mn;const Sr=a[Te].update(mn.val());if(void 0!==Sr){Tc("transaction failed: Data returned ",Sr,$e.path);let Xr=re(Sr);"object"==typeof Sr&&null!=Sr&&(0,X.r3)(Sr,".priority")||(Xr=Xr.updatePriority(mn.getPriority()));const hs=$e.currentWriteId,$a=Bs(f),Ua=xa(Xr,mn,$a);$e.currentOutputSnapshotRaw=Xr,$e.currentOutputSnapshotResolved=Ua,$e.currentWriteId=jc(f),Q.splice(Q.indexOf(hs),1),x=x.concat(Nt(f.serverSyncTree_,$e.path,Ua,$e.currentWriteId,$e.applyLocally)),x=x.concat(Sn(f.serverSyncTree_,hs,!0))}else nn=!0,dn="nodata",x=x.concat(Sn(f.serverSyncTree_,$e.currentWriteId,!0))}ra(f.eventQueue_,d,x),x=[],nn&&(a[Te].status=2,mn=a[Te].unwatcher,setTimeout(mn,Math.floor(0)),a[Te].onComplete&&("nodata"===dn?v.push(()=>a[Te].onComplete(null,!1,a[Te].currentInputSnapshot)):v.push(()=>a[Te].onComplete(new Error(dn),!1,null))))}var mn;Ai(f,f.transactionQueueTree_);for(let Te=0;Te<v.length;Te++)gr(v[Te]);wi(f,f.transactionQueueTree_)}(f,Lu(f,d),v),v}function lc(f,a){let d,v=f.transactionQueueTree_;for(d=pr(a);null!==d&&void 0===Cc(v);)v=oc(v,d),d=pr(a=Ar(a));return v}function Lu(f,a){const d=[];return ru(f,a,d),d.sort((v,x)=>v.order-x.order),d}function ru(f,a,d){const v=Cc(a);if(v)for(let x=0;x<v.length;x++)d.push(v[x]);Dl(a,x=>{ru(f,x,d)})}function Ai(f,a){const d=Cc(a);if(d){let v=0;for(let x=0;x<d.length;x++)2!==d[x].status&&(d[v]=d[x],v++);d.length=v,Pu(a,d.length>0?d:void 0)}Dl(a,v=>{Ai(f,v)})}function iu(f,a){const d=Cl(lc(f,a)),v=oc(f.transactionQueueTree_,a);return function Ka(f,a,d){let v=d?f:f.parent;for(;null!==v;){if(a(v))return!0;v=v.parent}return!1}(v,x=>{uc(f,x)}),uc(f,v),ns(v,x=>{uc(f,x)}),d}function uc(f,a){const d=Cc(a);if(d){const v=[];let x=[],U=-1;for(let Q=0;Q<d.length;Q++)3===d[Q].status||(1===d[Q].status?((0,X.hu)(U===Q-1,"All SENT items should be at beginning of queue."),U=Q,d[Q].status=3,d[Q].abortReason="set"):((0,X.hu)(0===d[Q].status,"Unexpected transaction status in abort"),d[Q].unwatcher(),x=x.concat(Sn(f.serverSyncTree_,d[Q].currentWriteId,!0)),d[Q].onComplete&&v.push(d[Q].onComplete.bind(null,new Error("set"),!1,null))));-1===U?Pu(a,void 0):d.length=U+1,ra(f.eventQueue_,Cl(a),x);for(let Q=0;Q<v.length;Q++)gr(v[Q])}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Oc=function(f,a){const d=Tl(f),v=d.namespace;"firebase.com"===d.domain&&Un(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!v||"undefined"===v)&&"localhost"!==d.domain&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const x="ws"===d.scheme||"wss"===d.scheme;return{repoInfo:new fe(d.host,d.secure,v,x,a,"",v!==d.subdomain),path:new si(d.pathString)}},Tl=function(f){let a="",d="",v="",x="",U="",Q=!0,Te="https",$e=443;if("string"==typeof f){let et=f.indexOf("//");et>=0&&(Te=f.substring(0,et-1),f=f.substring(et+2));let nn=f.indexOf("/");-1===nn&&(nn=f.length);let dn=f.indexOf("?");-1===dn&&(dn=f.length),a=f.substring(0,Math.min(nn,dn)),nn<dn&&(x=function Il(f){let a="";const d=f.split("/");for(let v=0;v<d.length;v++)if(d[v].length>0){let x=d[v];try{x=decodeURIComponent(x.replace(/\+/g," "))}catch{}a+="/"+x}return a}(f.substring(nn,dn)));const mn=function ou(f){const a={};"?"===f.charAt(0)&&(f=f.substring(1));for(const d of f.split("&")){if(0===d.length)continue;const v=d.split("=");2===v.length?a[decodeURIComponent(v[0])]=decodeURIComponent(v[1]):vr(`Invalid query segment '${d}' in query '${f}'`)}return a}(f.substring(Math.min(f.length,dn)));et=a.indexOf(":"),et>=0?(Q="https"===Te||"wss"===Te,$e=parseInt(a.substring(et+1),10)):et=a.length;const Sr=a.slice(0,et);if("localhost"===Sr.toLowerCase())d="localhost";else if(Sr.split(".").length<=2)d=Sr;else{const Xr=a.indexOf(".");v=a.substring(0,Xr).toLowerCase(),d=a.substring(Xr+1),U=v}"ns"in mn&&(U=mn.ns)}return{host:a,port:$e,domain:d,subdomain:v,secure:Q,scheme:Te,pathString:x,namespace:U}},fd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",su=function(){let f=0;const a=[];return function(d){const v=d===f;let x;f=d;const U=new Array(8);for(x=7;x>=0;x--)U[x]=fd.charAt(d%64),d=Math.floor(d/64);(0,X.hu)(0===d,"Cannot push at time == 0");let Q=U.join("");if(v){for(x=11;x>=0&&63===a[x];x--)a[x]=0;a[x]++}else for(x=0;x<12;x++)a[x]=Math.floor(64*Math.random());for(x=0;x<12;x++)Q+=fd.charAt(a[x]);return(0,X.hu)(20===Q.length,"nextPushId: Length should be 20."),Q}}();
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class au{constructor(a,d,v,x){this.eventType=a,this.eventRegistration=d,this.snapshot=v,this.prevName=x}getPath(){const a=this.snapshot.ref;return"value"===this.eventType?a._path:a.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,X.Wl)(this.snapshot.exportVal())}}class ja{constructor(a,d,v){this.eventRegistration=a,this.error=d,this.path=v}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Pc{constructor(a,d){this.snapshotCallback=a,this.cancelCallback=d}onValue(a,d){this.snapshotCallback.call(null,a,d)}onCancel(a){return(0,X.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,a)}get hasCancelCallback(){return!!this.cancelCallback}matches(a){return this.snapshotCallback===a.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===a.snapshotCallback.userCallback&&this.snapshotCallback.context===a.snapshotCallback.context}}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class pd{constructor(a,d){this._repo=a,this._path=d}cancel(){const a=new X.BH;return nu(this._repo,this._path,a.wrapCallback(()=>{})),a.promise}remove(){ba("OnDisconnect.remove",this._path);const a=new X.BH;return Sc(this._repo,this._path,null,a.wrapCallback(()=>{})),a.promise}set(a){ba("OnDisconnect.set",this._path),fa("OnDisconnect.set",a,this._path,!1);const d=new X.BH;return Sc(this._repo,this._path,a,d.wrapCallback(()=>{})),d.promise}setWithPriority(a,d){ba("OnDisconnect.setWithPriority",this._path),fa("OnDisconnect.setWithPriority",a,this._path,!1),xc("OnDisconnect.setWithPriority",d,!1);const v=new X.BH;return function R(f,a,d,v,x){const U=re(d,v);f.server_.onDisconnectPut(a.toString(),U.val(!0),(Q,Te)=>{"ok"===Q&&tr(f.onDisconnect_,a,U),Tn(0,x,Q,Te)})}(this._repo,this._path,a,d,v.wrapCallback(()=>{})),v.promise}update(a){ba("OnDisconnect.update",this._path),ql("OnDisconnect.update",a,this._path,!1);const d=new X.BH;return function p(f,a,d,v){if((0,X.xb)(d))return xn("onDisconnect().update() called with empty data.  Don't do anything."),void Tn(0,v,"ok",void 0);f.server_.onDisconnectMerge(a.toString(),d,(x,U)=>{"ok"===x&&er(d,(Q,Te)=>{const $e=re(Te);tr(f.onDisconnect_,Jr(a,Q),$e)}),Tn(0,v,x,U)})}(this._repo,this._path,a,d.wrapCallback(()=>{})),d.promise}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Hs{constructor(a,d,v,x){this._repo=a,this._path=d,this._queryParams=v,this._orderByCalled=x}get key(){return Ir(this._path)?null:no(this._path)}get ref(){return new La(this._repo,this._path)}get _queryIdentifier(){const a=Jt(this._queryParams),d=Tr(a);return"{}"===d?"default":d}get _queryObject(){return Jt(this._queryParams)}isEqual(a){if(!((a=(0,X.m9)(a))instanceof Hs))return!1;const d=this._repo===a._repo,v=Si(this._path,a._path),x=this._queryIdentifier===a._queryIdentifier;return d&&v&&x}toJSON(){return this.toString()}toString(){return this._repo.toString()+function yo(f){let a="";for(let d=f.pieceNum_;d<f.pieces_.length;d++)""!==f.pieces_[d]&&(a+="/"+encodeURIComponent(String(f.pieces_[d])));return a||"/"}(this._path)}}function md(f,a){if(!0===f._orderByCalled)throw new Error(a+": You can't combine multiple orderBy calls.")}function Ea(f){let a=null,d=null;if(f.hasStart()&&(a=f.getIndexStartValue()),f.hasEnd()&&(d=f.getIndexEndValue()),f.getIndex()===xo){const v="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",x="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(f.hasStart()){if(f.getIndexStartName()!==dr)throw new Error(v);if("string"!=typeof a)throw new Error(x)}if(f.hasEnd()){if(f.getIndexEndName()!==ri)throw new Error(v);if("string"!=typeof d)throw new Error(x)}}else if(f.getIndex()===Hr){if(null!=a&&!Ic(a)||null!=d&&!Ic(d))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,X.hu)(f.getIndex()instanceof T||f.getIndex()===ot,"unknown index type."),null!=a&&"object"==typeof a||null!=d&&"object"==typeof d)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Fu(f){if(f.hasStart()&&f.hasEnd()&&f.hasLimit()&&!f.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class La extends Hs{constructor(a,d){super(a,d,new Rr,!1)}get parent(){const a=xi(this._path);return null===a?null:new La(this._repo,a)}get root(){let a=this;for(;null!==a.parent;)a=a.parent;return a}}class ec{constructor(a,d,v){this._node=a,this.ref=d,this._index=v}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(a){const d=new si(a),v=Fo(this.ref,a);return new ec(this._node.getChild(d),v,Hr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(a){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(v,x)=>a(new ec(x,Fo(this.ref,v),Hr)))}hasChild(a){const d=new si(a);return!this._node.getChild(d).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rh(f,a){return(f=(0,X.m9)(f))._checkNotDeleted("ref"),void 0!==a?Fo(f._root,a):f._root}function gd(f,a){(f=(0,X.m9)(f))._checkNotDeleted("refFromURL");const d=Oc(a,f._repo.repoInfo_.nodeAdmin);Ql("refFromURL",d);const v=d.repoInfo;return!f._repo.repoInfo_.isCustomHost()&&v.host!==f._repo.repoInfo_.host&&Un("refFromURL: Host name does not match the current database: (found "+v.host+" but expected "+f._repo.repoInfo_.host+")"),rh(f,d.path.toString())}function Fo(f,a){return null===pr((f=(0,X.m9)(f))._path)?nh("child","path",a,!1):sl("child","path",a,!1),new La(f._repo,Jr(f._path,a))}function Bu(f,a){f=(0,X.m9)(f),ba("set",f._path),fa("set",a,f._path,!1);const d=new X.BH;return ac(f._repo,f._path,a,null,d.wrapCallback(()=>{})),d.promise}function lu(f,a){ql("update",a,f._path,!1);const d=new X.BH;return function ia(f,a,d,v){Vt(f,"update",{path:a.toString(),value:d});let x=!0;const U=Bs(f),Q={};if(er(d,(Te,$e)=>{x=!1,Q[Te]=Dc(Jr(a,Te),re($e),f.serverSyncTree_,U)}),x)xn("update() called with empty data.  Don't do anything."),Tn(0,v,"ok",void 0);else{const Te=jc(f),$e=sn(f.serverSyncTree_,a,Q,Te);al(f.eventQueue_,$e),f.server_.merge(a.toString(),d,(et,nn)=>{const dn="ok"===et;dn||vr("update at "+a+" failed: "+et);const mn=Sn(f.serverSyncTree_,Te,!dn),Sr=mn.length>0?gs(f,a):a;ra(f.eventQueue_,Sr,mn),Tn(0,v,et,nn)}),er(d,et=>{const nn=iu(f,Jr(a,et));gs(f,nn)}),ra(f.eventQueue_,a,[])}}(f._repo,f._path,a,d.wrapCallback(()=>{})),d.promise}function uu(f){f=(0,X.m9)(f);const a=new Pc(()=>{}),d=new Fa(a);return function eu(f,a,d){const v=Ta(f.serverSyncTree_,a);return null!=v?Promise.resolve(v):f.server_.get(a).then(x=>{const U=re(x).withIndex(a._queryParams.getIndex());let Q;if(ts(f.serverSyncTree_,a,d,!0),a._queryParams.loadsAllData())Q=Mr(f.serverSyncTree_,a._path,U);else{const Te=na(f.serverSyncTree_,a);Q=Gs(f.serverSyncTree_,a._path,U,Te)}return ra(f.eventQueue_,a._path,Q),Lo(f.serverSyncTree_,a,d,null,!0),U},x=>(Vt(f,"get for query "+(0,X.Wl)(a)+" failed: "+x),Promise.reject(new Error(x))))}(f._repo,f,d).then(v=>new ec(v,new La(f._repo,f._path),f._queryParams.getIndex()))}class Fa{constructor(a){this.callbackContext=a}respondsTo(a){return"value"===a}createEvent(a,d){const v=d._queryParams.getIndex();return new au("value",this,new ec(a.snapshotNode,new La(d._repo,d._path),v))}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,null)}createCancelEvent(a,d){return this.callbackContext.hasCancelCallback?new ja(this,a,d):null}matches(a){return a instanceof Fa&&(!a.callbackContext||!this.callbackContext||a.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Uu{constructor(a,d){this.eventType=a,this.callbackContext=d}respondsTo(a){let d="children_added"===a?"child_added":a;return d="children_removed"===d?"child_removed":d,this.eventType===d}createCancelEvent(a,d){return this.callbackContext.hasCancelCallback?new ja(this,a,d):null}createEvent(a,d){(0,X.hu)(null!=a.childName,"Child events should have a childName.");const v=Fo(new La(d._repo,d._path),a.childName),x=d._queryParams.getIndex();return new au(a.type,this,new ec(a.snapshotNode,v,x),a.prevName)}getEventRunner(a){return"cancel"===a.getEventType()?()=>this.callbackContext.onCancel(a.error):()=>this.callbackContext.onValue(a.snapshot,a.prevName)}matches(a){return a instanceof Uu&&(this.eventType===a.eventType&&(!this.callbackContext||!a.callbackContext||this.callbackContext.matches(a.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function du(f,a,d,v,x){let U;if("object"==typeof v&&(U=void 0,x=v),"function"==typeof v&&(U=v),x&&x.onlyOnce){const $e=d,et=(nn,dn)=>{L(f._repo,f,Te),$e(nn,dn)};et.userCallback=d.userCallback,et.context=d.context,d=et}const Q=new Pc(d,U||void 0),Te="value"===a?new Fa(Q):new Uu(a,Q);return function D(f,a,d){let v;v=".info"===pr(a._path)?ts(f.infoSyncTree_,a,d):ts(f.serverSyncTree_,a,d),hd(f.eventQueue_,a._path,v)}(f._repo,f,Te),()=>L(f._repo,f,Te)}function _d(f,a,d,v){return du(f,"value",a,d,v)}function ul(f,a,d,v){return du(f,"child_added",a,d,v)}function Vu(f,a,d,v){return du(f,"child_changed",a,d,v)}function Al(f,a,d,v){return du(f,"child_moved",a,d,v)}function hu(f,a,d,v){return du(f,"child_removed",a,d,v)}function $c(f,a,d){let v=null;const x=d?new Pc(d):null;"value"===a?v=new Fa(x):a&&(v=new Uu(a,x)),L(f._repo,f,v)}class dc{}class yd extends dc{constructor(a,d){super(),this._value=a,this._key=d}_apply(a){fa("endAt",this._value,a._path,!0);const d=F(a._queryParams,this._value,this._key);if(Fu(d),Ea(d),a._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hs(a._repo,a._path,d,a._orderByCalled)}}class mp extends dc{constructor(a,d){super(),this._value=a,this._key=d}_apply(a){fa("endBefore",this._value,a._path,!1);const d=function ie(f,a,d){let v;return v=f.index_===xo||d?F(f,a,d):F(f,a,dr),v.endBeforeSet_=!0,v}(a._queryParams,this._value,this._key);if(Fu(d),Ea(d),a._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hs(a._repo,a._path,d,a._orderByCalled)}}class Do extends dc{constructor(a,d){super(),this._value=a,this._key=d}_apply(a){fa("startAt",this._value,a._path,!0);const d=Ve(a._queryParams,this._value,this._key);if(Fu(d),Ea(d),a._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Hs(a._repo,a._path,d,a._orderByCalled)}}class zu extends dc{constructor(a,d){super(),this._value=a,this._key=d}_apply(a){fa("startAfter",this._value,a._path,!1);const d=function y(f,a,d){let v;return v=f.index_===xo||d?Ve(f,a,d):Ve(f,a,ri),v.startAfterSet_=!0,v}(a._queryParams,this._value,this._key);if(Fu(d),Ea(d),a._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Hs(a._repo,a._path,d,a._orderByCalled)}}class Hu extends dc{constructor(a){super(),this._limit=a}_apply(a){if(a._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hs(a._repo,a._path,function Yr(f,a){const d=f.copy();return d.limitSet_=!0,d.limit_=a,d.viewFrom_="l",d}(a._queryParams,this._limit),a._orderByCalled)}}class pu extends dc{constructor(a){super(),this._limit=a}_apply(a){if(a._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hs(a._repo,a._path,function mi(f,a){const d=f.copy();return d.limitSet_=!0,d.limit_=a,d.viewFrom_="r",d}(a._queryParams,this._limit),a._orderByCalled)}}class ff extends dc{constructor(a){super(),this._path=a}_apply(a){md(a,"orderByChild");const d=new si(this._path);if(Ir(d))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const v=new T(d),x=De(a._queryParams,v);return Ea(x),new Hs(a._repo,a._path,x,!0)}}class mf extends dc{_apply(a){md(a,"orderByKey");const d=De(a._queryParams,xo);return Ea(d),new Hs(a._repo,a._path,d,!0)}}class gf extends dc{_apply(a){md(a,"orderByPriority");const d=De(a._queryParams,Hr);return Ea(d),new Hs(a._repo,a._path,d,!0)}}class mu extends dc{_apply(a){md(a,"orderByValue");const d=De(a._queryParams,ot);return Ea(d),new Hs(a._repo,a._path,d,!0)}}class yp extends dc{constructor(a,d){super(),this._value=a,this._key=d}_apply(a){if(fa("equalTo",this._value,a._path,!1),a._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(a._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new yd(this._value,this._key)._apply(new Do(this._value,this._key)._apply(a))}}function Da(f,...a){let d=(0,X.m9)(f);for(const v of a)d=v._apply(d);return d}(function Hc(f){(0,X.hu)(!Na,"__referenceConstructor has already been defined"),Na=f})(La),function W(f){(0,X.hu)(!M,"__referenceConstructor has already been defined"),M=f}(La);
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const _f="FIREBASE_DATABASE_EMULATOR_HOST",ah={};let xs=!1;function lh(f,a,d,v,x){let U=v||f.options.databaseURL;void 0===U&&(f.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xn("Using default host for project ",f.options.projectId),U=`${f.options.projectId}-default-rtdb.firebaseio.com`);let $e,et,Q=Oc(U,x),Te=Q.repoInfo;typeof process<"u"&&process.env&&(et=process.env[_f]),et?($e=!0,U=`http://${et}?ns=${Te.namespace}`,Q=Oc(U,x),Te=Q.repoInfo):$e=!Q.repoInfo.secure;const nn=x&&$e?new Mn(Mn.OWNER):new xr(f.name,f.options,a);Ql("Invalid Firebase Database URL",Q),Ir(Q.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const dn=function Nc(f,a,d,v){let x=ah[a.name];x||(x={},ah[a.name]=x);let U=x[f.toURLString()];return U&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),U=new cl(f,xs,d,v),x[f.toURLString()]=U,U}(Te,f,nn,new Wn(f.name,d));return new Lc(dn,f)}class Lc{constructor(a,d){this._repoInternal=a,this.app=d,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Jl(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new La(this._repo,ii())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ku(f,a){const d=ah[a];(!d||d[f.key]!==f)&&Un(`Database ${a}(${f.repoInfo_}) has already been deleted.`),ye(f),delete d[f.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(a){null===this._rootInternal&&Un("Cannot call "+a+" on a deleted database.")}}function Fc(){xt.IS_TRANSPORT_INITIALIZED&&vr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function uh(){Fc(),ai.forceDisallow()}function dh(){Fc(),ze.forceDisallow(),ai.forceAllow()}function vf(f,a,d,v={}){(f=(0,X.m9)(f))._checkNotDeleted("useEmulator"),f._instanceStarted&&Un("Cannot call useEmulator() after instance has already been initialized.");const x=f._repoInternal;let U;if(x.repoInfo_.nodeAdmin)v.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),U=new Mn(Mn.OWNER);else if(v.mockUserToken){const Q="string"==typeof v.mockUserToken?v.mockUserToken:(0,X.Sg)(v.mockUserToken,f.app.options.projectId);U=new Mn(Q)}!function ch(f,a,d,v){f.repoInfo_=new fe(`${a}:${d}`,!1,f.repoInfo_.namespace,f.repoInfo_.webSocketOnly,f.repoInfo_.nodeAdmin,f.repoInfo_.persistenceKey,f.repoInfo_.includeNamespaceInQueryParams,!0),v&&(f.authTokenProvider_=v)}(x,a,d,U)}function ju(f){(f=(0,X.m9)(f))._checkNotDeleted("goOnline"),function Fe(f){f.persistentConnection_&&f.persistentConnection_.resume(Ps)}(f._repo)}function $u(f,a){on(f,a)}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const bf={".sv":"timestamp"};
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class Ep{constructor(a,d){this.committed=a,this.snapshot=d}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function Ef(f,a,d){var v;if(f=(0,X.m9)(f),ba("Reference.transaction",f._path),".length"===f.key||".keys"===f.key)throw"Reference.transaction failed: "+f.key+" is a read-only object.";const x=null===(v=d?.applyLocally)||void 0===v||v,U=new X.BH,Te=_d(f,()=>{});return function Xn(f,a,d,v,x,U){Vt(f,"transaction on "+a);const Q={path:a,update:d,onComplete:v,status:null,order:Qt(),applyLocally:U,retryCount:0,unwatcher:x,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Te=ei(f,a,void 0);Q.currentInputSnapshot=Te;const $e=Q.update(Te.val());if(void 0===$e)Q.unwatcher(),Q.currentOutputSnapshotRaw=null,Q.currentOutputSnapshotResolved=null,Q.onComplete&&Q.onComplete(null,!1,Q.currentInputSnapshot);else{Tc("transaction failed: Data returned ",$e,Q.path),Q.status=0;const et=oc(f.transactionQueueTree_,a),nn=Cc(et)||[];let dn;nn.push(Q),Pu(et,nn),"object"==typeof $e&&null!==$e&&(0,X.r3)($e,".priority")?(dn=(0,X.DV)($e,".priority"),(0,X.hu)(Ic(dn),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):dn=(Ws(f.serverSyncTree_,a)||or.EMPTY_NODE).getPriority().val();const mn=Bs(f),Sr=re($e,dn),Xr=xa(Sr,Te,mn);Q.currentOutputSnapshotRaw=Sr,Q.currentOutputSnapshotResolved=Xr,Q.currentWriteId=jc(f);const Gi=Nt(f.serverSyncTree_,a,Xr,Q.currentWriteId,Q.applyLocally);ra(f.eventQueue_,a,Gi),wi(f,f.transactionQueueTree_)}}(f._repo,f._path,a,($e,et,nn)=>{let dn=null;$e?U.reject($e):(dn=new ec(nn,new La(f._repo,f._path),Hr),U.resolve(new Ep(et,dn)))},Te,x),U.promise
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}Pi.prototype.simpleListen=function(f,a){this.sendRequest("q",{p:f},a)},Pi.prototype.echo=function(f,a){this.sendRequest("echo",{d:f},a)};!function hh(f){Pn(Ye.SDK_VERSION),(0,Ye._registerComponent)(new at.wA("database",(a,{instanceIdentifier:d})=>lh(a.getProvider("app").getImmediate(),a.getProvider("auth-internal"),a.getProvider("app-check-internal"),d),"PUBLIC").setMultipleInstances(!0)),(0,Ye.registerVersion)(_n,en,f),(0,Ye.registerVersion)(_n,en,"esm2017")}();const Df="@firebase/database-compat",hc="0.3.4",Sl=new Bt.Yd("@firebase/database-compat"),Gu=function(f){const a="FIREBASE WARNING: "+f;Sl.warn(a)};
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class dl{constructor(a){this._delegate=a}cancel(a){(0,X.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,X.Wj)("OnDisconnect.cancel","onComplete",a,!0);const d=this._delegate.cancel();return a&&d.then(()=>a(null),v=>a(v)),d}remove(a){(0,X.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,X.Wj)("OnDisconnect.remove","onComplete",a,!0);const d=this._delegate.remove();return a&&d.then(()=>a(null),v=>a(v)),d}set(a,d){(0,X.Dv)("OnDisconnect.set",1,2,arguments.length),(0,X.Wj)("OnDisconnect.set","onComplete",d,!0);const v=this._delegate.set(a);return d&&v.then(()=>d(null),x=>d(x)),v}setWithPriority(a,d,v){(0,X.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,X.Wj)("OnDisconnect.setWithPriority","onComplete",v,!0);const x=this._delegate.setWithPriority(a,d);return v&&x.then(()=>v(null),U=>v(U)),x}update(a,d){if((0,X.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(a)){const x={};for(let U=0;U<a.length;++U)x[""+U]=a[U];a=x,Gu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,X.Wj)("OnDisconnect.update","onComplete",d,!0);const v=this._delegate.update(a);return d&&v.then(()=>d(null),x=>d(x)),v}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Cf{constructor(a,d){this.committed=a,this.snapshot=d}toJSON(){return(0,X.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Bc{constructor(a,d){this._database=a,this._delegate=d}val(){return(0,X.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,X.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,X.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,X.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(a){return(0,X.Dv)("DataSnapshot.child",0,1,arguments.length),a=String(a),sl("DataSnapshot.child","path",a,!1),new Bc(this._database,this._delegate.child(a))}hasChild(a){return(0,X.Dv)("DataSnapshot.hasChild",1,1,arguments.length),sl("DataSnapshot.hasChild","path",a,!1),this._delegate.hasChild(a)}getPriority(){return(0,X.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(a){return(0,X.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,X.Wj)("DataSnapshot.forEach","action",a,!1),this._delegate.forEach(d=>a(new Bc(this._database,d)))}hasChildren(){return(0,X.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,X.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,X.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ca(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ys{constructor(a,d){this.database=a,this._delegate=d}on(a,d,v,x){var U;(0,X.Dv)("Query.on",2,4,arguments.length),(0,X.Wj)("Query.on","callback",d,!1);const Q=Ys.getCancelAndContextArgs_("Query.on",v,x),Te=(et,nn)=>{d.call(Q.context,new Bc(this.database,et),nn)};Te.userCallback=d,Te.context=Q.context;const $e=null===(U=Q.cancel)||void 0===U?void 0:U.bind(Q.context);switch(a){case"value":return _d(this._delegate,Te,$e),d;case"child_added":return ul(this._delegate,Te,$e),d;case"child_removed":return hu(this._delegate,Te,$e),d;case"child_changed":return Vu(this._delegate,Te,$e),d;case"child_moved":return Al(this._delegate,Te,$e),d;default:throw new Error((0,X.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(a,d,v){if((0,X.Dv)("Query.off",0,3,arguments.length),function(f,a,d){if(!d||void 0!==a)switch(a){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,X.gK)(f,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",a,!0),(0,X.Wj)("Query.off","callback",d,!0),(0,X.lb)("Query.off","context",v,!0),d){const x=()=>{};x.userCallback=d,x.context=v,$c(this._delegate,a,x)}else $c(this._delegate,a)}get(){return uu(this._delegate).then(a=>new Bc(this.database,a))}once(a,d,v,x){(0,X.Dv)("Query.once",1,4,arguments.length),(0,X.Wj)("Query.once","callback",d,!0);const U=Ys.getCancelAndContextArgs_("Query.once",v,x),Q=new X.BH,Te=(et,nn)=>{const dn=new Bc(this.database,et);d&&d.call(U.context,dn,nn),Q.resolve(dn)};Te.userCallback=d,Te.context=U.context;const $e=et=>{U.cancel&&U.cancel.call(U.context,et),Q.reject(et)};switch(a){case"value":_d(this._delegate,Te,$e,{onlyOnce:!0});break;case"child_added":ul(this._delegate,Te,$e,{onlyOnce:!0});break;case"child_removed":hu(this._delegate,Te,$e,{onlyOnce:!0});break;case"child_changed":Vu(this._delegate,Te,$e,{onlyOnce:!0});break;case"child_moved":Al(this._delegate,Te,$e,{onlyOnce:!0});break;default:throw new Error((0,X.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return Q.promise}limitToFirst(a){return(0,X.Dv)("Query.limitToFirst",1,1,arguments.length),new Ys(this.database,Da(this._delegate,function fu(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Hu(f)}(a)))}limitToLast(a){return(0,X.Dv)("Query.limitToLast",1,1,arguments.length),new Ys(this.database,Da(this._delegate,function Rc(f){if("number"!=typeof f||Math.floor(f)!==f||f<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pu(f)}(a)))}orderByChild(a){return(0,X.Dv)("Query.orderByChild",1,1,arguments.length),new Ys(this.database,Da(this._delegate,function pf(f){if("$key"===f)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===f)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===f)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return sl("orderByChild","path",f,!1),new ff(f)}(a)))}orderByKey(){return(0,X.Dv)("Query.orderByKey",0,0,arguments.length),new Ys(this.database,Da(this._delegate,function gp(){return new mf}()))}orderByPriority(){return(0,X.Dv)("Query.orderByPriority",0,0,arguments.length),new Ys(this.database,Da(this._delegate,function kc(){return new gf}()))}orderByValue(){return(0,X.Dv)("Query.orderByValue",0,0,arguments.length),new Ys(this.database,Da(this._delegate,function _p(){return new mu}()))}startAt(a=null,d){return(0,X.Dv)("Query.startAt",0,2,arguments.length),new Ys(this.database,Da(this._delegate,function sh(f=null,a){return wl("startAt","key",a,!0),new Do(f,a)}(a,d)))}startAfter(a=null,d){return(0,X.Dv)("Query.startAfter",0,2,arguments.length),new Ys(this.database,Da(this._delegate,function Wu(f,a){return wl("startAfter","key",a,!0),new zu(f,a)}(a,d)))}endAt(a=null,d){return(0,X.Dv)("Query.endAt",0,2,arguments.length),new Ys(this.database,Da(this._delegate,function Xm(f,a){return wl("endAt","key",a,!0),new yd(f,a)}(a,d)))}endBefore(a=null,d){return(0,X.Dv)("Query.endBefore",0,2,arguments.length),new Ys(this.database,Da(this._delegate,function Rs(f,a){return wl("endBefore","key",a,!0),new mp(f,a)}(a,d)))}equalTo(a,d){return(0,X.Dv)("Query.equalTo",1,2,arguments.length),new Ys(this.database,Da(this._delegate,function vp(f,a){return wl("equalTo","key",a,!0),new yp(f,a)}(a,d)))}toString(){return(0,X.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,X.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(a){if((0,X.Dv)("Query.isEqual",1,1,arguments.length),!(a instanceof Ys)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}return this._delegate.isEqual(a._delegate)}static getCancelAndContextArgs_(a,d,v){const x={cancel:void 0,context:void 0};if(d&&v)x.cancel=d,(0,X.Wj)(a,"cancel",x.cancel,!0),x.context=v,(0,X.lb)(a,"context",x.context,!0);else if(d)if("object"==typeof d&&null!==d)x.context=d;else{if("function"!=typeof d)throw new Error((0,X.gK)(a,"cancelOrContext")+" must either be a cancel callback or a context object.");x.cancel=d}return x}get ref(){return new Ca(this.database,new La(this._delegate._repo,this._delegate._path))}}class Ca extends Ys{constructor(a,d){super(a,new Hs(d._repo,d._path,new Rr,!1)),this.database=a,this._delegate=d}getKey(){return(0,X.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(a){return(0,X.Dv)("Reference.child",1,1,arguments.length),"number"==typeof a&&(a=String(a)),new Ca(this.database,Fo(this._delegate,a))}getParent(){(0,X.Dv)("Reference.parent",0,0,arguments.length);const a=this._delegate.parent;return a?new Ca(this.database,a):null}getRoot(){return(0,X.Dv)("Reference.root",0,0,arguments.length),new Ca(this.database,this._delegate.root)}set(a,d){(0,X.Dv)("Reference.set",1,2,arguments.length),(0,X.Wj)("Reference.set","onComplete",d,!0);const v=Bu(this._delegate,a);return d&&v.then(()=>d(null),x=>d(x)),v}update(a,d){if((0,X.Dv)("Reference.update",1,2,arguments.length),Array.isArray(a)){const x={};for(let U=0;U<a.length;++U)x[""+U]=a[U];a=x,Gu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ba("Reference.update",this._delegate._path),(0,X.Wj)("Reference.update","onComplete",d,!0);const v=lu(this._delegate,a);return d&&v.then(()=>d(null),x=>d(x)),v}setWithPriority(a,d,v){(0,X.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,X.Wj)("Reference.setWithPriority","onComplete",v,!0);const x=function oh(f,a,d){if(ba("setWithPriority",f._path),fa("setWithPriority",a,f._path,!1),xc("setWithPriority",d,!1),".length"===f.key||".keys"===f.key)throw"setWithPriority failed: "+f.key+" is a read-only object.";const v=new X.BH;return ac(f._repo,f._path,a,d,v.wrapCallback(()=>{})),v.promise}(this._delegate,a,d);return v&&x.then(()=>v(null),U=>v(U)),x}remove(a){(0,X.Dv)("Reference.remove",0,1,arguments.length),(0,X.Wj)("Reference.remove","onComplete",a,!0);const d=function ih(f){return ba("remove",f._path),Bu(f,null)}(this._delegate);return a&&d.then(()=>a(null),v=>a(v)),d}transaction(a,d,v){(0,X.Dv)("Reference.transaction",1,3,arguments.length),(0,X.Wj)("Reference.transaction","transactionUpdate",a,!1),(0,X.Wj)("Reference.transaction","onComplete",d,!0),function(f,a,d,v){if((!v||void 0!==d)&&"boolean"!=typeof d)throw new Error((0,X.gK)(f,a)+"must be a boolean.")}("Reference.transaction","applyLocally",v,!0);const x=Ef(this._delegate,a,{applyLocally:v}).then(U=>new Cf(U.committed,new Bc(this.database,U.snapshot)));return d&&x.then(U=>d(null,U.committed,U.snapshot),U=>d(U,!1,null)),x}setPriority(a,d){(0,X.Dv)("Reference.setPriority",1,2,arguments.length),(0,X.Wj)("Reference.setPriority","onComplete",d,!0);const v=function Ml(f,a){f=(0,X.m9)(f),ba("setPriority",f._path),xc("setPriority",a,!1);const d=new X.BH;return ac(f._repo,Jr(f._path,".priority"),a,null,d.wrapCallback(()=>{})),d.promise}(this._delegate,a);return d&&v.then(()=>d(null),x=>d(x)),v}push(a,d){(0,X.Dv)("Reference.push",0,2,arguments.length),(0,X.Wj)("Reference.push","onComplete",d,!0);const v=function xl(f,a){f=(0,X.m9)(f),ba("push",f._path),fa("push",a,f._path,!0);const d=Es(f._repo),v=su(d),x=Fo(f,v),U=Fo(f,v);let Q;return Q=null!=a?Bu(U,a).then(()=>U):Promise.resolve(U),x.then=Q.then.bind(Q),x.catch=Q.then.bind(Q,void 0),x}(this._delegate,a),x=v.then(Q=>new Ca(this.database,Q));d&&x.then(()=>d(null),Q=>d(Q));const U=new Ca(this.database,v);return U.then=x.then.bind(x),U.catch=x.catch.bind(x,void 0),U}onDisconnect(){return ba("Reference.onDisconnect",this._delegate._path),new dl(new pd(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class fc{constructor(a,d){this._delegate=a,this.app=d,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:uh,forceLongPolling:dh}}useEmulator(a,d,v={}){vf(this._delegate,a,d,v)}ref(a){if((0,X.Dv)("database.ref",0,1,arguments.length),a instanceof Ca){const d=gd(this._delegate,a.toString());return new Ca(this,d)}{const d=rh(this._delegate,a);return new Ca(this,d)}}refFromURL(a){(0,X.Dv)("database.refFromURL",1,1,arguments.length);const v=gd(this._delegate,a);return new Ca(this,v)}goOffline(){return(0,X.Dv)("database.goOffline",0,0,arguments.length),function bp(f){(f=(0,X.m9)(f))._checkNotDeleted("goOffline"),ye(f._repo)}(this._delegate)}goOnline(){return(0,X.Dv)("database.goOnline",0,0,arguments.length),ju(this._delegate)}}fc.ServerValue={TIMESTAMP:function fh(){return bf}(),increment:f=>function ph(f){return{".sv":{increment:f}}}(f)};var Pl=Object.freeze({__proto__:null,initStandalone:
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Ol({app:f,url:a,version:d,customAuthImpl:v,namespace:x,nodeAdmin:U=!1}){Pn(d);const Q=new at.zt("auth-internal",new at.H0("database-standalone"));return Q.setComponent(new at.wA("auth-internal",()=>v,"PRIVATE")),{instance:new fc(lh(f,Q,void 0,a,U),f),namespace:x}}});
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const _u=fc.ServerValue;!function Cp(f){f.INTERNAL.registerComponent(new at.wA("database-compat",(a,{instanceIdentifier:d})=>{const v=a.getProvider("app-compat").getImmediate(),x=a.getProvider("database").getImmediate({identifier:d});return new fc(x,v)},"PUBLIC").setServiceProps({Reference:Ca,Query:Ys,Database:fc,DataSnapshot:Bc,enableLogging:$u,INTERNAL:Pl,ServerValue:_u}).setMultipleInstances(!0)),f.registerVersion(Df,hc)}(Be.Z);var Yc=S(3385),Rl=S(2313),vd=S(9260);function bd(f){return null==f}function gh(f){return"function"==typeof f.set}function Yu(f,a){return gh(a)?a:f.ref(a)}function kl(f,a){if(function mh(f){return"string"==typeof f}(f))return a.stringCase();if(gh(f))return a.firebaseCase();if(function wf(f){return"function"==typeof f.exportVal}(f))return a.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof f)}function tc(f,a,d="on",v=g.z){return new z.y(x=>{let U=null;return U=f[d](a,(Q,Te)=>{v.schedule(()=>{x.next({snapshot:Q,prevKey:Te})}),"once"===d&&v.schedule(()=>x.complete())},Q=>{v.schedule(()=>x.error(Q))}),"on"===d?{unsubscribe(){null!=U&&f.off(a,U)}}:{unsubscribe(){}}}).pipe((0,we.U)(x=>{const{snapshot:U,prevKey:Q}=x;let Te=null;return U.exists()&&(Te=U.key),{type:a,payload:U,prevKey:Q,key:Te}}),(0,Pe.B)())}function If(f,a){const d=f.length;for(let v=0;v<d;v++)if(f[v].payload.key===a)return v;return-1}function wp(f,a){const{payload:d,prevKey:v,key:x}=a,U=If(f,x),Q=function yh(f,a){if(bd(a))return 0;{const d=If(f,a);return-1===d?f.length:d+1}}(f,v);switch(a.type){case"value":if(a.payload&&a.payload.exists()){let Te=null;a.payload.forEach($e=>{const et={payload:$e,type:"value",prevKey:Te,key:$e.key};return Te=$e.key,f=[...f,et],!1})}return f;case"child_added":if(U>-1){const Te=f[U-1];(Te&&Te.key||null)!==v&&(f=f.filter($e=>$e.payload.key!==d.key)).splice(Q,0,a)}else{if(null==v)return[a,...f];(f=f.slice()).splice(Q,0,a)}return f;case"child_removed":return f.filter(Te=>Te.payload.key!==d.key);case"child_changed":return f.map(Te=>Te.payload.key===x?a:Te);case"child_moved":if(U>-1){const Te=f.splice(U,1)[0];return(f=f.slice()).splice(Q,0,Te),f}return f;default:return f}}function Ed(f){return(bd(f)||0===f.length)&&(f=["child_added","child_removed","child_changed","child_moved"]),f}function Nl(f,a,d){return function _h(f,a,d){return tc(f,"value","once",d).pipe((0,le.w)(v=>{const x=[(0,ue.of)(v)];return a.forEach(U=>x.push(tc(f,U,"on",d))),(0,Me.T)(...x).pipe((0,_e.R)(wp,[]))}),(0,se.x)())}(f,a=Ed(a),d)}function Zc(f,a,d){const v=(a=Ed(a)).map(x=>tc(f,x,"on",d));return(0,Me.T)(...v)}function Ba(f,a,d){return function vh(f,a,d){return function Tf(f,a){return tc(f,"value","on",a).pipe((0,we.U)(d=>{let v;return d.payload.forEach(x=>(v=x.key,!1)),{data:d,lastKeyToLoad:v}}))}(f,d).pipe(function Ie(...f){const a=(0,Ft.jO)(f);return(0,Re.e)((d,v)=>{const x=f.length,U=new Array(x);let Q=f.map(()=>!1),Te=!1;for(let $e=0;$e<x;$e++)(0,Xe.Xf)(f[$e]).subscribe((0,Le.x)(v,et=>{U[$e]=et,!Te&&!Q[$e]&&(Q[$e]=!0,(Te=Q.every(We.y))&&(Q=null))},St.Z));d.subscribe((0,Le.x)(v,$e=>{if(Te){const et=[$e,...U];v.next(a?a(...et):et)}}))})}(a),(0,we.U)(([x,U])=>{const Q=x.lastKeyToLoad,Te=U.map($e=>$e.key);return{actions:U,lastKeyToLoad:Q,loadedKeys:Te}}),function Et(f){return(0,Re.e)((a,d)=>{let v=!1,x=0;a.subscribe((0,Le.x)(d,U=>(v||(v=!f(U,x++)))&&d.next(U)))})}(x=>-1===x.loadedKeys.indexOf(x.lastKeyToLoad)),(0,we.U)(x=>x.actions))}(f,Zc(f,a).pipe((0,_e.R)((x,U)=>[...x,U],[])),d)}function yu(f,a){return function(v,x){return kl(v,{stringCase:()=>f.child(v)[a](x),firebaseCase:()=>v[a](x),snapshotCase:()=>v.ref[a](x)})}}function Ip(f){return function(d){return d?kl(d,{stringCase:()=>f.child(d).remove(),firebaseCase:()=>d.remove(),snapshotCase:()=>d.ref.remove()}):f.remove()}}function Ll(f,a){return function(){return tc(f,"value","on",a)}}const Dd=new l.OlP("angularfire2.realtimeDatabaseURL"),qu=new l.OlP("angularfire2.database.use-emulator");class Fl{constructor(a,d,v,x,U,Q,Te,$e,et,nn,dn,mn,Sr,Xr,Gi){this.schedulers=Q;const hs=Te,$a=(0,bt.on)(a,U,d);$e&&(0,Yc.nw)($a,U,et,dn,mn,Sr,nn,Xr),this.database=(0,bt.cc)(`${$a.name}.database.${v}`,"AngularFireDatabase",$a.name,()=>{const Ua=U.runOutsideAngular(()=>$a.database(v||void 0));return hs&&Ua.useEmulator(...hs),Ua},[hs])}list(a,d){const v=this.schedulers.ngZone.runOutsideAngular(()=>Yu(this.database,a));let x=v;return d&&(x=d(v)),function Zu(f,a){const d=a.schedulers.outsideAngular,v=a.schedulers.ngZone.run(()=>f.ref);return{query:f,update:yu(v,"update"),set:yu(v,"set"),push:x=>v.push(x),remove:Ip(v),snapshotChanges:x=>Nl(f,x,d).pipe(gt.iC),stateChanges:x=>Zc(f,x,d).pipe(gt.iC),auditTrail:x=>Ba(f,x,d).pipe(gt.iC),valueChanges:(x,U)=>Nl(f,x,d).pipe((0,we.U)(Te=>Te.map($e=>U&&U.idField?Object.assign(Object.assign({},$e.payload.val()),{[U.idField]:$e.key}):$e.payload.val())),gt.iC)}}(x,this)}object(a){return function hl(f,a){return{query:f,snapshotChanges:()=>Ll(f,a.schedulers.outsideAngular)().pipe(gt.iC),update:d=>f.ref.update(d),set:d=>f.ref.set(d),remove:()=>f.ref.remove(),valueChanges:()=>Ll(f,a.schedulers.outsideAngular)().pipe(gt.iC,(0,we.U)(v=>v.payload.exists()?v.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Yu(this.database,a)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}Fl.\u0275fac=function(a){return new(a||Fl)(l.LFG(bt.Dh),l.LFG(bt.xv,8),l.LFG(Dd,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(gt.HU),l.LFG(qu,8),l.LFG(Yc.zQ,8),l.LFG(Yc.Qv,8),l.LFG(Yc.L6,8),l.LFG(Yc._Q,8),l.LFG(Yc.rT,8),l.LFG(Yc.lh,8),l.LFG(Yc.f7,8),l.LFG(Rl.nm,8))},Fl.\u0275prov=l.Yz7({token:Fl,factory:Fl.\u0275fac,providedIn:"any"});class qc{constructor(){vd.Z.registerVersion("angularfire",gt.q4.full,"rtdb-compat")}}qc.\u0275fac=function(a){return new(a||qc)},qc.\u0275mod=l.oAB({type:qc}),qc.\u0275inj=l.cJS({providers:[Fl]})},1085:(En,rt,S)=>{S.d(rt,{ST:()=>xr});var l=S(4650),g=S(4986),z=S(9751),ue=S(8996),Me=S(9646),we=S(2122),Pe=S(8675),le=S(1520),_e=S(4004),se=S(5026),Re=S(1884),Le=S(9300),Xe=S(2011),We=S(6895),Ft=(S(9568),S(3942)),Ie=S(5525),Et=S(2090),gt=S(4859);const bt="@firebase/firestore-compat",_t="0.3.6";
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Be(Xt,de){if(void 0===de)return{merge:!1};if(void 0!==de.mergeFields&&void 0!==de.merge)throw new Ie.WA("invalid-argument",`Invalid options passed to function ${Xt}(): You cannot specify both "merge" and "mergeFields".`);return de}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function at(){if(typeof Uint8Array>"u")throw new Ie.WA("unimplemented","Uint8Arrays are not available in this environment.")}function qt(){if(!(0,Ie.Me)())throw new Ie.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ye{constructor(de){this._delegate=de}static fromBase64String(de){return qt(),new Ye(Ie.Jj.fromBase64String(de))}static fromUint8Array(de){return at(),new Ye(Ie.Jj.fromUint8Array(de))}toBase64(){return qt(),this._delegate.toBase64()}toUint8Array(){return at(),this._delegate.toUint8Array()}isEqual(de){return this._delegate.isEqual(de._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function X(Xt){return function Bt(Xt,de){if("object"!=typeof Xt||null===Xt)return!1;const Ce=Xt;for(const Ee of de)if(Ee in Ce&&"function"==typeof Ce[Ee])return!0;return!1}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(Xt,["next","error","complete"])}class _n{enableIndexedDbPersistence(de,Ce){return(0,Ie.ST)(de._delegate,{forceOwnership:Ce})}enableMultiTabIndexedDbPersistence(de){return(0,Ie.fH)(de._delegate)}clearIndexedDbPersistence(de){return(0,Ie.Fc)(de._delegate)}}class en{constructor(de,Ce,Ee){this._delegate=Ce,this._persistenceProvider=Ee,this.INTERNAL={delete:()=>this.terminate()},de instanceof Ie.l7||(this._appCompat=de)}get _databaseId(){return this._delegate._databaseId}settings(de){const Ce=this._delegate._getSettings();!de.merge&&Ce.host!==de.host&&(0,Ie.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),de.merge&&delete(de=Object.assign(Object.assign({},Ce),de)).merge,this._delegate._setSettings(de)}useEmulator(de,Ce,Ee={}){(0,Ie.at)(this._delegate,de,Ce,Ee)}enableNetwork(){return(0,Ie.Ix)(this._delegate)}disableNetwork(){return(0,Ie.TF)(this._delegate)}enablePersistence(de){let Ce=!1,Ee=!1;return de&&(Ce=!!de.synchronizeTabs,Ee=!!de.experimentalForceOwningTab,(0,Ie.Wi)("synchronizeTabs",Ce,"experimentalForceOwningTab",Ee)),Ce?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,Ee)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Ie.Mx)(this._delegate)}onSnapshotsInSync(de){return(0,Ie.sc)(this._delegate,de)}get app(){if(!this._appCompat)throw new Ie.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(de){try{return new xn(this,(0,Ie.hJ)(this._delegate,de))}catch(Ce){throw Ht(Ce,"collection()","Firestore.collection()")}}doc(de){try{return new Lt(this,(0,Ie.JU)(this._delegate,de))}catch(Ce){throw Ht(Ce,"doc()","Firestore.doc()")}}collectionGroup(de){try{return new Mt(this,(0,Ie.B$)(this._delegate,de))}catch(Ce){throw Ht(Ce,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(de){return(0,Ie.i3)(this._delegate,Ce=>de(new ft(this,Ce)))}batch(){return(0,Ie.qY)(this._delegate),new Ot(new Ie.PU(this._delegate,de=>(0,Ie.GL)(this._delegate,de)))}loadBundle(de){return(0,Ie.Pb)(this._delegate,de)}namedQuery(de){return(0,Ie.L$)(this._delegate,de).then(Ce=>Ce?new Mt(this,Ce):null)}}class jn extends Ie.u7{constructor(de){super(),this.firestore=de}convertBytes(de){return new Ye(new Ie.Jj(de))}convertReference(de){const Ce=this.convertDocumentKey(de,this.firestore._databaseId);return Lt.forKey(Ce,this.firestore,null)}}class ft{constructor(de,Ce){this._firestore=de,this._delegate=Ce,this._userDataWriter=new jn(de)}get(de){const Ce=ur(de);return this._delegate.get(Ce).then(Ee=>new it(this._firestore,new Ie.xU(this._firestore._delegate,this._userDataWriter,Ee._key,Ee._document,Ee.metadata,Ce.converter)))}set(de,Ce,Ee){const Y=ur(de);return Ee?(Be("Transaction.set",Ee),this._delegate.set(Y,Ce,Ee)):this._delegate.set(Y,Ce),this}update(de,Ce,Ee,...Y){const Se=ur(de);return 2===arguments.length?this._delegate.update(Se,Ce):this._delegate.update(Se,Ce,Ee,...Y),this}delete(de){const Ce=ur(de);return this._delegate.delete(Ce),this}}class Ot{constructor(de){this._delegate=de}set(de,Ce,Ee){const Y=ur(de);return Ee?(Be("WriteBatch.set",Ee),this._delegate.set(Y,Ce,Ee)):this._delegate.set(Y,Ce),this}update(de,Ce,Ee,...Y){const Se=ur(de);return 2===arguments.length?this._delegate.update(Se,Ce):this._delegate.update(Se,Ce,Ee,...Y),this}delete(de){const Ce=ur(de);return this._delegate.delete(Ce),this}commit(){return this._delegate.commit()}}class Rt{constructor(de,Ce,Ee){this._firestore=de,this._userDataWriter=Ce,this._delegate=Ee}fromFirestore(de,Ce){const Ee=new Ie.$q(this._firestore._delegate,this._userDataWriter,de._key,de._document,de.metadata,null);return this._delegate.fromFirestore(new It(this._firestore,Ee),Ce??{})}toFirestore(de,Ce){return Ce?this._delegate.toFirestore(de,Ce):this._delegate.toFirestore(de)}static getInstance(de,Ce){const Ee=Rt.INSTANCES;let Y=Ee.get(de);Y||(Y=new WeakMap,Ee.set(de,Y));let Se=Y.get(Ce);return Se||(Se=new Rt(de,new jn(de),Ce),Y.set(Ce,Se)),Se}}Rt.INSTANCES=new WeakMap;class Lt{constructor(de,Ce){this.firestore=de,this._delegate=Ce,this._userDataWriter=new jn(de)}static forPath(de,Ce,Ee){if(de.length%2!=0)throw new Ie.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${de.canonicalString()} has ${de.length}`);return new Lt(Ce,new Ie.my(Ce._delegate,Ee,new Ie.Ky(de)))}static forKey(de,Ce,Ee){return new Lt(Ce,new Ie.my(Ce._delegate,Ee,de))}get id(){return this._delegate.id}get parent(){return new xn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(de){try{return new xn(this.firestore,(0,Ie.hJ)(this._delegate,de))}catch(Ce){throw Ht(Ce,"collection()","DocumentReference.collection()")}}isEqual(de){return(de=(0,Et.m9)(de))instanceof Ie.my&&(0,Ie.Eo)(this._delegate,de)}set(de,Ce){Ce=Be("DocumentReference.set",Ce);try{return Ce?(0,Ie.pl)(this._delegate,de,Ce):(0,Ie.pl)(this._delegate,de)}catch(Ee){throw Ht(Ee,"setDoc()","DocumentReference.set()")}}update(de,Ce,...Ee){try{return 1===arguments.length?(0,Ie.r7)(this._delegate,de):(0,Ie.r7)(this._delegate,de,Ce,...Ee)}catch(Y){throw Ht(Y,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Ie.oe)(this._delegate)}onSnapshot(...de){const Ce=Gt(de),Ee=Qt(de,Y=>new it(this.firestore,new Ie.xU(this.firestore._delegate,this._userDataWriter,Y._key,Y._document,Y.metadata,this._delegate.converter)));return(0,Ie.cf)(this._delegate,Ce,Ee)}get(de){let Ce;return Ce="cache"===de?.source?(0,Ie.kl)(this._delegate):"server"===de?.source?(0,Ie.Xk)(this._delegate):(0,Ie.QT)(this._delegate),Ce.then(Ee=>new it(this.firestore,new Ie.xU(this.firestore._delegate,this._userDataWriter,Ee._key,Ee._document,Ee.metadata,this._delegate.converter)))}withConverter(de){return new Lt(this.firestore,de?this._delegate.withConverter(Rt.getInstance(this.firestore,de)):this._delegate.withConverter(null))}}function Ht(Xt,de,Ce){return Xt.message=Xt.message.replace(de,Ce),Xt}function Gt(Xt){for(const de of Xt)if("object"==typeof de&&!X(de))return de;return{}}function Qt(Xt,de){var Ce,Ee;let Y;return Y=X(Xt[0])?Xt[0]:X(Xt[1])?Xt[1]:"function"==typeof Xt[0]?{next:Xt[0],error:Xt[1],complete:Xt[2]}:{next:Xt[1],error:Xt[2],complete:Xt[3]},{next:Se=>{Y.next&&Y.next(de(Se))},error:null===(Ce=Y.error)||void 0===Ce?void 0:Ce.bind(Y),complete:null===(Ee=Y.complete)||void 0===Ee?void 0:Ee.bind(Y)}}class it{constructor(de,Ce){this._firestore=de,this._delegate=Ce}get ref(){return new Lt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(de){return this._delegate.data(de)}get(de,Ce){return this._delegate.get(de,Ce)}isEqual(de){return(0,Ie.qK)(this._delegate,de._delegate)}}class It extends it{data(de){const Ce=this._delegate.data(de);return(0,Ie.K9)(void 0!==Ce,"Document in a QueryDocumentSnapshot should exist"),Ce}}class Mt{constructor(de,Ce){this.firestore=de,this._delegate=Ce,this._userDataWriter=new jn(de)}where(de,Ce,Ee){try{return new Mt(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.ar)(de,Ce,Ee)))}catch(Y){throw Ht(Y,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(de,Ce){try{return new Mt(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.Xo)(de,Ce)))}catch(Ee){throw Ht(Ee,/(orderBy|where)\(\)/,"Query.$1()")}}limit(de){try{return new Mt(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.b9)(de)))}catch(Ce){throw Ht(Ce,"limit()","Query.limit()")}}limitToLast(de){try{return new Mt(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.vh)(de)))}catch(Ce){throw Ht(Ce,"limitToLast()","Query.limitToLast()")}}startAt(...de){try{return new Mt(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.e0)(...de)))}catch(Ce){throw Ht(Ce,"startAt()","Query.startAt()")}}startAfter(...de){try{return new Mt(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.TQ)(...de)))}catch(Ce){throw Ht(Ce,"startAfter()","Query.startAfter()")}}endBefore(...de){try{return new Mt(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.Lx)(...de)))}catch(Ce){throw Ht(Ce,"endBefore()","Query.endBefore()")}}endAt(...de){try{return new Mt(this.firestore,(0,Ie.IO)(this._delegate,(0,Ie.Wu)(...de)))}catch(Ce){throw Ht(Ce,"endAt()","Query.endAt()")}}isEqual(de){return(0,Ie.iE)(this._delegate,de._delegate)}get(de){let Ce;return Ce="cache"===de?.source?(0,Ie.UQ)(this._delegate):"server"===de?.source?(0,Ie.zN)(this._delegate):(0,Ie.PL)(this._delegate),Ce.then(Ee=>new on(this.firestore,new Ie.W(this.firestore._delegate,this._userDataWriter,this._delegate,Ee._snapshot)))}onSnapshot(...de){const Ce=Gt(de),Ee=Qt(de,Y=>new on(this.firestore,new Ie.W(this.firestore._delegate,this._userDataWriter,this._delegate,Y._snapshot)));return(0,Ie.cf)(this._delegate,Ce,Ee)}withConverter(de){return new Mt(this.firestore,de?this._delegate.withConverter(Rt.getInstance(this.firestore,de)):this._delegate.withConverter(null))}}class vn{constructor(de,Ce){this._firestore=de,this._delegate=Ce}get type(){return this._delegate.type}get doc(){return new It(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class on{constructor(de,Ce){this._firestore=de,this._delegate=Ce}get query(){return new Mt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(de=>new It(this._firestore,de))}docChanges(de){return this._delegate.docChanges(de).map(Ce=>new vn(this._firestore,Ce))}forEach(de,Ce){this._delegate.forEach(Ee=>{de.call(Ce,new It(this._firestore,Ee))})}isEqual(de){return(0,Ie.qK)(this._delegate,de._delegate)}}class xn extends Mt{constructor(de,Ce){super(de,Ce),this.firestore=de,this._delegate=Ce}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const de=this._delegate.parent;return de?new Lt(this.firestore,de):null}doc(de){try{return new Lt(this.firestore,void 0===de?(0,Ie.JU)(this._delegate):(0,Ie.JU)(this._delegate,de))}catch(Ce){throw Ht(Ce,"doc()","CollectionReference.doc()")}}add(de){return(0,Ie.ET)(this._delegate,de).then(Ce=>new Lt(this.firestore,Ce))}isEqual(de){return(0,Ie.Eo)(this._delegate,de._delegate)}withConverter(de){return new xn(this.firestore,de?this._delegate.withConverter(Rt.getInstance(this.firestore,de)):this._delegate.withConverter(null))}}function ur(Xt){return(0,Ie.Cf)(Xt,Ie.my)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class br{constructor(...de){this._delegate=new Ie.Lz(...de)}static documentId(){return new br(Ie.Xb.keyField().canonicalString())}isEqual(de){return(de=(0,Et.m9)(de))instanceof Ie.Lz&&this._delegate._internalPath.isEqual(de._internalPath)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Un{constructor(de){this._delegate=de}static serverTimestamp(){const de=(0,Ie.Bt)();return de._methodName="FieldValue.serverTimestamp",new Un(de)}static delete(){const de=(0,Ie.AK)();return de._methodName="FieldValue.delete",new Un(de)}static arrayUnion(...de){const Ce=(0,Ie.vr)(...de);return Ce._methodName="FieldValue.arrayUnion",new Un(Ce)}static arrayRemove(...de){const Ce=(0,Ie.Ab)(...de);return Ce._methodName="FieldValue.arrayRemove",new Un(Ce)}static increment(de){const Ce=(0,Ie.nP)(de);return Ce._methodName="FieldValue.increment",new Un(Ce)}isEqual(de){return this._delegate.isEqual(de._delegate)}}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const vr={Firestore:en,GeoPoint:Ie.F8,Timestamp:Ie.EK,Blob:Ye,Transaction:ft,WriteBatch:Ot,DocumentReference:Lt,DocumentSnapshot:it,Query:Mt,QueryDocumentSnapshot:It,QuerySnapshot:on,CollectionReference:xn,FieldPath:br,FieldValue:Un,setLogLevel:function Pn(Xt){(0,Ie.Ub)(Xt)},CACHE_SIZE_UNLIMITED:Ie.IX};!
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Jn(Xt){(function Nr(Xt,de){Xt.INTERNAL.registerComponent(new gt.wA("firestore-compat",Ce=>{const Ee=Ce.getProvider("app-compat").getImmediate(),Y=Ce.getProvider("firestore").getImmediate();return de(Ee,Y)},"PUBLIC").setServiceProps(Object.assign({},vr)))})(Xt,(de,Ce)=>new en(de,Ce,new _n)),Xt.registerVersion(bt,_t)}(Ft.Z);var Br=S(3385),dr=S(2313),ri=S(9260);function fi(Xt,de){return function hr(Xt,de=g.z){return new z.y(Ce=>{let Ee;return null!=de?de.schedule(()=>{Ee=Xt.onSnapshot({includeMetadataChanges:!0},Ce)}):Ee=Xt.onSnapshot({includeMetadataChanges:!0},Ce),()=>{Ee?.()}})}(Xt,de)}function Tr(Xt,de){return fi(Xt,de).pipe((0,_e.U)(Ce=>({payload:Ce,type:"query"})))}function Di(Xt,de){return Tr(Xt,de).pipe((0,Pe.O)(void 0),(0,le.G)(),(0,_e.U)(([Ce,Ee])=>{const Y=Ee.payload.docChanges(),Se=Y.map(pt=>({type:pt.type,payload:pt}));return Ce&&JSON.stringify(Ce.payload.metadata)!==JSON.stringify(Ee.payload.metadata)&&Ee.payload.docs.forEach((pt,yn)=>{const Zn=Y.find(Ue=>Ue.doc.ref.isEqual(pt.ref)),He=Ce?.payload.docs.find(Ue=>Ue.ref.isEqual(pt.ref));Zn&&JSON.stringify(Zn.doc.metadata)===JSON.stringify(pt.metadata)||!Zn&&He&&JSON.stringify(He.metadata)===JSON.stringify(pt.metadata)||Se.push({type:"modified",payload:{oldIndex:yn,newIndex:yn,type:"modified",doc:pt}})}),Se}))}function er(Xt,de,Ce){return Di(Xt,Ce).pipe((0,se.R)((Ee,Y)=>function Zr(Xt,de,Ce){return de.forEach(Ee=>{Ce.indexOf(Ee.type)>-1&&(Xt=function ir(Xt,de){switch(de.type){case"added":if(!Xt[de.newIndex]||!Xt[de.newIndex].doc.ref.isEqual(de.doc.ref))return Lr(Xt,de.newIndex,0,de);break;case"modified":if(null==Xt[de.oldIndex]||Xt[de.oldIndex].doc.ref.isEqual(de.doc.ref)){if(de.oldIndex!==de.newIndex){const Ce=Xt.slice();return Ce.splice(de.oldIndex,1),Ce.splice(de.newIndex,0,de),Ce}return Lr(Xt,de.newIndex,1,de)}break;case"removed":if(Xt[de.oldIndex]&&Xt[de.oldIndex].doc.ref.isEqual(de.doc.ref))return Lr(Xt,de.oldIndex,1)}return Xt}(Xt,Ee))}),Xt}(Ee,Y.map(Se=>Se.payload),de),[]),(0,Re.x)(),(0,_e.U)(Ee=>Ee.map(Y=>({type:Y.type,payload:Y}))))}function Lr(Xt,de,Ce,...Ee){const Y=Xt.slice();return Y.splice(de,Ce,...Ee),Y}function rr(Xt){return(!Xt||0===Xt.length)&&(Xt=["added","removed","modified"]),Xt}class $n{constructor(de,Ce,Ee){this.ref=de,this.query=Ce,this.afs=Ee}stateChanges(de){let Ce=Di(this.query,this.afs.schedulers.outsideAngular);return de&&de.length>0&&(Ce=Ce.pipe((0,_e.U)(Ee=>Ee.filter(Y=>de.indexOf(Y.type)>-1)))),Ce.pipe((0,Pe.O)(void 0),(0,le.G)(),(0,Le.h)(([Ee,Y])=>Y.length>0||!Ee),(0,_e.U)(([Ee,Y])=>Y),we.iC)}auditTrail(de){return this.stateChanges(de).pipe((0,se.R)((Ce,Ee)=>[...Ce,...Ee],[]))}snapshotChanges(de){const Ce=rr(de);return er(this.query,Ce,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(de={}){return Tr(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(Ce=>Ce.payload.docs.map(Ee=>de.idField?Object.assign(Object.assign({},Ee.data()),{[de.idField]:Ee.id}):Ee.data())),we.iC)}get(de){return(0,ue.D)(this.query.get(de)).pipe(we.iC)}add(de){return this.ref.add(de)}doc(de){return new Rn(this.ref.doc(de),this.afs)}}class Rn{constructor(de,Ce){this.ref=de,this.afs=Ce}set(de,Ce){return this.ref.set(de,Ce)}update(de){return this.ref.update(de)}delete(){return this.ref.delete()}collection(de,Ce){const Ee=this.ref.collection(de),{ref:Y,query:Se}=Wn(Ee,Ce);return new $n(Y,Se,this.afs)}snapshotChanges(){return function Hn(Xt,de){return fi(Xt,de).pipe((0,Pe.O)(void 0),(0,le.G)(),(0,_e.U)(([Ce,Ee])=>Ee.exists?Ce?.exists?{payload:Ee,type:"modified"}:{payload:Ee,type:"added"}:{payload:Ee,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(de={}){return this.snapshotChanges().pipe((0,_e.U)(({payload:Ce})=>de.idField?Object.assign(Object.assign({},Ce.data()),{[de.idField]:Ce.id}):Ce.data()))}get(de){return(0,ue.D)(this.ref.get(de)).pipe(we.iC)}}class ar{constructor(de,Ce){this.query=de,this.afs=Ce}stateChanges(de){return de&&0!==de.length?Di(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(Ce=>Ce.filter(Ee=>de.indexOf(Ee.type)>-1)),(0,Le.h)(Ce=>Ce.length>0),we.iC):Di(this.query,this.afs.schedulers.outsideAngular).pipe(we.iC)}auditTrail(de){return this.stateChanges(de).pipe((0,se.R)((Ce,Ee)=>[...Ce,...Ee],[]))}snapshotChanges(de){const Ce=rr(de);return er(this.query,Ce,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(de={}){return Tr(this.query,this.afs.schedulers.outsideAngular).pipe((0,_e.U)(Ee=>Ee.payload.docs.map(Y=>de.idField?Object.assign({[de.idField]:Y.id},Y.data()):Y.data())),we.iC)}get(de){return(0,ue.D)(this.query.get(de)).pipe(we.iC)}}const wr=new l.OlP("angularfire2.enableFirestorePersistence"),gr=new l.OlP("angularfire2.firestore.persistenceSettings"),jr=new l.OlP("angularfire2.firestore.settings"),di=new l.OlP("angularfire2.firestore.use-emulator");function Wn(Xt,de=(Ce=>Ce)){return{query:de(Xt),ref:Xt}}class xr{constructor(de,Ce,Ee,Y,Se,pt,yn,Zn,He,Ue,fe,oe,me,Ct,Ke,ee,Oe){this.schedulers=yn;const nt=(0,Xe.on)(de,pt,Ce),Ut=He;Ue&&(0,Br.nw)(nt,pt,fe,me,Ct,Ke,oe,ee),[this.firestore,this.persistenceEnabled$]=(0,Xe.cc)(`${nt.name}.firestore`,"AngularFirestore",nt.name,()=>{const tn=pt.runOutsideAngular(()=>nt.firestore());if(Y&&tn.settings(Y),Ut&&tn.useEmulator(...Ut),Ee&&!(0,We.PM)(Se)){const On=()=>{try{return(0,ue.D)(tn.enablePersistence(Zn||void 0).then(()=>!0,()=>!1))}catch(lt){return typeof console<"u"&&console.warn(lt),(0,Me.of)(!1)}};return[tn,pt.runOutsideAngular(On)]}return[tn,(0,Me.of)(!1)]},[Y,Ut,Ee])}collection(de,Ce){let Ee;Ee="string"==typeof de?this.firestore.collection(de):de;const{ref:Y,query:Se}=Wn(Ee,Ce),pt=this.schedulers.ngZone.run(()=>Y);return new $n(pt,Se,this)}collectionGroup(de,Ce){const Ee=Ce||(Se=>Se),Y=this.firestore.collectionGroup(de);return new ar(Ee(Y),this)}doc(de){let Ce;Ce="string"==typeof de?this.firestore.doc(de):de;const Ee=this.schedulers.ngZone.run(()=>Ce);return new Rn(Ee,this)}createId(){return this.firestore.collection("_").doc().id}}xr.\u0275fac=function(de){return new(de||xr)(l.LFG(Xe.Dh),l.LFG(Xe.xv,8),l.LFG(wr,8),l.LFG(jr,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(we.HU),l.LFG(gr,8),l.LFG(di,8),l.LFG(Br.zQ,8),l.LFG(Br.Qv,8),l.LFG(Br.L6,8),l.LFG(Br._Q,8),l.LFG(Br.rT,8),l.LFG(Br.lh,8),l.LFG(Br.f7,8),l.LFG(dr.nm,8))},xr.\u0275prov=l.Yz7({token:xr,factory:xr.\u0275fac,providedIn:"any"});class Mn{constructor(){ri.Z.registerVersion("angularfire",we.q4.full,"fst-compat")}static enablePersistence(de){return{ngModule:Mn,providers:[{provide:wr,useValue:!0},{provide:gr,useValue:de}]}}}Mn.\u0275fac=function(de){return new(de||Mn)},Mn.\u0275mod=l.oAB({type:Mn}),Mn.\u0275inj=l.cJS({providers:[xr]})},2011:(En,rt,S)=>{S.d(rt,{Dh:()=>le,GT:()=>we,cc:()=>We,hO:()=>Xe,on:()=>se,pX:()=>Me,xv:()=>_e});var l=S(4650),g=S(9260),z=S(2122);En=S.hmd(En);const ue=["ngOnDestroy"],Me=(Et,gt,bt,_t={})=>new Proxy(Et,{get:(Be,at)=>bt.runOutsideAngular(()=>{var qt;if(Et[at])return!(null===(qt=_t?.spy)||void 0===qt)&&qt.get&&_t.spy.get(at,Et[at]),Et[at];if(ue.indexOf(at)>-1)return()=>{};const Ye=gt.toPromise().then(X=>{const Bt=X&&X[at];return"function"==typeof Bt?Bt.bind(X):Bt&&Bt.then?Bt.then(_n=>bt.run(()=>_n)):bt.run(()=>Bt)});return new Proxy(()=>{},{get:(X,Bt)=>Ye[Bt],apply:(X,Bt,_n)=>Ye.then(en=>{var jn;const Pn=en&&en(..._n);return!(null===(jn=_t?.spy)||void 0===jn)&&jn.apply&&_t.spy.apply(at,_n,Pn),Pn})})})}),we=(Et,gt)=>{gt.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(_t=>{Object.defineProperty(Et.prototype,_t,Object.getOwnPropertyDescriptor(bt.prototype||bt,_t))})})};class Pe{constructor(gt){return gt}}const le=new l.OlP("angularfire2.app.options"),_e=new l.OlP("angularfire2.app.name");function se(Et,gt,bt){const _t="string"==typeof bt&&bt||"[DEFAULT]",Be="object"==typeof bt&&bt||{};Be.name=Be.name||_t;const qt=g.Z.apps.filter(Ye=>Ye&&Ye.name===Be.name)[0]||gt.runOutsideAngular(()=>g.Z.initializeApp(Et,Be));try{if(JSON.stringify(Et)!==JSON.stringify(qt.options)){const Ye=!!En.hot;Re("error",`${qt.name} Firebase App already initialized with different options${Ye?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Pe(qt)}const Re=(Et,...gt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Et](...gt)},Le={provide:Pe,useFactory:se,deps:[le,l.R0b,[new l.FiY,_e]]};class Xe{constructor(gt){g.Z.registerVersion("angularfire",z.q4.full,"core"),g.Z.registerVersion("angularfire",z.q4.full,"app-compat"),g.Z.registerVersion("angular",l.q4F.full,gt.toString())}static initializeApp(gt,bt){return{ngModule:Xe,providers:[{provide:le,useValue:gt},{provide:_e,useValue:bt}]}}}function We(Et,gt,bt,_t,Be){const[,at,qt]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===Et)||[];if(at)return function St(Et,gt){try{return Et.toString()===gt.toString()}catch{return Et===gt}}(Be,qt)||(Ie("error",`${gt} was already initialized on the ${bt} Firebase App with different settings.${Ft?" You may need to reload as Firebase is not HMR aware.":""}`),Ie("warn",{is:Be,was:qt})),at;{const Ye=_t();return globalThis.\u0275AngularfireInstanceCache.push([Et,Ye,Be]),Ye}}Xe.\u0275fac=function(gt){return new(gt||Xe)(l.LFG(l.Lbi))},Xe.\u0275mod=l.oAB({type:Xe}),Xe.\u0275inj=l.cJS({providers:[Le]});const Ft=!!En.hot,Ie=(Et,...gt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Et](...gt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9214:(En,rt,S)=>{S.d(rt,{vr:()=>po,ad:()=>fs,Cm:()=>Ir,r7:()=>T});var l=S(2122),g=S(5963),z=S(8996),ue=S(4351),Me=S(7552),we=S(4650),Pe=S(3692),le=S(259),_e=S(3432),We=(S(2090),S(9681),S(1877),S(4859),S(9751)),St=S(9646),Ft=S(3900);
/**
         * @license
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Et(st){return new We.y(function(ut){return{unsubscribe:(0,_e.t)(st,ut.next.bind(ut),ut.error.bind(ut),ut.complete.bind(ut))}})}const bt="auth";class _t{constructor(ut){return ut}}class Be{constructor(){return(0,l.vb)(bt)}}(0,g.H)(0,300).pipe((0,ue.b)(()=>(0,z.D)((0,l.vb)(bt))),(0,Me.E)());const qt=new we.OlP("angularfire2.auth-instances");const Bt={provide:Be,deps:[[new we.FiY,qt]]},_n={provide:_t,useFactory:function Ye(st,ut){const Tt=(0,l.JM)(bt,st,ut);return Tt&&new _t(Tt)},deps:[[new we.FiY,qt],Pe.Ot]};class en{constructor(){(0,le.KN)("angularfire",l.q4.full,"auth")}}en.\u0275fac=function(ut){return new(ut||en)},en.\u0275mod=we.oAB({type:en}),en.\u0275inj=we.cJS({providers:[_n,Bt]});(0,l.u3)(function Ie(st){return new We.y(function(ut){return{unsubscribe:(0,_e.w)(st,ut.next.bind(ut),ut.error.bind(ut),ut.complete.bind(ut))}})},!0),(0,l.u3)(Et,!0),(0,l.u3)(function gt(st){return Et(st).pipe((0,Ft.w)(function(ut){return ut?(0,z.D)((0,_e.ak)(ut)):(0,St.of)(null)}))},!0),(0,l.u3)(_e.a4,!0),(0,l.u3)(_e.v,!0),(0,l.u3)(_e.a5,!0),(0,l.u3)(_e.a3,!0),(0,l.u3)(_e.H,!0),(0,l.u3)(_e.a7,!0),(0,l.u3)(_e.B,!0),(0,l.u3)(_e.ac,!0),(0,l.u3)(_e.an,!0),(0,l.u3)(_e.o,!0),(0,l.u3)(_e.ak,!0),(0,l.u3)(_e.al,!0),(0,l.u3)(_e.ap,!0),(0,l.u3)(_e.j,!0),(0,l.u3)(_e.G,!0),(0,l.u3)(_e.aa,!0),(0,l.u3)(_e.$,!0),(0,l.u3)(_e.l,!0),(0,l.u3)(_e.d,!0),(0,l.u3)(_e.g,!0),(0,l.u3)(_e.aq,!0),(0,l.u3)(_e.w,!0),(0,l.u3)(_e.t,!0),(0,l.u3)(_e.ag,!0),(0,l.u3)(_e.a0,!0),(0,l.u3)(_e.r,!0),(0,l.u3)(_e.e,!0),(0,l.u3)(_e.h,!0),(0,l.u3)(_e.ao,!0),(0,l.u3)(_e.ad,!0),(0,l.u3)(_e.a2,!0),(0,l.u3)(_e.a9,!0),(0,l.u3)(_e.q,!0),(0,l.u3)(_e.Z,!0),(0,l.u3)(_e._,!0),(0,l.u3)(_e.a1,!0),(0,l.u3)(_e.a8,!0),(0,l.u3)(_e.ab,!0),(0,l.u3)(_e.s,!0),(0,l.u3)(_e.c,!0),(0,l.u3)(_e.f,!0),(0,l.u3)(_e.z,!0),(0,l.u3)(_e.am,!0),(0,l.u3)(_e.y,!0),(0,l.u3)(_e.ai,!0),(0,l.u3)(_e.aj,!0),(0,l.u3)(_e.u,!0),(0,l.u3)(_e.ah,!0),(0,l.u3)(_e.x,!0),(0,l.u3)(_e.ae,!0),(0,l.u3)(_e.a6,!0);var fe=S(2313);
/*! *****************************************************************************
        Copyright (c) Microsoft Corporation.
        
        Permission to use, copy, modify, and/or distribute this software for any
        purpose with or without fee is hereby granted.
        
        THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
        REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
        AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
        INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
        LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
        OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
        PERFORMANCE OF THIS SOFTWARE.
        ***************************************************************************** */Object.create;function Cn(st,ut){for(var Tt=0,dt=ut.length,hn=st.length;Tt<dt;Tt++,hn++)st[hn]=ut[Tt];return st}Object.create;var Vn=S(5525),At=S(9635),G=S(4004),ge=S(9300),ze=S(8675),xt=S(1520),cn=S(5026),In=S(1884),zn={includeMetadataChanges:!1};
/**
         * @license
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Er(st,ut){return void 0===ut&&(ut=zn),new We.y(function(Tt){return{unsubscribe:(0,Vn.cf)(st,ut,{next:Tt.next.bind(Tt),error:Tt.error.bind(Tt),complete:Tt.complete.bind(Tt)})}})
/**
         * @license
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}function fr(st){return Er(st,{includeMetadataChanges:!0})}function ct(st,ut){void 0===ut&&(ut={});var Tt=st.data();return!st.exists()||"object"!=typeof Tt||null===Tt||ut.idField&&(Tt[ut.idField]=st.id),Tt
/**
         * @license
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}var Qe=["added","modified","removed"],jt=function(st){return(0,ge.h)(function(ut){for(var Tt=!1,dt=0;dt<ut.length;dt++){var hn=ut[dt];if(st&&st.indexOf(hn.type)>=0){Tt=!0;break}}return Tt})};function ln(st,ut,Tt){for(var dt=[],hn=3;hn<arguments.length;hn++)dt[hn-3]=arguments[hn];var Fn=st.slice();return Fn.splice.apply(Fn,Cn([ut,Tt],dt)),Fn}function cr(st,ut,Tt){return void 0===Tt&&(Tt=Qe),ut.forEach(function(dt){Tt.indexOf(dt.type)>-1&&(st=function Gn(st,ut){switch(ut.type){case"added":if(!st[ut.newIndex]||!(0,Vn.Eo)(st[ut.newIndex].doc.ref,ut.doc.ref))return ln(st,ut.newIndex,0,ut);break;case"modified":if(null==st[ut.oldIndex]||(0,Vn.Eo)(st[ut.oldIndex].doc.ref,ut.doc.ref)){if(ut.oldIndex!==ut.newIndex){var Tt=st.slice();return Tt.splice(ut.oldIndex,1),Tt.splice(ut.newIndex,0,ut),Tt}return ln(st,ut.newIndex,1,ut)}break;case"removed":if(st[ut.oldIndex]&&(0,Vn.Eo)(st[ut.oldIndex].doc.ref,ut.doc.ref))return ln(st,ut.oldIndex,1)}return st}(st,dt))}),st}var $r=function(){return(0,At.z)((0,ze.O)(void 0),(0,xt.G)())},_r=function(st,ut){return JSON.stringify(st.metadata)===JSON.stringify(ut.metadata)},zi=function(){return(0,At.z)($r(),(0,ge.h)(function(st){var ut=st[0];return st[1].length>0||void 0===ut}),(0,G.U)(function(st){return st[0],st[1]}))};function Ii(st,ut){return void 0===ut&&(ut={}),Er(st,{includeMetadataChanges:!0}).pipe($r(),(0,G.U)(function(Tt){var dt=Tt[0],hn=Tt[1],Fn=hn.docChanges();return dt&&!_r(dt,hn)&&hn.docs.forEach(function(Qr,Rr){var go=Fn.find(function(mi){return(0,Vn.Eo)(mi.doc.ref,Qr.ref)});if(go){if(_r(go.doc,Qr))return}else{var Yr=dt?.docs.find(function(mi){return(0,Vn.Eo)(mi.ref,Qr.ref)});if(Yr&&_r(Yr,Qr))return}Fn.push({oldIndex:Rr,newIndex:Rr,type:"modified",doc:Qr})}),Fn}),jt(ut.events||Qe),zi())}function _i(st){return Er(st,{includeMetadataChanges:!0}).pipe((0,G.U)(function(ut){return ut.docs}))}class si{constructor(ut){return ut}}const ii="firestore";(0,g.H)(0,300).pipe((0,ue.b)(()=>(0,z.D)((0,l.vb)(ii))),(0,Me.E)());const Ar=new we.OlP("angularfire2.firestore-instances");function yo(st){return(ut,Tt)=>{const dt=ut.runOutsideAngular(()=>st(Tt));return new si(dt)}}const qr={provide:class pr{constructor(){return(0,l.vb)(ii)}},deps:[[new we.FiY,Ar]]},xi={provide:si,useFactory:function no(st,ut){const Tt=(0,l.JM)(ii,st,ut);return Tt&&new si(Tt)},deps:[[new we.FiY,Ar],Pe.Ot]};class Jr{constructor(){(0,le.KN)("angularfire",l.q4.full,"fst")}}function Ir(st,...ut){return{ngModule:Jr,providers:[{provide:Ar,useFactory:yo(st),multi:!0,deps:[we.R0b,we.zs3,l.HU,Pe.z6,[new we.FiY,Be],[new we.FiY,fe.nm],...ut]}]}}Jr.\u0275fac=function(ut){return new(ut||Jr)},Jr.\u0275mod=we.oAB({type:Jr}),Jr.\u0275inj=we.cJS({providers:[xi,qr]});(0,l.u3)(Ii,!0),(0,l.u3)(_i,!0),(0,l.u3)(function Oo(st,ut){return void 0===ut&&(ut={}),Ii(st,ut).pipe((0,cn.R)(function(Tt,dt){return cr(Tt,dt,ut.events)},[]),(0,In.x)())},!0),(0,l.u3)(function Wr(st,ut){return void 0===ut&&(ut={}),Ii(st,ut).pipe((0,cn.R)(function(Tt,dt){return Cn(Cn([],Tt),dt)},[]))},!0),(0,l.u3)(function jo(st,ut){return void 0===ut&&(ut={}),_i(st).pipe((0,G.U)(function(Tt){return Tt.map(function(dt){return ct(dt,ut)})}))},!0),(0,l.u3)(fr,!0),(0,l.u3)(function mt(st,ut){return void 0===ut&&(ut={}),fr(st).pipe((0,G.U)(function(Tt){return ct(Tt,ut)}))},!0),(0,l.u3)(ct,!0),(0,l.u3)(Er,!0),(0,l.u3)(Vn.ET,!0),(0,l.u3)(Vn.Ab,!0);const po=(0,l.u3)(Vn.vr,!0),fs=((0,l.u3)(Vn.Fc,!0),(0,l.u3)(Vn.hJ,!0),(0,l.u3)(Vn.B$,!0),(0,l.u3)(Vn.at,!0),(0,l.u3)(Vn.oe,!0),(0,l.u3)(Vn.AK,!0),(0,l.u3)(Vn.TF,!0),(0,l.u3)(Vn.JU,!0),(0,l.u3)(Vn.Jm,!0),(0,l.u3)(Vn.ST,!0),(0,l.u3)(Vn.fH,!0),(0,l.u3)(Vn.Ix,!0),(0,l.u3)(Vn.Wu,!0),(0,l.u3)(Vn.Lx,!0),(0,l.u3)(Vn.QT,!0),(0,l.u3)(Vn.kl,!0),(0,l.u3)(Vn.Xk,!0),(0,l.u3)(Vn.PL,!0),(0,l.u3)(Vn.UQ,!0),(0,l.u3)(Vn.zN,!0),(0,l.u3)(Vn.ad,!0)),T=((0,l.u3)(Vn.nP,!0),(0,l.u3)(Vn.LV,!0),(0,l.u3)(Vn.b9,!0),(0,l.u3)(Vn.vh,!0),(0,l.u3)(Vn.Pb,!0),(0,l.u3)(Vn.L$,!0),(0,l.u3)(Vn.cf,!0),(0,l.u3)(Vn.sc,!0),(0,l.u3)(Vn.Xo,!0),(0,l.u3)(Vn.IO,!0),(0,l.u3)(Vn.iE,!0),(0,l.u3)(Vn.Eo,!0),(0,l.u3)(Vn.i3,!0),(0,l.u3)(Vn.Bt,!0),(0,l.u3)(Vn.pl,!0),(0,l.u3)(Vn.Ub,!0),(0,l.u3)(Vn.qK,!0),(0,l.u3)(Vn.TQ,!0),(0,l.u3)(Vn.e0,!0),(0,l.u3)(Vn.RA,!0),(0,l.u3)(Vn.r7,!0));(0,l.u3)(Vn.Mx,!0),(0,l.u3)(Vn.ar,!0),(0,l.u3)(Vn.qs,!0)},2122:(En,rt,S)=>{S.d(rt,{q4:()=>ta,iC:()=>da,HU:()=>Gs,vb:()=>oi,JM:()=>Mr,u3:()=>na});var l=S(4650),g=S(259),z=S(5861),ue=S(9681),Me=S(2090),we=S(4859),Pe=S(1877),le=S(8766);const _e="@firebase/installations",se="0.6.4",Re=1e4,Le=`w:${se}`,Xe="FIS_v2",We="https://firebaseinstallations.googleapis.com/v1",St=36e5,Et={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},gt=new Me.LL("installations","Installations",Et);
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function bt(V){return V instanceof Me.ZR&&V.code.includes("request-failed")}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function _t({projectId:V}){return`${We}/projects/${V}/installations`}function Be(V){return{token:V.token,requestStatus:2,expiresIn:en(V.expiresIn),creationTime:Date.now()}}function at(V,K){return qt.apply(this,arguments)}function qt(){return(qt=(0,z.Z)(function*(V,K){const Ze=(yield K.json()).error;return gt.create("request-failed",{requestName:V,serverCode:Ze.code,serverMessage:Ze.message,serverStatus:Ze.status})})).apply(this,arguments)}function Ye({apiKey:V}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V})}function X(V,{refreshToken:K}){const he=Ye(V);return he.append("Authorization",function jn(V){return`${Xe} ${V}`}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(K)),he}function Bt(V){return _n.apply(this,arguments)}function _n(){return(_n=(0,z.Z)(function*(V){const K=yield V();return K.status>=500&&K.status<600?V():K})).apply(this,arguments)}function en(V){return Number(V.replace("s","000"))}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function ft(){return(ft=(0,z.Z)(function*({appConfig:V,heartbeatServiceProvider:K},{fid:he}){const Ze=_t(V),wt=Ye(V),Wt=K.getImmediate({optional:!0});if(Wt){const zr=yield Wt.getHeartbeatsHeader();zr&&wt.append("x-firebase-client",zr)}const wn={fid:he,authVersion:Xe,appId:V.appId,sdkVersion:Le},lr={method:"POST",headers:wt,body:JSON.stringify(wn)},kr=yield Bt(()=>fetch(Ze,lr));if(kr.ok){const zr=yield kr.json();return{fid:zr.fid||he,registrationStatus:2,refreshToken:zr.refreshToken,authToken:Be(zr.authToken)}}throw yield at("Create Installation",kr)})).apply(this,arguments)}function Ot(V){return new Promise(K=>{setTimeout(K,V)})}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const Lt=/^[cdef][\w-]{21}$/,Ht="";function Gt(){try{const V=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(V),V[0]=112+V[0]%16;const he=function Qt(V){return function Rt(V){return btoa(String.fromCharCode(...V)).replace(/\+/g,"-").replace(/\//g,"_")}(V).substr(0,22)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(V);return Lt.test(he)?he:Ht}catch{return Ht}}function it(V){return`${V.appName}!${V.appId}`}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const It=new Map;function Mt(V,K){const he=it(V);xn(he,K),function ur(V,K){const he=Un();he&&he.postMessage({key:V,fid:K}),vr()}(he,K)}function xn(V,K){const he=It.get(V);if(he)for(const Ze of he)Ze(K)}let br=null;function Un(){return!br&&"BroadcastChannel"in self&&(br=new BroadcastChannel("[Firebase] FID Change"),br.onmessage=V=>{xn(V.data.key,V.data.fid)}),br}function vr(){0===It.size&&br&&(br.close(),br=null)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Nr="firebase-installations-database",Jn=1,Br="firebase-installations-store";let dr=null;function ri(){return dr||(dr=(0,le.X3)(Nr,Jn,{upgrade:(V,K)=>{if(0===K)V.createObjectStore(Br)}})),dr}function hr(V,K){return fi.apply(this,arguments)}function fi(){return(fi=(0,z.Z)(function*(V,K){const he=it(V),wt=(yield ri()).transaction(Br,"readwrite"),Wt=wt.objectStore(Br),wn=yield Wt.get(he);return yield Wt.put(K,he),yield wt.done,(!wn||wn.fid!==K.fid)&&Mt(V,K.fid),K})).apply(this,arguments)}function Hn(V){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,z.Z)(function*(V){const K=it(V),Ze=(yield ri()).transaction(Br,"readwrite");yield Ze.objectStore(Br).delete(K),yield Ze.done})).apply(this,arguments)}function Di(V,K){return er.apply(this,arguments)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function er(){return(er=(0,z.Z)(function*(V,K){const he=it(V),wt=(yield ri()).transaction(Br,"readwrite"),Wt=wt.objectStore(Br),wn=yield Wt.get(he),lr=K(wn);return void 0===lr?yield Wt.delete(he):yield Wt.put(lr,he),yield wt.done,lr&&(!wn||wn.fid!==lr.fid)&&Mt(V,lr.fid),lr})).apply(this,arguments)}function Zr(V){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,z.Z)(function*(V){let K;const he=yield Di(V.appConfig,Ze=>{const wt=function ir(V){const K=V||{fid:Gt(),registrationStatus:0};return jr(K)}(Ze),Wt=function rr(V,K){if(0===K.registrationStatus){if(!navigator.onLine){return{installationEntry:K,registrationPromise:Promise.reject(gt.create("app-offline"))}}const he={fid:K.fid,registrationStatus:1,registrationTime:Date.now()},Ze=function $n(V,K){return Rn.apply(this,arguments)}(V,he);return{installationEntry:he,registrationPromise:Ze}}return 1===K.registrationStatus?{installationEntry:K,registrationPromise:ar(V)}:{installationEntry:K}}(V,wt);return K=Wt.registrationPromise,Wt.installationEntry});return he.fid===Ht?{installationEntry:yield K}:{installationEntry:he,registrationPromise:K}}),Lr.apply(this,arguments)}function Rn(){return Rn=(0,z.Z)(function*(V,K){try{const he=yield function Pn(V,K){return ft.apply(this,arguments)}(V,K);return hr(V.appConfig,he)}catch(he){throw bt(he)&&409===he.customData.serverCode?yield Hn(V.appConfig):yield hr(V.appConfig,{fid:K.fid,registrationStatus:0}),he}}),Rn.apply(this,arguments)}function ar(V){return wr.apply(this,arguments)}function wr(){return(wr=(0,z.Z)(function*(V){let K=yield gr(V.appConfig);for(;1===K.registrationStatus;)yield Ot(100),K=yield gr(V.appConfig);if(0===K.registrationStatus){const{installationEntry:he,registrationPromise:Ze}=yield Zr(V);return Ze||he}return K})).apply(this,arguments)}function gr(V){return Di(V,K=>{if(!K)throw gt.create("installation-not-found");return jr(K)})}function jr(V){return function di(V){return 1===V.registrationStatus&&V.registrationTime+Re<Date.now()}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(V)?{fid:V.fid,registrationStatus:0}:V}function xr(){return(xr=(0,z.Z)(function*({appConfig:V,heartbeatServiceProvider:K},he){const Ze=function Mn(V,{fid:K}){return`${_t(V)}/${K}/authTokens:generate`}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(V,he),wt=X(V,he),Wt=K.getImmediate({optional:!0});if(Wt){const zr=yield Wt.getHeartbeatsHeader();zr&&wt.append("x-firebase-client",zr)}const wn={installation:{sdkVersion:Le,appId:V.appId}},lr={method:"POST",headers:wt,body:JSON.stringify(wn)},kr=yield Bt(()=>fetch(Ze,lr));if(kr.ok){return Be(yield kr.json())}throw yield at("Generate Auth Token",kr)})).apply(this,arguments)}function Xt(V){return de.apply(this,arguments)}function de(){return de=(0,z.Z)(function*(V,K=!1){let he;const Ze=yield Di(V.appConfig,Wt=>{if(!yn(Wt))throw gt.create("not-registered");const wn=Wt.authToken;if(!K&&function Zn(V){return 2===V.requestStatus&&!function He(V){const K=Date.now();return K<V.creationTime||V.creationTime+V.expiresIn<K+St}(V)}(wn))return Wt;if(1===wn.requestStatus)return he=function Ce(V,K){return Ee.apply(this,arguments)}(V,K),Wt;{if(!navigator.onLine)throw gt.create("app-offline");const lr=function Ue(V){const K={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},V),{authToken:K})}(Wt);return he=function Se(V,K){return pt.apply(this,arguments)}(V,lr),lr}});return he?yield he:Ze.authToken}),de.apply(this,arguments)}function Ee(){return(Ee=(0,z.Z)(function*(V,K){let he=yield Y(V.appConfig);for(;1===he.authToken.requestStatus;)yield Ot(100),he=yield Y(V.appConfig);const Ze=he.authToken;return 0===Ze.requestStatus?Xt(V,K):Ze})).apply(this,arguments)}function Y(V){return Di(V,K=>{if(!yn(K))throw gt.create("not-registered");return function fe(V){return 1===V.requestStatus&&V.requestTime+Re<Date.now()}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(K.authToken)?Object.assign(Object.assign({},K),{authToken:{requestStatus:0}}):K})}function pt(){return pt=(0,z.Z)(function*(V,K){try{const he=yield function Wn(V,K){return xr.apply(this,arguments)}(V,K),Ze=Object.assign(Object.assign({},K),{authToken:he});return yield hr(V.appConfig,Ze),he}catch(he){if(!bt(he)||401!==he.customData.serverCode&&404!==he.customData.serverCode){const Ze=Object.assign(Object.assign({},K),{authToken:{requestStatus:0}});yield hr(V.appConfig,Ze)}else yield Hn(V.appConfig);throw he}}),pt.apply(this,arguments)}function yn(V){return void 0!==V&&2===V.registrationStatus}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function me(){return(me=(0,z.Z)(function*(V){const K=V,{installationEntry:he,registrationPromise:Ze}=yield Zr(K);return Ze?Ze.catch(console.error):Xt(K).catch(console.error),he.fid})).apply(this,arguments)}function Ke(){return Ke=(0,z.Z)(function*(V,K=!1){const he=V;return yield function ee(V){return Oe.apply(this,arguments)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(he),(yield Xt(he,K)).token}),Ke.apply(this,arguments)}function Oe(){return(Oe=(0,z.Z)(function*(V){const{registrationPromise:K}=yield Zr(V);K&&(yield K)})).apply(this,arguments)}function Kt(V){return gt.create("missing-app-config-values",{valueName:V})}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Cn="installations",nr="installations-internal",Zi=V=>{const K=V.getProvider("app").getImmediate(),he=
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function yt(V){if(!V||!V.options)throw Kt("App Configuration");if(!V.name)throw Kt("App Name");const K=["projectId","apiKey","appId"];for(const he of K)if(!V.options[he])throw Kt(he);return{appName:V.name,projectId:V.options.projectId,apiKey:V.options.apiKey,appId:V.options.appId}}(K);return{app:K,appConfig:he,heartbeatServiceProvider:(0,ue._getProvider)(K,"heartbeat"),_delete:()=>Promise.resolve()}},Ui=V=>{const K=V.getProvider("app").getImmediate(),he=(0,ue._getProvider)(K,Cn).getImmediate();return{getId:()=>function oe(V){return me.apply(this,arguments)}(he),getToken:wt=>function Ct(V){return Ke.apply(this,arguments)}(he,wt)}};(function Ti(){(0,ue._registerComponent)(new we.wA(Cn,Zi,"PUBLIC")),(0,ue._registerComponent)(new we.wA(nr,Ui,"PRIVATE"))})(),(0,ue.registerVersion)(_e,se),(0,ue.registerVersion)(_e,se,"esm2017");const Or="@firebase/remote-config",Vi="0.4.4";
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const io="remote-config",Fi={"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"},ai=new Me.LL("remoteconfig","Remote Config",Fi);
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class _r{constructor(K,he,Ze,wt){this.client=K,this.storage=he,this.storageCache=Ze,this.logger=wt}isCachedDataFresh(K,he){if(!he)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ze=Date.now()-he,wt=Ze<=K;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ze}. Cache max age millis (minimumFetchIntervalMillis setting): ${K}. Is cache hit: ${wt}.`),wt}fetch(K){var he=this;return(0,z.Z)(function*(){const[Ze,wt]=yield Promise.all([he.storage.getLastSuccessfulFetchTimestampMillis(),he.storage.getLastSuccessfulFetchResponse()]);if(wt&&he.isCachedDataFresh(K.cacheMaxAgeMillis,Ze))return wt;K.eTag=wt&&wt.eTag;const Wt=yield he.client.fetch(K),wn=[he.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Wt.status&&wn.push(he.storage.setLastSuccessfulFetchResponse(Wt)),yield Promise.all(wn),Wt})()}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function zi(V=navigator){return V.languages&&V.languages[0]||V.language}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Ii{constructor(K,he,Ze,wt,Wt,wn){this.firebaseInstallations=K,this.sdkVersion=he,this.namespace=Ze,this.projectId=wt,this.apiKey=Wt,this.appId=wn}fetch(K){var he=this;return(0,z.Z)(function*(){const[Ze,wt]=yield Promise.all([he.firebaseInstallations.getId(),he.firebaseInstallations.getToken()]),wn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${he.projectId}/namespaces/${he.namespace}:fetch?key=${he.apiKey}`,lr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":K.eTag||"*"},kr={sdk_version:he.sdkVersion,app_instance_id:Ze,app_instance_id_token:wt,app_id:he.appId,language_code:zi()},zr={method:"POST",headers:lr,body:JSON.stringify(kr)},Li=fetch(wn,zr),li=new Promise((bs,ha)=>{K.signal.addEventListener(()=>{const oc=new Error("The operation was aborted.");oc.name="AbortError",ha(oc)})});let Ls;try{yield Promise.race([Li,li]),Ls=yield Li}catch(bs){let ha="fetch-client-network";throw"AbortError"===bs?.name&&(ha="fetch-timeout"),ai.create(ha,{originalErrorMessage:bs?.message})}let vs=Ls.status;const Ec=Ls.headers.get("ETag")||void 0;let Dc,xa;if(200===Ls.status){let bs;try{bs=yield Ls.json()}catch(ha){throw ai.create("fetch-client-parse",{originalErrorMessage:ha?.message})}Dc=bs.entries,xa=bs.state}if("INSTANCE_STATE_UNSPECIFIED"===xa?vs=500:"NO_CHANGE"===xa?vs=304:("NO_TEMPLATE"===xa||"EMPTY_CONFIG"===xa)&&(Dc={}),304!==vs&&200!==vs)throw ai.create("fetch-status",{httpStatus:vs});return{status:vs,eTag:Ec,config:Dc}})()}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Wr{constructor(K,he){this.client=K,this.storage=he}fetch(K){var he=this;return(0,z.Z)(function*(){const Ze=(yield he.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return he.attemptFetch(K,Ze)})()}attemptFetch(K,{throttleEndTimeMillis:he,backoffCount:Ze}){var wt=this;return(0,z.Z)(function*(){yield function _i(V,K){return new Promise((he,Ze)=>{const wt=Math.max(K-Date.now(),0),Wt=setTimeout(he,wt);V.addEventListener(()=>{clearTimeout(Wt),Ze(ai.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}(K.signal,he);try{const Wt=yield wt.client.fetch(K);return yield wt.storage.deleteThrottleMetadata(),Wt}catch(Wt){if(!function Oo(V){if(!(V instanceof Me.ZR&&V.customData))return!1;const K=Number(V.customData.httpStatus);return 429===K||500===K||503===K||504===K}(Wt))throw Wt;const wn={throttleEndTimeMillis:Date.now()+(0,Me.$s)(Ze),backoffCount:Ze+1};return yield wt.storage.setThrottleMetadata(wn),wt.attemptFetch(K,wn)}})()}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ii{constructor(K,he,Ze,wt,Wt){this.app=K,this._client=he,this._storageCache=Ze,this._storage=wt,this._logger=Wt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function pr(V,K){const he=V.target.error||void 0;return ai.create(K,{originalErrorMessage:he&&he?.message})}const pi="app_namespace_store",Ar="firebase_remote_config",no=1;class qr{constructor(K,he,Ze,wt=function yo(){return new Promise((V,K)=>{try{const he=indexedDB.open(Ar,no);he.onerror=Ze=>{K(pr(Ze,"storage-open"))},he.onsuccess=Ze=>{V(Ze.target.result)},he.onupgradeneeded=Ze=>{const wt=Ze.target.result;0===Ze.oldVersion&&wt.createObjectStore(pi,{keyPath:"compositeKey"})}}catch(he){K(ai.create("storage-open",{originalErrorMessage:he?.message}))}})}()){this.appId=K,this.appName=he,this.namespace=Ze,this.openDbPromise=wt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(K){return this.set("last_fetch_status",K)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(K){return this.set("last_successful_fetch_timestamp_millis",K)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(K){return this.set("last_successful_fetch_response",K)}getActiveConfig(){return this.get("active_config")}setActiveConfig(K){return this.set("active_config",K)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(K){return this.set("active_config_etag",K)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(K){return this.set("throttle_metadata",K)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(K){var he=this;return(0,z.Z)(function*(){const Ze=yield he.openDbPromise;return new Promise((wt,Wt)=>{const lr=Ze.transaction([pi],"readonly").objectStore(pi),kr=he.createCompositeKey(K);try{const zr=lr.get(kr);zr.onerror=Li=>{Wt(pr(Li,"storage-get"))},zr.onsuccess=Li=>{const li=Li.target.result;wt(li?li.value:void 0)}}catch(zr){Wt(ai.create("storage-get",{originalErrorMessage:zr?.message}))}})})()}set(K,he){var Ze=this;return(0,z.Z)(function*(){const wt=yield Ze.openDbPromise;return new Promise((Wt,wn)=>{const kr=wt.transaction([pi],"readwrite").objectStore(pi),zr=Ze.createCompositeKey(K);try{const Li=kr.put({compositeKey:zr,value:he});Li.onerror=li=>{wn(pr(li,"storage-set"))},Li.onsuccess=()=>{Wt()}}catch(Li){wn(ai.create("storage-set",{originalErrorMessage:Li?.message}))}})})()}delete(K){var he=this;return(0,z.Z)(function*(){const Ze=yield he.openDbPromise;return new Promise((wt,Wt)=>{const lr=Ze.transaction([pi],"readwrite").objectStore(pi),kr=he.createCompositeKey(K);try{const zr=lr.delete(kr);zr.onerror=Li=>{Wt(pr(Li,"storage-delete"))},zr.onsuccess=()=>{wt()}}catch(zr){Wt(ai.create("storage-delete",{originalErrorMessage:zr?.message}))}})})()}createCompositeKey(K){return[this.appId,this.appName,this.namespace,K].join()}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class xi{constructor(K){this.storage=K}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var K=this;return(0,z.Z)(function*(){const he=K.storage.getLastFetchStatus(),Ze=K.storage.getLastSuccessfulFetchTimestampMillis(),wt=K.storage.getActiveConfig(),Wt=yield he;Wt&&(K.lastFetchStatus=Wt);const wn=yield Ze;wn&&(K.lastSuccessfulFetchTimestampMillis=wn);const lr=yield wt;lr&&(K.activeConfig=lr)})()}setLastFetchStatus(K){return this.lastFetchStatus=K,this.storage.setLastFetchStatus(K)}setLastSuccessfulFetchTimestampMillis(K){return this.lastSuccessfulFetchTimestampMillis=K,this.storage.setLastSuccessfulFetchTimestampMillis(K)}setActiveConfig(K){return this.activeConfig=K,this.storage.setActiveConfig(K)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Si(){return(Si=(0,z.Z)(function*(){if(!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}!function Jr(){(0,ue._registerComponent)(new we.wA(io,function V(K,{instanceIdentifier:he}){const Ze=K.getProvider("app").getImmediate(),wt=K.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ai.create("registration-window");if(!(0,Me.hl)())throw ai.create("indexed-db-unavailable");const{projectId:Wt,apiKey:wn,appId:lr}=Ze.options;if(!Wt)throw ai.create("registration-project-id");if(!wn)throw ai.create("registration-api-key");if(!lr)throw ai.create("registration-app-id");he=he||"firebase";const kr=new qr(lr,Ze.name,he),zr=new xi(kr),Li=new Pe.Yd(Or);Li.logLevel=Pe.in.ERROR;const li=new Ii(wt,ue.SDK_VERSION,he,Wt,wn,lr),Ls=new Wr(li,kr),vs=new _r(Ls,kr,zr,Li),Ec=new ii(Ze,vs,zr,kr,Li);return function Er(V){const K=(0,Me.m9)(V);return K._initializePromise||(K._initializePromise=K._storageCache.loadFromStorage().then(()=>{K._isInitializationComplete=!0})),K._initializePromise}(Ec),Ec},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(Or,Vi),(0,ue.registerVersion)(Or,Vi,"esm2017")}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */();
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const ki="/firebase-messaging-sw.js",Pr="/firebase-cloud-messaging-push-scope",Bo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oo="https://fcmregistrations.googleapis.com/v1",Ki="google.c.a.c_id",so="google.c.a.c_l",ko="google.c.a.ts",Po="google.c.a.e";var po,V,Io;
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Oi(V){const K=new Uint8Array(V);return btoa(String.fromCharCode(...K)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ms(V){const he=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ze=atob(he),wt=new Uint8Array(Ze.length);for(let Wt=0;Wt<Ze.length;++Wt)wt[Wt]=Ze.charCodeAt(Wt);return wt}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(V=po||(po={}))[V.DATA_MESSAGE=1]="DATA_MESSAGE",V[V.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",function(V){V.PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked"}(Io||(Io={}));const To="fcm_token_details_db",mo=5,Pi="fcm_token_object_Store";function $o(){return $o=(0,z.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Wt=>Wt.name).includes(To))return null;let K=null;return(yield(0,le.X3)(To,mo,{upgrade:(Ze=(0,z.Z)(function*(wt,Wt,wn,lr){var kr;if(Wt<2||!wt.objectStoreNames.contains(Pi))return;const zr=lr.objectStore(Pi),Li=yield zr.index("fcmSenderId").get(V);if(yield zr.clear(),Li)if(2===Wt){const li=Li;if(!li.auth||!li.p256dh||!li.endpoint)return;K={token:li.fcmToken,createTime:null!==(kr=li.createTime)&&void 0!==kr?kr:Date.now(),subscriptionOptions:{auth:li.auth,p256dh:li.p256dh,endpoint:li.endpoint,swScope:li.swScope,vapidKey:"string"==typeof li.vapidKey?li.vapidKey:Oi(li.vapidKey)}}}else if(3===Wt){const li=Li;K={token:li.fcmToken,createTime:li.createTime,subscriptionOptions:{auth:Oi(li.auth),p256dh:Oi(li.p256dh),endpoint:li.endpoint,swScope:li.swScope,vapidKey:Oi(li.vapidKey)}}}else if(4===Wt){const li=Li;K={token:li.fcmToken,createTime:li.createTime,subscriptionOptions:{auth:Oi(li.auth),p256dh:Oi(li.p256dh),endpoint:li.endpoint,swScope:li.swScope,vapidKey:Oi(li.vapidKey)}}}}),function(Wt,wn,lr,kr){return Ze.apply(this,arguments)})})).close(),yield(0,le.Lj)(To),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),function lo(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:K}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof K.auth&&K.auth.length>0&&"string"==typeof K.p256dh&&K.p256dh.length>0&&"string"==typeof K.endpoint&&K.endpoint.length>0&&"string"==typeof K.swScope&&K.swScope.length>0&&"string"==typeof K.vapidKey&&K.vapidKey.length>0}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(K)?K:null;var Ze}),$o.apply(this,arguments)}const bo="firebase-messaging-database",xo=1,ao="firebase-messaging-store";let uo=null;function qi(){return uo||(uo=(0,le.X3)(bo,xo,{upgrade:(V,K)=>{if(0===K)V.createObjectStore(ao)}})),uo}function ho(V){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,z.Z)(function*(V){const K=fs(V),Ze=yield(yield qi()).transaction(ao).objectStore(ao).get(K);if(Ze)return Ze;{const wt=yield function Gr(V){return $o.apply(this,arguments)}(V.appConfig.senderId);if(wt)return yield Mo(V,wt),wt}}),Ds.apply(this,arguments)}function Mo(V,K){return Uo.apply(this,arguments)}function Uo(){return Uo=(0,z.Z)(function*(V,K){const he=fs(V),wt=(yield qi()).transaction(ao,"readwrite");return yield wt.objectStore(ao).put(K,he),yield wt.done,K}),Uo.apply(this,arguments)}function Co(){return Co=(0,z.Z)(function*(V){const K=fs(V),Ze=(yield qi()).transaction(ao,"readwrite");yield Ze.objectStore(ao).delete(K),yield Ze.done}),Co.apply(this,arguments)}function fs({appConfig:V}){return V.appId}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Qo={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Fr=new Me.LL("messaging","Messaging",Qo);
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function fo(V,K){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,z.Z)(function*(V,K){const he=yield Ni(V),Ze=ji(K),wt={method:"POST",headers:he,body:JSON.stringify(Ze)};let Wt;try{Wt=yield(yield fetch(zo(V.appConfig),wt)).json()}catch(wn){throw Fr.create("token-subscribe-failed",{errorInfo:wn?.toString()})}if(Wt.error){const wn=Wt.error.message;throw Fr.create("token-subscribe-failed",{errorInfo:wn})}if(!Wt.token)throw Fr.create("token-subscribe-no-token");return Wt.token}),Bi.apply(this,arguments)}function Eo(){return Eo=(0,z.Z)(function*(V,K){const he=yield Ni(V),Ze=ji(K.subscriptionOptions),wt={method:"PATCH",headers:he,body:JSON.stringify(Ze)};let Wt;try{Wt=yield(yield fetch(`${zo(V.appConfig)}/${K.token}`,wt)).json()}catch(wn){throw Fr.create("token-update-failed",{errorInfo:wn?.toString()})}if(Wt.error){const wn=Wt.error.message;throw Fr.create("token-update-failed",{errorInfo:wn})}if(!Wt.token)throw Fr.create("token-update-no-token");return Wt.token}),Eo.apply(this,arguments)}function is(V,K){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,z.Z)(function*(V,K){const Ze={method:"DELETE",headers:yield Ni(V)};try{const Wt=yield(yield fetch(`${zo(V.appConfig)}/${K}`,Ze)).json();if(Wt.error){const wn=Wt.error.message;throw Fr.create("token-unsubscribe-failed",{errorInfo:wn})}}catch(wt){throw Fr.create("token-unsubscribe-failed",{errorInfo:wt?.toString()})}}),Hr.apply(this,arguments)}function zo({projectId:V}){return`${oo}/projects/${V}/registrations`}function Ni(V){return co.apply(this,arguments)}function co(){return co=(0,z.Z)(function*({appConfig:V,installations:K}){const he=yield K.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${he}`})}),co.apply(this,arguments)}function ji({p256dh:V,auth:K,endpoint:he,vapidKey:Ze}){const wt={web:{endpoint:he,auth:K,p256dh:V}};return Ze!==Bo&&(wt.web.applicationPubKey=Ze),wt
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}const Wo=6048e5;function Xo(){return Xo=(0,z.Z)(function*(V){const K=yield function J(V,K){return ot.apply(this,arguments)}(V.swRegistration,V.vapidKey),he={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:K.endpoint,auth:Oi(K.getKey("auth")),p256dh:Oi(K.getKey("p256dh"))},Ze=yield ho(V.firebaseDependencies);if(Ze){if(function pn(V,K){const he=K.vapidKey===V.vapidKey,Ze=K.endpoint===V.endpoint,wt=K.auth===V.auth,Wt=K.p256dh===V.p256dh;return he&&Ze&&wt&&Wt}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(Ze.subscriptionOptions,he))return Date.now()>=Ze.createTime+Wo?function Wi(V,K){return mr.apply(this,arguments)}(V,{token:Ze.token,createTime:Date.now(),subscriptionOptions:he}):Ze.token;try{yield is(V.firebaseDependencies,Ze.token)}catch(wt){console.warn(wt)}return re(V.firebaseDependencies,he)}return re(V.firebaseDependencies,he)}),Xo.apply(this,arguments)}function or(V){return Cs.apply(this,arguments)}function Cs(){return Cs=(0,z.Z)(function*(V){const K=yield ho(V.firebaseDependencies);K&&(yield is(V.firebaseDependencies,K.token),yield function Vo(V){return Co.apply(this,arguments)}(V.firebaseDependencies));const he=yield V.swRegistration.pushManager.getSubscription();return!he||he.unsubscribe()}),Cs.apply(this,arguments)}function mr(){return mr=(0,z.Z)(function*(V,K){try{const he=yield function yi(V,K){return Eo.apply(this,arguments)}(V.firebaseDependencies,K),Ze=Object.assign(Object.assign({},K),{token:he,createTime:Date.now()});return yield Mo(V.firebaseDependencies,Ze),he}catch(he){throw yield or(V),he}}),mr.apply(this,arguments)}function re(V,K){return T.apply(this,arguments)}function T(){return T=(0,z.Z)(function*(V,K){const Ze={token:yield fo(V,K),createTime:Date.now(),subscriptionOptions:K};return yield Mo(V,Ze),Ze.token}),T.apply(this,arguments)}function ot(){return ot=(0,z.Z)(function*(V,K){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ms(K)})}),ot.apply(this,arguments)}function st(V){const K={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function ut(V,K){if(!K.notification)return;V.notification={};const he=K.notification.title;he&&(V.notification.title=he);const Ze=K.notification.body;Ze&&(V.notification.body=Ze);const wt=K.notification.image;wt&&(V.notification.image=wt);const Wt=K.notification.icon;Wt&&(V.notification.icon=Wt)}(K,V),function Tt(V,K){K.data&&(V.data=K.data)}(K,V),function dt(V,K){var he,Ze,wt,Wt,wn;if(!(K.fcmOptions||null!==(he=K.notification)&&void 0!==he&&he.click_action))return;V.fcmOptions={};const lr=null!==(wt=null===(Ze=K.fcmOptions)||void 0===Ze?void 0:Ze.link)&&void 0!==wt?wt:null===(Wt=K.notification)||void 0===Wt?void 0:Wt.click_action;lr&&(V.fcmOptions.link=lr);const kr=null===(wn=K.fcmOptions)||void 0===wn?void 0:wn.analytics_label;kr&&(V.fcmOptions.analyticsLabel=kr)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(K,V),K}function Fn(V,K){const he=[];for(let Ze=0;Ze<V.length;Ze++)he.push(V.charAt(Ze)),Ze<K.length&&he.push(K.charAt(Ze));return he.join("")}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Rr(V){return Fr.create("missing-app-config-values",{valueName:V})}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
Fn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class go{constructor(K,he,Ze){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const wt=function Qr(V){if(!V||!V.options)throw Rr("App Configuration Object");if(!V.name)throw Rr("App Name");const K=["projectId","apiKey","appId","messagingSenderId"],{options:he}=V;for(const Ze of K)if(!he[Ze])throw Rr(Ze);return{appName:V.name,projectId:he.projectId,apiKey:he.apiKey,appId:he.appId,senderId:he.messagingSenderId}}(K);this.firebaseDependencies={app:K,appConfig:wt,installations:he,analyticsProvider:Ze}}_delete(){return Promise.resolve()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Yr(V){return mi.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function mi(){return mi=(0,z.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(ki,{scope:Pr}),V.swRegistration.update().catch(()=>{})}catch(K){throw Fr.create("failed-service-worker-registration",{browserErrorMessage:K?.message})}}),mi.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function y(){return y=(0,z.Z)(function*(V,K){if(!K&&!V.swRegistration&&(yield Yr(V)),K||!V.swRegistration){if(!(K instanceof ServiceWorkerRegistration))throw Fr.create("invalid-sw-registration");V.swRegistration=K}}),y.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function ie(){return ie=(0,z.Z)(function*(V,K){K?V.vapidKey=K:V.vapidKey||(V.vapidKey=Bo)}),ie.apply(this,arguments)}function De(V,K){return qe.apply(this,arguments)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function qe(){return qe=(0,z.Z)(function*(V,K){if(!navigator)throw Fr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Fr.create("permission-blocked");return yield function F(V,K){return ie.apply(this,arguments)}(V,K?.vapidKey),yield function Ve(V,K){return y.apply(this,arguments)}(V,K?.serviceWorkerRegistration),function $i(V){return Xo.apply(this,arguments)}(V)}),qe.apply(this,arguments)}function Dn(){return Dn=(0,z.Z)(function*(V,K,he){const Ze=function Ln(V){switch(V){case Io.NOTIFICATION_CLICKED:return"notification_open";case Io.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(K);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(Ze,{message_id:he[Ki],message_name:he[so],message_time:he[ko],message_device_time:Math.floor(Date.now()/1e3)})}),Dn.apply(this,arguments)}function tr(){return tr=(0,z.Z)(function*(V,K){const he=K.data;if(!he.isFirebaseMessaging)return;V.onMessageHandler&&he.messageType===Io.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(st(he)):V.onMessageHandler.next(st(he)));const Ze=he.data;(function hn(V){return"object"==typeof V&&!!V&&Ki in V})(Ze)&&"1"===Ze[Po]&&(yield function Jt(V,K,he){return Dn.apply(this,arguments)}(V,he.messageType,Ze))}),tr.apply(this,arguments)}const Vr="@firebase/messaging",Ho="0.12.4",Go=V=>{const K=new go(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",he=>function qn(V,K){return tr.apply(this,arguments)}(K,he)),K},Qi=V=>{const K=V.getProvider("messaging").getImmediate();return{getToken:Ze=>De(K,Ze)}};
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Zo(){return Vs.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Vs(){return(Vs=(0,z.Z)(function*(){try{yield(0,Me.eu)()}catch{return!1}return typeof window<"u"&&(0,Me.hl)()&&(0,Me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yo(){(0,ue._registerComponent)(new we.wA("messaging",Go,"PUBLIC")),(0,ue._registerComponent)(new we.wA("messaging-internal",Qi,"PRIVATE")),(0,ue.registerVersion)(Vr,Ho),(0,ue.registerVersion)(Vr,Ho,"esm2017")}();
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const A="analytics",H="firebase_id",ce="origin",ke=6e4,ve="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Je="https://www.googletagmanager.com/gtag/js",Pt=new Pe.Yd("@firebase/analytics"),rn={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yt=new Me.LL("analytics","Analytics",rn);
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function fn(V){if(!V.startsWith(Je)){const K=Yt.create("invalid-gtag-resource",{gtagURL:V});return Pt.warn(K.message),""}return V}function vi(V){return Promise.all(V.map(K=>K.catch(he=>he)))}function vt(V,K){const he=function un(V,K){let he;return window.trustedTypes&&(he=window.trustedTypes.createPolicy(V,K)),he}("firebase-js-sdk-policy",{createScriptURL:fn}),Ze=document.createElement("script"),wt=`${Je}?l=${V}&id=${K}`;Ze.src=he?he?.createScriptURL(wt):wt,Ze.async=!0,document.head.appendChild(Ze)}function Z(){return Z=(0,z.Z)(function*(V,K,he,Ze,wt,Wt){const wn=Ze[wt];try{if(wn)yield K[wn];else{const kr=(yield vi(he)).find(zr=>zr.measurementId===wt);kr&&(yield K[kr.appId])}}catch(lr){Pt.error(lr)}V("config",wt,Wt)}),Z.apply(this,arguments)}function ht(){return ht=(0,z.Z)(function*(V,K,he,Ze,wt){try{let Wt=[];if(wt&&wt.send_to){let wn=wt.send_to;Array.isArray(wn)||(wn=[wn]);const lr=yield vi(he);for(const kr of wn){const zr=lr.find(li=>li.measurementId===kr),Li=zr&&K[zr.appId];if(!Li){Wt=[];break}Wt.push(Li)}}0===Wt.length&&(Wt=Object.values(K)),yield Promise.all(Wt),V("event",Ze,wt||{})}catch(Wt){Pt.error(Wt)}}),ht.apply(this,arguments)}function kt(V,K,he,Ze){function Wt(){return Wt=(0,z.Z)(function*(wn,lr,kr){try{"event"===wn?yield function xe(V,K,he,Ze,wt){return ht.apply(this,arguments)}(V,K,he,lr,kr):"config"===wn?yield function I(V,K,he,Ze,wt,Wt){return Z.apply(this,arguments)}(V,K,he,Ze,lr,kr):"consent"===wn?V("consent","update",kr):V("set",lr)}catch(zr){Pt.error(zr)}}),Wt.apply(this,arguments)}return function wt(wn,lr,kr){return Wt.apply(this,arguments)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const ui=30;const Kr=new class bi{constructor(K={},he=1e3){this.throttleMetadata=K,this.intervalMillis=he}getThrottleMetadata(K){return this.throttleMetadata[K]}setThrottleMetadata(K,he){this.throttleMetadata[K]=he}deleteThrottleMetadata(K){delete this.throttleMetadata[K]}};function Xi(V){return new Headers({Accept:"application/json","x-goog-api-key":V})}function Hi(){return Hi=(0,z.Z)(function*(V){var K;const{appId:he,apiKey:Ze}=V,wt={method:"GET",headers:Xi(Ze)},Wt=ve.replace("{app-id}",he),wn=yield fetch(Wt,wt);if(200!==wn.status&&304!==wn.status){let lr="";try{const kr=yield wn.json();null!==(K=kr.error)&&void 0!==K&&K.message&&(lr=kr.error.message)}catch{}throw Yt.create("config-fetch-failed",{httpStatus:wn.status,responseMessage:lr})}return wn.json()}),Hi.apply(this,arguments)}function hi(){return hi=(0,z.Z)(function*(V,K=Kr,he){const{appId:Ze,apiKey:wt,measurementId:Wt}=V.options;if(!Ze)throw Yt.create("no-app-id");if(!wt){if(Wt)return{measurementId:Wt,appId:Ze};throw Yt.create("no-api-key")}const wn=K.getThrottleMetadata(Ze)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lr=new Ei;return setTimeout((0,z.Z)(function*(){lr.abort()}),void 0!==he?he:ke),an({appId:Ze,apiKey:wt,measurementId:Wt},wn,lr,K)}),hi.apply(this,arguments)}function an(V,K,he){return sr.apply(this,arguments)}function sr(){return sr=(0,z.Z)(function*(V,{throttleEndTimeMillis:K,backoffCount:he},Ze,wt=Kr){var Wt;const{appId:wn,measurementId:lr}=V;try{yield function Nn(V,K){return new Promise((he,Ze)=>{const wt=Math.max(K-Date.now(),0),Wt=setTimeout(he,wt);V.addEventListener(()=>{clearTimeout(Wt),Ze(Yt.create("fetch-throttle",{throttleEndTimeMillis:K}))})})}(Ze,K)}catch(kr){if(lr)return Pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lr} provided in the "measurementId" field in the local Firebase config. [${kr?.message}]`),{appId:wn,measurementId:lr};throw kr}try{const kr=yield function Yn(V){return Hi.apply(this,arguments)}(V);return wt.deleteThrottleMetadata(wn),kr}catch(kr){const zr=kr;if(!function gi(V){if(!(V instanceof Me.ZR&&V.customData))return!1;const K=Number(V.customData.httpStatus);return 429===K||500===K||503===K||504===K}(zr)){if(wt.deleteThrottleMetadata(wn),lr)return Pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lr} provided in the "measurementId" field in the local Firebase config. [${zr?.message}]`),{appId:wn,measurementId:lr};throw kr}const Li=503===Number(null===(Wt=zr?.customData)||void 0===Wt?void 0:Wt.httpStatus)?(0,Me.$s)(he,wt.intervalMillis,ui):(0,Me.$s)(he,wt.intervalMillis),li={throttleEndTimeMillis:Date.now()+Li,backoffCount:he+1};return wt.setThrottleMetadata(wn,li),Pt.debug(`Calling attemptFetch again in ${Li} millis`),an(V,li,Ze,wt)}}),sr.apply(this,arguments)}class Ei{constructor(){this.listeners=[]}addEventListener(K){this.listeners.push(K)}abort(){this.listeners.forEach(K=>K())}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let An,Oa;function qo(){return qo=(0,z.Z)(function*(V,K,he,Ze,wt){if(wt&&wt.global)V("event",he,Ze);else{const Wt=yield K;V("event",he,Object.assign(Object.assign({},Ze),{send_to:Wt}))}}),qo.apply(this,arguments)}function ws(V){Oa=V}function Xs(V){An=V}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Pa(){return Pa=(0,z.Z)(function*(){if(!(0,Me.hl)())return Pt.warn(Yt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Me.eu)()}catch(V){return Pt.warn(Yt.create("indexeddb-unavailable",{errorInfo:V?.toString()}).message),!1}return!0}),Pa.apply(this,arguments)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Js(){return Js=(0,z.Z)(function*(V,K,he,Ze,wt,Wt,wn){var lr;const kr=function Ji(V){return hi.apply(this,arguments)}(V);kr.then(vs=>{he[vs.measurementId]=vs.appId,V.options.measurementId&&vs.measurementId!==V.options.measurementId&&Pt.warn(`The measurement ID in the local Firebase config (${V.options.measurementId}) does not match the measurement ID fetched from the server (${vs.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vs=>Pt.error(vs)),K.push(kr);const zr=function Ia(){return Pa.apply(this,arguments)}().then(vs=>{if(vs)return Ze.getId()}),[Li,li]=yield Promise.all([kr,zr]);(function yr(V){const K=window.document.getElementsByTagName("script");for(const he of Object.values(K))if(he.src&&he.src.includes(Je)&&he.src.includes(V))return he;return null})(Wt)||vt(Wt,Li.measurementId),Oa&&(wt("consent","default",Oa),ws(void 0)),wt("js",new Date);const Ls=null!==(lr=wn?.config)&&void 0!==lr?lr:{};return Ls[ce]="firebase",Ls.update=!0,null!=li&&(Ls[H]=li),wt("config",Li.measurementId,Ls),An&&(wt("set",An),Xs(void 0)),Li.measurementId}),Js.apply(this,arguments)}class ps{constructor(K){this.app=K}_delete(){return delete aa[this.app.options.appId],Promise.resolve()}}let aa={},zs=[];const Jo={};let za,ms,_c="dataLayer",Os="gtag",ca=!1;function Qa(V,K,he){!function Is(){const V=[];if((0,Me.ru)()&&V.push("This is a browser extension environment."),(0,Me.zI)()||V.push("Cookies are not available."),V.length>0){const K=V.map((Ze,wt)=>`(${wt+1}) ${Ze}`).join(" "),he=Yt.create("invalid-analytics-context",{errorInfo:K});Pt.warn(he.message)}}();const Ze=V.options.appId;if(!Ze)throw Yt.create("no-app-id");if(!V.options.apiKey){if(!V.options.measurementId)throw Yt.create("no-api-key");Pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${V.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=aa[Ze])throw Yt.create("already-exists",{id:Ze});if(!ca){!function O(V){let K=[];return Array.isArray(window[V])?K=window[V]:window[V]=K,K}(_c);const{wrappedGtag:Wt,gtagCore:wn}=function kn(V,K,he,Ze,wt){let Wt=function(...wn){window[Ze].push(arguments)};return window[wt]&&"function"==typeof window[wt]&&(Wt=window[wt]),window[wt]=kt(Wt,V,K,he),{gtagCore:Wt,wrappedGtag:window[wt]}}(aa,zs,Jo,_c,Os);ms=Wt,za=wn,ca=!0}return aa[Ze]=function $t(V,K,he,Ze,wt,Wt,wn){return Js.apply(this,arguments)}(V,zs,Jo,K,za,_c,he),new ps(V)}function ya(){return(ya=(0,z.Z)(function*(){if((0,Me.ru)()||!(0,Me.zI)()||!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}function tl(V,K,he,Ze){V=(0,Me.m9)(V),function cs(V,K,he,Ze,wt){return qo.apply(this,arguments)}(ms,aa[V.app.options.appId],K,he,Ze).catch(wt=>Pt.error(wt))}const nl="@firebase/analytics",ka="0.9.5";!function Na(){(0,ue._registerComponent)(new we.wA(A,(K,{options:he})=>Qa(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),he),"PUBLIC")),(0,ue._registerComponent)(new we.wA("analytics-internal",function V(K){try{const he=K.getProvider(A).getImmediate();return{logEvent:(Ze,wt,Wt)=>tl(he,Ze,wt,Wt)}}catch(he){throw Yt.create("interop-component-reg-failed",{reason:he})}},"PRIVATE")),(0,ue.registerVersion)(nl,ka),(0,ue.registerVersion)(nl,ka,"esm2017")}();var Wc=S(4408);class Hc extends Wc.o{constructor(K,he){super(K,he),this.scheduler=K,this.work=he}schedule(K,he=0){return he>0?super.schedule(K,he):(this.delay=he,this.state=K,this.scheduler.flush(this),this)}execute(K,he){return he>0||this.closed?super.execute(K,he):this._execute(K,he)}requestAsyncId(K,he,Ze=0){return null!=Ze&&Ze>0||null==Ze&&this.delay>0?super.requestAsyncId(K,he,Ze):(K.flush(this),0)}}var Yl=S(7565);class ua extends Yl.v{}const ea=new ua(Hc);var rl=S(4986),es=S(9751),va=S(8505),ds=S(9468),Ja=S(5363);const ta=new l.GfV("7.5.0"),P="__angularfire_symbol__analyticsIsSupportedValue",b="__angularfire_symbol__analyticsIsSupported",M="__angularfire_symbol__remoteConfigIsSupportedValue",W="__angularfire_symbol__remoteConfigIsSupported",$="__angularfire_symbol__messagingIsSupportedValue",ae="__angularfire_symbol__messagingIsSupported";globalThis[b]||(globalThis[b]=function ss(){return ya.apply(this,arguments)}().then(V=>globalThis[P]=V).catch(()=>globalThis[P]=!1)),globalThis[ae]||(globalThis[ae]=Zo().then(V=>globalThis[$]=V).catch(()=>globalThis[$]=!1)),globalThis[W]||(globalThis[W]=function vo(){return Si.apply(this,arguments)}().then(V=>globalThis[M]=V).catch(()=>globalThis[M]=!1));function Mr(V,K,he){if(K){if(1===K.length)return K[0];const Wt=K.filter(wn=>wn.app===he);if(1===Wt.length)return Wt[0]}return he.container.getProvider(V).getImmediate({optional:!0})}const oi=(V,K)=>{const he=K?[K]:(0,g.C6)(),Ze=[];return he.forEach(wt=>{wt.container.getProvider(V).instances.forEach(wn=>{Ze.includes(wn)||Ze.push(wn)})}),Ze};function as(){}class ys{constructor(K,he=ea){this.zone=K,this.delegate=he}now(){return this.delegate.now()}schedule(K,he,Ze){const wt=this.zone;return this.delegate.schedule(function(wn){wt.runGuarded(()=>{K.apply(this,[wn])})},he,Ze)}}class Lo{constructor(K){this.zone=K,this.task=null}call(K,he){const Ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",as,{},as,as)),he.pipe((0,va.b)({next:Ze,complete:Ze,error:Ze})).subscribe(K).add(Ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class Gs{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new ys(Zone.current)),this.insideAngular=K.run(()=>new ys(Zone.current,rl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}function Ts(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function Ws(V){return Ts().ngZone.run(()=>V())}function da(V){Ts();return function Ha(V){return function(he){return(he=he.lift(new Lo(V.ngZone))).pipe((0,ds.R)(V.outsideAngular),(0,Ja.Q)(V.insideAngular))}}(Ts())(V)}Gs.\u0275fac=function(K){return new(K||Gs)(l.LFG(l.R0b))},Gs.\u0275prov=l.Yz7({token:Gs,factory:Gs.\u0275fac,providedIn:"root"});const bc=(V,K)=>function(){const Ze=arguments;return K&&setTimeout(()=>{"scheduled"===K.state&&K.invoke()},10),Ws(()=>V.apply(void 0,Ze))},na=(V,K)=>function(){let he;const Ze=arguments;for(let Wt=0;Wt<arguments.length;Wt++)"function"==typeof Ze[Wt]&&(K&&(he||(he=Ws(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",as,{},as,as)))),Ze[Wt]=bc(Ze[Wt],he));const wt=function ts(V){return Ts().ngZone.runOutsideAngular(()=>V())}(()=>V.apply(this,Ze));if(!K){if(wt instanceof es.y){const Wt=Ts();return wt.pipe((0,ds.R)(Wt.outsideAngular),(0,Ja.Q)(Wt.insideAngular))}return Ws(()=>wt)}return wt instanceof es.y?wt.pipe(da):wt instanceof Promise?Ws(()=>new Promise((Wt,wn)=>wt.then(lr=>Ws(()=>Wt(lr)),lr=>Ws(()=>wn(lr))))):"function"==typeof wt&&he?function(){return setTimeout(()=>{he&&"scheduled"===he.state&&he.invoke()},10),wt.apply(this,arguments)}:Ws(()=>wt)}},3432:(En,rt,S)=>{S.d(rt,{$:()=>fo,A:()=>Re,B:()=>ce,C:()=>We,G:()=>jn,H:()=>Ui,I:()=>io,K:()=>Wr,M:()=>Zn,N:()=>Si,P:()=>va,Q:()=>oo,R:()=>tl,U:()=>Ki,V:()=>so,W:()=>Bo,X:()=>Io,Y:()=>Oi,Z:()=>Gr,_:()=>Qo,a:()=>bi,a0:()=>yi,a1:()=>zo,a2:()=>Xo,a3:()=>Cs,a4:()=>mr,a5:()=>T,a6:()=>ot,a7:()=>st,a8:()=>Tt,a9:()=>dt,aA:()=>Ec,aB:()=>en,aC:()=>He,aD:()=>zr,aE:()=>wo,aF:()=>Ta,aG:()=>nr,aK:()=>Yn,aN:()=>Po,aa:()=>Fn,ab:()=>Qr,ac:()=>mi,ad:()=>y,ae:()=>ie,ag:()=>vo,ah:()=>Dn,ai:()=>qn,aj:()=>tr,ak:()=>er,al:()=>Zr,am:()=>ao,an:()=>ga,ao:()=>xr,ap:()=>Pt,aq:()=>I,ar:()=>Bt,as:()=>Ut,at:()=>ee,au:()=>bt,av:()=>al,aw:()=>ha,ax:()=>tn,ay:()=>_t,az:()=>Ye,b:()=>ui,c:()=>ae,d:()=>Sn,e:()=>Nt,f:()=>bc,g:()=>wt,h:()=>K,i:()=>$t,j:()=>lr,k:()=>Mc,l:()=>Wc,m:()=>cl,o:()=>Sc,p:()=>le,q:()=>Za,r:()=>Yl,s:()=>ka,t:()=>_a,u:()=>rl,v:()=>As,w:()=>pe,x:()=>C,y:()=>A,z:()=>H});var l=S(5861),g=S(2090),z=S(9681),ue=S(1877),Me=S(655),we=S(4859);
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Re={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const We=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},St=Xe,Ft=new g.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Et=new ue.Yd("@firebase/auth");
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function gt(R,...p){Et.logLevel<=ue.in.ERROR&&Et.error(`Auth (${z.SDK_VERSION}): ${R}`,...p)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function bt(R,...p){throw qt(R,...p)}function _t(R,...p){return qt(R,...p)}function Be(R,p,D){const L=Object.assign(Object.assign({},St()),{[p]:D});return new g.LL("auth","Firebase",L).create(p,{appName:R.name})}function at(R,p,D){if(!(p instanceof D))throw D.name!==p.constructor.name&&bt(R,"argument-error"),Be(R,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qt(R,...p){if("string"!=typeof R){const D=p[0],L=[...p.slice(1)];return L[0]&&(L[0].appName=R.name),R._errorFactory.create(D,...L)}return Ft.create(R,...p)}function Ye(R,p,...D){if(!R)throw qt(p,...D)}function X(R){const p="INTERNAL ASSERTION FAILED: "+R;throw gt(p),new Error(p)}function Bt(R,p){R||X(p)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const _n=new Map;function en(R){Bt(R instanceof Function,"Expected a class definition");let p=_n.get(R);return p?(Bt(p instanceof R,"Instance stored in cache mismatched with class"),p):(p=new R,_n.set(R,p),p)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function jn(R,p){const D=(0,z._getProvider)(R,"auth");if(D.isInitialized()){const ye=D.getImmediate(),Fe=D.getOptions();if((0,g.vZ)(Fe,p??{}))return ye;bt(ye,"already-initialized")}return D.initialize({options:p})}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function ft(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.href)||""}function Ot(){return"http:"===Rt()||"https:"===Rt()}function Rt(){var R;return typeof self<"u"&&(null===(R=self.location)||void 0===R?void 0:R.protocol)||null}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class Gt{constructor(p,D){this.shortDelay=p,this.longDelay=D,Bt(D>p,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}get(){return function Lt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,g.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Qt(R,p){Bt(R.emulator,"Emulator should always be set here");const{url:D}=R.emulator;return p?`${D}${p.startsWith("/")?p.slice(1):p}`:D}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class it{static initialize(p,D,L){this.fetchImpl=p,D&&(this.headersImpl=D),L&&(this.responseImpl=L)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void X("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void X("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void X("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Mt=new Gt(3e4,6e4);
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function vn(R,p){return R.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:R.tenantId}):p}function on(R,p,D,L){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(R,p,D,L,ye={}){return ur(R,ye,(0,l.Z)(function*(){let Fe={},Vt={};L&&("GET"===p?Vt=L:Fe={body:JSON.stringify(L)});const Tn=(0,g.xO)(Object.assign({key:R.config.apiKey},Vt)).slice(1),Xn=yield R._getAdditionalHeaders();return Xn["Content-Type"]="application/json",R.languageCode&&(Xn["X-Firebase-Locale"]=R.languageCode),it.fetch()(Nr(R,R.config.apiHost,D,Tn),Object.assign({method:p,headers:Xn,referrerPolicy:"no-referrer"},Fe))}))})).apply(this,arguments)}function ur(R,p,D){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(R,p,D){R._canInitEmulator=!1;const L=Object.assign(Object.assign({},It),p);try{const ye=new Jn(R),Fe=yield Promise.race([D(),ye.promise]);ye.clearNetworkTimeout();const Vt=yield Fe.json();if("needConfirmation"in Vt)throw Br(R,"account-exists-with-different-credential",Vt);if(Fe.ok&&!("errorMessage"in Vt))return Vt;{const Tn=Fe.ok?Vt.errorMessage:Vt.error.message,[Xn,ei]=Tn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xn)throw Br(R,"credential-already-in-use",Vt);if("EMAIL_EXISTS"===Xn)throw Br(R,"email-already-in-use",Vt);if("USER_DISABLED"===Xn)throw Br(R,"user-disabled",Vt);const wi=L[Xn]||Xn.toLowerCase().replace(/[_\s]+/g,"-");if(ei)throw Be(R,wi,ei);bt(R,wi)}}catch(ye){if(ye instanceof g.ZR)throw ye;bt(R,"network-request-failed",{message:String(ye)})}})).apply(this,arguments)}function Un(R,p,D,L){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(R,p,D,L,ye={}){const Fe=yield on(R,p,D,L,ye);return"mfaPendingCredential"in Fe&&bt(R,"multi-factor-auth-required",{_serverResponse:Fe}),Fe})).apply(this,arguments)}function Nr(R,p,D,L){const ye=`${p}${D}?${L}`;return R.config.emulator?Qt(R.config,ye):`${R.config.apiScheme}://${ye}`}class Jn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((D,L)=>{this.timer=setTimeout(()=>L(_t(this.auth,"network-request-failed")),Mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Br(R,p,D){const L={appName:R.name};D.email&&(L.email=D.email),D.phoneNumber&&(L.phoneNumber=D.phoneNumber);const ye=_t(R,p,L);return ye.customData._tokenResponse=D,ye
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}function ri(){return(ri=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:update",p)})).apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Tr(){return(Tr=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Di(R){if(R)try{const p=new Date(Number(R));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function er(R,p=!1){return(0,g.m9)(R).getIdToken(p)}function Zr(R){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(R,p=!1){const D=(0,g.m9)(R),L=yield D.getIdToken(p),ye=rr(L);Ye(ye&&ye.exp&&ye.auth_time&&ye.iat,D.auth,"internal-error");const Fe="object"==typeof ye.firebase?ye.firebase:void 0,Vt=Fe?.sign_in_provider;return{claims:ye,token:L,authTime:Di(ir(ye.auth_time)),issuedAtTime:Di(ir(ye.iat)),expirationTime:Di(ir(ye.exp)),signInProvider:Vt||null,signInSecondFactor:Fe?.sign_in_second_factor||null}})).apply(this,arguments)}function ir(R){return 1e3*Number(R)}function rr(R){const[p,D,L]=R.split(".");if(void 0===p||void 0===D||void 0===L)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const ye=(0,g.tV)(D);return ye?JSON.parse(ye):(gt("Failed to decode base64 JWT payload"),null)}catch(ye){return gt("Caught error parsing JWT payload as JSON",ye?.toString()),null}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Rn(R,p){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(R,p,D=!1){if(D)return p;try{return yield p}catch(L){throw L instanceof g.ZR&&function wr({code:R}){return"auth/user-disabled"===R||"auth/user-token-expired"===R}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(L)&&R.auth.currentUser===R&&(yield R.auth.signOut()),L}})).apply(this,arguments)}class gr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var D;if(p){const L=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),L}{this.errorBackoff=3e4;const ye=(null!==(D=this.user.stsTokenManager.expirationTime)&&void 0!==D?D:0)-Date.now()-3e5;return Math.max(0,ye)}}schedule(p=!1){var D=this;if(!this.isRunning)return;const L=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield D.iteration()}),L)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===D?.code&&p.schedule(!0))}p.schedule()})()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class jr{constructor(p,D){this.createdAt=p,this.lastLoginAt=D,this._initializeTime()}_initializeTime(){this.lastSignInTime=Di(this.lastLoginAt),this.creationTime=Di(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function di(R){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,l.Z)(function*(R){var p;const D=R.auth,L=yield R.getIdToken(),ye=yield Rn(R,function Hn(R,p){return Tr.apply(this,arguments)}(D,{idToken:L}));Ye(ye?.users.length,D,"internal-error");const Fe=ye.users[0];R._notifyReloadListener(Fe);const Vt=null!==(p=Fe.providerUserInfo)&&void 0!==p&&p.length?function de(R){return R.map(p=>{var{providerId:D}=p,L=(0,Me._T)(p,["providerId"]);return{providerId:D,uid:L.rawId||"",displayName:L.displayName||null,email:L.email||null,phoneNumber:L.phoneNumber||null,photoURL:L.photoUrl||null}})}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(Fe.providerUserInfo):[],Tn=function Xt(R,p){return[...R.filter(L=>!p.some(ye=>ye.providerId===L.providerId)),...p]}(R.providerData,Vt),Xn=R.isAnonymous,ei=!(R.email&&Fe.passwordHash||Tn?.length),wi=!!Xn&&ei,rs={uid:Fe.localId,displayName:Fe.displayName||null,photoURL:Fe.photoUrl||null,email:Fe.email||null,emailVerified:Fe.emailVerified||!1,phoneNumber:Fe.phoneNumber||null,tenantId:Fe.tenantId||null,providerData:Tn,metadata:new jr(Fe.createdAt,Fe.lastLoginAt),isAnonymous:wi};Object.assign(R,rs)}),Wn.apply(this,arguments)}function xr(R){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(R){const p=(0,g.m9)(R);yield di(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Ee(){return(Ee=(0,l.Z)(function*(R,p){const D=yield ur(R,{},(0,l.Z)(function*(){const L=(0,g.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:ye,apiKey:Fe}=R.config,Vt=Nr(R,ye,"/v1/token",`key=${Fe}`),Tn=yield R._getAdditionalHeaders();return Tn["Content-Type"]="application/x-www-form-urlencoded",it.fetch()(Vt,{method:"POST",headers:Tn,body:L})}));return{accessToken:D.access_token,expiresIn:D.expires_in,refreshToken:D.refresh_token}})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ye(p.idToken,"internal-error"),Ye(typeof p.idToken<"u","internal-error"),Ye(typeof p.refreshToken<"u","internal-error");const D="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function $n(R){const p=rr(R);return Ye(p,"internal-error"),Ye(typeof p.exp<"u","internal-error"),Ye(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,D)}getToken(p,D=!1){var L=this;return(0,l.Z)(function*(){return Ye(!L.accessToken||L.refreshToken,p,"user-token-expired"),D||!L.accessToken||L.isExpired?L.refreshToken?(yield L.refresh(p,L.refreshToken),L.accessToken):null:L.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,D){var L=this;return(0,l.Z)(function*(){const{accessToken:ye,refreshToken:Fe,expiresIn:Vt}=yield function Ce(R,p){return Ee.apply(this,arguments)}(p,D);L.updateTokensAndExpiration(ye,Fe,Number(Vt))})()}updateTokensAndExpiration(p,D,L){this.refreshToken=D||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*L}static fromJSON(p,D){const{refreshToken:L,accessToken:ye,expirationTime:Fe}=D,Vt=new Y;return L&&(Ye("string"==typeof L,"internal-error",{appName:p}),Vt.refreshToken=L),ye&&(Ye("string"==typeof ye,"internal-error",{appName:p}),Vt.accessToken=ye),Fe&&(Ye("number"==typeof Fe,"internal-error",{appName:p}),Vt.expirationTime=Fe),Vt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return X("not implemented")}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Se(R,p){Ye("string"==typeof R||typeof R>"u","internal-error",{appName:p})}class pt{constructor(p){var{uid:D,auth:L,stsTokenManager:ye}=p,Fe=(0,Me._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=D,this.auth=L,this.stsTokenManager=ye,this.accessToken=ye.accessToken,this.displayName=Fe.displayName||null,this.email=Fe.email||null,this.emailVerified=Fe.emailVerified||!1,this.phoneNumber=Fe.phoneNumber||null,this.photoURL=Fe.photoURL||null,this.isAnonymous=Fe.isAnonymous||!1,this.tenantId=Fe.tenantId||null,this.providerData=Fe.providerData?[...Fe.providerData]:[],this.metadata=new jr(Fe.createdAt||void 0,Fe.lastLoginAt||void 0)}getIdToken(p){var D=this;return(0,l.Z)(function*(){const L=yield Rn(D,D.stsTokenManager.getToken(D.auth,p));return Ye(L,D.auth,"internal-error"),D.accessToken!==L&&(D.accessToken=L,yield D.auth._persistUserIfCurrent(D),D.auth._notifyListenersIfCurrent(D)),L})()}getIdTokenResult(p){return Zr(this,p)}reload(){return xr(this)}_assign(p){this!==p&&(Ye(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(D=>Object.assign({},D)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const D=new pt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return D.metadata._copy(this.metadata),D}_onReload(p){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,D=!1){var L=this;return(0,l.Z)(function*(){let ye=!1;p.idToken&&p.idToken!==L.stsTokenManager.accessToken&&(L.stsTokenManager.updateFromServerResponse(p),ye=!0),D&&(yield di(L)),yield L.auth._persistUserIfCurrent(L),ye&&L.auth._notifyListenersIfCurrent(L)})()}delete(){var p=this;return(0,l.Z)(function*(){const D=yield p.getIdToken();return yield Rn(p,function dr(R,p){return ri.apply(this,arguments)}(p.auth,{idToken:D})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,D){var L,ye,Fe,Vt,Tn,Xn,ei,wi;const rs=null!==(L=D.displayName)&&void 0!==L?L:void 0,gs=null!==(ye=D.email)&&void 0!==ye?ye:void 0,cc=null!==(Fe=D.phoneNumber)&&void 0!==Fe?Fe:void 0,lc=null!==(Vt=D.photoURL)&&void 0!==Vt?Vt:void 0,Lu=null!==(Tn=D.tenantId)&&void 0!==Tn?Tn:void 0,ru=null!==(Xn=D._redirectEventId)&&void 0!==Xn?Xn:void 0,Ai=null!==(ei=D.createdAt)&&void 0!==ei?ei:void 0,iu=null!==(wi=D.lastLoginAt)&&void 0!==wi?wi:void 0,{uid:uc,emailVerified:Il,isAnonymous:ou,providerData:Oc,stsTokenManager:Tl}=D;Ye(uc&&Tl,p,"internal-error");const fd=Y.fromJSON(this.name,Tl);Ye("string"==typeof uc,p,"internal-error"),Se(rs,p.name),Se(gs,p.name),Ye("boolean"==typeof Il,p,"internal-error"),Ye("boolean"==typeof ou,p,"internal-error"),Se(cc,p.name),Se(lc,p.name),Se(Lu,p.name),Se(ru,p.name),Se(Ai,p.name),Se(iu,p.name);const su=new pt({uid:uc,auth:p,email:gs,emailVerified:Il,displayName:rs,isAnonymous:ou,photoURL:lc,phoneNumber:cc,tenantId:Lu,stsTokenManager:fd,createdAt:Ai,lastLoginAt:iu});return Oc&&Array.isArray(Oc)&&(su.providerData=Oc.map(au=>Object.assign({},au))),ru&&(su._redirectEventId=ru),su}static _fromIdTokenResponse(p,D,L=!1){return(0,l.Z)(function*(){const ye=new Y;ye.updateFromServerResponse(D);const Fe=new pt({uid:D.localId,auth:p,stsTokenManager:ye,isAnonymous:L});return yield di(Fe),Fe})()}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class yn{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,D){var L=this;return(0,l.Z)(function*(){L.storage[p]=D})()}_get(p){var D=this;return(0,l.Z)(function*(){const L=D.storage[p];return void 0===L?null:L})()}_remove(p){var D=this;return(0,l.Z)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}yn.type="NONE";const Zn=yn;
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function He(R,p,D){return`firebase:${R}:${p}:${D}`}class Ue{constructor(p,D,L){this.persistence=p,this.auth=D,this.userKey=L;const{config:ye,name:Fe}=this.auth;this.fullUserKey=He(this.userKey,ye.apiKey,Fe),this.fullPersistenceKey=He("persistence",ye.apiKey,Fe),this.boundEventHandler=D._onStorageEvent.bind(D),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const D=yield p.persistence._get(p.fullUserKey);return D?pt._fromJSON(p.auth,D):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var D=this;return(0,l.Z)(function*(){if(D.persistence===p)return;const L=yield D.getCurrentUser();return yield D.removeCurrentUser(),D.persistence=p,L?D.setCurrentUser(L):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,D,L="authUser"){return(0,l.Z)(function*(){if(!D.length)return new Ue(en(Zn),p,L);const ye=(yield Promise.all(D.map(function(){var ei=(0,l.Z)(function*(wi){if(yield wi._isAvailable())return wi});return function(wi){return ei.apply(this,arguments)}}()))).filter(ei=>ei);let Fe=ye[0]||en(Zn);const Vt=He(L,p.config.apiKey,p.name);let Tn=null;for(const ei of D)try{const wi=yield ei._get(Vt);if(wi){const rs=pt._fromJSON(p,wi);ei!==Fe&&(Tn=rs),Fe=ei;break}}catch{}const Xn=ye.filter(ei=>ei._shouldAllowMigration);return Fe._shouldAllowMigration&&Xn.length?(Fe=Xn[0],Tn&&(yield Fe._set(Vt,Tn.toJSON())),yield Promise.all(D.map(function(){var ei=(0,l.Z)(function*(wi){if(wi!==Fe)try{yield wi._remove(Vt)}catch{}});return function(wi){return ei.apply(this,arguments)}}())),new Ue(Fe,p,L)):new Ue(Fe,p,L)})()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function fe(R){const p=R.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ke(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(oe(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Oe(p))return"Blackberry";if(nt(p))return"Webos";if(me(p))return"Safari";if((p.includes("chrome/")||Ct(p))&&!p.includes("edge/"))return"Chrome";if(ee(p))return"Android";{const D=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,L=R.match(D);if(2===L?.length)return L[1]}return"Other"}function oe(R=(0,g.z$)()){return/firefox\//i.test(R)}function me(R=(0,g.z$)()){const p=R.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ct(R=(0,g.z$)()){return/crios\//i.test(R)}function Ke(R=(0,g.z$)()){return/iemobile/i.test(R)}function ee(R=(0,g.z$)()){return/android/i.test(R)}function Oe(R=(0,g.z$)()){return/blackberry/i.test(R)}function nt(R=(0,g.z$)()){return/webos/i.test(R)}function Ut(R=(0,g.z$)()){return/iphone|ipad|ipod/i.test(R)||/macintosh/i.test(R)&&/mobile/i.test(R)}function tn(R=(0,g.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(R)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(R)}function q(R=(0,g.z$)()){return Ut(R)||ee(R)||nt(R)||Oe(R)||/windows phone/i.test(R)||Ke(R)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function yt(R,p=[]){let D;switch(R){case"Browser":D=fe((0,g.z$)());break;case"Worker":D=`${fe((0,g.z$)())}-${R}`;break;default:D=R}const L=p.length?p.join(","):"FirebaseCore-web";return`${D}/JsCore/${z.SDK_VERSION}/${L}`}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Kt{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,D){const L=Fe=>new Promise((Vt,Tn)=>{try{Vt(p(Fe))}catch(Xn){Tn(Xn)}});L.onAbort=D,this.queue.push(L);const ye=this.queue.length-1;return()=>{this.queue[ye]=()=>Promise.resolve()}}runMiddleware(p){var D=this;return(0,l.Z)(function*(){if(D.auth.currentUser===p)return;const L=[];try{for(const ye of D.queue)yield ye(p),ye.onAbort&&L.push(ye.onAbort)}catch(ye){L.reverse();for(const Fe of L)try{Fe()}catch{}throw D.auth._errorFactory.create("login-blocked",{originalMessage:ye?.message})}})()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Cn{constructor(p,D,L){this.app=p,this.heartbeatServiceProvider=D,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zi(this),this.idTokenSubscription=new Zi(this),this.beforeStateQueue=new Kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ft,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(p,D){var L=this;return D&&(this._popupRedirectResolver=en(D)),this._initializationPromise=this.queue((0,l.Z)(function*(){var ye,Fe;if(!L._deleted&&(L.persistenceManager=yield Ue.create(L,p),!L._deleted)){if(null!==(ye=L._popupRedirectResolver)&&void 0!==ye&&ye._shouldInitProactively)try{yield L._popupRedirectResolver._initialize(L)}catch{}yield L.initializeCurrentUser(D),L.lastNotifiedUid=(null===(Fe=L.currentUser)||void 0===Fe?void 0:Fe.uid)||null,!L._deleted&&(L._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const D=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||D){if(p.currentUser&&D&&p.currentUser.uid===D.uid)return p._currentUser._assign(D),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(D,!0)}})()}initializeCurrentUser(p){var D=this;return(0,l.Z)(function*(){var L;const ye=yield D.assertedPersistence.getCurrentUser();let Fe=ye,Vt=!1;if(p&&D.config.authDomain){yield D.getOrInitRedirectPersistenceManager();const Tn=null===(L=D.redirectUser)||void 0===L?void 0:L._redirectEventId,Xn=Fe?._redirectEventId,ei=yield D.tryRedirectSignIn(p);(!Tn||Tn===Xn)&&ei?.user&&(Fe=ei.user,Vt=!0)}if(!Fe)return D.directlySetCurrentUser(null);if(!Fe._redirectEventId){if(Vt)try{yield D.beforeStateQueue.runMiddleware(Fe)}catch(Tn){Fe=ye,D._popupRedirectResolver._overrideRedirectResult(D,()=>Promise.reject(Tn))}return Fe?D.reloadAndSetCurrentUserOrClear(Fe):D.directlySetCurrentUser(null)}return Ye(D._popupRedirectResolver,D,"argument-error"),yield D.getOrInitRedirectPersistenceManager(),D.redirectUser&&D.redirectUser._redirectEventId===Fe._redirectEventId?D.directlySetCurrentUser(Fe):D.reloadAndSetCurrentUserOrClear(Fe)})()}tryRedirectSignIn(p){var D=this;return(0,l.Z)(function*(){let L=null;try{L=yield D._popupRedirectResolver._completeRedirectFn(D,p,!0)}catch{yield D._setRedirectUser(null)}return L})()}reloadAndSetCurrentUserOrClear(p){var D=this;return(0,l.Z)(function*(){try{yield di(p)}catch(L){if("auth/network-request-failed"!==L?.code)return D.directlySetCurrentUser(null)}return D.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ht(){if(typeof navigator>"u")return null;const R=navigator;return R.languages&&R.languages[0]||R.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var D=this;return(0,l.Z)(function*(){const L=p?(0,g.m9)(p):null;return L&&Ye(L.auth.config.apiKey===D.config.apiKey,D,"invalid-user-token"),D._updateCurrentUser(L&&L._clone(D))})()}_updateCurrentUser(p,D=!1){var L=this;return(0,l.Z)(function*(){if(!L._deleted)return p&&Ye(L.tenantId===p.tenantId,L,"tenant-id-mismatch"),D||(yield L.beforeStateQueue.runMiddleware(p)),L.queue((0,l.Z)(function*(){yield L.directlySetCurrentUser(p),L.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var D=this;return this.queue((0,l.Z)(function*(){yield D.assertedPersistence.setPersistence(en(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new g.LL("auth","Firebase",p())}onAuthStateChanged(p,D,L){return this.registerStateListener(this.authStateSubscription,p,D,L)}beforeAuthStateChanged(p,D){return this.beforeStateQueue.pushCallback(p,D)}onIdTokenChanged(p,D,L){return this.registerStateListener(this.idTokenSubscription,p,D,L)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,D){var L=this;return(0,l.Z)(function*(){const ye=yield L.getOrInitRedirectPersistenceManager(D);return null===p?ye.removeCurrentUser():ye.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var D=this;return(0,l.Z)(function*(){if(!D.redirectPersistenceManager){const L=p&&en(p)||D._popupRedirectResolver;Ye(L,D,"argument-error"),D.redirectPersistenceManager=yield Ue.create(D,[en(L._redirectPersistence)],"redirectUser"),D.redirectUser=yield D.redirectPersistenceManager.getCurrentUser()}return D.redirectPersistenceManager})()}_redirectUserForId(p){var D=this;return(0,l.Z)(function*(){var L,ye;return D._isInitialized&&(yield D.queue((0,l.Z)(function*(){}))),(null===(L=D._currentUser)||void 0===L?void 0:L._redirectEventId)===p?D._currentUser:(null===(ye=D.redirectUser)||void 0===ye?void 0:ye._redirectEventId)===p?D.redirectUser:null})()}_persistUserIfCurrent(p){var D=this;return(0,l.Z)(function*(){if(p===D.currentUser)return D.queue((0,l.Z)(function*(){return D.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,D;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const L=null!==(D=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==D?D:null;this.lastNotifiedUid!==L&&(this.lastNotifiedUid=L,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,D,L,ye){if(this._deleted)return()=>{};const Fe="function"==typeof D?D:D.next.bind(D),Vt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ye(Vt,this,"internal-error"),Vt.then(()=>Fe(this.currentUser)),"function"==typeof D?p.addObserver(D,L,ye):p.addObserver(D)}directlySetCurrentUser(p){var D=this;return(0,l.Z)(function*(){D.currentUser&&D.currentUser!==p&&D._currentUser._stopProactiveRefresh(),p&&D.isProactiveRefreshEnabled&&p._startProactiveRefresh(),D.currentUser=p,p?yield D.assertedPersistence.setCurrentUser(p):yield D.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=yt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var D;const L={"X-Client-Version":p.clientVersion};p.app.options.appId&&(L["X-Firebase-gmpid"]=p.app.options.appId);const ye=yield null===(D=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===D?void 0:D.getHeartbeatsHeader();return ye&&(L["X-Firebase-Client"]=ye),L})()}}function nr(R){return(0,g.m9)(R)}class Zi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,g.ne)(D=>this.observer=D)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ui(R,p,D){const L=nr(R);Ye(L._canInitEmulator,L,"emulator-config-failed"),Ye(/^https?:\/\//.test(p),L,"invalid-emulator-scheme");const ye=!!D?.disableWarnings,Fe=Ti(p),{host:Vt,port:Tn}=function Or(R){const p=Ti(R),D=/(\/\/)?([^?#/]+)/.exec(R.substr(p.length));if(!D)return{host:"",port:null};const L=D[2].split("@").pop()||"",ye=/^(\[[^\]]+\])(:|$)/.exec(L);if(ye){const Fe=ye[1];return{host:Fe,port:Vi(L.substr(Fe.length+1))}}{const[Fe,Vt]=L.split(":");return{host:Fe,port:Vi(Vt)}}}(p),Xn=null===Tn?"":`:${Tn}`;L.config.emulator={url:`${Fe}//${Vt}${Xn}/`},L.settings.appVerificationDisabledForTesting=!0,L.emulatorConfig=Object.freeze({host:Vt,port:Tn,protocol:Fe.replace(":",""),options:Object.freeze({disableWarnings:ye})}),ye||function Ci(){function R(){const p=document.createElement("p"),D=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",R):R())}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */()}function Ti(R){const p=R.indexOf(":");return p<0?"":R.substr(0,p+1)}function Vi(R){if(!R)return null;const p=Number(R);return isNaN(p)?null:p}class io{constructor(p,D){this.providerId=p,this.signInMethod=D}toJSON(){return X("not implemented")}_getIdTokenResponse(p){return X("not implemented")}_linkToIdToken(p,D){return X("not implemented")}_getReauthenticationResolver(p){return X("not implemented")}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Fi(R,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:resetPassword",vn(R,p))})).apply(this,arguments)}function Vn(R,p){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:update",p)})).apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function ge(){return(ge=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:update",vn(R,p))})).apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(R,p){return Un(R,"POST","/v1/accounts:signInWithPassword",vn(R,p))})).apply(this,arguments)}function cn(R,p){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:sendOobCode",vn(R,p))})).apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(R,p){return cn(R,p)})).apply(this,arguments)}function mt(){return(mt=(0,l.Z)(function*(R,p){return cn(R,p)})).apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(R,p){return cn(R,p)})).apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function ln(){return(ln=(0,l.Z)(function*(R,p){return cn(R,p)})).apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(R,p){return Un(R,"POST","/v1/accounts:signInWithEmailLink",vn(R,p))})).apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function _r(){return(_r=(0,l.Z)(function*(R,p){return Un(R,"POST","/v1/accounts:signInWithEmailLink",vn(R,p))})).apply(this,arguments)}class zi extends io{constructor(p,D,L,ye=null){super("password",L),this._email=p,this._password=D,this._tenantId=ye}static _fromEmailAndPassword(p,D){return new zi(p,D,"password")}static _fromEmailAndCode(p,D,L=null){return new zi(p,D,"emailLink",L)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const D="string"==typeof p?JSON.parse(p):p;if(D?.email&&D?.password){if("password"===D.signInMethod)return this._fromEmailAndPassword(D.email,D.password);if("emailLink"===D.signInMethod)return this._fromEmailAndCode(D.email,D.password,D.tenantId)}return null}_getIdTokenResponse(p){var D=this;return(0,l.Z)(function*(){switch(D.signInMethod){case"password":return function ze(R,p){return xt.apply(this,arguments)}(p,{returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Gn(R,p){return cr.apply(this,arguments)}(p,{email:D._email,oobCode:D._password});default:bt(p,"internal-error")}})()}_linkToIdToken(p,D){var L=this;return(0,l.Z)(function*(){switch(L.signInMethod){case"password":return Vn(p,{idToken:D,returnSecureToken:!0,email:L._email,password:L._password});case"emailLink":return function $r(R,p){return _r.apply(this,arguments)}(p,{idToken:D,email:L._email,oobCode:L._password});default:bt(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ii(R,p){return _i.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function _i(){return(_i=(0,l.Z)(function*(R,p){return Un(R,"POST","/v1/accounts:signInWithIdp",vn(R,p))})).apply(this,arguments)}class Wr extends io{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const D=new Wr(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(D.idToken=p.idToken),p.accessToken&&(D.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(D.nonce=p.nonce),p.pendingToken&&(D.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(D.accessToken=p.oauthToken,D.secret=p.oauthTokenSecret):bt("argument-error"),D}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const D="string"==typeof p?JSON.parse(p):p,{providerId:L,signInMethod:ye}=D,Fe=(0,Me._T)(D,["providerId","signInMethod"]);if(!L||!ye)return null;const Vt=new Wr(L,ye);return Vt.idToken=Fe.idToken||void 0,Vt.accessToken=Fe.accessToken||void 0,Vt.secret=Fe.secret,Vt.nonce=Fe.nonce,Vt.pendingToken=Fe.pendingToken||null,Vt}_getIdTokenResponse(p){return Ii(p,this.buildRequest())}_linkToIdToken(p,D){const L=this.buildRequest();return L.idToken=D,Ii(p,L)}_getReauthenticationResolver(p){const D=this.buildRequest();return D.autoCreate=!1,Ii(p,D)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const D={};this.idToken&&(D.id_token=this.idToken),this.accessToken&&(D.access_token=this.accessToken),this.secret&&(D.oauth_token_secret=this.secret),D.providerId=this.providerId,this.nonce&&!this.pendingToken&&(D.nonce=this.nonce),p.postBody=(0,g.xO)(D)}return p}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function si(){return(si=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:sendVerificationCode",vn(R,p))})).apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(R,p){return Un(R,"POST","/v1/accounts:signInWithPhoneNumber",vn(R,p))})).apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(R,p){const D=yield Un(R,"POST","/v1/accounts:signInWithPhoneNumber",vn(R,p));if(D.temporaryProof)throw Br(R,"account-exists-with-different-credential",D);return D})).apply(this,arguments)}const no={USER_NOT_FOUND:"user-not-found"};
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function qr(){return(qr=(0,l.Z)(function*(R,p){return Un(R,"POST","/v1/accounts:signInWithPhoneNumber",vn(R,Object.assign(Object.assign({},p),{operation:"REAUTH"})),no)})).apply(this,arguments)}class xi extends io{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,D){return new xi({verificationId:p,verificationCode:D})}static _fromTokenResponse(p,D){return new xi({phoneNumber:p,temporaryProof:D})}_getIdTokenResponse(p){return function ii(R,p){return pr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,D){return function pi(R,p){return Ar.apply(this,arguments)}(p,Object.assign({idToken:D},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function yo(R,p){return qr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:D,verificationId:L,verificationCode:ye}=this.params;return p&&D?{temporaryProof:p,phoneNumber:D}:{sessionInfo:L,code:ye}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:D,verificationCode:L,phoneNumber:ye,temporaryProof:Fe}=p;return L||D||ye||Fe?new xi({verificationId:D,verificationCode:L,phoneNumber:ye,temporaryProof:Fe}):null}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Ur{constructor(p){var D,L,ye,Fe,Vt,Tn;const Xn=(0,g.zd)((0,g.pd)(p)),ei=null!==(D=Xn.apiKey)&&void 0!==D?D:null,wi=null!==(L=Xn.oobCode)&&void 0!==L?L:null,rs=function Jr(R){switch(R){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ye=Xn.mode)&&void 0!==ye?ye:null);Ye(ei&&wi&&rs,"argument-error"),this.apiKey=ei,this.operation=rs,this.code=wi,this.continueUrl=null!==(Fe=Xn.continueUrl)&&void 0!==Fe?Fe:null,this.languageCode=null!==(Vt=Xn.languageCode)&&void 0!==Vt?Vt:null,this.tenantId=null!==(Tn=Xn.tenantId)&&void 0!==Tn?Tn:null}static parseLink(p){const D=function Ir(R){const p=(0,g.zd)((0,g.pd)(R)).link,D=p?(0,g.zd)((0,g.pd)(p)).deep_link_id:null,L=(0,g.zd)((0,g.pd)(R)).deep_link_id;return(L?(0,g.zd)((0,g.pd)(L)).link:null)||L||D||p||R}(p);try{return new Ur(D)}catch{return null}}}function vo(R){return Ur.parseLink(R)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Si{constructor(){this.providerId=Si.PROVIDER_ID}static credential(p,D){return zi._fromEmailAndPassword(p,D)}static credentialWithLink(p,D){const L=Ur.parseLink(D);return Ye(L,"argument-error"),zi._fromEmailAndCode(p,L.code,L.tenantId)}}Si.PROVIDER_ID="password",Si.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Si.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class ki{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Pr extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Bo extends Pr{static credentialFromJSON(p){const D="string"==typeof p?JSON.parse(p):p;return Ye("providerId"in D&&"signInMethod"in D,"argument-error"),Wr._fromParams(D)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ye(p.idToken||p.accessToken,"argument-error"),Wr._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Bo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Bo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:D,oauthAccessToken:L,oauthTokenSecret:ye,pendingToken:Fe,nonce:Vt,providerId:Tn}=p;if(!L&&!ye&&!D&&!Fe||!Tn)return null;try{return new Bo(Tn)._credential({idToken:D,accessToken:L,nonce:Vt,pendingToken:Fe})}catch{return null}}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class oo extends Pr{constructor(){super("facebook.com")}static credential(p){return Wr._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return oo.credentialFromTaggedObject(p)}static credentialFromError(p){return oo.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return oo.credential(p.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com",oo.PROVIDER_ID="facebook.com";
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class Ki extends Pr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,D){return Wr._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:D})}static credentialFromResult(p){return Ki.credentialFromTaggedObject(p)}static credentialFromError(p){return Ki.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:D,oauthAccessToken:L}=p;if(!D&&!L)return null;try{return Ki.credential(D,L)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com",Ki.PROVIDER_ID="google.com";
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class so extends Pr{constructor(){super("github.com")}static credential(p){return Wr._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return so.credentialFromTaggedObject(p)}static credentialFromError(p){return so.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return so.credential(p.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com",so.PROVIDER_ID="github.com";class Po extends io{constructor(p,D){super(p,p),this.pendingToken=D}_getIdTokenResponse(p){return Ii(p,this.buildRequest())}_linkToIdToken(p,D){const L=this.buildRequest();return L.idToken=D,Ii(p,L)}_getReauthenticationResolver(p){const D=this.buildRequest();return D.autoCreate=!1,Ii(p,D)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const D="string"==typeof p?JSON.parse(p):p,{providerId:L,signInMethod:ye,pendingToken:Fe}=D;return L&&ye&&Fe&&L===ye?new Po(L,Fe):null}static _create(p,D){return new Po(p,D)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Io extends ki{constructor(p){Ye(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Io.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Io.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const D=Po.fromJSON(p);return Ye(D,"argument-error"),D}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:D,providerId:L}=p;if(!D||!L)return null;try{return Po._create(L,D)}catch{return null}}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Oi extends Pr{constructor(){super("twitter.com")}static credential(p,D){return Wr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:D})}static credentialFromResult(p){return Oi.credentialFromTaggedObject(p)}static credentialFromError(p){return Oi.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:D,oauthTokenSecret:L}=p;if(!D||!L)return null;try{return Oi.credential(D,L)}catch{return null}}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Ms(R,p){return To.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function To(){return(To=(0,l.Z)(function*(R,p){return Un(R,"POST","/v1/accounts:signUp",vn(R,p))})).apply(this,arguments)}Oi.TWITTER_SIGN_IN_METHOD="twitter.com",Oi.PROVIDER_ID="twitter.com";class mo{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,D,L,ye=!1){return(0,l.Z)(function*(){const Fe=yield pt._fromIdTokenResponse(p,L,ye),Vt=Pi(L);return new mo({user:Fe,providerId:Vt,_tokenResponse:L,operationType:D})})()}static _forOperation(p,D,L){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(L,!0);const ye=Pi(L);return new mo({user:p,providerId:ye,_tokenResponse:L,operationType:D})})()}}function Pi(R){return R.providerId?R.providerId:"phoneNumber"in R?"phone":null}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Gr(R){return $o.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function $o(){return($o=(0,l.Z)(function*(R){var p;const D=nr(R);if(yield D._initializationPromise,null!==(p=D.currentUser)&&void 0!==p&&p.isAnonymous)return new mo({user:D.currentUser,providerId:null,operationType:"signIn"});const L=yield Ms(D,{returnSecureToken:!0}),ye=yield mo._fromIdTokenResponse(D,"signIn",L,!0);return yield D._updateCurrentUser(ye.user),ye})).apply(this,arguments)}class lo extends g.ZR{constructor(p,D,L,ye){var Fe;super(D.code,D.message),this.operationType=L,this.user=ye,Object.setPrototypeOf(this,lo.prototype),this.customData={appName:p.name,tenantId:null!==(Fe=p.tenantId)&&void 0!==Fe?Fe:void 0,_serverResponse:D.customData._serverResponse,operationType:L}}static _fromErrorAndOperation(p,D,L,ye){return new lo(p,D,L,ye)}}function bo(R,p,D,L){return("reauthenticate"===p?D._getReauthenticationResolver(R):D._getIdTokenResponse(R)).catch(Fe=>{throw"auth/multi-factor-auth-required"===Fe.code?lo._fromErrorAndOperation(R,Fe,p,L):Fe})}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function xo(R){return new Set(R.map(({providerId:p})=>p).filter(p=>!!p))}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function ao(R,p){return uo.apply(this,arguments)}function uo(){return uo=(0,l.Z)(function*(R,p){const D=(0,g.m9)(R);yield Ds(!0,D,p);const{providerUserInfo:L}=yield function hr(R,p){return fi.apply(this,arguments)}(D.auth,{idToken:yield D.getIdToken(),deleteProvider:[p]}),ye=xo(L||[]);return D.providerData=D.providerData.filter(Fe=>ye.has(Fe.providerId)),ye.has("phone")||(D.phoneNumber=null),yield D.auth._persistUserIfCurrent(D),D}),uo.apply(this,arguments)}function qi(R,p){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(R,p,D=!1){const L=yield Rn(R,p._linkToIdToken(R.auth,yield R.getIdToken()),D);return mo._forOperation(R,"link",L)})).apply(this,arguments)}function Ds(R,p,D){return Mo.apply(this,arguments)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Mo(){return(Mo=(0,l.Z)(function*(R,p,D){yield di(p);const ye=!1===R?"provider-already-linked":"no-such-provider";Ye(xo(p.providerData).has(D)===R,p.auth,ye)})).apply(this,arguments)}function Uo(R,p){return Vo.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Vo(){return(Vo=(0,l.Z)(function*(R,p,D=!1){const{auth:L}=R,ye="reauthenticate";try{const Fe=yield Rn(R,bo(L,ye,p,R),D);Ye(Fe.idToken,L,"internal-error");const Vt=rr(Fe.idToken);Ye(Vt,L,"internal-error");const{sub:Tn}=Vt;return Ye(R.uid===Tn,L,"user-mismatch"),mo._forOperation(R,ye,Fe)}catch(Fe){throw"auth/user-not-found"===Fe?.code&&bt(L,"user-mismatch"),Fe}})).apply(this,arguments)}function Co(R,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(R,p,D=!1){const L="signIn",ye=yield bo(R,L,p),Fe=yield mo._fromIdTokenResponse(R,L,ye);return D||(yield R._updateCurrentUser(Fe.user)),Fe})).apply(this,arguments)}function Qo(R,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(R,p){return Co(nr(R),p)})).apply(this,arguments)}function fo(R,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(R,p){const D=(0,g.m9)(R);return yield Ds(!1,D,p.providerId),qi(D,p)})).apply(this,arguments)}function yi(R,p){return Eo.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Eo(){return(Eo=(0,l.Z)(function*(R,p){return Uo((0,g.m9)(R),p)})).apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Hr(){return(Hr=(0,l.Z)(function*(R,p){return Un(R,"POST","/v1/accounts:signInWithCustomToken",vn(R,p))})).apply(this,arguments)}function zo(R,p){return Ni.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ni(){return Ni=(0,l.Z)(function*(R,p){const D=nr(R),L=yield function is(R,p){return Hr.apply(this,arguments)}(D,{token:p,returnSecureToken:!0}),ye=yield mo._fromIdTokenResponse(D,"signIn",L);return yield D._updateCurrentUser(ye.user),ye}),Ni.apply(this,arguments)}class co{constructor(p,D){this.factorId=p,this.uid=D.mfaEnrollmentId,this.enrollmentTime=new Date(D.enrolledAt).toUTCString(),this.displayName=D.displayName}static _fromServerResponse(p,D){return"phoneInfo"in D?ji._fromServerResponse(p,D):"totpInfo"in D?Wo._fromServerResponse(p,D):bt(p,"internal-error")}}class ji extends co{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,D){return new ji(D)}}class Wo extends co{constructor(p){super("totp",p)}static _fromServerResponse(p,D){return new Wo(D)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function $i(R,p,D){var L;Ye((null===(L=D.url)||void 0===L?void 0:L.length)>0,R,"invalid-continue-uri"),Ye(typeof D.dynamicLinkDomain>"u"||D.dynamicLinkDomain.length>0,R,"invalid-dynamic-link-domain"),p.continueUrl=D.url,p.dynamicLinkDomain=D.dynamicLinkDomain,p.canHandleCodeInApp=D.handleCodeInApp,D.iOS&&(Ye(D.iOS.bundleId.length>0,R,"missing-ios-bundle-id"),p.iOSBundleId=D.iOS.bundleId),D.android&&(Ye(D.android.packageName.length>0,R,"missing-android-pkg-name"),p.androidInstallApp=D.android.installApp,p.androidMinimumVersionCode=D.android.minimumVersion,p.androidPackageName=D.android.packageName)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Xo(R,p,D){return or.apply(this,arguments)}function or(){return or=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R),ye={requestType:"PASSWORD_RESET",email:p};D&&$i(L,ye,D),yield function fr(R,p){return mt.apply(this,arguments)}(L,ye)}),or.apply(this,arguments)}function Cs(R,p,D){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(R,p,D){yield Fi((0,g.m9)(R),{oobCode:p,newPassword:D})})).apply(this,arguments)}function mr(R,p){return re.apply(this,arguments)}function re(){return re=(0,l.Z)(function*(R,p){yield function G(R,p){return ge.apply(this,arguments)}((0,g.m9)(R),{oobCode:p})}),re.apply(this,arguments)}function T(R,p){return J.apply(this,arguments)}function J(){return(J=(0,l.Z)(function*(R,p){const D=(0,g.m9)(R),L=yield Fi(D,{oobCode:p}),ye=L.requestType;switch(Ye(ye,D,"internal-error"),ye){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ye(L.newEmail,D,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ye(L.mfaInfo,D,"internal-error");default:Ye(L.email,D,"internal-error")}let Fe=null;return L.mfaInfo&&(Fe=co._fromServerResponse(nr(D),L.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===L.requestType?L.newEmail:L.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===L.requestType?L.email:L.newEmail)||null,multiFactorInfo:Fe},operation:ye}})).apply(this,arguments)}function ot(R,p){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(R,p){const{data:D}=yield T((0,g.m9)(R),p);return D.email})).apply(this,arguments)}function st(R,p,D){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(R,p,D){const L=nr(R),ye=yield Ms(L,{returnSecureToken:!0,email:p,password:D}),Fe=yield mo._fromIdTokenResponse(L,"signIn",ye);return yield L._updateCurrentUser(Fe.user),Fe})).apply(this,arguments)}function Tt(R,p,D){return Qo((0,g.m9)(R),Si.credential(p,D))}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function dt(R,p,D){return hn.apply(this,arguments)}function hn(){return hn=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R),ye={requestType:"EMAIL_SIGNIN",email:p};Ye(D.handleCodeInApp,L,"argument-error"),D&&$i(L,ye,D),yield function ct(R,p){return Qe.apply(this,arguments)}(L,ye)}),hn.apply(this,arguments)}function Fn(R,p){return"EMAIL_SIGNIN"===Ur.parseLink(p)?.operation}function Qr(R,p,D){return Rr.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Rr(){return(Rr=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R),ye=Si.credentialWithLink(p,D||ft());return Ye(ye._tenantId===(L.tenantId||null),L,"tenant-id-mismatch"),Qo(L,ye)})).apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Yr(){return(Yr=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:createAuthUri",vn(R,p))})).apply(this,arguments)}function mi(R,p){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,l.Z)(function*(R,p){const L={identifier:p,continueUri:Ot()?ft():"http://localhost"},{signinMethods:ye}=yield function go(R,p){return Yr.apply(this,arguments)}((0,g.m9)(R),L);return ye||[]}),Ve.apply(this,arguments)}function y(R,p){return F.apply(this,arguments)}function F(){return F=(0,l.Z)(function*(R,p){const D=(0,g.m9)(R),ye={requestType:"VERIFY_EMAIL",idToken:yield R.getIdToken()};p&&$i(D.auth,ye,p);const{email:Fe}=yield function zn(R,p){return Er.apply(this,arguments)}(D.auth,ye);Fe!==R.email&&(yield R.reload())}),F.apply(this,arguments)}function ie(R,p,D){return De.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function De(){return De=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R),Fe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield R.getIdToken(),newEmail:p};D&&$i(L.auth,Fe,D);const{email:Vt}=yield function jt(R,p){return ln.apply(this,arguments)}(L.auth,Fe);Vt!==R.email&&(yield R.reload())}),De.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Jt(){return(Jt=(0,l.Z)(function*(R,p){return on(R,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Dn(R,p){return Ln.apply(this,arguments)}function Ln(){return Ln=(0,l.Z)(function*(R,{displayName:p,photoURL:D}){if(void 0===p&&void 0===D)return;const L=(0,g.m9)(R),Fe={idToken:yield L.getIdToken(),displayName:p,photoUrl:D,returnSecureToken:!0},Vt=yield Rn(L,function qe(R,p){return Jt.apply(this,arguments)}(L.auth,Fe));L.displayName=Vt.displayName||null,L.photoURL=Vt.photoUrl||null;const Tn=L.providerData.find(({providerId:Xn})=>"password"===Xn);Tn&&(Tn.displayName=L.displayName,Tn.photoURL=L.photoURL),yield L._updateTokensIfNecessary(Vt)}),Ln.apply(this,arguments)}function qn(R,p){return Vr((0,g.m9)(R),p,null)}function tr(R,p){return Vr((0,g.m9)(R),null,p)}function Vr(R,p,D){return Ho.apply(this,arguments)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ho(){return(Ho=(0,l.Z)(function*(R,p,D){const{auth:L}=R,Fe={idToken:yield R.getIdToken(),returnSecureToken:!0};p&&(Fe.email=p),D&&(Fe.password=D);const Vt=yield Rn(R,Vn(L,Fe));yield R._updateTokensIfNecessary(Vt,!0)})).apply(this,arguments)}class Qi{constructor(p,D,L={}){this.isNewUser=p,this.providerId=D,this.profile=L}}class Yo extends Qi{constructor(p,D,L,ye){super(p,D,L),this.username=ye}}class Zo extends Qi{constructor(p,D){super(p,"facebook.com",D)}}class Vs extends Yo{constructor(p,D){super(p,"github.com",D,"string"==typeof D?.login?D?.login:null)}}class qs extends Qi{constructor(p,D){super(p,"google.com",D)}}class os extends Yo{constructor(p,D,L){super(p,"twitter.com",D,L)}}function ga(R){const{user:p,_tokenResponse:D}=R;return p.isAnonymous&&!D?{providerId:null,isNewUser:!1,profile:null}:function Go(R){var p,D;if(!R)return null;const{providerId:L}=R,ye=R.rawUserInfo?JSON.parse(R.rawUserInfo):{},Fe=R.isNewUser||"identitytoolkit#SignupNewUserResponse"===R.kind;if(!L&&R?.idToken){const Vt=null===(D=null===(p=rr(R.idToken))||void 0===p?void 0:p.firebase)||void 0===D?void 0:D.sign_in_provider;if(Vt)return new Qi(Fe,"anonymous"!==Vt&&"custom"!==Vt?Vt:null)}if(!L)return null;switch(L){case"facebook.com":return new Zo(Fe,ye);case"github.com":return new Vs(Fe,ye);case"google.com":return new qs(Fe,ye);case"twitter.com":return new os(Fe,ye,R.screenName||null);case"custom":case"anonymous":return new Qi(Fe,null);default:return new Qi(Fe,L,ye)}}(D)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Za(R,p){return(0,g.m9)(R).setPersistence(p)}function _a(R,p,D,L){return(0,g.m9)(R).onIdTokenChanged(p,D,L)}function As(R,p,D){return(0,g.m9)(R).beforeAuthStateChanged(p,D)}function pe(R,p,D,L){return(0,g.m9)(R).onAuthStateChanged(p,D,L)}function C(R){(0,g.m9)(R).useDeviceLanguage()}function A(R,p){return(0,g.m9)(R).updateCurrentUser(p)}function H(R){return(0,g.m9)(R).signOut()}function ce(R){return ke.apply(this,arguments)}function ke(){return(ke=(0,l.Z)(function*(R){return(0,g.m9)(R).delete()})).apply(this,arguments)}class ve{constructor(p,D,L){this.type=p,this.credential=D,this.auth=L}static _fromIdtoken(p,D){return new ve("enroll",p,D)}static _fromMfaPendingCredential(p){return new ve("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var D,L;if(p?.multiFactorSession){if(null!==(D=p.multiFactorSession)&&void 0!==D&&D.pendingCredential)return ve._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(L=p.multiFactorSession)&&void 0!==L&&L.idToken)return ve._fromIdtoken(p.multiFactorSession.idToken)}return null}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Je{constructor(p,D,L){this.session=p,this.hints=D,this.signInResolver=L}static _fromError(p,D){const L=nr(p),ye=D.customData._serverResponse,Fe=(ye.mfaInfo||[]).map(Tn=>co._fromServerResponse(L,Tn));Ye(ye.mfaPendingCredential,L,"internal-error");const Vt=ve._fromMfaPendingCredential(ye.mfaPendingCredential);return new Je(Vt,Fe,function(){var Tn=(0,l.Z)(function*(Xn){const ei=yield Xn._process(L,Vt);delete ye.mfaInfo,delete ye.mfaPendingCredential;const wi=Object.assign(Object.assign({},ye),{idToken:ei.idToken,refreshToken:ei.refreshToken});switch(D.operationType){case"signIn":const rs=yield mo._fromIdTokenResponse(L,D.operationType,wi);return yield L._updateCurrentUser(rs.user),rs;case"reauthenticate":return Ye(D.user,L,"internal-error"),mo._forOperation(D.user,D.operationType,wi);default:bt(L,"internal-error")}});return function(Xn){return Tn.apply(this,arguments)}}())}resolveSignIn(p){var D=this;return(0,l.Z)(function*(){const L=p;return D.signInResolver(L)})()}}function Pt(R,p){var D;const L=(0,g.m9)(R),ye=p;return Ye(p.customData.operationType,L,"argument-error"),Ye(null===(D=ye.customData._serverResponse)||void 0===D?void 0:D.mfaPendingCredential,L,"argument-error"),Je._fromError(L,ye)
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}class vt{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(D=>{D.mfaInfo&&(this.enrolledFactors=D.mfaInfo.map(L=>co._fromServerResponse(p.auth,L)))})}static _fromUser(p){return new vt(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ve._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,D){var L=this;return(0,l.Z)(function*(){const ye=p,Fe=yield L.getSession(),Vt=yield Rn(L.user,ye._process(L.user.auth,Fe,D));return yield L.user._updateTokensIfNecessary(Vt),L.user.reload()})()}unenroll(p){var D=this;return(0,l.Z)(function*(){const L="string"==typeof p?p:p.uid,ye=yield D.user.getIdToken();try{const Fe=yield Rn(D.user,function un(R,p){return on(R,"POST","/v2/accounts/mfaEnrollment:withdraw",vn(R,p))}(D.user.auth,{idToken:ye,mfaEnrollmentId:L}));D.enrolledFactors=D.enrolledFactors.filter(({uid:Vt})=>Vt!==L),yield D.user._updateTokensIfNecessary(Fe),yield D.user.reload()}catch(Fe){throw Fe}})()}}const O=new WeakMap;function I(R){const p=(0,g.m9)(R);return O.has(p)||O.set(p,vt._fromUser(p)),O.get(p)}const Z="__sak";
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class xe{constructor(p,D){this.storageRetriever=p,this.type=D}_isAvailable(){try{return this.storage?(this.storage.setItem(Z,"1"),this.storage.removeItem(Z),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,D){return this.storage.setItem(p,JSON.stringify(D)),Promise.resolve()}_get(p){const D=this.storage.getItem(p);return Promise.resolve(D?JSON.parse(D):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class yr extends xe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ht(){const R=(0,g.z$)();return me(R)||Ut(R)}()&&function Ne(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=q(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const L=this.storage.getItem(D),ye=this.localCache[D];L!==ye&&p(D,ye,L)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((Vt,Tn,Xn)=>{this.notifyListeners(Vt,Xn)});const L=p.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Vt=this.storage.getItem(L);if(p.newValue!==Vt)null!==p.newValue?this.storage.setItem(L,p.newValue):this.storage.removeItem(L);else if(this.localCache[L]===p.newValue&&!D)return}const ye=()=>{const Vt=this.storage.getItem(L);!D&&this.localCache[L]===Vt||this.notifyListeners(L,Vt)},Fe=this.storage.getItem(L);!function lt(){return(0,g.w1)()&&10===document.documentMode}()||Fe===p.newValue||p.newValue===p.oldValue?ye():setTimeout(ye,10)}notifyListeners(p,D){this.localCache[p]=D;const L=this.listeners[p];if(L)for(const ye of Array.from(L))ye(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var L=()=>super._set,ye=this;return(0,l.Z)(function*(){yield L().call(ye,p,D),ye.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,L=this;return(0,l.Z)(function*(){const ye=yield D().call(L,p);return L.localCache[p]=JSON.stringify(ye),ye})()}_remove(p){var D=()=>super._remove,L=this;return(0,l.Z)(function*(){yield D().call(L,p),delete L.localCache[p]})()}}yr.type="LOCAL";const ui=yr;
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ci extends xe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}ci.type="SESSION";const bi=ci;
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class Xi{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(ye=>ye.isListeningto(p));if(D)return D;const L=new Xi(p);return this.receivers.push(L),L}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,l.Z)(function*(){const L=p,{eventId:ye,eventType:Fe,data:Vt}=L.data,Tn=D.handlersMap[Fe];if(!Tn?.size)return;L.ports[0].postMessage({status:"ack",eventId:ye,eventType:Fe});const Xn=Array.from(Tn).map(function(){var wi=(0,l.Z)(function*(rs){return rs(L.origin,Vt)});return function(rs){return wi.apply(this,arguments)}}()),ei=yield function Kr(R){return Promise.all(R.map(function(){var p=(0,l.Z)(function*(D){try{return{fulfilled:!0,value:yield D}}catch(L){return{fulfilled:!1,reason:L}}});return function(D){return p.apply(this,arguments)}}()))}(Xn);L.ports[0].postMessage({status:"done",eventId:ye,eventType:Fe,response:ei})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Yn(R="",p=10){let D="";for(let L=0;L<p;L++)D+=Math.floor(10*Math.random());return R+D}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */Xi.receivers=[];class Hi{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,D,L=50){var ye=this;return(0,l.Z)(function*(){const Fe=typeof MessageChannel<"u"?new MessageChannel:null;if(!Fe)throw new Error("connection_unavailable");let Vt,Tn;return new Promise((Xn,ei)=>{const wi=Yn("",20);Fe.port1.start();const rs=setTimeout(()=>{ei(new Error("unsupported_event"))},L);Tn={messageChannel:Fe,onMessage(gs){const cc=gs;if(cc.data.eventId===wi)switch(cc.data.status){case"ack":clearTimeout(rs),Vt=setTimeout(()=>{ei(new Error("timeout"))},3e3);break;case"done":clearTimeout(Vt),Xn(cc.data.response);break;default:clearTimeout(rs),clearTimeout(Vt),ei(new Error("invalid_response"))}}},ye.handlers.add(Tn),Fe.port1.addEventListener("message",Tn.onMessage),ye.target.postMessage({eventType:p,eventId:wi,data:D},[Fe.port2])}).finally(()=>{Tn&&ye.removeMessageHandler(Tn)})})()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ji(){return window}
/**
         * @license
         * Copyright 2020 Google LLC.
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function an(){return typeof Ji().WorkerGlobalScope<"u"&&"function"==typeof Ji().importScripts}function Nn(){return(Nn=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const An="firebaseLocalStorageDb",cs=1,qo="firebaseLocalStorage",eo="fbase_key";class Ss{constructor(p){this.request=p}toPromise(){return new Promise((p,D)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{D(this.request.error)})})}}function Qs(R,p){return R.transaction([qo],p?"readwrite":"readonly").objectStore(qo)}function Ao(){const R=indexedDB.open(An,cs);return new Promise((p,D)=>{R.addEventListener("error",()=>{D(R.error)}),R.addEventListener("upgradeneeded",()=>{const L=R.result;try{L.createObjectStore(qo,{keyPath:eo})}catch(ye){D(ye)}}),R.addEventListener("success",(0,l.Z)(function*(){const L=R.result;L.objectStoreNames.contains(qo)?p(L):(L.close(),yield function ls(){const R=indexedDB.deleteDatabase(An);return new Ss(R).toPromise()}(),p(yield Ao()))}))})}function us(R,p,D){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(R,p,D){const L=Qs(R,!0).put({[eo]:p,value:D});return new Ss(L).toPromise()})).apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(R,p){const D=Qs(R,!1).get(p),L=yield new Ss(D).toPromise();return void 0===L?null:L.value})).apply(this,arguments)}function ws(R,p){const D=Qs(R,!0).delete(p);return new Ss(D).toPromise()}class Pa{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield Ao()),p.db})()}_withRetries(p){var D=this;return(0,l.Z)(function*(){let L=0;for(;;)try{const ye=yield D._openDb();return yield p(ye)}catch(ye){if(L++>3)throw ye;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return an()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=Xi._getInstance(function Ei(){return an()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,l.Z)(function*(L,ye){return{keyProcessed:(yield p._poll()).includes(ye.key)}});return function(L,ye){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,l.Z)(function*(L,ye){return["keyChanged"]});return function(L,ye){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var D,L;if(p.activeServiceWorker=yield function sr(){return Nn.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Hi(p.activeServiceWorker);const ye=yield p.sender._send("ping",{},800);ye&&null!==(D=ye[0])&&void 0!==D&&D.fulfilled&&null!==(L=ye[0])&&void 0!==L&&L.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,l.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function gi(){var R;return(null===(R=navigator?.serviceWorker)||void 0===R?void 0:R.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ao();return yield us(p,Z,"1"),yield ws(p,Z),!0}catch{}return!1})()}_withPendingWrite(p){var D=this;return(0,l.Z)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var L=this;return(0,l.Z)(function*(){return L._withPendingWrite((0,l.Z)(function*(){return yield L._withRetries(ye=>us(ye,p,D)),L.localCache[p]=D,L.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,l.Z)(function*(){const L=yield D._withRetries(ye=>function Mi(R,p){return Oa.apply(this,arguments)}(ye,p));return D.localCache[p]=L,L})()}_remove(p){var D=this;return(0,l.Z)(function*(){return D._withPendingWrite((0,l.Z)(function*(){return yield D._withRetries(L=>ws(L,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const D=yield p._withRetries(Fe=>{const Vt=Qs(Fe,!1).getAll();return new Ss(Vt).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const L=[],ye=new Set;for(const{fbase_key:Fe,value:Vt}of D)ye.add(Fe),JSON.stringify(p.localCache[Fe])!==JSON.stringify(Vt)&&(p.notifyListeners(Fe,Vt),L.push(Fe));for(const Fe of Object.keys(p.localCache))p.localCache[Fe]&&!ye.has(Fe)&&(p.notifyListeners(Fe,null),L.push(Fe));return L})()}notifyListeners(p,D){this.localCache[p]=D;const L=this.listeners[p];if(L)for(const ye of Array.from(L))ye(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Pa.type="LOCAL";const $t=Pa;
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Jo(){return(Jo=(0,l.Z)(function*(R){return(yield on(R,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Os(R){return new Promise((p,D)=>{const L=document.createElement("script");L.setAttribute("src",R),L.onload=p,L.onerror=ye=>{const Fe=_t("internal-error");Fe.customData=ye,D(Fe)},L.type="text/javascript",L.charset="UTF-8",function _c(){var R,p;return null!==(p=null===(R=document.getElementsByTagName("head"))||void 0===R?void 0:R[0])&&void 0!==p?p:document}().appendChild(L)})}function za(R){return`__${R}${Math.floor(1e6*Math.random())}`}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const qa=1e12;class Is{constructor(p){this.auth=p,this.counter=qa,this._widgets=new Map}render(p,D){const L=this.counter;return this._widgets.set(L,new Qa(p,this.auth.name,D||{})),this.counter++,L}reset(p){var D;const L=p||qa;null===(D=this._widgets.get(L))||void 0===D||D.delete(),this._widgets.delete(L)}getResponse(p){var D;const L=p||qa;return(null===(D=this._widgets.get(L))||void 0===D?void 0:D.getResponse())||""}execute(p){var D=this;return(0,l.Z)(function*(){var L;const ye=p||qa;return null===(L=D._widgets.get(ye))||void 0===L||L.execute(),""})()}}class Qa{constructor(p,D,L){this.params=L,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ye="string"==typeof p?document.getElementById(p):p;Ye(ye,"argument-error",{appName:D}),this.container=ye,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yc(R){const p=[],D="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<R;L++)p.push(D.charAt(Math.floor(Math.random()*D.length)));return p.join("")}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(50);const{callback:p,"expired-callback":D}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,D)try{D()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wa=za("rcb"),ss=new Gt(3e4,6e4);class Xa{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Ji().grecaptcha)||void 0===p||!p.render)}load(p,D=""){return Ye(function $s(R){return R.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(R)}(D),p,"argument-error"),this.shouldResolveImmediately(D)?Promise.resolve(Ji().grecaptcha):new Promise((L,ye)=>{const Fe=Ji().setTimeout(()=>{ye(_t(p,"network-request-failed"))},ss.get());Ji()[Wa]=()=>{Ji().clearTimeout(Fe),delete Ji()[Wa];const Tn=Ji().grecaptcha;if(!Tn)return void ye(_t(p,"internal-error"));const Xn=Tn.render;Tn.render=(ei,wi)=>{const rs=Xn(ei,wi);return this.counter++,rs},this.hostLanguage=D,L(Tn)};Os(`https://www.google.com/recaptcha/api.js??${(0,g.xO)({onload:Wa,render:"explicit",hl:D})}`).catch(()=>{clearTimeout(Fe),ye(_t(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var D;return!(null===(D=Ji().grecaptcha)||void 0===D||!D.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zc{load(p){return(0,l.Z)(function*(){return new Is(p)})()}clearedOneInstance(){}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const la="recaptcha",Ra={theme:"light",type:"image"};class tl{constructor(p,D=Object.assign({},Ra),L){this.parameters=D,this.type=la,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(L),this.isInvisible="invisible"===this.parameters.size,Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ye="string"==typeof p?document.getElementById(p):p;Ye(ye,this.auth,"argument-error"),this.container=ye,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zc:new Xa,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const D=yield p.render(),L=p.getAssertedRecaptcha();return L.getResponse(D)||new Promise(Fe=>{const Vt=Tn=>{Tn&&(p.tokenChangeListeners.delete(Vt),Fe(Tn))};p.tokenChangeListeners.add(Vt),p.isInvisible&&L.execute(D)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ye(!this.parameters.sitekey,this.auth,"argument-error"),Ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return D=>{if(this.tokenChangeListeners.forEach(L=>L(D)),"function"==typeof p)p(D);else if("string"==typeof p){const L=Ji()[p];"function"==typeof L&&L(D)}}}assertNotDestroyed(){Ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let D=p.container;if(!p.isInvisible){const L=document.createElement("div");D.appendChild(L),D=L}p.widgetId=p.getAssertedRecaptcha().render(D,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){Ye(Ot()&&!an(),p.auth,"internal-error"),yield function No(){let R=null;return new Promise(p=>{"complete"!==document.readyState?(R=()=>p(),window.addEventListener("load",R)):p()}).catch(p=>{throw R&&window.removeEventListener("load",R),p})}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const D=yield
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function zs(R){return Jo.apply(this,arguments)}(p.auth);Ye(D,p.auth,"internal-error"),p.parameters.sitekey=D})()}getAssertedRecaptcha(){return Ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class nl{constructor(p,D){this.verificationId=p,this.onConfirmation=D}confirm(p){const D=xi._fromVerification(this.verificationId,p);return this.onConfirmation(D)}}function ka(R,p,D){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(R,p,D){const L=nr(R),ye=yield ea(L,p,(0,g.m9)(D));return new nl(ye,Fe=>Qo(L,Fe))})).apply(this,arguments)}function Wc(R,p,D){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R);yield Ds(!1,L,"phone");const ye=yield ea(L.auth,p,(0,g.m9)(D));return new nl(ye,Fe=>fo(L,Fe))})).apply(this,arguments)}function Yl(R,p,D){return ua.apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R),ye=yield ea(L.auth,p,(0,g.m9)(D));return new nl(ye,Fe=>yi(L,Fe))})).apply(this,arguments)}function ea(R,p,D){return vc.apply(this,arguments)}function vc(){return vc=(0,l.Z)(function*(R,p,D){var L;const ye=yield D.verify();try{let Fe;if(Ye("string"==typeof ye,R,"argument-error"),Ye(D.type===la,R,"argument-error"),Fe="string"==typeof p?{phoneNumber:p}:p,"session"in Fe){const Vt=Fe.session;if("phoneNumber"in Fe)return Ye("enroll"===Vt.type,R,"internal-error"),(yield function rn(R,p){return on(R,"POST","/v2/accounts/mfaEnrollment:start",vn(R,p))}(R,{idToken:Vt.credential,phoneEnrollmentInfo:{phoneNumber:Fe.phoneNumber,recaptchaToken:ye}})).phoneSessionInfo.sessionInfo;{Ye("signin"===Vt.type,R,"internal-error");const Tn=(null===(L=Fe.multiFactorHint)||void 0===L?void 0:L.uid)||Fe.multiFactorUid;return Ye(Tn,R,"missing-multi-factor-info"),(yield function Js(R,p){return on(R,"POST","/v2/accounts/mfaSignIn:start",vn(R,p))}(R,{mfaPendingCredential:Vt.credential,mfaEnrollmentId:Tn,phoneSignInInfo:{recaptchaToken:ye}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Vt}=yield function jo(R,p){return si.apply(this,arguments)}(R,{phoneNumber:Fe.phoneNumber,recaptchaToken:ye});return Vt}}finally{D._reset()}}),vc.apply(this,arguments)}function rl(R,p){return es.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function es(){return(es=(0,l.Z)(function*(R,p){yield qi((0,g.m9)(R),p)})).apply(this,arguments)}class va{constructor(p){this.providerId=va.PROVIDER_ID,this.auth=nr(p)}verifyPhoneNumber(p,D){return ea(this.auth,p,(0,g.m9)(D))}static credential(p,D){return xi._fromVerification(p,D)}static credentialFromResult(p){const D=p;return va.credentialFromTaggedObject(D)}static credentialFromError(p){return va.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:D,temporaryProof:L}=p;return D&&L?xi._fromTokenResponse(D,L):null}}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function ds(R,p){return p?en(p):(Ye(R._popupRedirectResolver,R,"argument-error"),R._popupRedirectResolver)}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */va.PROVIDER_ID="phone",va.PHONE_SIGN_IN_METHOD="phone";class Ja extends io{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ii(p,this._buildIdpRequest())}_linkToIdToken(p,D){return Ii(p,this._buildIdpRequest(D))}_getReauthenticationResolver(p){return Ii(p,this._buildIdpRequest())}_buildIdpRequest(p){const D={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(D.idToken=p),D}}function ta(R){return Co(R.auth,new Ja(R),R.bypassAuthState)}function P(R){const{auth:p,user:D}=R;return Ye(D,p,"internal-error"),Uo(D,new Ja(R),R.bypassAuthState)}function b(R){return M.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function M(){return(M=(0,l.Z)(function*(R){const{auth:p,user:D}=R;return Ye(D,p,"internal-error"),qi(D,new Ja(R),R.bypassAuthState)})).apply(this,arguments)}class W{constructor(p,D,L,ye,Fe=!1){this.auth=p,this.resolver=L,this.user=ye,this.bypassAuthState=Fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(D)?D:[D]}execute(){var p=this;return new Promise(function(){var D=(0,l.Z)(function*(L,ye){p.pendingPromise={resolve:L,reject:ye};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Fe){p.reject(Fe)}});return function(L,ye){return D.apply(this,arguments)}}())}onAuthEvent(p){var D=this;return(0,l.Z)(function*(){const{urlResponse:L,sessionId:ye,postBody:Fe,tenantId:Vt,error:Tn,type:Xn}=p;if(Tn)return void D.reject(Tn);const ei={auth:D.auth,requestUri:L,sessionId:ye,tenantId:Vt||void 0,postBody:Fe||void 0,user:D.user,bypassAuthState:D.bypassAuthState};try{D.resolve(yield D.getIdpTask(Xn)(ei))}catch(wi){D.reject(wi)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ta;case"linkViaPopup":case"linkViaRedirect":return b;case"reauthViaPopup":case"reauthViaRedirect":return P;default:bt(this.auth,"internal-error")}}resolve(p){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const $=new Gt(2e3,1e4);function ae(R,p,D){return je.apply(this,arguments)}function je(){return(je=(0,l.Z)(function*(R,p,D){const L=nr(R);at(R,p,ki);const ye=ds(L,D);return new oi(L,"signInViaPopup",p,ye).executeNotNull()})).apply(this,arguments)}function Nt(R,p,D){return sn.apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R);at(L.auth,p,ki);const ye=ds(L.auth,D);return new oi(L.auth,"reauthViaPopup",p,ye,L).executeNotNull()})).apply(this,arguments)}function Sn(R,p,D){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R);at(L.auth,p,ki);const ye=ds(L.auth,D);return new oi(L.auth,"linkViaPopup",p,ye,L).executeNotNull()})).apply(this,arguments)}class oi extends W{constructor(p,D,L,ye,Fe){super(p,D,ye,Fe),this.provider=L,this.authWindow=null,this.pollId=null,oi.currentPopupAction&&oi.currentPopupAction.cancel(),oi.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const D=yield p.execute();return Ye(D,p.auth,"internal-error"),D})()}onExecution(){var p=this;return(0,l.Z)(function*(){Bt(1===p.filter.length,"Popup operations only handle one event");const D=Yn();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],D),p.authWindow.associatedEvent=D,p.resolver._originValidation(p.auth).catch(L=>{p.reject(L)}),p.resolver._isIframeWebStorageSupported(p.auth,L=>{L||p.reject(_t(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(_t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oi.currentPopupAction=null}pollUserCancellation(){const p=()=>{var D,L;null!==(L=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==L&&L.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_t(this.auth,"popup-closed-by-user"))},2e3):this.pollId=window.setTimeout(p,$.get())};p()}}oi.currentPopupAction=null;
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const as="pendingRedirect",ys=new Map;class Lo extends W{constructor(p,D,L=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],D,void 0,L),this.eventId=null}execute(){var p=()=>super.execute,D=this;return(0,l.Z)(function*(){let L=ys.get(D.auth._key());if(!L){try{const Fe=(yield function Gs(R,p){return Ts.apply(this,arguments)}(D.resolver,D.auth))?yield p().call(D):null;L=()=>Promise.resolve(Fe)}catch(ye){L=()=>Promise.reject(ye)}ys.set(D.auth._key(),L)}return D.bypassAuthState||ys.set(D.auth._key(),()=>Promise.resolve(null)),L()})()}onAuthEvent(p){var D=()=>super.onAuthEvent,L=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return D().call(L,p);if("unknown"!==p.type){if(p.eventId){const ye=yield L.auth._redirectUserForId(p.eventId);if(ye)return L.user=ye,D().call(L,p);L.resolve(null)}}else L.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ts(){return(Ts=(0,l.Z)(function*(R,p){const D=Ha(p),L=da(R);if(!(yield L._isAvailable()))return!1;const ye="true"===(yield L._get(D));return yield L._remove(D),ye})).apply(this,arguments)}function ts(R,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(R,p){return da(R)._set(Ha(p),"true")})).apply(this,arguments)}function Ta(){ys.clear()}function wo(R,p){ys.set(R._key(),p)}function da(R){return en(R._redirectPersistence)}function Ha(R){return He(as,R.config.apiKey,R.name)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function bc(R,p,D){return function na(R,p,D){return V.apply(this,arguments)}(R,p,D)}function V(){return(V=(0,l.Z)(function*(R,p,D){const L=nr(R);at(R,p,ki),yield L._initializationPromise;const ye=ds(L,D);return yield ts(ye,L),ye._openRedirect(L,p,"signInViaRedirect")})).apply(this,arguments)}function K(R,p,D){return function he(R,p,D){return Ze.apply(this,arguments)}(R,p,D)}function Ze(){return(Ze=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R);at(L.auth,p,ki),yield L.auth._initializationPromise;const ye=ds(L.auth,D);yield ts(ye,L.auth);const Fe=yield li(L);return ye._openRedirect(L.auth,p,"reauthViaRedirect",Fe)})).apply(this,arguments)}function wt(R,p,D){return function Wt(R,p,D){return wn.apply(this,arguments)}(R,p,D)}function wn(){return(wn=(0,l.Z)(function*(R,p,D){const L=(0,g.m9)(R);at(L.auth,p,ki),yield L.auth._initializationPromise;const ye=ds(L.auth,D);yield Ds(!1,L,p.providerId),yield ts(ye,L.auth);const Fe=yield li(L);return ye._openRedirect(L.auth,p,"linkViaRedirect",Fe)})).apply(this,arguments)}function lr(R,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(R,p){return yield nr(R)._initializationPromise,zr(R,p,!1)})).apply(this,arguments)}function zr(R,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(R,p,D=!1){const L=nr(R),ye=ds(L,p),Vt=yield new Lo(L,ye,D).execute();return Vt&&!D&&(delete Vt.user._redirectEventId,yield L._persistUserIfCurrent(Vt.user),yield L._setRedirectUser(null,p)),Vt})).apply(this,arguments)}function li(R){return Ls.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ls(){return(Ls=(0,l.Z)(function*(R){const p=Yn(`${R.uid}:::`);return R._redirectEventId=p,yield R.auth._setRedirectUser(R),yield R.auth._persistUserIfCurrent(R),p})).apply(this,arguments)}class Ec{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let D=!1;return this.consumers.forEach(L=>{this.isEventForConsumer(p,L)&&(D=!0,this.sendToConsumer(p,L),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function bs(R){switch(R.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xa(R);default:return!1}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(p)||(this.hasHandledPotentialRedirect=!0,D||(this.queuedRedirectEvent=p,D=!0)),D}sendToConsumer(p,D){var L;if(p.error&&!xa(p)){const ye=(null===(L=p.error.code)||void 0===L?void 0:L.split("auth/")[1])||"internal-error";D.onError(_t(this.auth,ye))}else D.onAuthEvent(p)}isEventForConsumer(p,D){const L=null===D.eventId||!!p.eventId&&p.eventId===D.eventId;return D.filter.includes(p.type)&&L}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dc(p))}saveEventToCache(p){this.cachedEventUids.add(Dc(p)),this.lastProcessedEventTime=Date.now()}}function Dc(R){return[R.type,R.eventId,R.sessionId,R.tenantId].filter(p=>p).join("-")}function xa({type:R,error:p}){return"unknown"===R&&"auth/no-auth-event"===p?.code}function ha(R){return oc.apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function oc(){return(oc=(0,l.Z)(function*(R,p={}){return on(R,"GET","/v1/projects",p)})).apply(this,arguments)}const Cc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pu=/^https?/;function Fs(){return(Fs=(0,l.Z)(function*(R){if(R.config.emulator)return;const{authorizedDomains:p}=yield ha(R);for(const D of p)try{if(Dl(D))return}catch{}bt(R,"unauthorized-domain")})).apply(this,arguments)}function Dl(R){const p=ft(),{protocol:D,hostname:L}=new URL(p);if(R.startsWith("chrome-extension://")){const Vt=new URL(R);return""===Vt.hostname&&""===L?"chrome-extension:"===D&&R.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===D&&Vt.hostname===L}if(!Pu.test(D))return!1;if(Cc.test(R))return L===R;const ye=R.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ye+"|"+ye+")$","i").test(L)}
/**
         * @license
         * Copyright 2020 Google LLC.
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const ns=new Gt(3e4,6e4);function Ka(){const R=Ji().___jsl;if(R?.H)for(const p of Object.keys(R.H))if(R.H[p].r=R.H[p].r||[],R.H[p].L=R.H[p].L||[],R.H[p].r=[...R.H[p].L],R.CP)for(let D=0;D<R.CP.length;D++)R.CP[D]=null}let il=null;function wc(R){return il=il||function Cl(R){return new Promise((p,D)=>{var L,ye,Fe;function Vt(){Ka(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ka(),D(_t(R,"network-request-failed"))},timeout:ns.get()})}if(null!==(ye=null===(L=Ji().gapi)||void 0===L?void 0:L.iframes)&&void 0!==ye&&ye.Iframe)p(gapi.iframes.getContext());else{if(null===(Fe=Ji().gapi)||void 0===Fe||!Fe.load){const Tn=za("iframefcb");return Ji()[Tn]=()=>{gapi.load?Vt():D(_t(R,"network-request-failed"))},Os(`https://apis.google.com/js/api.js?onload=${Tn}`).catch(Xn=>D(Xn))}Vt()}}).catch(p=>{throw il=null,p})}(R),il
/**
         * @license
         * Copyright 2020 Google LLC.
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}const hf=new Gt(5e3,15e3),th="__/auth/iframe",ro="emulator/auth/iframe",So={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ol=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ru(R){const p=R.config;Ye(p.authDomain,R,"auth-domain-config-required");const D=p.emulator?Qt(p,ro):`https://${R.config.authDomain}/${th}`,L={apiKey:p.apiKey,appName:R.name,v:z.SDK_VERSION},ye=ol.get(R.config.apiHost);ye&&(L.eid=ye);const Fe=R._getFrameworks();return Fe.length&&(L.fw=Fe.join(",")),`${D}?${(0,g.xO)(L).slice(1)}`}
/**
         * @license
         * Copyright 2020 Google LLC.
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function fa(){return fa=(0,l.Z)(function*(R){const p=yield wc(R),D=Ji().gapi;return Ye(D,R,"internal-error"),p.open({where:document.body,url:Ru(R),messageHandlersFilter:D.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:So,dontclear:!0},L=>new Promise(function(){var ye=(0,l.Z)(function*(Fe,Vt){yield L.restyle({setHideOnLeave:!1});const Tn=_t(R,"network-request-failed"),Xn=Ji().setTimeout(()=>{Vt(Tn)},hf.get());function ei(){Ji().clearTimeout(Xn),Fe(L)}L.ping(ei).then(ei,()=>{Vt(Tn)})});return function(Fe,Vt){return ye.apply(this,arguments)}}()))}),fa.apply(this,arguments)}const Tc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ku=500,ql=600,xc="_blank",wl="http://localhost";class sl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nh(R,p,D,L=ku,ye=ql){const Fe=Math.max((window.screen.availHeight-ye)/2,0).toString(),Vt=Math.max((window.screen.availWidth-L)/2,0).toString();let Tn="";const Xn=Object.assign(Object.assign({},Tc),{width:L.toString(),height:ye.toString(),top:Fe,left:Vt}),ei=(0,g.z$)().toLowerCase();D&&(Tn=Ct(ei)?xc:D),oe(ei)&&(p=p||wl,Xn.scrollbars="yes");const wi=Object.entries(Xn).reduce((gs,[cc,lc])=>`${gs}${cc}=${lc},`,"");if(function On(R=(0,g.z$)()){var p;return Ut(R)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ei)&&"_self"!==Tn)return function ba(R,p){const D=document.createElement("a");D.href=R,D.target=p;const L=document.createEvent("MouseEvent");L.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),D.dispatchEvent(L)}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(p||"",Tn),new sl(null);const rs=window.open(p||"",Tn,wi);Ye(rs,R,"popup-blocked");try{rs.focus()}catch{}return new sl(rs)}const Ql="__/auth/handler",dd="emulator/auth/handler";function al(R,p,D,L,ye,Fe){Ye(R.config.authDomain,R,"auth-domain-config-required"),Ye(R.config.apiKey,R,"invalid-api-key");const Vt={apiKey:R.config.apiKey,appName:R.name,authType:D,redirectUrl:L,v:z.SDK_VERSION,eventId:ye};if(p instanceof ki){p.setDefaultLanguage(R.languageCode),Vt.providerId=p.providerId||"",(0,g.xb)(p.getCustomParameters())||(Vt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Xn,ei]of Object.entries(Fe||{}))Vt[Xn]=ei}if(p instanceof Pr){const Xn=p.getScopes().filter(ei=>""!==ei);Xn.length>0&&(Vt.scopes=Xn.join(","))}R.tenantId&&(Vt.tid=R.tenantId);const Tn=Vt;for(const Xn of Object.keys(Tn))void 0===Tn[Xn]&&delete Tn[Xn];return`${function hd({config:R}){return R.emulator?Qt(R,dd):`https://${R.authDomain}/${Ql}`}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(R)}?${(0,g.xO)(Tn).slice(1)}`}const ra="webStorageSupport";const Mc=class Xl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bi,this._completeRedirectFn=zr,this._overrideRedirectResult=wo}_openPopup(p,D,L,ye){var Fe=this;return(0,l.Z)(function*(){var Vt;Bt(null===(Vt=Fe.eventManagers[p._key()])||void 0===Vt?void 0:Vt.manager,"_initialize() not called before _openPopup()");const Tn=al(p,D,L,ft(),ye);return nh(p,Tn,Yn())})()}_openRedirect(p,D,L,ye){var Fe=this;return(0,l.Z)(function*(){return yield Fe._originValidation(p),function hi(R){Ji().location.href=R}(al(p,D,L,ft(),ye)),new Promise(()=>{})})()}_initialize(p){const D=p._key();if(this.eventManagers[D]){const{manager:ye,promise:Fe}=this.eventManagers[D];return ye?Promise.resolve(ye):(Bt(Fe,"If manager is not set, promise should be"),Fe)}const L=this.initAndGetManager(p);return this.eventManagers[D]={promise:L},L.catch(()=>{delete this.eventManagers[D]}),L}initAndGetManager(p){var D=this;return(0,l.Z)(function*(){const L=yield function Ic(R){return fa.apply(this,arguments)}(p),ye=new Ec(p);return L.register("authEvent",Fe=>(Ye(Fe?.authEvent,p,"invalid-auth-event"),{status:ye.onEvent(Fe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),D.eventManagers[p._key()]={manager:ye},D.iframes[p._key()]=L,ye})()}_isIframeWebStorageSupported(p,D){this.iframes[p._key()].send(ra,{type:ra},ye=>{var Fe;const Vt=null===(Fe=ye?.[0])||void 0===Fe?void 0:Fe[ra];void 0!==Vt&&D(!!Vt),bt(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const D=p._key();return this.originValidationPromises[D]||(this.originValidationPromises[D]=function Zl(R){return Fs.apply(this,arguments)}(p)),this.originValidationPromises[D]}get _shouldInitProactively(){return q()||me()||Ut()}};class Ps{constructor(p){this.factorId=p}_process(p,D,L){switch(D.type){case"enroll":return this._finalizeEnroll(p,D.credential,L);case"signin":return this._finalizeSignIn(p,D.credential);default:return X("unexpected MultiFactorSessionType")}}}class Ac extends Ps{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ac(p)}_finalizeEnroll(p,D,L){return function Yt(R,p){return on(R,"POST","/v2/accounts/mfaEnrollment:finalize",vn(R,p))}(p,{idToken:D,displayName:L,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,D){return function ps(R,p){return on(R,"POST","/v2/accounts/mfaSignIn:finalize",vn(R,p))}(p,{mfaPendingCredential:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class cl{constructor(){}static assertion(p){return Ac._fromCredential(p)}}cl.FACTOR_ID="phone";(class Jl{static assertionForEnrollment(p,D){return Es._fromSecret(p,D)}static assertionForSignIn(p,D){return Es._fromEnrollmentId(p,D)}static generateSecret(p){return(0,l.Z)(function*(){const D=p;Ye(typeof D.auth<"u","internal-error");const L=yield function fn(R,p){return on(R,"POST","/v2/accounts/mfaEnrollment:start",vn(R,p))}(D.auth,{idToken:D.credential,totpEnrollmentInfo:{}});return Bs._fromStartTotpMfaEnrollmentResponse(L,D.auth)})()}}).FACTOR_ID="totp";class Es extends Ps{constructor(p,D,L){super("totp"),this.otp=p,this.enrollmentId=D,this.secret=L}static _fromSecret(p,D){return new Es(D,void 0,p)}static _fromEnrollmentId(p,D){return new Es(D,p)}_finalizeEnroll(p,D,L){var ye=this;return(0,l.Z)(function*(){return Ye(typeof ye.secret<"u",p,"argument-error"),function vi(R,p){return on(R,"POST","/v2/accounts/mfaEnrollment:finalize",vn(R,p))}(p,{idToken:D,displayName:L,totpVerificationInfo:ye.secret._makeTotpVerificationInfo(ye.otp)})})()}_finalizeSignIn(p,D){var L=this;return(0,l.Z)(function*(){Ye(void 0!==L.enrollmentId&&void 0!==L.otp,p,"argument-error");const ye={verificationCode:L.otp};return function aa(R,p){return on(R,"POST","/v2/accounts/mfaSignIn:finalize",vn(R,p))}(p,{mfaPendingCredential:D,mfaEnrollmentId:L.enrollmentId,totpVerificationInfo:ye})})()}}class Bs{constructor(p,D,L,ye,Fe,Vt,Tn){this.sessionInfo=Vt,this.auth=Tn,this.secretKey=p,this.hashingAlgorithm=D,this.codeLength=L,this.codeIntervalSeconds=ye,this.enrollmentCompletionDeadline=Fe}static _fromStartTotpMfaEnrollmentResponse(p,D){return new Bs(p.totpSessionInfo.sharedSecretKey,p.totpSessionInfo.hashingAlgorithm,p.totpSessionInfo.verificationCodeLength,p.totpSessionInfo.periodSec,new Date(p.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),p.totpSessionInfo.sessionInfo,D)}_makeTotpVerificationInfo(p){return{sessionInfo:this.sessionInfo,verificationCode:p}}generateQrCodeUrl(p,D){var L;let ye=!1;return(Kc(p)||Kc(D))&&(ye=!0),ye&&(Kc(p)&&(p=(null===(L=this.auth.currentUser)||void 0===L?void 0:L.email)||"unknownuser"),Kc(D)&&(D=this.auth.name)),`otpauth://totp/${D}:${p}?secret=${this.secretKey}&issuer=${D}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Kc(R){return typeof R>"u"||0===R?.length}var sc="@firebase/auth",Nu="0.22.0";
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ll{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var D=this;return(0,l.Z)(function*(){return D.assertAuthConfigured(),yield D.auth._initializationPromise,D.auth.currentUser?{accessToken:yield D.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const D=this.auth.onIdTokenChanged(L=>{p(L?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,D),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const D=this.internalListeners.get(p);D&&(this.internalListeners.delete(p),D(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const ia=(0,g.Pz)("authIdTokenMaxAge")||300;let tu=null;const nu=R=>function(){var p=(0,l.Z)(function*(D){const L=D&&(yield D.getIdTokenResult()),ye=L&&((new Date).getTime()-Date.parse(L.issuedAtTime))/1e3;if(ye&&ye>ia)return;const Fe=L?.token;tu!==Fe&&(tu=Fe,yield fetch(R,{method:Fe?"POST":"DELETE",headers:Fe?{Authorization:`Bearer ${Fe}`}:{}}))});return function(D){return p.apply(this,arguments)}}();function Sc(R=(0,z.getApp)()){const p=(0,z._getProvider)(R,"auth");if(p.isInitialized())return p.getImmediate();const D=jn(R,{popupRedirectResolver:Mc,persistence:[$t,ui,bi]}),L=(0,g.Pz)("authTokenSyncURL");if(L){const Fe=nu(L);As(D,Fe,()=>Fe(D.currentUser)),_a(D,Vt=>Fe(Vt))}const ye=(0,g.q4)("auth");return ye&&Ui(D,`http://${ye}`),D}!function eu(R){(0,z._registerComponent)(new we.wA("auth",(p,{options:D})=>{const L=p.getProvider("app").getImmediate(),ye=p.getProvider("heartbeat"),{apiKey:Fe,authDomain:Vt}=L.options;return((Tn,Xn)=>{Ye(Fe&&!Fe.includes(":"),"invalid-api-key",{appName:Tn.name}),Ye(!Vt?.includes(":"),"argument-error",{appName:Tn.name});const ei={apiKey:Fe,authDomain:Vt,clientPlatform:R,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yt(R)},wi=new Cn(Tn,Xn,ei);return function Pn(R,p){const D=p?.persistence||[],L=(Array.isArray(D)?D:[D]).map(en);p?.errorMap&&R._updateErrorMap(p.errorMap),R._initializeWithPersistence(L,p?.popupRedirectResolver)}(wi,D),wi})(L,ye)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,D,L)=>{p.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new we.wA("auth-internal",p=>{const D=nr(p.getProvider("auth").getImmediate());return new ll(D)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(sc,Nu,function jc(R){switch(R){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(R)),(0,z.registerVersion)(sc,Nu,"esm2017")}("Browser")},5525:(En,rt,S)=>{S.d(rt,{u7:()=>tp,Jj:()=>jl,IX:()=>hy,my:()=>Us,xU:()=>sd,Lz:()=>Tu,WA:()=>O,F8:()=>jd,$q:()=>of,W:()=>Vc,EK:()=>hi,PU:()=>b_,l7:()=>K,Ky:()=>An,Xb:()=>Ei,Cf:()=>_o,K9:()=>vi,Me:()=>Ts,yq:()=>Pt,Wi:()=>qg,ET:()=>np,Ab:()=>af,vr:()=>Hy,Fc:()=>e_,hJ:()=>Qg,B$:()=>qf,at:()=>Sm,oe:()=>ky,AK:()=>D_,TF:()=>t_,JU:()=>Hl,Jm:()=>i_,ST:()=>Jg,fH:()=>fy,Ix:()=>my,Wu:()=>xy,Lx:()=>Ty,qY:()=>Zs,GL:()=>sf,QT:()=>Ov,kl:()=>__,Xk:()=>Pv,PL:()=>ad,UQ:()=>Oy,zN:()=>Py,ad:()=>xv,nP:()=>cf,LV:()=>Tv,b9:()=>Dy,vh:()=>Cy,Pb:()=>n_,L$:()=>r_,cf:()=>rp,sc:()=>Ya,Xo:()=>Ey,IO:()=>u_,iE:()=>Om,Eo:()=>dy,i3:()=>E_,Bt:()=>C_,pl:()=>Ry,Ub:()=>ke,qK:()=>$m,TQ:()=>Iy,e0:()=>wy,RA:()=>gy,r7:()=>Jd,Mx:()=>py,ar:()=>by,qs:()=>Ky});var le,l=S(5861),g=S(9681),z=S(4859),ue=S(1877),Me=S(2090),we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe={},_e=_e||{},se=we||self;function Re(){}function Le(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Xe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var St="closure_uid_"+(1e9*Math.random()>>>0),Ft=0;function Ie(i,e,t){return i.call.apply(i.bind,arguments)}function Et(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function gt(i,e,t){return(gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ie:Et).apply(null,arguments)}function bt(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function _t(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(o,u,m){for(var E=Array(arguments.length-2),k=2;k<arguments.length;k++)E[k-2]=arguments[k];return e.prototype[u].apply(o,E)}}function Be(){this.s=this.s,this.o=this.o}Be.prototype.s=!1,Be.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function We(i){return Object.prototype.hasOwnProperty.call(i,St)&&i[St]||(i[St]=++Ft)}(this)},Be.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Ye(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function X(i,e){for(let t=1;t<arguments.length;t++){const o=arguments[t];if(Le(o)){const u=i.length||0,m=o.length||0;i.length=u+m;for(let E=0;E<m;E++)i[u+E]=o[E]}else i.push(o)}}function Bt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Bt.prototype.h=function(){this.defaultPrevented=!0};var _n=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{se.addEventListener("test",Re,e),se.removeEventListener("test",Re,e)}catch{}return i}();function en(i){return/^[\s\xa0]*$/.test(i)}var jn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Pn(i,e){return i<e?-1:i>e?1:0}function ft(){var i=se.navigator;return i&&(i=i.userAgent)?i:""}function Ot(i){return-1!=ft().indexOf(i)}function Rt(i){return Rt[" "](i),i}Rt[" "]=Re;var on,i,Ht=Ot("Opera"),Gt=Ot("Trident")||Ot("MSIE"),Qt=Ot("Edge"),it=Qt||Gt,It=Ot("Gecko")&&!(-1!=ft().toLowerCase().indexOf("webkit")&&!Ot("Edge"))&&!(Ot("Trident")||Ot("MSIE"))&&!Ot("Edge"),Mt=-1!=ft().toLowerCase().indexOf("webkit")&&!Ot("Edge");function vn(){var i=se.document;return i?i.documentMode:void 0}e:{var xn="",ur=(i=ft(),It?/rv:([^\);]+)(\)|;)/.exec(i):Qt?/Edge\/([\d\.]+)/.exec(i):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Mt?/WebKit\/(\S+)/.exec(i):Ht?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ur&&(xn=ur?ur[1]:""),Gt){var br=vn();if(null!=br&&br>parseFloat(xn)){on=String(br);break e}}on=xn}var Nr,Un={};function vr(){return function Lt(i){var e=Un;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=jn(String(on)).split("."),t=jn("9").split("."),o=Math.max(e.length,t.length);for(let E=0;0==i&&E<o;E++){var u=e[E]||"",m=t[E]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==u[0].length&&0==m[0].length)break;i=Pn(0==u[1].length?0:parseInt(u[1],10),0==m[1].length?0:parseInt(m[1],10))||Pn(0==u[2].length,0==m[2].length)||Pn(u[2],m[2]),u=u[3],m=m[3]}while(0==i)}return 0<=i})}se.document&&Gt?Nr=vn()||parseInt(on,10)||void 0:Nr=void 0;var Br=Nr;function dr(i,e){if(Bt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(It){e:{try{Rt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:ri[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&dr.X.h.call(this)}}_t(dr,Bt);var ri={2:"touch",3:"pen",4:"mouse"};dr.prototype.h=function(){dr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var hr="closure_listenable_"+(1e6*Math.random()|0),fi=0;function Hn(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ha=u,this.key=++fi,this.ba=this.ea=!1}function Tr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Di(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function er(i){const e={};for(const t in i)e[t]=i[t];return e}const Zr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lr(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let m=0;m<Zr.length;m++)t=Zr[m],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function ir(i){this.src=i,this.g={},this.h=0}function rr(i,e){var t=e.type;if(t in i.g){var m,o=i.g[t],u=qt(o,e);(m=0<=u)&&Array.prototype.splice.call(o,u,1),m&&(Tr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function $n(i,e,t,o){for(var u=0;u<i.length;++u){var m=i[u];if(!m.ba&&m.listener==e&&m.capture==!!t&&m.ha==o)return u}return-1}ir.prototype.add=function(i,e,t,o,u){var m=i.toString();(i=this.g[m])||(i=this.g[m]=[],this.h++);var E=$n(i,e,o,u);return-1<E?(e=i[E],t||(e.ea=!1)):((e=new Hn(e,this.src,m,!!o,u)).ea=t,i.push(e)),e};var Rn="closure_lm_"+(1e6*Math.random()|0),ar={};function wr(i,e,t,o,u){if(o&&o.once)return di(i,e,t,o,u);if(Array.isArray(e)){for(var m=0;m<e.length;m++)wr(i,e[m],t,o,u);return null}return t=Ee(t),i&&i[hr]?i.N(e,t,Xe(o)?!!o.capture:!!o,u):gr(i,e,t,!1,o,u)}function gr(i,e,t,o,u,m){if(!e)throw Error("Invalid event type");var E=Xe(u)?!!u.capture:!!u,k=de(i);if(k||(i[Rn]=k=new ir(i)),(t=k.add(e,t,o,E,m)).proxy)return t;if(o=function jr(){function i(t){return e.call(i.src,i.listener,t)}const e=Xt;return i}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)_n||(u=E),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Mn(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function di(i,e,t,o,u){if(Array.isArray(e)){for(var m=0;m<e.length;m++)di(i,e[m],t,o,u);return null}return t=Ee(t),i&&i[hr]?i.O(e,t,Xe(o)?!!o.capture:!!o,u):gr(i,e,t,!0,o,u)}function Wn(i,e,t,o,u){if(Array.isArray(e))for(var m=0;m<e.length;m++)Wn(i,e[m],t,o,u);else o=Xe(o)?!!o.capture:!!o,t=Ee(t),i&&i[hr]?(i=i.i,(e=String(e).toString())in i.g&&(-1<(t=$n(m=i.g[e],t,o,u))&&(Tr(m[t]),Array.prototype.splice.call(m,t,1),0==m.length&&(delete i.g[e],i.h--)))):i&&(i=de(i))&&(e=i.g[e.toString()],i=-1,e&&(i=$n(e,t,o,u)),(t=-1<i?e[i]:null)&&xr(t))}function xr(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[hr])rr(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Mn(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=de(e))?(rr(t,i),0==t.h&&(t.src=null,e[Rn]=null)):Tr(i)}}}function Mn(i){return i in ar?ar[i]:ar[i]="on"+i}function Xt(i,e){if(i.ba)i=!0;else{e=new dr(e,this);var t=i.listener,o=i.ha||i.src;i.ea&&xr(i),i=t.call(o,e)}return i}function de(i){return(i=i[Rn])instanceof ir?i:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ee(i){return"function"==typeof i?i:(i[Ce]||(i[Ce]=function(e){return i.handleEvent(e)}),i[Ce])}function Y(){Be.call(this),this.i=new ir(this),this.P=this,this.I=null}function Se(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Bt(e,i);else if(e instanceof Bt)e.target=e.target||i;else{var u=e;Lr(e=new Bt(o,i),u)}if(u=!0,t)for(var m=t.length-1;0<=m;m--){var E=e.g=t[m];u=pt(E,o,!0,e)&&u}if(u=pt(E=e.g=i,o,!0,e)&&u,u=pt(E,o,!1,e)&&u,t)for(m=0;m<t.length;m++)u=pt(E=e.g=t[m],o,!1,e)&&u}function pt(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,m=0;m<e.length;++m){var E=e[m];if(E&&!E.ba&&E.capture==t){var k=E.listener,j=E.ha||E.src;E.ea&&rr(i.i,E),u=!1!==k.call(j,o)&&u}}return u&&!o.defaultPrevented}_t(Y,Be),Y.prototype[hr]=!0,Y.prototype.removeEventListener=function(i,e,t,o){Wn(this,i,e,t,o)},Y.prototype.M=function(){if(Y.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Tr(t[o]);delete i.g[e],i.h--}}this.I=null},Y.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Y.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var yn=se.JSON.stringify;function Zn(){var i=Oe;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ct,Ue=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new fe,i=>i.reset());class fe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oe(i){se.setTimeout(()=>{throw i},0)}function me(i,e){Ct||function Ke(){var i=se.Promise.resolve(void 0);Ct=function(){i.then(nt)}}(),ee||(Ct(),ee=!0),Oe.add(i,e)}var ee=!1,Oe=new class He{constructor(){this.h=this.g=null}add(e,t){const o=Ue.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function nt(){for(var i;i=Zn();){try{i.h.call(i.g)}catch(t){oe(t)}var e=Ue;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ee=!1}function Ut(i,e){Y.call(this),this.h=i||1,this.g=e||se,this.j=gt(this.lb,this),this.l=Date.now()}function tn(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function On(i,e,t){if("function"==typeof i)t&&(i=gt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=gt(i.handleEvent,i)}return 2147483647<Number(e)?-1:se.setTimeout(i,e||0)}function lt(i){i.g=On(()=>{i.g=null,i.i&&(i.i=!1,lt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}_t(Ut,Y),(le=Ut.prototype).ca=!1,le.R=null,le.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Se(this,"tick"),this.ca&&(tn(this),this.start()))}},le.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){Ut.X.M.call(this),tn(this),delete this.g};class q extends Be{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lt(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(i){Be.call(this),this.h=i,this.g={}}_t(Ne,Be);var yt=[];function Kt(i,e,t,o){Array.isArray(t)||(t&&(yt[0]=t.toString()),t=yt);for(var u=0;u<t.length;u++){var m=wr(e,t[u],o||i.handleEvent,!1,i.h||i);if(!m)break;i.g[m.key]=m}}function Cn(i){Di(i.g,function(e,t){this.g.hasOwnProperty(t)&&xr(e)},i),i.g={}}function nr(){this.g=!0}function Ti(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Vi(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var m=u[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var E=1;E<u.length;E++)u[E]=""}}}return yn(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Ne.prototype.M=function(){Ne.X.M.call(this),Cn(this)},Ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nr.prototype.Aa=function(){this.g=!1},nr.prototype.info=function(){};var Ci={},io=null;function Fi(){return io=io||new Y}function ai(i){Bt.call(this,Ci.Pa,i)}function Vn(i){const e=Fi();Se(e,new ai(e))}function At(i,e){Bt.call(this,Ci.STAT_EVENT,i),this.stat=e}function G(i){const e=Fi();Se(e,new At(e,i))}function ge(i,e){Bt.call(this,Ci.Qa,i),this.size=e}function ze(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){i()},e)}Ci.Pa="serverreachability",_t(ai,Bt),Ci.STAT_EVENT="statevent",_t(At,Bt),Ci.Qa="timingevent",_t(ge,Bt);var xt={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},cn={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function In(){}function zn(i){return i.h||(i.h=i.i())}function Er(){}In.prototype.h=null;var Qe,fr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function mt(){Bt.call(this,"d")}function ct(){Bt.call(this,"c")}function jt(){}function ln(i,e,t,o){this.l=i,this.j=e,this.m=t,this.U=o||1,this.S=new Ne(this),this.O=cr,i=it?125:void 0,this.T=new Ut(i),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}_t(mt,Bt),_t(ct,Bt),_t(jt,In),jt.prototype.g=function(){return new XMLHttpRequest},jt.prototype.i=function(){return{}},Qe=new jt;var cr=45e3,$r={},_r={};function zi(i,e,t){i.K=1,i.v=Bo(Ur(e)),i.s=t,i.P=!0,Ii(i,null)}function Ii(i,e){i.F=Date.now(),jo(i),i.A=Ur(i.v);var t=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Gr(t.i,"t",o),i.C=0,t=i.l.H,i.h=new Gn,i.g=Ln(i.l,t?e:null,!i.s),0<i.N&&(i.L=new q(gt(i.La,i,i.g),i.N)),Kt(i.S,i.g,"readystatechange",i.ib),e=i.H?er(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Vn(),function Zi(i,e,t,o,u,m){i.info(function(){if(i.g)if(m)for(var E="",k=m.split("&"),j=0;j<k.length;j++){var ne=k[j].split("=");if(1<ne.length){var Ae=ne[0];ne=ne[1];var tt=Ae.split("_");E=2<=tt.length&&"type"==tt[1]?E+(Ae+"=")+ne+"&":E+(Ae+"=redacted&")}}else E=null;else E=m;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+E})}(i.j,i.u,i.A,i.m,i.U,i.s)}function _i(i){return!!i.g&&("GET"==i.u&&2!=i.K&&i.l.Da)}function Oo(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Wr(i,t),u==_r){4==e&&(i.o=4,G(14),o=!1),Ti(i.j,i.m,null,"[Incomplete Response]");break}if(u==$r){i.o=4,G(15),Ti(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Ti(i.j,i.m,u,null),Ar(i,u)}_i(i)&&u!=_r&&u!=$r&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,G(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ve(e),e.K=!0,G(11))):(Ti(i.j,i.m,t,"[Invalid Chunked Response]"),pi(i),pr(i))}function Wr(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?_r:(t=Number(e.substring(t,o)),isNaN(t)?$r:(o+=1)+t>e.length?_r:(e=e.substr(o,t),i.C=o+t,e))}function jo(i){i.V=Date.now()+i.O,si(i,i.O)}function si(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ze(gt(i.gb,i),e)}function ii(i){i.B&&(se.clearTimeout(i.B),i.B=null)}function pr(i){0==i.l.G||i.I||ie(i.l,i)}function pi(i){ii(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,tn(i.T),Cn(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ar(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ho(t.h,i)))if(!i.J&&ho(t.h,i)&&3==t.G){try{var o=t.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;F(t),Tt(t)}mi(t),G(18)}}else t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=ze(gt(t.cb,t),6e3));if(1>=qi(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else qe(t,11)}else if((i.J||t.g==i)&&F(t),!en(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let ne=u[e];if(t.T=ne[0],ne=ne[1],2==t.G)if("c"==ne[0]){t.I=ne[1],t.ka=ne[2];const Ae=ne[3];null!=Ae&&(t.ma=Ae,t.j.info("VER="+t.ma));const tt=ne[4];null!=tt&&(t.Ca=tt,t.j.info("SVER="+t.Ca));const zt=ne[5];null!=zt&&"number"==typeof zt&&0<zt&&(o=1.5*zt,t.J=o,t.j.info("backChannelRequestTimeoutMs_="+o)),o=t;const gn=i.g;if(gn){const Kn=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var m=o.h;m.g||-1==Kn.indexOf("spdy")&&-1==Kn.indexOf("quic")&&-1==Kn.indexOf("h2")||(m.j=m.l,m.g=new Set,m.h&&(Ds(m,m.h),m.h=null))}if(o.D){const Dr=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Dr&&(o.za=Dr,Pr(o.F,o.D,Dr))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var E=i;if((o=t).sa=Dn(o,o.H?o.ka:null,o.V),E.J){Mo(o.h,E);var k=E,j=o.J;j&&k.setTimeout(j),k.B&&(ii(k),jo(k)),o.g=E}else Yr(o);0<t.i.length&&hn(t)}else"stop"!=ne[0]&&"close"!=ne[0]||qe(t,7);else 3==t.G&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?qe(t,7):ut(t):"noop"!=ne[0]&&t.l&&t.l.wa(ne),t.A=0)}Vn()}catch{}}function qr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Le(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function yo(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Le(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const o in i)e[t++]=o;return e}}}(i),o=function no(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Le(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length,m=0;m<u;m++)e.call(void 0,o[m],t&&t[m],i)}(le=ln.prototype).setTimeout=function(i){this.O=i},le.ib=function(i){i=i.target;const e=this.L;e&&3==re(i)?e.l():this.La(i)},le.La=function(i){try{if(i==this.g)e:{const Ae=re(this.g);var e=this.g.Ea();this.g.aa();if(!(3>Ae)&&(3!=Ae||it||this.g&&(this.h.h||this.g.fa()||T(this.g)))){this.I||4!=Ae||7==e||Vn(),ii(this);var t=this.g.aa();this.Y=t;t:if(_i(this)){var o=T(this.g);i="";var u=o.length,m=4==re(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),pr(this);var E="";break t}this.h.i=new se.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:m&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,E=this.h.g}else E=this.g.fa();if(this.i=200==t,function Ui(i,e,t,o,u,m,E){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+m+" "+E})}(this.j,this.u,this.A,this.m,this.U,Ae,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var k,j=this.g;if((k=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!en(k)){var ne=k;break t}}ne=null}if(!(t=ne)){this.i=!1,this.o=3,G(12),pi(this),pr(this);break e}Ti(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ar(this,t)}this.P?(Oo(this,Ae,E),it&&this.i&&3==Ae&&(Kt(this.S,this.T,"tick",this.hb),this.T.start())):(Ti(this.j,this.m,E,null),Ar(this,E)),4==Ae&&pi(this),this.i&&!this.I&&(4==Ae?ie(this.l,this):(this.i=!1,jo(this)))}else 400==t&&0<E.indexOf("Unknown SID")?(this.o=3,G(12)):(this.o=0,G(13)),pi(this),pr(this)}}}catch{}},le.hb=function(){if(this.g){var i=re(this.g),e=this.g.fa();this.C<e.length&&(ii(this),Oo(this,i,e),this.i&&4!=i&&jo(this))}},le.cancel=function(){this.I=!0,pi(this)},le.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function Or(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vn(),G(17)),pi(this),this.o=2,pr(this)):si(this,this.V-i)};var xi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ir(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Ir){this.h=void 0!==e?e:i.h,vo(this,i.j),this.s=i.s,this.g=i.g,Si(this,i.m),this.l=i.l,e=i.i;var t=new Ms;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ki(this,t),this.o=i.o}else i&&(t=String(i).match(xi))?(this.h=!!e,vo(this,t[1]||"",!0),this.s=oo(t[2]||""),this.g=oo(t[3]||"",!0),Si(this,t[4]),this.l=oo(t[5]||"",!0),ki(this,t[6]||"",!0),this.o=oo(t[7]||"")):(this.h=!!e,this.i=new Ms(null,this.h))}function Ur(i){return new Ir(i)}function vo(i,e,t){i.j=t?oo(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Si(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ki(i,e,t){e instanceof Ms?(i.i=e,function lo(i,e){e&&!i.j&&(To(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(mo(this,o),Gr(this,u,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Ki(e,Io)),i.i=new Ms(e,i.h))}function Pr(i,e,t){i.i.set(e,t)}function Bo(i){return Pr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function oo(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ki(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,so),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function so(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ir.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ki(e,ko,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ki(e,ko,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Ki(t,"/"==t.charAt(0)?po:Po,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Ki(t,Oi)),i.join("")};var ko=/[#\/\?@]/g,Po=/[#\?:]/g,po=/[#\?]/g,Io=/[#\?@]/g,Oi=/#/g;function Ms(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function To(i){i.g||(i.g=new Map,i.h=0,i.i&&function Jr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var m=i[t].substring(0,o);u=i[t].substring(o+1)}else m=i[t];e(m,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mo(i,e){To(i),e=$o(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Pi(i,e){return To(i),e=$o(i,e),i.g.has(e)}function Gr(i,e,t){mo(i,e),0<t.length&&(i.i=null,i.g.set($o(i,e),Ye(t)),i.h+=t.length)}function $o(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(le=Ms.prototype).add=function(i,e){To(this),this.i=null,i=$o(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},le.forEach=function(i,e){To(this),this.g.forEach(function(t,o){t.forEach(function(u){i.call(e,u,o,this)},this)},this)},le.oa=function(){To(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let o=0;o<e.length;o++){const u=i[o];for(let m=0;m<u.length;m++)t.push(e[o])}return t},le.W=function(i){To(this);let e=[];if("string"==typeof i)Pi(this,i)&&(e=e.concat(this.g.get($o(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},le.set=function(i,e){return To(this),this.i=null,Pi(this,i=$o(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},le.get=function(i,e){return i?0<(i=this.W(i)).length?String(i[0]):e:e},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var o=e[t];const m=encodeURIComponent(String(o)),E=this.W(o);for(o=0;o<E.length;o++){var u=m;""!==E[o]&&(u+="="+encodeURIComponent(String(E[o]))),i.push(u)}}return this.i=i.join("&")};function xo(i){this.l=i||ao,se.PerformanceNavigationTiming?i=0<(i=se.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):i=!!(se.g&&se.g.Ga&&se.g.Ga()&&se.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ao=10;function uo(i){return!!i.h||!!i.g&&i.g.size>=i.j}function qi(i){return i.h?1:i.g?i.g.size:0}function ho(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ds(i,e){i.g?i.g.add(e):i.h=e}function Mo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Uo(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Ye(i.i)}function Vo(){}function Co(){this.g=new Vo}function fs(i,e,t){const o=t||"";try{qr(i,function(u,m){let E=u;Xe(u)&&(E=yn(u)),e.push(o+m+"="+encodeURIComponent(E))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Fr(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function fo(i){this.l=i.ac||null,this.j=i.jb||!1}function Bi(i,e){Y.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=yi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xo.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Vo.prototype.stringify=function(i){return se.JSON.stringify(i,void 0)},Vo.prototype.parse=function(i){return se.JSON.parse(i,void 0)},_t(fo,In),fo.prototype.g=function(){return new Bi(this.l,this.j)},fo.prototype.i=function(i){return function(){return i}}({}),_t(Bi,Y);var yi=0;function Eo(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function is(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Hr(i)}function Hr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(le=Bi.prototype).open=function(i,e){if(this.readyState!=yi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Hr(this)},le.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||se).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,is(this)),this.readyState=yi},le.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Hr(this)),this.g&&(this.readyState=3,Hr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Eo(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},le.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?is(this):Hr(this),3==this.readyState&&Eo(this)}},le.Va=function(i){this.g&&(this.response=this.responseText=i,is(this))},le.Ua=function(i){this.g&&(this.response=i,is(this))},le.ga=function(){this.g&&is(this)},le.setRequestHeader=function(i,e){this.v.append(i,e)},le.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,i.push(t[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var zo=se.JSON.parse;function Ni(i){Y.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=co,this.K=this.L=!1}_t(Ni,Y);var co="",ji=/^https?$/i,Wo=["POST","PUT"];function Xo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,or(i),Wi(i)}function or(i){i.D||(i.D=!0,Se(i,"complete"),Se(i,"error"))}function Cs(i){if(i.h&&typeof _e<"u"&&(!i.C[1]||4!=re(i)||2!=i.aa()))if(i.v&&4==re(i))On(i.Ha,0,i);else if(Se(i,"readystatechange"),4==re(i)){i.h=!1;try{const k=i.aa();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===k){var u=String(i.H).match(xi)[1]||null;if(!u&&se.self&&se.self.location){var m=se.self.location.protocol;u=m.substr(0,m.length-1)}o=!ji.test(u?u.toLowerCase():"")}t=o}if(t)Se(i,"complete"),Se(i,"success");else{i.m=6;try{var E=2<re(i)?i.g.statusText:""}catch{E=""}i.j=E+" ["+i.aa()+"]",or(i)}}finally{Wi(i)}}}function Wi(i,e){if(i.g){mr(i);const t=i.g,o=i.C[0]?Re:null;i.g=null,i.C=null,e||Se(i,"ready");try{t.onreadystatechange=o}catch{}}}function mr(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(se.clearTimeout(i.A),i.A=null)}function re(i){return i.g?i.g.readyState:0}function T(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case co:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function J(i){let e="";return Di(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}function ot(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=J(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Pr(i,e,t))}function pn(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function st(i){this.Ca=0,this.i=[],this.j=new nr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=pn("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=pn("baseRetryDelayMs",5e3,i),this.bb=pn("retryDelaySeedMs",1e4,i),this.$a=pn("forwardChannelMaxRetries",2,i),this.ta=pn("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new xo(i&&i.concurrentRequestLimit),this.Fa=new Co,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ut(i){if(dt(i),3==i.G){var e=i.U++,t=Ur(i.F);Pr(t,"SID",i.I),Pr(t,"RID",e),Pr(t,"TYPE","terminate"),Rr(i,t),(e=new ln(i,i.j,e,void 0)).K=2,e.v=Bo(Ur(t)),t=!1,se.navigator&&se.navigator.sendBeacon&&(t=se.navigator.sendBeacon(e.v.toString(),"")),!t&&se.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ln(e.l,null),e.g.da(e.v)),e.F=Date.now(),jo(e)}Jt(i)}function Tt(i){i.g&&(Ve(i),i.g.cancel(),i.g=null)}function dt(i){Tt(i),i.u&&(se.clearTimeout(i.u),i.u=null),F(i),i.h.cancel(),i.m&&("number"==typeof i.m&&se.clearTimeout(i.m),i.m=null)}function hn(i){uo(i.h)||i.m||(i.m=!0,me(i.Ja,i),i.C=0)}function Qr(i,e){var t;t=e?e.m:i.U++;const o=Ur(i.F);Pr(o,"SID",i.I),Pr(o,"RID",t),Pr(o,"AID",i.T),Rr(i,o),i.o&&i.s&&ot(o,i.o,i.s),t=new ln(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=go(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Ds(i.h,t),zi(t,o,e)}function Rr(i,e){i.ia&&Di(i.ia,function(t,o){Pr(e,o,t)}),i.l&&qr({},function(t,o){Pr(e,o,t)})}function go(i,e,t){t=Math.min(i.i.length,t);var o=i.l?gt(i.l.Ra,i.l,i):null;e:{var u=i.i;let m=-1;for(;;){const E=["count="+t];-1==m?0<t?(m=u[0].h,E.push("ofs="+m)):m=0:E.push("ofs="+m);let k=!0;for(let j=0;j<t;j++){let ne=u[j].h;const Ae=u[j].g;if(ne-=m,0>ne)m=Math.max(0,u[j].h-100),k=!1;else try{fs(Ae,E,"req"+ne+"_")}catch{o&&o(Ae)}}if(k){o=E.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,o}function Yr(i){i.g||i.u||(i.Z=1,me(i.Ia,i),i.A=0)}function mi(i){return!(i.g||i.u||3<=i.A)&&(i.Z++,i.u=ze(gt(i.Ia,i),De(i,i.A)),i.A++,!0)}function Ve(i){null!=i.B&&(se.clearTimeout(i.B),i.B=null)}function y(i){i.g=new ln(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Ur(i.sa);Pr(e,"RID","rpc"),Pr(e,"SID",i.I),Pr(e,"CI",i.L?"0":"1"),Pr(e,"AID",i.T),Pr(e,"TYPE","xmlhttp"),Rr(i,e),i.o&&i.s&&ot(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=Bo(Ur(e)),t.s=null,t.P=!0,Ii(t,i)}function F(i){null!=i.v&&(se.clearTimeout(i.v),i.v=null)}function ie(i,e){var t=null;if(i.g==e){F(i),Ve(i),i.g=null;var o=2}else{if(!ho(i.h,e))return;t=e.D,Mo(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Se(o=Fi(),new ge(o,t)),hn(i)}else Yr(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Fn(i,e){return!(qi(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=ze(gt(i.Ja,i,e),De(i,i.C)),i.C++,0)))}(i,e)||2==o&&mi(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),u){case 1:qe(i,5);break;case 4:qe(i,10);break;case 3:qe(i,6);break;default:qe(i,2)}}function De(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function qe(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var o=gt(i.kb,i);t||(t=new Ir("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||vo(t,"https"),Bo(t)),function Qo(i,e){const t=new nr;if(se.Image){const o=new Image;o.onload=bt(Fr,t,o,"TestLoadImage: loaded",!0,e),o.onerror=bt(Fr,t,o,"TestLoadImage: error",!1,e),o.onabort=bt(Fr,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=bt(Fr,t,o,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else G(2);i.G=0,i.l&&i.l.va(e),Jt(i),dt(i)}function Jt(i){if(i.G=0,i.la=[],i.l){const e=Uo(i.h);(0!=e.length||0!=i.i.length)&&(X(i.la,e),X(i.la,i.i),i.h.i.length=0,Ye(i.i),i.i.length=0),i.l.ua()}}function Dn(i,e,t){var o=t instanceof Ir?Ur(t):new Ir(t,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),Si(o,o.m);else{var u=se.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var m=new Ir(null,void 0);o&&vo(m,o),e&&(m.g=e),u&&Si(m,u),t&&(m.l=t),o=m}return t=i.D,e=i.za,t&&e&&Pr(o,t,e),Pr(o,"VER",i.ma),Rr(i,o),o}function Ln(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t&&i.Da&&!i.ra?new Ni(new fo({jb:!0})):new Ni(i.ra)).Ka(i.H),e}function qn(){}function tr(){if(Gt&&!(10<=Number(Br)))throw Error("Environmental error: no available transport.")}function Vr(i,e){Y.call(this),this.g=new st(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!en(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!en(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&(e in(i=this.h)&&delete i[e])),this.j=new Qi(this)}function Ho(i){mt.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Go(){ct.call(this),this.status=1}function Qi(i){this.g=i}(le=Ni.prototype).Ka=function(i){this.L=i},le.da=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qe.g(),this.C=this.u?zn(this.u):zn(Qe),this.g.onreadystatechange=gt(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(m){return void Xo(this,m)}if(i=t||"",t=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)t.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const m of o.keys())t.set(m,o.get(m))}o=Array.from(t.keys()).find(m=>"content-type"==m.toLowerCase()),u=se.FormData&&i instanceof se.FormData,!(0<=qt(Wo,e))||o||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[m,E]of t)this.g.setRequestHeader(m,E);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mr(this),0<this.B&&((this.K=function $i(i){return Gt&&vr()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.qa,this)):this.A=On(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(m){Xo(this,m)}},le.qa=function(){typeof _e<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Se(this,"timeout"),this.abort(8))},le.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Se(this,"complete"),Se(this,"abort"),Wi(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wi(this,!0)),Ni.X.M.call(this)},le.Ha=function(){this.s||(this.F||this.v||this.l?Cs(this):this.fb())},le.fb=function(){Cs(this)},le.aa=function(){try{return 2<re(this)?this.g.status:-1}catch{return-1}},le.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),zo(e)}},le.Ea=function(){return this.m},le.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=st.prototype).ma=8,le.G=1,le.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new ln(this,this.j,i,void 0);let m=this.s;if(this.S&&(m?(m=er(m),Lr(m,this.S)):m=this.S),null!==this.o||this.N||(u.H=m,m=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var o=this.i[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=go(this,u,e),Pr(t=Ur(this.F),"RID",i),Pr(t,"CVER",22),this.D&&Pr(t,"X-HTTP-Session-Id",this.D),Rr(this,t),m&&(this.N?e="headers="+encodeURIComponent(String(J(m)))+"&"+e:this.o&&ot(t,this.o,m)),Ds(this.h,u),this.Ya&&Pr(t,"TYPE","init"),this.O?(Pr(t,"$req",e),Pr(t,"SID","null"),u.Z=!0,zi(u,t,null)):zi(u,t,e),this.G=2}}else 3==this.G&&(i?Qr(this,i):0==this.i.length||uo(this.h)||Qr(this))},le.Ia=function(){if(this.u=null,y(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ze(gt(this.eb,this),i)}},le.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,G(10),Tt(this),y(this))},le.cb=function(){null!=this.v&&(this.v=null,Tt(this),mi(this),G(19))},le.kb=function(i){i?(this.j.info("Successfully pinged google.com"),G(2)):(this.j.info("Failed to ping google.com"),G(1))},(le=qn.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Ra=function(){},tr.prototype.g=function(i,e){return new Vr(i,e)},_t(Vr,Y),Vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;G(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Dn(i,null,i.V),hn(i)},Vr.prototype.close=function(){ut(this.g)},Vr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=yn(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&hn(e)},Vr.prototype.M=function(){this.g.l=null,delete this.j,ut(this.g),delete this.g,Vr.X.M.call(this)},_t(Ho,mt),_t(Go,ct),_t(Qi,qn),Qi.prototype.xa=function(){Se(this.g,"a")},Qi.prototype.wa=function(i){Se(this.g,new Ho(i))},Qi.prototype.va=function(i){Se(this.g,new Go)},Qi.prototype.ua=function(){Se(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,Vr.prototype.send=Vr.prototype.u,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,xt.NO_ERROR=0,xt.TIMEOUT=8,xt.HTTP_ERROR=6,cn.COMPLETE="complete",Er.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Y.prototype.listen=Y.prototype.N,Ni.prototype.listenOnce=Ni.prototype.O,Ni.prototype.getLastError=Ni.prototype.Oa,Ni.prototype.getLastErrorCode=Ni.prototype.Ea,Ni.prototype.getStatus=Ni.prototype.aa,Ni.prototype.getResponseJson=Ni.prototype.Sa,Ni.prototype.getResponseText=Ni.prototype.fa,Ni.prototype.send=Ni.prototype.da,Ni.prototype.setWithCredentials=Ni.prototype.Ka;var Yo=Pe.createWebChannelTransport=function(){return new tr},Zo=Pe.getStatEventTarget=function(){return Fi()},Vs=Pe.ErrorCode=xt,qs=Pe.EventType=cn,os=Pe.Event=Ci,ga=Pe.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Za=Pe.FetchXmlHttpFactory=fo,_a=Pe.WebChannel=Er,As=Pe.XhrIo=Ni;const pe="@firebase/firestore";
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class C{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
let A="9.19.0";
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const H=new ue.Yd("@firebase/firestore");function ce(){return H.logLevel}function ke(i){H.setLogLevel(i)}function ve(i,...e){if(H.logLevel<=ue.in.DEBUG){const t=e.map(rn);H.debug(`Firestore (${A}): ${i}`,...t)}}function Je(i,...e){if(H.logLevel<=ue.in.ERROR){const t=e.map(rn);H.error(`Firestore (${A}): ${i}`,...t)}}function Pt(i,...e){if(H.logLevel<=ue.in.WARN){const t=e.map(rn);H.warn(`Firestore (${A}): ${i}`,...t)}}function rn(i){if("string"==typeof i)return i;try{return e=i,JSON.stringify(e)}catch{return i}
/**
          * @license
          * Copyright 2020 Google LLC
          *
          * Licensed under the Apache License, Version 2.0 (the "License");
          * you may not use this file except in compliance with the License.
          * You may obtain a copy of the License at
          *
          *   http://www.apache.org/licenses/LICENSE-2.0
          *
          * Unless required by applicable law or agreed to in writing, software
          * distributed under the License is distributed on an "AS IS" BASIS,
          * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
          * See the License for the specific language governing permissions and
          * limitations under the License.
          */var e}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Yt(i="Unexpected state"){const e=`FIRESTORE (${A}) INTERNAL ASSERTION FAILED: `+i;throw Je(e),new Error(e)}function fn(i,e){i||Yt()}function vi(i,e){i||Yt()}function un(i,e){return i}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends Me.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class I{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Z{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(C.UNAUTHENTICATED))}shutdown(){}}class ht{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kt{constructor(e){this.t=e,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const m=ne=>this.i!==u?(u=this.i,t(ne)):Promise.resolve();let E=new I;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new I,e.enqueueRetryable(()=>m(this.currentUser))};const k=()=>{const ne=E;e.enqueueRetryable((0,l.Z)(function*(){yield ne.promise,yield m(o.currentUser)}))},j=ne=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(ne=>j(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?j(ne):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new I)}},0),k()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(fn("string"==typeof o.accessToken),new Z(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fn(null===e||"string"==typeof e),new C(e)}}class kn{constructor(e,t,o){this.h=e,this.l=t,this.m=o,this.type="FirstParty",this.user=C.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class yr{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new kn(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ui{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ci{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const o=m=>{null!=m.error&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const E=m.token!==this.T;return this.T=m.token,ve("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const u=m=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.I.onInit(m=>u(m)),setTimeout(()=>{if(!this.appCheck){const m=this.I.getImmediate({optional:!0});m?u(m):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fn("string"==typeof t.token),this.T=t.token,new ui(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Kr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Xi{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Kr(40);for(let m=0;m<u.length;++m)o.length<20&&u[m]<t&&(o+=e.charAt(u[m]%e.length))}return o}}function Yn(i,e){return i<e?-1:i>e?1:0}function Hi(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function Ji(i){return i+"\0"}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class hi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new O(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hi.fromMillis(Date.now())}static fromDate(e){return hi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new hi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Yn(this.nanoseconds,e.nanoseconds):Yn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class an{constructor(e){this.timestamp=e}static fromTimestamp(e){return new an(e)}static min(){return new an(new hi(0,0))}static max(){return new an(new hi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class sr{constructor(e,t,o){void 0===t?t=0:t>e.length&&Yt(),void 0===o?o=e.length-t:o>e.length-t&&Yt(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===sr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const m=e.get(u),E=t.get(u);if(m<E)return-1;if(m>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nn extends sr{construct(e,t,o){return new Nn(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new O(vt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new Nn(t)}static emptyPath(){return new Nn([])}}const gi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends sr{construct(e,t,o){return new Ei(e,t,o)}static isValidIdentifier(e){return gi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ei(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const m=()=>{if(0===o.length)throw new O(vt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let E=!1;for(;u<e.length;){const k=e[u];if("\\"===k){if(u+1===e.length)throw new O(vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const j=e[u+1];if("\\"!==j&&"."!==j&&"`"!==j)throw new O(vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=j,u+=2}else"`"===k?(E=!E,u++):"."!==k||E?(o+=k,u++):(m(),u++)}if(m(),E)throw new O(vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ei(t)}static emptyPath(){return new Ei([])}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class An{constructor(e){this.path=e}static fromPath(e){return new An(Nn.fromString(e))}static fromName(e){return new An(Nn.fromString(e).popFirst(5))}static empty(){return new An(Nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new An(new Nn(e.slice()))}}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class cs{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function qo(i){return i.fields.find(e=>2===e.kind)}function eo(i){return i.fields.filter(e=>2!==e.kind)}cs.UNKNOWN_ID=-1;class Qs{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ao{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ao(0,Mi.min())}}function us(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=an.fromTimestamp(1e9===o?new hi(t+1,0):new hi(t,o));return new Mi(u,An.empty(),e)}function js(i){return new Mi(i.readTime,i.key,-1)}class Mi{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Mi(an.min(),An.empty(),-1)}static max(){return new Mi(an.max(),An.empty(),-1)}}function Oa(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=An.comparator(i.documentKey,e.documentKey),0!==t?t:Yn(i.largestBatchId,e.largestBatchId))}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const ws="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ia(i){return Pa.apply(this,arguments)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Pa(){return Pa=(0,l.Z)(function*(i){if(i.code!==vt.FAILED_PRECONDITION||i.message!==ws)throw i;ve("LocalStore","Unexpectedly lost primary lease")}),Pa.apply(this,arguments)}class $t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $t((o,u)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,u)},this.catchCallback=m=>{this.wrapFailure(t,m).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $t?t:$t.resolve(t)}catch(t){return $t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$t.reject(t)}static resolve(e){return new $t((t,o)=>{t(e)})}static reject(e){return new $t((t,o)=>{o(e)})}static waitFor(e){return new $t((t,o)=>{let u=0,m=0,E=!1;e.forEach(k=>{++u,k.next(()=>{++m,E&&m===u&&t()},j=>o(j))}),E=!0,m===u&&t()})}static or(e){let t=$t.resolve(!1);for(const o of e)t=t.next(u=>u?$t.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,m)=>{o.push(t.call(this,u,m))}),this.waitFor(o)}static mapArray(e,t){return new $t((o,u)=>{const m=e.length,E=new Array(m);let k=0;for(let j=0;j<m;j++){const ne=j;t(e[ne]).next(Ae=>{E[ne]=Ae,++k,k===m&&o(E)},Ae=>u(Ae))}})}static doWhile(e,t){return new $t((o,u)=>{const m=()=>{!0===e()?t().next(()=>{m()},u):o()};m()})}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Js{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new I,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new zs(e,t.error)):this.R.resolve()},this.transaction.onerror=o=>{const u=ms(o.target.error);this.R.reject(new zs(e,u))}}static open(e,t,o,u){try{return new Js(t,e.transaction(u,o))}catch(m){throw new zs(t,m)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _c(t)}}class ps{constructor(e,t,o){this.name=e,this.version=t,this.V=o,12.2===ps.S((0,Me.z$)())&&Je("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ve("SimpleDb","Removing database:",e),Os(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Me.hl)())return!1;if(ps.C())return!0;const e=(0,Me.z$)(),t=ps.S(e),o=0<t&&t<10,u=ps.N(e),m=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static N(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}$(e){var t=this;return(0,l.Z)(function*(){return t.db||(ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const m=indexedDB.open(t.name,t.version);m.onsuccess=E=>{const k=E.target.result;o(k)},m.onblocked=()=>{u(new zs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=E=>{const k=E.target.error;"VersionError"===k.name?u(new O(vt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===k.name?u(new O(vt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+k)):u(new zs(e,k))},m.onupgradeneeded=E=>{ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion);const k=E.target.result;t.V.M(k,m.transaction,E.oldVersion,t.version).next(()=>{ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=o=>t.F(o)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var m=this;return(0,l.Z)(function*(){const E="readonly"===t;let k=0;for(;;){++k;try{m.db=yield m.$(e);const j=Js.open(m.db,e,E?"readonly":"readwrite",o),ne=u(j).next(Ae=>(j.P(),Ae)).catch(Ae=>(j.abort(Ae),$t.reject(Ae))).toPromise();return ne.catch(()=>{}),yield j.v,ne}catch(j){const ne=j,Ae="FirebaseError"!==ne.name&&k<3;if(ve("SimpleDb","Transaction failed with error:",ne.message,"Retrying:",Ae),m.close(),!Ae)return Promise.reject(ne)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aa{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Os(this.L.delete())}}class zs extends O{constructor(e,t){super(vt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Jo(i){return"IndexedDbTransactionError"===i.name}class _c{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(ve("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Os(o)}add(e){return ve("SimpleDb","ADD",this.store.name,e,e),Os(this.store.add(e))}get(e){return Os(this.store.get(e)).next(t=>(void 0===t&&(t=null),ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ve("SimpleDb","DELETE",this.store.name,e),Os(this.store.delete(e))}count(){return ve("SimpleDb","COUNT",this.store.name),Os(this.store.count())}j(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),m=[];return this.W(u,(E,k)=>{m.push(k)}).next(()=>m)}{const u=this.store.getAll(o.range);return new $t((m,E)=>{u.onerror=k=>{E(k.target.error)},u.onsuccess=k=>{m(k.target.result)}})}}H(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new $t((u,m)=>{o.onerror=E=>{m(E.target.error)},o.onsuccess=E=>{u(E.target.result)}})}J(e,t){ve("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.Y=!1;const u=this.cursor(o);return this.W(u,(m,E,k)=>k.delete())}Z(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.W(u,t)}X(e){const t=this.cursor({});return new $t((o,u)=>{t.onerror=m=>{const E=ms(m.target.error);u(E)},t.onsuccess=m=>{const E=m.target.result;E?e(E.primaryKey,E.value).next(k=>{k?E.continue():o()}):o()}})}W(e,t){const o=[];return new $t((u,m)=>{e.onerror=E=>{m(E.target.error)},e.onsuccess=E=>{const k=E.target.result;if(!k)return void u();const j=new aa(k),ne=t(k.primaryKey,k.value,j);if(ne instanceof $t){const Ae=ne.catch(tt=>(j.done(),$t.reject(tt)));o.push(Ae)}j.isDone?u():null===j.K?k.continue():k.continue(j.K)}}).next(()=>$t.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.Y?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Os(i){return new $t((e,t)=>{i.onsuccess=o=>{const u=o.target.result;e(u)},i.onerror=o=>{const u=ms(o.target.error);t(u)}})}let za=!1;function ms(i){const e=ps.S((0,Me.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return za||(za=!0,setTimeout(()=>{throw o},0)),o}}return i}class ca{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ve("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.Z)(function*(){t.task=null;try{ve("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(o){Jo(o)?ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ia(o)}yield t.et(6e4)}))}}class qa{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,l.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.st(o,e))})()}st(e,t){const o=new Set;let u=t,m=!0;return $t.doWhile(()=>!0===m&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(E=>{if(null!==E&&!o.has(E))return ve("IndexBackiller",`Processing collection: ${E}`),this.it(e,E,u).next(k=>{u-=k,o.add(E)});m=!1})).next(()=>t-u)}it(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,o).next(m=>{const E=m.changes;return this.localStore.indexManager.updateIndexEntries(e,E).next(()=>this.rt(u,m)).next(k=>(ve("IndexBackiller",`Updating offset: ${k}`),this.localStore.indexManager.updateCollectionGroup(e,t,k))).next(()=>E.size)}))}rt(e,t){let o=e;return t.changes.forEach((u,m)=>{const E=js(m);Oa(E,o)>0&&(o=E)}),new Mi(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}
/**
         * @license
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Is{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>t.writeSequenceNumber(o))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Qa(i){return null==i}function yc(i){return 0===i&&1/i==-1/0}function Wa(i){return"number"==typeof i&&Number.isInteger(i)&&!yc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function ss(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Xa(e)),e=ya(i.get(t),e);return Xa(e)}function ya(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const m=i.charAt(u);switch(m){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=m}}return t}function Xa(i){return i+"\x01\x01"}function $s(i){const e=i.length;if(fn(e>=2),2===e)return fn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Nn.emptyPath();const t=e-2,o=[];let u="";for(let m=0;m<e;){const E=i.indexOf("\x01",m);switch((E<0||E>t)&&Yt(),i.charAt(E+1)){case"\x01":const k=i.substring(m,E);let j;0===u.length?j=k:(u+=k,j=u,u=""),o.push(j);break;case"\x10":u+=i.substring(m,E),u+="\0";break;case"\x11":u+=i.substring(m,E+1);break;default:Yt()}m=E+2}return new Nn(o)}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */Is.ct=-1;const zc=["userId","batchId"];
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function la(i,e){return[i,ss(e)]}function Ra(i,e,t){return[i,ss(e),t]}const tl={},No=["prefixPath","collectionGroup","readTime","documentId"],nl=["prefixPath","collectionGroup","documentId"],ka=["collectionGroup","readTime","prefixPath","documentId"],Na=["canonicalId","targetId"],Wc=["targetId","path"],Hc=["path","targetId"],Yl=["collectionId","parent"],ua=["indexId","uid"],ea=["uid","sequenceNumber"],vc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rl=["indexId","uid","orderedDocumentKey"],es=["userId","collectionPath","documentId"],va=["userId","collectionPath","largestBatchId"],ds=["userId","collectionGroup","largestBatchId"],Ja=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ta=[...Ja,"documentOverlays"],P=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],b=P,M=[...b,"indexConfiguration","indexState","indexEntries"];
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class W extends Xs{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function $(i,e){const t=un(i);return ps.O(t.at,e)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function ae(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function je(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Nt(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class sn{constructor(e,t){this.comparator=e,this.root=t||Mr.EMPTY}insert(e,t){return new sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mr.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sn(this.root,e,this.comparator,!0)}}class Sn{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=t?o(e.key,t):1,t&&u&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mr{constructor(e,t,o,u,m){this.key=e,this.value=t,this.color=o??Mr.RED,this.left=u??Mr.EMPTY,this.right=m??Mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,m){return new Mr(e??this.key,t??this.value,o??this.color,u??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const m=o(e,u.key);return u=m<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===m?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Mr.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yt();const e=this.left.check();if(e!==this.right.check())throw Yt();return e+(this.isRed()?0:1)}}Mr.EMPTY=null,Mr.RED=!0,Mr.BLACK=!1,Mr.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt()}get value(){throw Yt()}get color(){throw Yt()}get left(){throw Yt()}get right(){throw Yt()}copy(i,e,t,o,u){return this}insert(i,e,t){return new Mr(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class oi{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new as(this.data.getIterator())}getIteratorFrom(e){return new as(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof oi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,m=o.getNext().key;if(0!==this.comparator(u,m))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new oi(this.comparator);return t.data=e,t}}class as{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ys(i){return i.hasNext()?i.getNext():void 0}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Lo{constructor(e){this.fields=e,e.sort(Ei.comparator)}static empty(){return new Lo([])}unionWith(e){let t=new oi(Ei.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Lo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hi(this.fields,e.fields,(t,o)=>t.isEqual(o))}}
/**
         * @license
         * Copyright 2023 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Gs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ts(){return typeof atob<"u"}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ts{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Gs("Invalid base64 string: "+u):u}}(e);return new ts(t)}static fromUint8Array(e){const t=function(o){let u="";for(let m=0;m<o.length;++m)u+=String.fromCharCode(o[m]);return u}(e);return new ts(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ts.EMPTY_BYTE_STRING=new ts("");const Ws=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(i){if(fn(!!i),"string"==typeof i){let e=0;const t=Ws.exec(i);if(fn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:wo(i.seconds),nanos:wo(i.nanos)}}function wo(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function da(i){return"string"==typeof i?ts.fromBase64String(i):ts.fromUint8Array(i)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ha(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bc(i){const e=i.mapValue.fields.__previous_value__;return Ha(e)?bc(e):e}function na(i){const e=Ta(i.mapValue.fields.__local_write_time__.timestampValue);return new hi(e.seconds,e.nanos)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class V{constructor(e,t,o,u,m,E,k,j){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=m,this.forceLongPolling=E,this.autoDetectLongPolling=k,this.useFetchStreams=j}}class K{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new K("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof K&&e.projectId===this.projectId&&e.database===this.database}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const he={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ze={nullValue:"NULL_VALUE"};function wt(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ha(i)?4:ha(i)?9007199254740991:10:Yt()}function Wt(i,e){if(i===e)return!0;const t=wt(i);if(t!==wt(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return na(i).isEqual(na(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const m=Ta(o.timestampValue),E=Ta(u.timestampValue);return m.seconds===E.seconds&&m.nanos===E.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,da(i.bytesValue).isEqual(da(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return wo(o.geoPointValue.latitude)===wo(u.geoPointValue.latitude)&&wo(o.geoPointValue.longitude)===wo(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return wo(o.integerValue)===wo(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const m=wo(o.doubleValue),E=wo(u.doubleValue);return m===E?yc(m)===yc(E):isNaN(m)&&isNaN(E)}return!1}(i,e);case 9:return Hi(i.arrayValue.values||[],e.arrayValue.values||[],Wt);case 10:return function(o,u){const m=o.mapValue.fields||{},E=u.mapValue.fields||{};if(ae(m)!==ae(E))return!1;for(const k in m)if(m.hasOwnProperty(k)&&(void 0===E[k]||!Wt(m[k],E[k])))return!1;return!0}(i,e);default:return Yt()}var u}function wn(i,e){return void 0!==(i.values||[]).find(t=>Wt(t,e))}function lr(i,e){if(i===e)return 0;const t=wt(i),o=wt(e);if(t!==o)return Yn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Yn(i.booleanValue,e.booleanValue);case 2:return function(u,m){const E=wo(u.integerValue||u.doubleValue),k=wo(m.integerValue||m.doubleValue);return E<k?-1:E>k?1:E===k?0:isNaN(E)?isNaN(k)?0:-1:1}(i,e);case 3:return kr(i.timestampValue,e.timestampValue);case 4:return kr(na(i),na(e));case 5:return Yn(i.stringValue,e.stringValue);case 6:return function(u,m){const E=da(u),k=da(m);return E.compareTo(k)}(i.bytesValue,e.bytesValue);case 7:return function(u,m){const E=u.split("/"),k=m.split("/");for(let j=0;j<E.length&&j<k.length;j++){const ne=Yn(E[j],k[j]);if(0!==ne)return ne}return Yn(E.length,k.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,m){const E=Yn(wo(u.latitude),wo(m.latitude));return 0!==E?E:Yn(wo(u.longitude),wo(m.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,m){const E=u.values||[],k=m.values||[];for(let j=0;j<E.length&&j<k.length;++j){const ne=lr(E[j],k[j]);if(ne)return ne}return Yn(E.length,k.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,m){if(u===he.mapValue&&m===he.mapValue)return 0;if(u===he.mapValue)return 1;if(m===he.mapValue)return-1;const E=u.fields||{},k=Object.keys(E),j=m.fields||{},ne=Object.keys(j);k.sort(),ne.sort();for(let Ae=0;Ae<k.length&&Ae<ne.length;++Ae){const tt=Yn(k[Ae],ne[Ae]);if(0!==tt)return tt;const zt=lr(E[k[Ae]],j[ne[Ae]]);if(0!==zt)return zt}return Yn(k.length,ne.length)}(i.mapValue,e.mapValue);default:throw Yt()}}function kr(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Yn(i,e);const t=Ta(i),o=Ta(e),u=Yn(t.seconds,o.seconds);return 0!==u?u:Yn(t.nanos,o.nanos)}function zr(i){return Li(i)}function Li(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Ta(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?da(i.bytesValue).toBase64():"referenceValue"in i?(t=i.referenceValue,An.fromName(t).toString()):"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",m=!0;for(const E of o.values||[])m?m=!1:u+=",",u+=Li(E);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let m="{",E=!0;for(const k of u)E?E=!1:m+=",",m+=`${k}:${Li(o.fields[k])}`;return m+"}"}(i.mapValue):Yt();var e,t}function li(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ls(i){return!!i&&"integerValue"in i}function vs(i){return!!i&&"arrayValue"in i}function Ec(i){return!!i&&"nullValue"in i}function Dc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xa(i){return!!i&&"mapValue"in i}function bs(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return je(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=bs(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bs(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ha(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function oc(i){return"nullValue"in i?Ze:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?li(K.empty(),An.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Yt()}function Cc(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?li(K.empty(),An.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?he:Yt()}function Pu(i,e){const t=lr(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Zl(i,e){const t=lr(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Fs{constructor(e){this.value=e}static empty(){return new Fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!xa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bs(t)}setAll(e){let t=Ei.emptyPath(),o={},u=[];e.forEach((E,k)=>{if(!t.isImmediateParentOf(k)){const j=this.getFieldsMap(t);this.applyChanges(j,o,u),o={},u=[],t=k.popLast()}E?o[k.lastSegment()]=bs(E):u.push(k.lastSegment())});const m=this.getFieldsMap(t);this.applyChanges(m,o,u)}delete(e){const t=this.field(e.popLast());xa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];xa(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){je(t,(u,m)=>e[u]=m);for(const u of o)delete e[u]}clone(){return new Fs(bs(this.value))}}function Dl(i){const e=[];return je(i.fields,(t,o)=>{const u=new Ei([t]);if(xa(o)){const m=Dl(o.mapValue).fields;if(0===m.length)e.push(u);else for(const E of m)e.push(u.child(E))}else e.push(u)}),new Lo(e)
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}class ns{constructor(e,t,o,u,m,E,k){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.createTime=m,this.data=E,this.documentState=k}static newInvalidDocument(e){return new ns(e,0,an.min(),an.min(),an.min(),Fs.empty(),0)}static newFoundDocument(e,t,o,u){return new ns(e,1,t,an.min(),o,u,0)}static newNoDocument(e,t){return new ns(e,2,t,an.min(),an.min(),Fs.empty(),0)}static newUnknownDocument(e,t){return new ns(e,3,t,an.min(),an.min(),Fs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(an.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ns&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ns(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Ka{constructor(e,t){this.position=e,this.inclusive=t}}function Cl(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const m=e[u],E=i.position[u];if(o=m.field.isKeyField()?An.comparator(An.fromName(E.referenceValue),t.key):lr(E,t.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function il(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Wt(i.position[t],e.position[t]))return!1;return!0}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class wc{constructor(e,t="asc"){this.field=e,this.dir=t}}function hf(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class th{}class ro extends th{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,o):new wl(e,t,o):"array-contains"===t?new Ql(e,o):"in"===t?new dd(e,o):"not-in"===t?new al(e,o):"array-contains-any"===t?new hd(e,o):new ro(e,t,o)}static createKeyFieldInFilter(e,t,o){return"in"===t?new sl(e,o):new nh(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(lr(t,this.value)):null!==t&&wt(this.value)===wt(t)&&this.matchesComparison(lr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class So extends th{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new So(e,t)}matches(e){return ol(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ol(i){return"and"===i.op}function Ru(i){return"or"===i.op}function Ic(i){return fa(i)&&ol(i)}function fa(i){for(const e of i.filters)if(e instanceof So)return!1;return!0}function Tc(i){if(i instanceof ro)return i.field.canonicalString()+i.op.toString()+zr(i.value);if(Ic(i))return i.filters.map(e=>Tc(e)).join(",");{const e=i.filters.map(t=>Tc(t)).join(",");return`${i.op}(${e})`}}function ku(i,e){return i instanceof ro?(t=i,(o=e)instanceof ro&&t.op===o.op&&t.field.isEqual(o.field)&&Wt(t.value,o.value)):i instanceof So?function(t,o){return o instanceof So&&t.op===o.op&&t.filters.length===o.filters.length&&t.filters.reduce((u,m,E)=>u&&ku(m,o.filters[E]),!0)}(i,e):void Yt();var t,o}function ql(i,e){const t=i.filters.concat(e);return So.create(t,i.op)}function xc(i){return i instanceof ro?`${(e=i).field.canonicalString()} ${e.op} ${zr(e.value)}`:i instanceof So?function(e){return e.op.toString()+" {"+e.getFilters().map(xc).join(" ,")+"}"}(i):"Filter";var e}class wl extends ro{constructor(e,t,o){super(e,t,o),this.key=An.fromName(o.referenceValue)}matches(e){const t=An.comparator(e.key,this.key);return this.matchesComparison(t)}}class sl extends ro{constructor(e,t){super(e,"in",t),this.keys=ba("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nh extends ro{constructor(e,t){super(e,"not-in",t),this.keys=ba("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ba(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>An.fromName(o.referenceValue))}class Ql extends ro{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vs(t)&&wn(t.arrayValue,this.value)}}class dd extends ro{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wn(this.value.arrayValue,t)}}class al extends ro{constructor(e,t){super(e,"not-in",t)}matches(e){if(wn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wn(this.value.arrayValue,t)}}class hd extends ro{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vs(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>wn(this.value.arrayValue,o))}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ra{constructor(e,t=null,o=[],u=[],m=null,E=null,k=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=m,this.startAt=E,this.endAt=k,this.ft=null}}function Xl(i,e=null,t=[],o=[],u=null,m=null,E=null){return new ra(i,e,t,o,u,m,E)}function Mc(i){const e=un(i);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>Tc(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Qa(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>zr(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>zr(o)).join(",")),e.ft=t}return e.ft}function Ps(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!hf(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!ku(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!il(i.startAt,e.startAt)&&il(i.endAt,e.endAt)}function Ac(i){return An.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function cl(i,e){return i.filters.filter(t=>t instanceof ro&&t.field.isEqual(e))}function Jl(i,e,t){let o=Ze,u=!0;for(const m of cl(i,e)){let E=Ze,k=!0;switch(m.op){case"<":case"<=":E=oc(m.value);break;case"==":case"in":case">=":E=m.value;break;case">":E=m.value,k=!1;break;case"!=":case"not-in":E=Ze}Pu({value:o,inclusive:u},{value:E,inclusive:k})<0&&(o=E,u=k)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const E=t.position[m];Pu({value:o,inclusive:u},{value:E,inclusive:t.inclusive})<0&&(o=E,u=t.inclusive);break}return{value:o,inclusive:u}}function Es(i,e,t){let o=he,u=!0;for(const m of cl(i,e)){let E=he,k=!0;switch(m.op){case">=":case">":E=Cc(m.value),k=!1;break;case"==":case"in":case"<=":E=m.value;break;case"<":E=m.value,k=!1;break;case"!=":case"not-in":E=he}Zl({value:o,inclusive:u},{value:E,inclusive:k})>0&&(o=E,u=k)}if(null!==t)for(let m=0;m<i.orderBy.length;++m)if(i.orderBy[m].field.isEqual(e)){const E=t.position[m];Zl({value:o,inclusive:u},{value:E,inclusive:t.inclusive})>0&&(o=E,u=t.inclusive);break}return{value:o,inclusive:u}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Bs{constructor(e,t=null,o=[],u=[],m=null,E="F",k=null,j=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=m,this.limitType=E,this.startAt=k,this.endAt=j,this.dt=null,this.wt=null,this.startAt,this.endAt}}function Kc(i,e,t,o,u,m,E,k){return new Bs(i,e,t,o,u,m,E,k)}function sc(i){return new Bs(i)}function Nu(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ll(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function jc(i){for(const e of i.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function eu(i){return null!==i.collectionGroup}function ac(i){const e=un(i);if(null===e.dt){e.dt=[];const t=jc(e),o=ll(e);if(null!==t&&null===o)t.isKeyField()||e.dt.push(new wc(t)),e.dt.push(new wc(Ei.keyField(),"asc"));else{let u=!1;for(const m of e.explicitOrderBy)e.dt.push(m),m.field.isKeyField()&&(u=!0);if(!u){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new wc(Ei.keyField(),m))}}}return e.dt}function ia(i){const e=un(i);if(!e.wt)if("F"===e.limitType)e.wt=Xl(e.path,e.collectionGroup,ac(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const m of ac(e)){const E="desc"===m.dir?"asc":"desc";t.push(new wc(m.field,E))}const o=e.endAt?new Ka(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Ka(e.startAt.position,e.startAt.inclusive):null;e.wt=Xl(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.wt}function tu(i,e){e.getFirstInequalityField(),jc(i);const t=i.filters.concat([e]);return new Bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function nu(i,e,t){return new Bs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Sc(i,e){return Ps(ia(i),ia(e))&&i.limitType===e.limitType}function R(i){return`${Mc(ia(i))}|lt:${i.limitType}`}function p(i){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(o=>xc(o)).join(", ")}]`),Qa(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>zr(o)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>zr(o)).join(",")),`Target(${t})`}(ia(i))}; limitType=${i.limitType})`}function D(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):An.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of ac(t))if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,m,E){const k=Cl(u,m,E);return u.inclusive?k<=0:k<0}(t.startAt,ac(t),o)||t.endAt&&!function(u,m,E){const k=Cl(u,m,E);return u.inclusive?k>=0:k>0}(t.endAt,ac(t),o)));var t,o}function L(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ye(i){return(e,t)=>{let o=!1;for(const u of ac(i)){const m=Fe(u,e,t);if(0!==m)return m;o=o||u.field.isKeyField()}return 0}}function Fe(i,e,t){const o=i.field.isKeyField()?An.comparator(e.key,t.key):function(u,m,E){const k=m.data.field(u),j=E.data.field(u);return null!==k&&null!==j?lr(k,j):Yt()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Yt()}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Vt{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,m]of o)if(this.equalsFn(u,e))return m}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let m=0;m<u.length;m++)if(this.equalsFn(u[m][0],e))return void(u[m]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){je(this.inner,(t,o)=>{for(const[u,m]of o)e(u,m)})}isEmpty(){return Nt(this.inner)}size(){return this.innerSize}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Tn=new sn(An.comparator);function Xn(){return Tn}const ei=new sn(An.comparator);function wi(...i){let e=ei;for(const t of i)e=e.insert(t.key,t);return e}function rs(i){let e=ei;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function gs(){return lc()}function cc(){return lc()}function lc(){return new Vt(i=>i.toString(),(i,e)=>i.isEqual(e))}const Lu=new sn(An.comparator),ru=new oi(An.comparator);function Ai(...i){let e=ru;for(const t of i)e=e.add(t);return e}const iu=new oi(Yn);function uc(){return iu}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Il(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function ou(i){return{integerValue:""+i}}function Oc(i,e){return Wa(e)?ou(e):Il(i,e)}
/**
         * @license
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Tl{constructor(){this._=void 0}}function fd(i,e,t){return i instanceof ja?function(o,u){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(m.fields.__previous_value__=u),{mapValue:m}}(t,e):i instanceof Pc?pd(i,e):i instanceof Hs?md(i,e):function(o,u){const m=au(o,u),E=Fu(m)+Fu(o._t);return Ls(m)&&Ls(o._t)?ou(E):Il(o.serializer,E)}(i,e)}function su(i,e,t){return i instanceof Pc?pd(i,e):i instanceof Hs?md(i,e):t}function au(i,e){return i instanceof Ea?Ls(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class ja extends Tl{}class Pc extends Tl{constructor(e){super(),this.elements=e}}function pd(i,e){const t=La(e);for(const o of i.elements)t.some(u=>Wt(u,o))||t.push(o);return{arrayValue:{values:t}}}class Hs extends Tl{constructor(e){super(),this.elements=e}}function md(i,e){let t=La(e);for(const o of i.elements)t=t.filter(u=>!Wt(u,o));return{arrayValue:{values:t}}}class Ea extends Tl{constructor(e,t){super(),this.serializer=e,this._t=t}}function Fu(i){return wo(i.integerValue||i.doubleValue)}function La(i){return vs(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ec{constructor(e,t){this.field=e,this.transform=t}}class gd{constructor(e,t){this.version=e,this.transformResults=t}}class Fo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fo}static exists(e){return new Fo(void 0,e)}static updateTime(e){return new Fo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class xl{}function ih(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ul(i.key,Fo.none()):new uu(i.key,i.data,Fo.none());{const t=i.data,o=Fs.empty();let u=new oi(Ei.comparator);for(let m of e.fields)if(!u.has(m)){let E=t.field(m);null===E&&m.length>1&&(m=m.popLast(),E=t.field(m)),null===E?o.delete(m):o.set(m,E),u=u.add(m)}return new Fa(i.key,o,new Lo(u.toArray()),Fo.none())}}function Bu(i,e,t){var m;i instanceof uu?function(o,u,m){const E=o.value.clone(),k=du(o.fieldTransforms,u,m.transformResults);E.setAll(k),u.convertToFoundDocument(m.version,E).setHasCommittedMutations()}(i,e,t):i instanceof Fa?function(o,u,m){if(!cu(o.precondition,u))return void u.convertToUnknownDocument(m.version);const E=du(o.fieldTransforms,u,m.transformResults),k=u.data;k.setAll(Uu(o)),k.setAll(E),u.convertToFoundDocument(m.version,k).setHasCommittedMutations()}(i,e,t):(m=t,e.convertToNoDocument(m.version).setHasCommittedMutations())}function Ml(i,e,t,o){return i instanceof uu?function(u,m,E,k){if(!cu(u.precondition,m))return E;const j=u.value.clone(),ne=_d(u.fieldTransforms,k,m);return j.setAll(ne),m.convertToFoundDocument(m.version,j).setHasLocalMutations(),null}(i,e,t,o):i instanceof Fa?function(u,m,E,k){if(!cu(u.precondition,m))return E;const j=_d(u.fieldTransforms,k,m),ne=m.data;return ne.setAll(Uu(u)),ne.setAll(j),m.convertToFoundDocument(m.version,ne).setHasLocalMutations(),null===E?null:E.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(Ae=>Ae.field))}(i,e,t,o):(m=e,E=t,cu(i.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):E);var m,E}function oh(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),m=au(o.transform,u||null);null!=m&&(null===t&&(t=Fs.empty()),t.set(o.field,m))}return t||null}function lu(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(t=i.fieldTransforms,o=e.fieldTransforms,!!(void 0===t&&void 0===o||t&&o&&Hi(t,o,(u,m)=>function rh(i,e){return i.field.isEqual(e.field)&&(t=i.transform,o=e.transform,t instanceof Pc&&o instanceof Pc||t instanceof Hs&&o instanceof Hs?Hi(t.elements,o.elements,Wt):t instanceof Ea&&o instanceof Ea?Wt(t._t,o._t):t instanceof ja&&o instanceof ja);var t,o}(u,m))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class uu extends xl{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Fa extends xl{constructor(e,t,o,u,m=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Uu(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function du(i,e,t){const o=new Map;fn(i.length===t.length);for(let u=0;u<t.length;u++){const m=i[u],E=m.transform,k=e.data.field(m.field);o.set(m.field,su(E,k,t[u]))}return o}function _d(i,e,t){const o=new Map;for(const u of i){const m=u.transform,E=t.data.field(u.field);o.set(u.field,fd(m,E,e))}return o}class ul extends xl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vu extends xl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Al{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const m=this.mutations[u];m.key.isEqual(e.key)&&Bu(m,e,o[u])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ml(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ml(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=cc();return this.mutations.forEach(u=>{const m=e.get(u.key),E=m.overlayedDocument;let k=this.applyToLocalView(E,m.mutatedFields);k=t.has(u.key)?null:k;const j=ih(E,k);null!==j&&o.set(u.key,j),E.isValidDocument()||E.convertToNoDocument(an.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ai())}isEqual(e){return this.batchId===e.batchId&&Hi(this.mutations,e.mutations,(t,o)=>lu(t,o))&&Hi(this.baseMutations,e.baseMutations,(t,o)=>lu(t,o))}}class hu{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){fn(e.mutations.length===o.length);let u=Lu;const m=e.mutations;for(let E=0;E<m.length;E++)u=u.insert(m[E].key,o[E].version);return new hu(e,t,o,u)}}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class $c{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class mp{constructor(e){this.count=e}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */var Rs,Do;function sh(i){switch(i){default:return Yt();case vt.CANCELLED:case vt.UNKNOWN:case vt.DEADLINE_EXCEEDED:case vt.RESOURCE_EXHAUSTED:case vt.INTERNAL:case vt.UNAVAILABLE:case vt.UNAUTHENTICATED:return!1;case vt.INVALID_ARGUMENT:case vt.NOT_FOUND:case vt.ALREADY_EXISTS:case vt.PERMISSION_DENIED:case vt.FAILED_PRECONDITION:case vt.ABORTED:case vt.OUT_OF_RANGE:case vt.UNIMPLEMENTED:case vt.DATA_LOSS:return!0}}function zu(i){if(void 0===i)return Je("GRPC error has no .code"),vt.UNKNOWN;switch(i){case Rs.OK:return vt.OK;case Rs.CANCELLED:return vt.CANCELLED;case Rs.UNKNOWN:return vt.UNKNOWN;case Rs.DEADLINE_EXCEEDED:return vt.DEADLINE_EXCEEDED;case Rs.RESOURCE_EXHAUSTED:return vt.RESOURCE_EXHAUSTED;case Rs.INTERNAL:return vt.INTERNAL;case Rs.UNAVAILABLE:return vt.UNAVAILABLE;case Rs.UNAUTHENTICATED:return vt.UNAUTHENTICATED;case Rs.INVALID_ARGUMENT:return vt.INVALID_ARGUMENT;case Rs.NOT_FOUND:return vt.NOT_FOUND;case Rs.ALREADY_EXISTS:return vt.ALREADY_EXISTS;case Rs.PERMISSION_DENIED:return vt.PERMISSION_DENIED;case Rs.FAILED_PRECONDITION:return vt.FAILED_PRECONDITION;case Rs.ABORTED:return vt.ABORTED;case Rs.OUT_OF_RANGE:return vt.OUT_OF_RANGE;case Rs.UNIMPLEMENTED:return vt.UNIMPLEMENTED;case Rs.DATA_LOSS:return vt.DATA_LOSS;default:return Yt()}}(Do=Rs||(Rs={}))[Do.OK=0]="OK",Do[Do.CANCELLED=1]="CANCELLED",Do[Do.UNKNOWN=2]="UNKNOWN",Do[Do.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Do[Do.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Do[Do.NOT_FOUND=5]="NOT_FOUND",Do[Do.ALREADY_EXISTS=6]="ALREADY_EXISTS",Do[Do.PERMISSION_DENIED=7]="PERMISSION_DENIED",Do[Do.UNAUTHENTICATED=16]="UNAUTHENTICATED",Do[Do.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Do[Do.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Do[Do.ABORTED=10]="ABORTED",Do[Do.OUT_OF_RANGE=11]="OUT_OF_RANGE",Do[Do.UNIMPLEMENTED=12]="UNIMPLEMENTED",Do[Do.INTERNAL=13]="INTERNAL",Do[Do.UNAVAILABLE=14]="UNAVAILABLE",Do[Do.DATA_LOSS=15]="DATA_LOSS";
/**
         * @license
         * Copyright 2023 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class Wu{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Hu}static getOrCreateInstance(){return null===Hu&&(Hu=new Wu),Hu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Hu=null;
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class fu{constructor(e,t,o,u,m){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const u=new Map;return u.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new fu(an.min(),u,uc(),Xn(),Ai())}}class pu{constructor(e,t,o,u,m){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new pu(o,t,Ai(),Ai(),Ai())}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Rc{constructor(e,t,o,u){this.It=e,this.removedTargetIds=t,this.key=o,this.Tt=u}}class ff{constructor(e,t){this.targetId=e,this.Et=t}}class pf{constructor(e,t,o=ts.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class mf{constructor(){this.At=0,this.Rt=kc(),this.vt=ts.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Ai(),t=Ai(),o=Ai();return this.Rt.forEach((u,m)=>{switch(m){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Yt()}}),new pu(this.vt,this.bt,e,t,o)}xt(){this.Pt=!1,this.Rt=kc()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class gp{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Xn(),this.qt=gf(),this.Ut=new oi(Yn)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const o=this.jt(t);switch(e.state){case 0:this.Wt(t)&&o.Dt(e.resumeToken);break;case 1:o.$t(),o.Vt||o.xt(),o.Dt(e.resumeToken);break;case 2:o.$t(),o.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(o.Mt(),o.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),o.Dt(e.resumeToken));break;default:Yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((o,u)=>{this.Wt(u)&&t(u)})}Jt(e){var t;const o=e.targetId,u=e.Et.count,m=this.Yt(o);if(m){const E=m.target;if(Ac(E))if(0===u){const k=new An(E.path);this.Qt(o,k,ns.newNoDocument(k,an.min()))}else fn(1===u);else{const k=this.Zt(o);k!==u&&(this.Ht(o),this.Ut=this.Ut.add(o),null===(t=Wu.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:k,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((m,E)=>{const k=this.Yt(E);if(k){if(m.current&&Ac(k.target)){const j=new An(k.target.path);null!==this.Lt.get(j)||this.te(E,j)||this.Qt(E,j,ns.newNoDocument(j,e))}m.St&&(t.set(E,m.Ct()),m.xt())}});let o=Ai();this.qt.forEach((m,E)=>{let k=!0;E.forEachWhile(j=>{const ne=this.Yt(j);return!ne||2===ne.purpose||(k=!1,!1)}),k&&(o=o.add(m))}),this.Lt.forEach((m,E)=>E.setReadTime(e));const u=new fu(e,t,this.Ut,this.Lt,o);return this.Lt=Xn(),this.qt=gf(),this.Ut=new oi(Yn),u}Gt(e,t){if(!this.Wt(e))return;const o=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,o),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,o){if(!this.Wt(e))return;const u=this.jt(e);this.te(e,t)?u.Nt(t,1):u.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),o&&(this.Lt=this.Lt.insert(t,o))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new mf,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new oi(Yn),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new mf),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function gf(){return new sn(An.comparator)}function kc(){return new sn(An.comparator)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const mu={asc:"ASCENDING",desc:"DESCENDING"},_p={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yp={and:"AND",or:"OR"};class vp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Da(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _f(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function ah(i,e){return Da(i,e.toTimestamp())}function xs(i){return fn(!!i),an.fromTimestamp(function(e){const t=Ta(e);return new hi(t.seconds,t.nanos)}(i))}function ch(i,e){return(t=i,new Nn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lh(i){const e=Nn.fromString(i);return fn(Gc(e)),e}function Ku(i,e){return ch(i.databaseId,e.path)}function Nc(i,e){const t=lh(e);if(t.get(1)!==i.databaseId.projectId)throw new O(vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new O(vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new An(uh(t))}function gu(i,e){return ch(i.databaseId,e)}function Lc(i){const e=lh(i);return 4===e.length?Nn.emptyPath():uh(e)}function Fc(i){return new Nn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function uh(i){return fn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function dh(i,e,t){return{name:Ku(i,e),fields:t.value.mapValue.fields}}function yf(i,e,t){const o=Nc(i,e.name),u=xs(e.updateTime),m=e.createTime?xs(e.createTime):an.min(),E=new Fs({mapValue:{fields:e.fields}}),k=ns.newFoundDocument(o,u,m,E);return t&&k.setHasCommittedMutations(),t?k.setHasCommittedMutations():k}function ju(i,e){let t;if(e instanceof uu)t={update:dh(i,e.key,e.value)};else if(e instanceof ul)t={delete:Ku(i,e.key)};else if(e instanceof Fa)t={update:dh(i,e.key,e.data),updateMask:Dp(e.fieldMask)};else{if(!(e instanceof Vu))return Yt();t={verify:Ku(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,m){const E=m.transform;if(E instanceof ja)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Pc)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Hs)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Ea)return{fieldPath:m.field.canonicalString(),increment:E._t};throw Yt()}(0,o))),e.precondition.isNone||(t.currentDocument=(o=i,void 0!==(u=e.precondition).updateTime?{updateTime:ah(o,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Yt())),t;var o,u}function $u(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Fo.updateTime(xs(u.updateTime)):void 0!==u.exists?Fo.exists(u.exists):Fo.none():Fo.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(m,E){let k=null;if("setToServerValue"in E)fn("REQUEST_TIME"===E.setToServerValue),k=new ja;else if("appendMissingElements"in E){const ne=E.appendMissingElements.values||[];k=new Pc(ne)}else if("removeAllFromArray"in E){const ne=E.removeAllFromArray.values||[];k=new Hs(ne)}else"increment"in E?k=new Ea(m,E.increment):Yt();const j=Ei.fromServerFormat(E.fieldPath);return new ec(j,k)}(i,u)):[];var u;if(e.update){e.update.name;const u=Nc(i,e.update.name),m=new Fs({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=function(k){const j=k.fieldPaths||[];return new Lo(j.map(ne=>Ei.fromServerFormat(ne)))}(e.updateMask);return new Fa(u,m,E,t,o)}return new uu(u,m,t,o)}if(e.delete){const u=Nc(i,e.delete);return new ul(u,t)}if(e.verify){const u=Nc(i,e.verify);return new Vu(u,t)}return Yt()}function bf(i,e){return{documents:[gu(i,e.path)]}}function fh(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=gu(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=gu(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(j){if(0!==j.length)return Gu(So.create(j,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const m=function(j){if(0!==j.length)return j.map(ne=>{return{field:hc((Ae=ne).field),direction:Jm(Ae.dir)};var Ae})}(e.orderBy);m&&(t.structuredQuery.orderBy=m);const E=(j=i,ne=e.limit,j.useProto3Json||Qa(ne)?ne:{value:ne});var j,ne,k;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(k=e.startAt).inclusive,values:k.position}),e.endAt&&(t.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(e.endAt)),t}function ph(i){let e=Lc(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){fn(1===o);const Ae=t.from[0];Ae.allDescendants?u=Ae.collectionId:e=e.child(Ae.collectionId)}let m=[];t.where&&(m=function(Ae){const tt=Ef(Ae);return tt instanceof So&&Ic(tt)?tt.getFilters():[tt]}(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(Ae=>{return new wc(Sl((tt=Ae).field),function(zt){switch(zt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction));var tt}));let k=null;t.limit&&(k=function(Ae){let tt;return tt="object"==typeof Ae?Ae.value:Ae,Qa(tt)?null:tt}(t.limit));let j=null;t.startAt&&(j=function(Ae){const tt=!!Ae.before,zt=Ae.values||[];return new Ka(zt,tt)}(t.startAt));let ne=null;return t.endAt&&(ne=function(Ae){const tt=!Ae.before,zt=Ae.values||[];return new Ka(zt,tt)}(t.endAt)),Kc(e,u,E,m,k,"F",j,ne)}function Ef(i){return void 0!==i.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Sl(e.unaryFilter.field);return ro.create(t,"==",{doubleValue:NaN});case"IS_NULL":const o=Sl(e.unaryFilter.field);return ro.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Sl(e.unaryFilter.field);return ro.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Sl(e.unaryFilter.field);return ro.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Yt()}}(i):void 0!==i.fieldFilter?(e=i,ro.create(Sl(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yt()}}(e.fieldFilter.op),e.fieldFilter.value)):void 0!==i.compositeFilter?function(e){return So.create(e.compositeFilter.filters.map(t=>Ef(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Yt()}}(e.compositeFilter.op))}(i):Yt();var e}function Jm(i){return mu[i]}function eg(i){return _p[i]}function Df(i){return yp[i]}function hc(i){return{fieldPath:i.canonicalString()}}function Sl(i){return Ei.fromServerFormat(i.fieldPath)}function Gu(i){return i instanceof ro?function(e){if("=="===e.op){if(Dc(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NAN"}};if(Ec(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Dc(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NAN"}};if(Ec(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(e.field),op:eg(e.op),value:e.value}}}(i):i instanceof So?function(e){const t=e.getFilters().map(o=>Gu(o));return 1===t.length?t[0]:{compositeFilter:{op:Df(e.op),filters:t}}}(i):Yt()}function Dp(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Gc(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class dl{constructor(e,t,o,u,m=an.min(),E=an.min(),k=ts.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=k}withSequenceNumber(e){return new dl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new dl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new dl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Cf{constructor(e){this.se=e}}function Ys(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ca(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Ku(u=i.se,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Da(u,m.version.toTimestamp()),createTime:Da(u,m.createTime.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:fc(e.version)};else{if(!e.isUnknownDocument())return Yt();o.unknownDocument={path:t.path.toArray(),version:fc(e.version)}}var u,m;return o}function Ca(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function fc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ol(i){const e=new hi(i.seconds,i.nanoseconds);return an.fromTimestamp(e)}function Pl(i,e){const t=(e.baseMutations||[]).map(m=>$u(i.se,m));for(let m=0;m<e.mutations.length-1;++m){const E=e.mutations[m];if(m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform){const k=e.mutations[m+1];E.updateTransforms=k.transform.fieldTransforms,e.mutations.splice(m+1,1),++m}}const o=e.mutations.map(m=>$u(i.se,m)),u=hi.fromMillis(e.localWriteTimeMs);return new Al(e.batchId,u,t,o)}function _u(i){const e=Ol(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ol(i.lastLimboFreeSnapshotVersion):an.min();let o;var u;return void 0!==i.query.documents?(fn(1===(u=i.query).documents.length),o=ia(sc(Lc(u.documents[0])))):o=ia(ph(i.query)),new dl(o,i.targetId,0,i.lastListenSequenceNumber,e,t,ts.fromBase64String(i.resumeToken))}function Cp(i,e){const t=fc(e.snapshotVersion),o=fc(e.lastLimboFreeSnapshotVersion);let u;u=Ac(e.target)?bf(i.se,e.target):fh(i.se,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mc(e.target),readTime:t,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Yc(i){const e=ph({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?nu(e,e.limit,"L"):e}function Rl(i,e){return new $c(e.largestBatchId,$u(i.se,e.overlayMutation))}function vd(i,e){const t=e.path.lastSegment();return[i,ss(e.path.popLast()),t]}function mh(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:fc(o.readTime),documentKey:ss(o.documentKey.path),largestBatchId:o.largestBatchId}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class wf{getBundleMetadata(e,t){return bd(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Ol(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return bd(e).put({bundleId:(o=t).id,createTime:fc(xs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return gh(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:Yc(u.bundledQuery),readTime:Ol(u.readTime)};var u})}saveNamedQuery(e,t){return gh(e).put({name:(o=t).name,readTime:fc(xs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function bd(i){return $(i,"bundles")}function gh(i){return $(i,"namedQueries")}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Yu{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){const o=t.uid||"";return new Yu(e,o)}getOverlay(e,t){return kl(e).get(vd(this.userId,t)).next(o=>o?Rl(this.serializer,o):null)}getOverlays(e,t){const o=gs();return $t.forEach(t,u=>this.getOverlay(e,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(e,t,o){const u=[];return o.forEach((m,E)=>{const k=new $c(t,E);u.push(this.re(e,k))}),$t.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(E=>u.add(ss(E.getCollectionPath())));const m=[];return u.forEach(E=>{const k=IDBKeyRange.bound([this.userId,E,o],[this.userId,E,o+1],!1,!0);m.push(kl(e).J("collectionPathOverlayIndex",k))}),$t.waitFor(m)}getOverlaysForCollection(e,t,o){const u=gs(),m=ss(t),E=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return kl(e).j("collectionPathOverlayIndex",E).next(k=>{for(const j of k){const ne=Rl(this.serializer,j);u.set(ne.getKey(),ne)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const m=gs();let E;const k=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kl(e).Z({index:"collectionGroupOverlayIndex",range:k},(j,ne,Ae)=>{const tt=Rl(this.serializer,ne);m.size()<u||tt.largestBatchId===E?(m.set(tt.getKey(),tt),E=tt.largestBatchId):Ae.done()}).next(()=>m)}re(e,t){return kl(e).put(function(o,u,m){const[E,k,j]=vd(u,m.mutation.key);return{userId:u,collectionPath:k,documentId:j,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:ju(o.se,m.mutation)}}(this.serializer,this.userId,t))}}function kl(i){return $(i,"documentOverlays")}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class tc{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(wo(e.integerValue));else if("doubleValue"in e){const o=wo(e.doubleValue);isNaN(o)?this.ae(t,13):(this.ae(t,15),yc(o)?t.he(0):t.he(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ae(t,20),"string"==typeof o?t.le(o):(t.le(`${o.seconds||""}`),t.he(o.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(da(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ae(t,45),t.he(o.latitude||0),t.he(o.longitude||0)}else"mapValue"in e?ha(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):Yt()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const o=e.fields||{};this.ae(t,55);for(const u of Object.keys(o))this.fe(u,t),this.ue(o[u],t)}ge(e,t){const o=e.values||[];this.ae(t,50);for(const u of o)this.ue(u,t)}_e(e,t){this.ae(t,37),An.fromName(e).path.forEach(o=>{this.ae(t,60),this.ye(o,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function _h(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function If(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const m=_h(255&t[u]);if(o+=m,8!==m)break}return o}(i);return Math.ceil(e/8)}tc.pe=new tc;class yh{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Te(o.value),o=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Re(o.value),o=t.next();this.ve()}be(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Te(o);else if(o<2048)this.Te(960|o>>>6),this.Te(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Te(480|o>>>12),this.Te(128|63&o>>>6),this.Te(128|63&o);else{const u=t.codePointAt(0);this.Te(240|u>>>18),this.Te(128|63&u>>>12),this.Te(128|63&u>>>6),this.Te(128|63&u)}}this.Ee()}Pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Re(o);else if(o<2048)this.Re(960|o>>>6),this.Re(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Re(480|o>>>12),this.Re(128|63&o>>>6),this.Re(128|63&o);else{const u=t.codePointAt(0);this.Re(240|u>>>18),this.Re(128|63&u>>>12),this.Re(128|63&u>>>6),this.Re(128|63&u)}}this.ve()}Ve(e){const t=this.Se(e),o=If(t);this.De(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ce(e){const t=this.Se(e),o=If(t);this.De(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(u){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,u,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class wp{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class Ed{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class Nl{constructor(){this.Me=new yh,this.Fe=new wp(this.Me),this.Be=new Ed(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Zc{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Zc(this.indexId,this.documentKey,this.arrayValue,o)}}function Ba(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Tf(i.arrayValue,e.arrayValue),0!==t?t:(t=Tf(i.directionalValue,e.directionalValue),0!==t?t:An.comparator(i.documentKey,e.documentKey)))}function Tf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class vh{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const o=t;o.isInequality()?this.Ge=o:this.Ke.push(o)}}Qe(e){fn(e.collectionGroup===this.collectionId);const t=qo(e);if(void 0!==t&&!this.ze(t))return!1;const o=eo(e);let u=0,m=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Ge){const E=o[u];if(!this.je(this.Ge,E)||!this.We(this.Ue[m++],E))return!1;++u}for(;u<o.length;++u){const E=o[u];if(m>=this.Ue.length||!this.We(this.Ue[m++],E))return!1}return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const o="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===o}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function yu(i){var e,t;if(fn(i instanceof ro||i instanceof So),i instanceof ro){if(i instanceof dd){const u=(null===(t=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(m=>ro.create(i.field,"==",m)))||[];return So.create(u,"or")}return i}const o=i.filters.map(u=>yu(u));return So.create(o,i.op)}function Ip(i){if(0===i.getFilters().length)return[];const e=Dd(yu(i));return fn(hl(e)),Zu(e)||Ll(e)?[e]:e.getFilters()}function Zu(i){return i instanceof ro}function Ll(i){return i instanceof So&&Ic(i)}function hl(i){return Zu(i)||Ll(i)||function(e){if(e instanceof So&&Ru(e)){for(const t of e.getFilters())if(!Zu(t)&&!Ll(t))return!1;return!0}return!1}(i)}function Dd(i){if(fn(i instanceof ro||i instanceof So),i instanceof ro)return i;if(1===i.filters.length)return Dd(i.filters[0]);const e=i.filters.map(o=>Dd(o));let t=So.create(e,i.op);return t=qc(t),hl(t)?t:(fn(t instanceof So),fn(ol(t)),fn(t.filters.length>1),t.filters.reduce((o,u)=>qu(o,u)))}function qu(i,e){let t;return fn(i instanceof ro||i instanceof So),fn(e instanceof ro||e instanceof So),t=i instanceof ro?e instanceof ro?(o=i,u=e,So.create([o,u],"and")):Fl(i,e):e instanceof ro?Fl(e,i):function(o,u){if(fn(o.filters.length>0&&u.filters.length>0),ol(o)&&ol(u))return ql(o,u.getFilters());const m=Ru(o)?o:u,E=Ru(o)?u:o,k=m.filters.map(j=>qu(j,E));return So.create(k,"or")}(i,e),qc(t);var o,u}function Fl(i,e){if(ol(e))return ql(e,i.getFilters());{const t=e.filters.map(o=>qu(i,o));return So.create(t,"or")}}function qc(i){if(fn(i instanceof ro||i instanceof So),i instanceof ro)return i;const e=i.getFilters();if(1===e.length)return qc(e[0]);if(fa(i))return i;const t=e.map(u=>qc(u)),o=[];return t.forEach(u=>{u instanceof ro?o.push(u):u instanceof So&&(u.op===i.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:So.create(o,i.op)
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}class f{constructor(){this.He=new a}addToCollectionParentIndex(e,t){return this.He.add(t),$t.resolve()}getCollectionParents(e,t){return $t.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return $t.resolve()}deleteFieldIndex(e,t){return $t.resolve()}getDocumentsMatchingTarget(e,t){return $t.resolve(null)}getIndexType(e,t){return $t.resolve(0)}getFieldIndexes(e,t){return $t.resolve([])}getNextCollectionGroupToUpdate(e){return $t.resolve(null)}getMinOffset(e,t){return $t.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,t){return $t.resolve(Mi.min())}updateCollectionGroup(e,t,o){return $t.resolve()}updateIndexEntries(e,t){return $t.resolve()}}class a{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new oi(Nn.comparator),m=!u.has(o);return this.index[t]=u.add(o),m}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new oi(Nn.comparator)).toArray()}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const d=new Uint8Array(0);class v{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new a,this.Ye=new Vt(o=>Mc(o),(o,u)=>Ps(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const m={collectionId:o,parent:ss(u)};return x(e).put(m)}return $t.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[Ji(t),""],!1,!0);return x(e).j(u).next(m=>{for(const E of m){if(E.collectionId!==t)break;o.push($s(E.parent))}return o})}addFieldIndex(e,t){const o=Q(e),u={indexId:(E=t).indexId,collectionGroup:E.collectionGroup,fields:E.fields.map(k=>[k.fieldPath.canonicalString(),k.kind])};var E;delete u.indexId;const m=o.add(u);if(t.indexState){const E=Te(e);return m.next(k=>{E.put(mh(k,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return m.next()}deleteFieldIndex(e,t){const o=Q(e),u=Te(e),m=U(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=U(e);let u=!0;const m=new Map;return $t.forEach(this.Ze(t),E=>this.Xe(e,E).next(k=>{u&&(u=!!k),m.set(E,k)})).next(()=>{if(u){let E=Ai();const k=[];return $t.forEach(m,(j,ne)=>{var Ae;ve("IndexedDbIndexManager",`Using index ${Ae=j,`id=${Ae.indexId}|cg=${Ae.collectionGroup}|f=${Ae.fields.map(Ro=>`${Ro.fieldPath}:${Ro.kind}`).join(",")}`} to execute ${Mc(t)}`);const tt=function(Ro,rc){const sa=qo(rc);if(void 0===sa)return null;for(const Ns of cl(Ro,sa.fieldPath))switch(Ns.op){case"array-contains-any":return Ns.value.arrayValue.values||[];case"array-contains":return[Ns.value]}return null}(ne,j),zt=function(Ro,rc){const sa=new Map;for(const Ns of eo(rc))for(const ic of cl(Ro,Ns.fieldPath))switch(ic.op){case"==":case"in":sa.set(Ns.fieldPath.canonicalString(),ic.value);break;case"not-in":case"!=":return sa.set(Ns.fieldPath.canonicalString(),ic.value),Array.from(sa.values())}return null}(ne,j),gn=function(Ro,rc){const sa=[];let Ns=!0;for(const ic of eo(rc)){const Mu=0===ic.kind?Jl(Ro,ic.fieldPath,Ro.startAt):Es(Ro,ic.fieldPath,Ro.startAt);sa.push(Mu.value),Ns&&(Ns=Mu.inclusive)}return new Ka(sa,Ns)}(ne,j),Kn=function(Ro,rc){const sa=[];let Ns=!0;for(const ic of eo(rc)){const Mu=0===ic.kind?Es(Ro,ic.fieldPath,Ro.endAt):Jl(Ro,ic.fieldPath,Ro.endAt);sa.push(Mu.value),Ns&&(Ns=Mu.inclusive)}return new Ka(sa,Ns)}(ne,j),Dr=this.tn(j,ne,gn),ti=this.tn(j,ne,Kn),Ko=this.en(j,ne,zt),ks=this.nn(j.indexId,tt,Dr,gn.inclusive,ti,Kn.inclusive,Ko);return $t.forEach(ks,Ro=>o.H(Ro,t.limit).next(rc=>{rc.forEach(sa=>{const Ns=An.fromSegments(sa.documentKey);E.has(Ns)||(E=E.add(Ns),k.push(Ns))})}))}).next(()=>k)}return $t.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:Ip(So.create(e.filters,"and")).map(o=>Xl(e.path,e.collectionGroup,e.orderBy,o.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,o,u,m,E,k){const j=(null!=t?t.length:1)*Math.max(o.length,m.length),ne=j/(null!=t?t.length:1),Ae=[];for(let tt=0;tt<j;++tt){const zt=t?this.sn(t[tt/ne]):d,gn=this.rn(e,zt,o[tt%ne],u),Kn=this.on(e,zt,m[tt%ne],E),Dr=k.map(ti=>this.rn(e,zt,ti,!0));Ae.push(...this.createRange(gn,Kn,Dr))}return Ae}rn(e,t,o,u){const m=new Zc(e,An.empty(),t,o);return u?m:m.qe()}on(e,t,o,u){const m=new Zc(e,An.empty(),t,o);return u?m.qe():m}Xe(e,t){const o=new vh(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(m=>{let E=null;for(const k of m)o.Qe(k)&&(!E||k.fields.length>E.fields.length)&&(E=k);return E})}getIndexType(e,t){let o=2;const u=this.Ze(t);return $t.forEach(u,m=>this.Xe(e,m).next(E=>{E?0!==o&&E.fields.length<function(k){let j=new oi(Ei.comparator),ne=!1;for(const Ae of k.filters)for(const tt of Ae.getFlattenedFilters())tt.field.isKeyField()||("array-contains"===tt.op||"array-contains-any"===tt.op?ne=!0:j=j.add(tt.field));for(const Ae of k.orderBy)Ae.field.isKeyField()||(j=j.add(Ae.field));return j.size+(ne?1:0)}(m)&&(o=1):o=0})).next(()=>null!==t.limit&&u.length>1&&2===o?1:o)}un(e,t){const o=new Nl;for(const u of eo(e)){const m=t.data.field(u.fieldPath);if(null==m)return null;const E=o.Le(u.kind);tc.pe.oe(m,E)}return o.$e()}sn(e){const t=new Nl;return tc.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const o=new Nl;return tc.pe.oe(li(this.databaseId,t),o.Le(function(u){const m=eo(u);return 0===m.length?0:m[m.length-1].kind}(e))),o.$e()}en(e,t,o){if(null===o)return[];let u=[];u.push(new Nl);let m=0;for(const E of eo(e)){const k=o[m++];for(const j of u)if(this.an(t,E.fieldPath)&&vs(k))u=this.hn(u,E,k);else{const ne=j.Le(E.kind);tc.pe.oe(k,ne)}}return this.ln(u)}tn(e,t,o){return this.en(e,t,o.position)}ln(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].$e();return t}hn(e,t,o){const u=[...e],m=[];for(const E of o.arrayValue.values||[])for(const k of u){const j=new Nl;j.seed(k.$e()),tc.pe.oe(E,j.Le(t.kind)),m.push(j)}return m}an(e,t){return!!e.filters.find(o=>o instanceof ro&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Q(e),u=Te(e);return(t?o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.j()).next(m=>{const E=[];return $t.forEach(m,k=>u.get([k.indexId,this.uid]).next(j=>{E.push(function(ne,Ae){const tt=Ae?new Ao(Ae.sequenceNumber,new Mi(Ol(Ae.readTime),new An($s(Ae.documentKey)),Ae.largestBatchId)):Ao.empty(),zt=ne.fields.map(([gn,Kn])=>new Qs(Ei.fromServerFormat(gn),Kn));return new cs(ne.indexId,ne.collectionGroup,zt,tt)}(k,j))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const m=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==m?m:Yn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Q(e),m=Te(e);return this.fn(e).next(E=>u.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(k=>$t.forEach(k,j=>m.put(mh(j.indexId,this.user,E,o)))))}updateIndexEntries(e,t){const o=new Map;return $t.forEach(t,(u,m)=>{const E=o.get(u.collectionGroup);return(E?$t.resolve(E):this.getFieldIndexes(e,u.collectionGroup)).next(k=>(o.set(u.collectionGroup,k),$t.forEach(k,j=>this.dn(e,u,j).next(ne=>{const Ae=this.wn(m,j);return ne.isEqual(Ae)?$t.resolve():this._n(e,m,j,ne,Ae)}))))})}mn(e,t,o,u){return U(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.cn(o,t.key),documentKey:t.key.path.toArray()})}gn(e,t,o,u){return U(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.cn(o,t.key),t.key.path.toArray()])}dn(e,t,o){const u=U(e);let m=new oi(Ba);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.cn(o,t)])},(E,k)=>{m=m.add(new Zc(o.indexId,t,k.arrayValue,k.directionalValue))}).next(()=>m)}wn(e,t){let o=new oi(Ba);const u=this.un(t,e);if(null==u)return o;const m=qo(t);if(null!=m){const E=e.data.field(m.fieldPath);if(vs(E))for(const k of E.arrayValue.values||[])o=o.add(new Zc(t.indexId,e.key,this.sn(k),u))}else o=o.add(new Zc(t.indexId,e.key,d,u));return o}_n(e,t,o,u,m){ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const E=[];return function(k,j,ne,Ae,tt){const zt=k.getIterator(),gn=j.getIterator();let Kn=ys(zt),Dr=ys(gn);for(;Kn||Dr;){let ti=!1,Ko=!1;if(Kn&&Dr){const ks=ne(Kn,Dr);ks<0?Ko=!0:ks>0&&(ti=!0)}else null!=Kn?Ko=!0:ti=!0;ti?(Ae(Dr),Dr=ys(gn)):Ko?(tt(Kn),Kn=ys(zt)):(Kn=ys(zt),Dr=ys(gn))}}(u,m,Ba,k=>{E.push(this.mn(e,t,o,k))},k=>{E.push(this.gn(e,t,o,k))}),$t.waitFor(E)}fn(e){let t=1;return Te(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,m)=>{m.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((E,k)=>Ba(E,k)).filter((E,k,j)=>!k||0!==Ba(E,j[k-1]));const u=[];u.push(e);for(const E of o){const k=Ba(E,e),j=Ba(E,t);if(0===k)u[0]=e.qe();else if(k>0&&j<0)u.push(E),u.push(E.qe());else if(j>0)break}u.push(t);const m=[];for(let E=0;E<u.length;E+=2){if(this.yn(u[E],u[E+1]))return[];const k=[u[E].indexId,this.uid,u[E].arrayValue,u[E].directionalValue,d,[]],j=[u[E+1].indexId,this.uid,u[E+1].arrayValue,u[E+1].directionalValue,d,[]];m.push(IDBKeyRange.bound(k,j))}return m}yn(e,t){return Ba(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($e)}getMinOffset(e,t){return $t.mapArray(this.Ze(t),o=>this.Xe(e,o).next(u=>u||Yt())).next($e)}}function x(i){return $(i,"collectionParents")}function U(i){return $(i,"indexEntries")}function Q(i){return $(i,"indexConfiguration")}function Te(i){return $(i,"indexState")}function $e(i){fn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;Oa(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Mi(e.readTime,e.documentKey,t)}
/**
         * @license
         * Copyright 2018 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const et={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class nn{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function dn(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),m=[],E=IDBKeyRange.only(t.batchId);let k=0;const j=o.Z({range:E},(Ae,tt,zt)=>(k++,zt.delete()));m.push(j.next(()=>{fn(1===k)}));const ne=[];for(const Ae of t.mutations){const tt=Ra(e,Ae.key.path,t.batchId);m.push(u.delete(tt)),ne.push(Ae.key)}return $t.waitFor(m).next(()=>ne)}function mn(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Yt();e=i.noDocument}return JSON.stringify(e).length}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(41943040,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);class Sr{constructor(e,t,o,u){this.userId=e,this.serializer=t,this.indexManager=o,this.referenceDelegate=u,this.pn={}}static ie(e,t,o,u){fn(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Sr(m,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gi(e).Z({index:"userMutationsIndex",range:o},(u,m,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const m=hs(e),E=Gi(e);return E.add({}).next(k=>{fn("number"==typeof k);const j=new Al(k,t,o,u),ne=function(zt,gn,Kn){const Dr=Kn.baseMutations.map(Ko=>ju(zt.se,Ko)),ti=Kn.mutations.map(Ko=>ju(zt.se,Ko));return{userId:gn,batchId:Kn.batchId,localWriteTimeMs:Kn.localWriteTime.toMillis(),baseMutations:Dr,mutations:ti}}(this.serializer,this.userId,j),Ae=[];let tt=new oi((zt,gn)=>Yn(zt.canonicalString(),gn.canonicalString()));for(const zt of u){const gn=Ra(this.userId,zt.key.path,k);tt=tt.add(zt.key.path.popLast()),Ae.push(E.put(ne)),Ae.push(m.put(gn,tl))}return tt.forEach(zt=>{Ae.push(this.indexManager.addToCollectionParentIndex(e,zt))}),e.addOnCommittedListener(()=>{this.pn[k]=j.keys()}),$t.waitFor(Ae).next(()=>j)})}lookupMutationBatch(e,t){return Gi(e).get(t).next(o=>o?(fn(o.userId===this.userId),Pl(this.serializer,o)):null)}In(e,t){return this.pn[t]?$t.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.pn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return Gi(e).Z({index:"userMutationsIndex",range:u},(E,k,j)=>{k.userId===this.userId&&(fn(k.batchId>=o),m=Pl(this.serializer,k)),j.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Gi(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,m,E)=>{o=m.batchId,E.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gi(e).j("userMutationsIndex",t).next(o=>o.map(u=>Pl(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=la(this.userId,t.path),u=IDBKeyRange.lowerBound(o),m=[];return hs(e).Z({range:u},(E,k,j)=>{const[ne,Ae,tt]=E,zt=$s(Ae);if(ne===this.userId&&t.path.isEqual(zt))return Gi(e).get(tt).next(gn=>{if(!gn)throw Yt();fn(gn.userId===this.userId),m.push(Pl(this.serializer,gn))});j.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new oi(Yn);const u=[];return t.forEach(m=>{const E=la(this.userId,m.path),k=IDBKeyRange.lowerBound(E),j=hs(e).Z({range:k},(ne,Ae,tt)=>{const[zt,gn,Kn]=ne,Dr=$s(gn);zt===this.userId&&m.path.isEqual(Dr)?o=o.add(Kn):tt.done()});u.push(j)}),$t.waitFor(u).next(()=>this.Tn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,m=la(this.userId,o),E=IDBKeyRange.lowerBound(m);let k=new oi(Yn);return hs(e).Z({range:E},(j,ne,Ae)=>{const[tt,zt,gn]=j,Kn=$s(zt);tt===this.userId&&o.isPrefixOf(Kn)?Kn.length===u&&(k=k.add(gn)):Ae.done()}).next(()=>this.Tn(e,k))}Tn(e,t){const o=[],u=[];return t.forEach(m=>{u.push(Gi(e).get(m).next(E=>{if(null===E)throw Yt();fn(E.userId===this.userId),o.push(Pl(this.serializer,E))}))}),$t.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return dn(e.at,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),$t.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return $t.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return hs(e).Z({range:o},(m,E,k)=>{if(m[0]===this.userId){const j=$s(m[1]);u.push(j)}else k.done()}).next(()=>{fn(0===u.length)})})}containsKey(e,t){return Xr(e,this.userId,t)}An(e){return $a(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Xr(i,e,t){const o=la(e,t.path),u=o[1],m=IDBKeyRange.lowerBound(o);let E=!1;return hs(i).Z({range:m,Y:!0},(k,j,ne)=>{const[Ae,tt,zt]=k;Ae===e&&tt===u&&(E=!0),ne.done()}).next(()=>E)}function Gi(i){return $(i,"mutations")}function hs(i){return $(i,"documentMutations")}function $a(i){return $(i,"mutationQueues")}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Ua{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Ua(0)}static bn(){return new Ua(-1)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class bh{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const o=new Ua(t.highestTargetId);return t.highestTargetId=o.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>an.fromTimestamp(new hi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.Pn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Vn(e,u)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(o=>(o.targetCount+=1,this.Dn(t,o),this.Vn(e,o))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>fl(e).delete(t.targetId)).next(()=>this.Pn(e)).next(o=>(fn(o.targetCount>0),o.targetCount-=1,this.Vn(e,o)))}removeTargets(e,t,o){let u=0;const m=[];return fl(e).Z((E,k)=>{const j=_u(k);j.sequenceNumber<=t&&null===o.get(j.targetId)&&(u++,m.push(this.removeTargetData(e,j)))}).next(()=>$t.waitFor(m)).next(()=>u)}forEachTarget(e,t){return fl(e).Z((o,u)=>{const m=_u(u);t(m)})}Pn(e){return Tp(e).get("targetGlobalKey").next(t=>(fn(null!==t),t))}Vn(e,t){return Tp(e).put("targetGlobalKey",t)}Sn(e,t){return fl(e).put(Cp(this.serializer,t))}Dn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Mc(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return fl(e).Z({range:u,index:"queryTargetsIndex"},(E,k,j)=>{const ne=_u(k);Ps(t,ne.target)&&(m=ne,j.done())}).next(()=>m)}addMatchingKeys(e,t,o){const u=[],m=Bl(e);return t.forEach(E=>{const k=ss(E.path);u.push(m.put({targetId:o,path:k})),u.push(this.referenceDelegate.addReference(e,o,E))}),$t.waitFor(u)}removeMatchingKeys(e,t,o){const u=Bl(e);return $t.forEach(t,m=>{const E=ss(m.path);return $t.waitFor([u.delete([o,E]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,t){const o=Bl(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=Bl(e);let m=Ai();return u.Z({range:o,Y:!0},(E,k,j)=>{const ne=$s(E[1]),Ae=new An(ne);m=m.add(Ae)}).next(()=>m)}containsKey(e,t){const o=ss(t.path),u=IDBKeyRange.bound([o],[Ji(o)],!1,!0);let m=0;return Bl(e).Z({index:"documentTargetsIndex",Y:!0,range:u},([E,k],j,ne)=>{0!==E&&(m++,ne.done())}).next(()=>m>0)}ne(e,t){return fl(e).get(t).next(o=>o?_u(o):null)}}function fl(i){return $(i,"targets")}function Tp(i){return $(i,"targetGlobal")}function Bl(i){return $(i,"targetDocuments")}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function xf([i,e],[t,o]){const u=Yn(i,t);return 0===u?Yn(e,o):u}class xp{constructor(e){this.Cn=e,this.buffer=new oi(xf),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();xf(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class k_{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Jo(o)?ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ia(o)}yield t.$n(3e5)}))}}class Mp{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return $t.resolve(Is.ct);const o=new xp(t);return this.Mn.forEachTarget(e,u=>o.kn(u.sequenceNumber)).next(()=>this.Mn.Bn(e,u=>o.kn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Mn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(et)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),et):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let o,u,m,E,k,j,ne;const Ae=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(tt=>(tt>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${tt}`),u=this.params.maximumSequenceNumbersToCollect):u=tt,E=Date.now(),this.nthSequenceNumber(e,u))).next(tt=>(o=tt,k=Date.now(),this.removeTargets(e,o,t))).next(tt=>(m=tt,j=Date.now(),this.removeOrphanedDocuments(e,o))).next(tt=>(ne=Date.now(),ce()<=ue.in.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-Ae}ms\n\tDetermined least recently used ${u} in `+(k-E)+`ms\n\tRemoved ${m} targets in `+(j-k)+`ms\n\tRemoved ${tt} documents in `+(ne-j)+`ms\nTotal Duration: ${ne-Ae}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:m,documentsRemoved:tt})))}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Eh{constructor(e,t){this.db=e,this.garbageCollector=new Mp(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}qn(e){let t=0;return this.Bn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(o,u)=>t(u))}addReference(e,t,o){return Mf(e,o)}removeReference(e,t,o){return Mf(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Mf(e,t)}Kn(e,t){return function(o,u){let m=!1;return $a(o).X(E=>Xr(o,E,u).next(k=>(k&&(m=!0),$t.resolve(!k)))).next(()=>m)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let m=0;return this.Un(e,(E,k)=>{if(k<=t){const j=this.Kn(e,E).next(ne=>{if(!ne)return m++,o.getEntry(e,E).next(()=>(o.removeEntry(E,an.min()),Bl(e).delete([0,ss(E.path)])))});u.push(j)}}).next(()=>$t.waitFor(u)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Mf(e,t)}Un(e,t){const o=Bl(e);let u,m=Is.ct;return o.Z({index:"documentTargetsIndex"},([E,k],{path:j,sequenceNumber:ne})=>{0===E?(m!==Is.ct&&t(new An($s(u)),m),m=ne,u=j):m=Is.ct}).next(()=>{m!==Is.ct&&t(new An($s(u)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mf(i,e){return Bl(i).put((t=e,o=i.currentSequenceNumber,{targetId:0,path:ss(t.path),sequenceNumber:o}));var t,o}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class tg{constructor(){this.changes=new Vt(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ns.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?$t.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class N_{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Qu(e).put(o)}removeEntry(e,t,o){return Qu(e).delete(function(u,m){const E=u.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],Ca(m),E[E.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Gn(e,o)))}getEntry(e,t){let o=ns.newInvalidDocument(t);return Qu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(pl(t))},(u,m)=>{o=this.Qn(t,m)}).next(()=>o)}zn(e,t){let o={size:0,document:ns.newInvalidDocument(t)};return Qu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(pl(t))},(u,m)=>{o={document:this.Qn(t,m),size:mn(m)}}).next(()=>o)}getEntries(e,t){let o=Xn();return this.jn(e,t,(u,m)=>{const E=this.Qn(u,m);o=o.insert(u,E)}).next(()=>o)}Wn(e,t){let o=Xn(),u=new sn(An.comparator);return this.jn(e,t,(m,E)=>{const k=this.Qn(m,E);o=o.insert(m,k),u=u.insert(m,mn(E))}).next(()=>({documents:o,Hn:u}))}jn(e,t,o){if(t.isEmpty())return $t.resolve();let u=new oi(rg);t.forEach(j=>u=u.add(j));const m=IDBKeyRange.bound(pl(u.first()),pl(u.last())),E=u.getIterator();let k=E.getNext();return Qu(e).Z({index:"documentKeyIndex",range:m},(j,ne,Ae)=>{const tt=An.fromSegments([...ne.prefixPath,ne.collectionGroup,ne.documentId]);for(;k&&rg(k,tt)<0;)o(k,null),k=E.getNext();k&&k.isEqual(tt)&&(o(k,ne),k=E.hasNext()?E.getNext():null),k?Ae.G(pl(k)):Ae.done()}).next(()=>{for(;k;)o(k,null),k=E.hasNext()?E.getNext():null})}getDocumentsMatchingQuery(e,t,o,u){const m=t.path,E=[m.popLast().toArray(),m.lastSegment(),Ca(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],k=[m.popLast().toArray(),m.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qu(e).j(IDBKeyRange.bound(E,k,!0)).next(j=>{let ne=Xn();for(const Ae of j){const tt=this.Qn(An.fromSegments(Ae.prefixPath.concat(Ae.collectionGroup,Ae.documentId)),Ae);tt.isFoundDocument()&&(D(t,tt)||u.has(tt.key))&&(ne=ne.insert(tt.key,tt))}return ne})}getAllFromCollectionGroup(e,t,o,u){let m=Xn();const E=ml(t,o),k=ml(t,Mi.max());return Qu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,k,!0)},(j,ne,Ae)=>{const tt=this.Qn(An.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);m=m.insert(tt.key,tt),m.size===u&&Ae.done()}).next(()=>m)}newChangeBuffer(e){return new L_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Ap(e).get("remoteDocumentGlobalKey").next(t=>(fn(!!t),t))}Gn(e,t){return Ap(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const o=function Bc(i,e){let t;if(e.document)t=yf(i.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=An.fromSegments(e.noDocument.path),u=Ol(e.noDocument.readTime);t=ns.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Yt();{const o=An.fromSegments(e.unknownDocument.path),u=Ol(e.unknownDocument.version);t=ns.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new hi(o[0],o[1]);return an.fromTimestamp(u)}(e.readTime)),t}(this.serializer,t);if(!o.isNoDocument()||!o.version.isEqual(an.min()))return o}return ns.newInvalidDocument(e)}}function ng(i){return new N_(i)}class L_ extends tg{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new Vt(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new oi((m,E)=>Yn(m.canonicalString(),E.canonicalString()));return this.changes.forEach((m,E)=>{const k=this.Yn.get(m);if(t.push(this.Jn.removeEntry(e,m,k.readTime)),E.isValidDocument()){const j=Ys(this.Jn.serializer,E);u=u.add(m.path.popLast());const ne=mn(j);o+=ne-k.size,t.push(this.Jn.addEntry(e,m,j))}else if(o-=k.size,this.trackRemovals){const j=Ys(this.Jn.serializer,E.convertToNoDocument(an.min()));t.push(this.Jn.addEntry(e,m,j))}}),u.forEach(m=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,m))}),t.push(this.Jn.updateMetadata(e,o)),$t.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(o=>(this.Yn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:o,Hn:u})=>(u.forEach((m,E)=>{this.Yn.set(m,{size:E,readTime:o.get(m).readTime})}),o))}}function Ap(i){return $(i,"remoteDocumentGlobal")}function Qu(i){return $(i,"remoteDocumentsV14")}function pl(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ml(i,e){const t=e.documentKey.path.toArray();return[i,Ca(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function rg(i,e){const t=i.path.toArray(),o=e.path.toArray();let u=0;for(let m=0;m<t.length-2&&m<o.length-2;++m)if(u=Yn(t[m],o[m]),u)return u;return u=Yn(t.length,o.length),u||(u=Yn(t[t.length-2],o[o.length-2]),u||Yn(t[t.length-1],o[o.length-1]))
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}class F_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class B_{constructor(e,t,o,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(o=u,this.remoteDocumentCache.getEntry(e,t))).next(u=>(null!==o&&Ml(o.mutation,u,Lo.empty(),hi.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Ai()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Ai()){const u=gs();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,o).next(m=>{let E=wi();return m.forEach((k,j)=>{E=E.insert(k,j.overlayedDocument)}),E}))}getOverlayedDocuments(e,t){const o=gs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Ai()))}populateOverlays(e,t,o){const u=[];return o.forEach(m=>{t.has(m)||u.push(m)}),this.documentOverlayCache.getOverlays(e,u).next(m=>{m.forEach((E,k)=>{t.set(E,k)})})}computeViews(e,t,o,u){let m=Xn();const E=lc(),k=lc();return t.forEach((j,ne)=>{const Ae=o.get(ne.key);u.has(ne.key)&&(void 0===Ae||Ae.mutation instanceof Fa)?m=m.insert(ne.key,ne):void 0!==Ae?(E.set(ne.key,Ae.mutation.getFieldMask()),Ml(Ae.mutation,ne,Ae.mutation.getFieldMask(),hi.now())):E.set(ne.key,Lo.empty())}),this.recalculateAndSaveOverlays(e,m).next(j=>(j.forEach((ne,Ae)=>E.set(ne,Ae)),t.forEach((ne,Ae)=>{var tt;return k.set(ne,new F_(Ae,null!==(tt=E.get(ne))&&void 0!==tt?tt:null))}),k))}recalculateAndSaveOverlays(e,t){const o=lc();let u=new sn((E,k)=>E-k),m=Ai();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(E=>{for(const k of E)k.keys().forEach(j=>{const ne=t.get(j);if(null===ne)return;let Ae=o.get(j)||Lo.empty();Ae=k.applyToLocalView(ne,Ae),o.set(j,Ae);const tt=(u.get(k.batchId)||Ai()).add(j);u=u.insert(k.batchId,tt)})}).next(()=>{const E=[],k=u.getReverseIterator();for(;k.hasNext();){const j=k.getNext(),ne=j.key,Ae=j.value,tt=cc();Ae.forEach(zt=>{if(!m.has(zt)){const gn=ih(t.get(zt),o.get(zt));null!==gn&&tt.set(zt,gn),m=m.add(zt)}}),E.push(this.documentOverlayCache.saveOverlays(e,ne,tt))}return $t.waitFor(E)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return u=t,An.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):eu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var u}getNextDocuments(e,t,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,u).next(m=>{const E=u-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,u-m.size):$t.resolve(gs());let k=-1,j=m;return E.next(ne=>$t.forEach(ne,(Ae,tt)=>(k<tt.largestBatchId&&(k=tt.largestBatchId),m.get(Ae)?$t.resolve():this.remoteDocumentCache.getEntry(e,Ae).next(zt=>{j=j.insert(Ae,zt)}))).next(()=>this.populateOverlays(e,ne,m)).next(()=>this.computeViews(e,j,ne,Ai())).next(Ae=>({batchId:k,changes:rs(Ae)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new An(t)).next(o=>{let u=wi();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const u=t.collectionGroup;let m=wi();return this.indexManager.getCollectionParents(e,u).next(E=>$t.forEach(E,k=>{const j=(ne=t,Ae=k.child(u),new Bs(Ae,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,Ae;return this.getDocumentsMatchingCollectionQuery(e,j,o).next(ne=>{ne.forEach((Ae,tt)=>{m=m.insert(Ae,tt)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,t,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(m=>(u=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,u))).next(m=>{u.forEach((k,j)=>{const ne=j.getKey();null===m.get(ne)&&(m=m.insert(ne,ns.newInvalidDocument(ne)))});let E=wi();return m.forEach((k,j)=>{const ne=u.get(k);void 0!==ne&&Ml(ne.mutation,j,Lo.empty(),hi.now()),D(t,j)&&(E=E.insert(k,j))}),E})}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Cv{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return $t.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var o;return this.Zn.set(t.id,{id:(o=t).id,version:o.version,createTime:xs(o.createTime)}),$t.resolve()}getNamedQuery(e,t){return $t.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(o=t).name,query:Yc(o.bundledQuery),readTime:xs(o.readTime)}),$t.resolve();var o}}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class ig{constructor(){this.overlays=new sn(An.comparator),this.ts=new Map}getOverlay(e,t){return $t.resolve(this.overlays.get(t))}getOverlays(e,t){const o=gs();return $t.forEach(t,u=>this.getOverlay(e,u).next(m=>{null!==m&&o.set(u,m)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((u,m)=>{this.re(e,t,m)}),$t.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.ts.get(o);return void 0!==u&&(u.forEach(m=>this.overlays=this.overlays.remove(m)),this.ts.delete(o)),$t.resolve()}getOverlaysForCollection(e,t,o){const u=gs(),m=t.length+1,E=new An(t.child("")),k=this.overlays.getIteratorFrom(E);for(;k.hasNext();){const j=k.getNext().value,ne=j.getKey();if(!t.isPrefixOf(ne.path))break;ne.path.length===m&&j.largestBatchId>o&&u.set(j.getKey(),j)}return $t.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let m=new sn((ne,Ae)=>ne-Ae);const E=this.overlays.getIterator();for(;E.hasNext();){const ne=E.getNext().value;if(ne.getKey().getCollectionGroup()===t&&ne.largestBatchId>o){let Ae=m.get(ne.largestBatchId);null===Ae&&(Ae=gs(),m=m.insert(ne.largestBatchId,Ae)),Ae.set(ne.getKey(),ne)}}const k=gs(),j=m.getIterator();for(;j.hasNext()&&(j.getNext().value.forEach((ne,Ae)=>k.set(ne,Ae)),!(k.size()>=u)););return $t.resolve(k)}re(e,t,o){const u=this.overlays.get(o.key);if(null!==u){const E=this.ts.get(u.largestBatchId).delete(o.key);this.ts.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(o.key,new $c(t,o));let m=this.ts.get(t);void 0===m&&(m=Ai(),this.ts.set(t,m)),this.ts.set(t,m.add(o.key))}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class og{constructor(){this.es=new oi(pa.ns),this.ss=new oi(pa.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const o=new pa(e,t);this.es=this.es.add(o),this.ss=this.ss.add(o)}os(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.us(new pa(e,t))}cs(e,t){e.forEach(o=>this.removeReference(o,t))}hs(e){const t=new An(new Nn([])),o=new pa(t,e),u=new pa(t,e+1),m=[];return this.ss.forEachInRange([o,u],E=>{this.us(E),m.push(E.key)}),m}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new An(new Nn([])),o=new pa(t,e),u=new pa(t,e+1);let m=Ai();return this.ss.forEachInRange([o,u],E=>{m=m.add(E.key)}),m}containsKey(e){const t=new pa(e,0),o=this.es.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class pa{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return An.comparator(e.key,t.key)||Yn(e.ds,t.ds)}static rs(e,t){return Yn(e.ds,t.ds)||An.comparator(e.key,t.key)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class sg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new oi(pa.ns)}checkEmpty(e){return $t.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,u){const m=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const E=new Al(m,t,o,u);this.mutationQueue.push(E);for(const k of u)this._s=this._s.add(new pa(k.key,m)),this.indexManager.addToCollectionParentIndex(e,k.key.path.popLast());return $t.resolve(E)}lookupMutationBatch(e,t){return $t.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=this.ys(o),m=u<0?0:u;return $t.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return $t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new pa(t,0),u=new pa(t,Number.POSITIVE_INFINITY),m=[];return this._s.forEachInRange([o,u],E=>{const k=this.gs(E.ds);m.push(k)}),$t.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new oi(Yn);return t.forEach(u=>{const m=new pa(u,0),E=new pa(u,Number.POSITIVE_INFINITY);this._s.forEachInRange([m,E],k=>{o=o.add(k.ds)})}),$t.resolve(this.ps(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let m=o;An.isDocumentKey(m)||(m=m.child(""));const E=new pa(new An(m),0);let k=new oi(Yn);return this._s.forEachWhile(j=>{const ne=j.key.path;return!!o.isPrefixOf(ne)&&(ne.length===u&&(k=k.add(j.ds)),!0)},E),$t.resolve(this.ps(k))}ps(e){const t=[];return e.forEach(o=>{const u=this.gs(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){fn(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let o=this._s;return $t.forEach(t.mutations,u=>{const m=new pa(u.key,t.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this._s=o})}En(e){}containsKey(e,t){const o=new pa(t,0),u=this._s.firstAfterOrEqual(o);return $t.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,$t.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class U_{constructor(e){this.Ts=e,this.docs=new sn(An.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),m=u?u.size:0,E=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:E}),this.size+=E-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return $t.resolve(o?o.document.mutableCopy():ns.newInvalidDocument(t))}getEntries(e,t){let o=Xn();return t.forEach(u=>{const m=this.docs.get(u);o=o.insert(u,m?m.document.mutableCopy():ns.newInvalidDocument(u))}),$t.resolve(o)}getDocumentsMatchingQuery(e,t,o,u){let m=Xn();const E=t.path,k=new An(E.child("")),j=this.docs.getIteratorFrom(k);for(;j.hasNext();){const{key:ne,value:{document:Ae}}=j.getNext();if(!E.isPrefixOf(ne.path))break;ne.path.length>E.length+1||Oa(js(Ae),o)<=0||(u.has(Ae.key)||D(t,Ae))&&(m=m.insert(Ae.key,Ae.mutableCopy()))}return $t.resolve(m)}getAllFromCollectionGroup(e,t,o,u){Yt()}Es(e,t){return $t.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new ag(this)}getSize(e){return $t.resolve(this.size)}}class ag extends tg{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.Jn.addEntry(e,u)):this.Jn.removeEntry(o)}),$t.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class V_{constructor(e){this.persistence=e,this.As=new Vt(t=>Mc(t),Ps),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.Rs=0,this.vs=new og,this.targetCount=0,this.bs=Ua.vn()}forEachTarget(e,t){return this.As.forEach((o,u)=>t(u)),$t.resolve()}getLastRemoteSnapshotVersion(e){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $t.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Rs&&(this.Rs=t),$t.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Ua(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,$t.resolve()}updateTargetData(e,t){return this.Sn(t),$t.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,$t.resolve()}removeTargets(e,t,o){let u=0;const m=[];return this.As.forEach((E,k)=>{k.sequenceNumber<=t&&null===o.get(k.targetId)&&(this.As.delete(E),m.push(this.removeMatchingKeysForTargetId(e,k.targetId)),u++)}),$t.waitFor(m).next(()=>u)}getTargetCount(e){return $t.resolve(this.targetCount)}getTargetData(e,t){const o=this.As.get(t)||null;return $t.resolve(o)}addMatchingKeys(e,t,o){return this.vs.os(t,o),$t.resolve()}removeMatchingKeys(e,t,o){this.vs.cs(t,o);const u=this.persistence.referenceDelegate,m=[];return u&&t.forEach(E=>{m.push(u.markPotentiallyOrphaned(e,E))}),$t.waitFor(m)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),$t.resolve()}getMatchingKeysForTargetId(e,t){const o=this.vs.fs(t);return $t.resolve(o)}containsKey(e,t){return $t.resolve(this.vs.containsKey(t))}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class cg{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Is(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new V_(this),this.indexManager=new f,this.remoteDocumentCache=new U_(o=>this.referenceDelegate.Cs(o)),this.serializer=new Cf(t),this.xs=new Cv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ig,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Ps[e.toKey()];return o||(o=new sg(t,this.referenceDelegate),this.Ps[e.toKey()]=o),o}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,o){ve("MemoryPersistence","Starting transaction:",e);const u=new Qc(this.Vs.next());return this.referenceDelegate.Ns(),o(u).next(m=>this.referenceDelegate.ks(u).next(()=>m)).toPromise().then(m=>(u.raiseOnCommittedEvent(),m))}Os(e,t){return $t.or(Object.values(this.Ps).map(o=>()=>o.containsKey(e,t)))}}class Qc extends Xs{constructor(e){super(),this.currentSequenceNumber=e}}class Af{constructor(e){this.persistence=e,this.$s=new og,this.Ms=null}static Fs(e){return new Af(e)}get Bs(){if(this.Ms)return this.Ms;throw Yt()}addReference(e,t,o){return this.$s.addReference(o,t),this.Bs.delete(o.toString()),$t.resolve()}removeReference(e,t,o){return this.$s.removeReference(o,t),this.Bs.add(o.toString()),$t.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),$t.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(u=>this.Bs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(m=>this.Bs.add(m.toString()))}).next(()=>o.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.Bs,o=>{const u=An.fromPath(o);return this.Ls(e,u).next(m=>{m||t.removeEntry(u,an.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(o=>{o?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return $t.or([()=>$t.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class lg{constructor(e){this.serializer=e}M(e,t,o,u){const m=new Js("createOrUpgrade",t);o<1&&u>=1&&(e.createObjectStore("owner"),function(k){k.createObjectStore("mutationQueues",{keyPath:"userId"}),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zc,{unique:!0}),k.createObjectStore("documentMutations")}(e),ug(e),function(k){k.createObjectStore("remoteDocuments")}(e));let E=$t.resolve();return o<3&&u>=3&&(0!==o&&(function(k){k.deleteObjectStore("targetDocuments"),k.deleteObjectStore("targets"),k.deleteObjectStore("targetGlobal")}(e),ug(e)),E=E.next(()=>function(k){const j=k.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:an.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",ne)}(m))),o<4&&u>=4&&(0!==o&&(E=E.next(()=>function(k,j){return j.store("mutations").j().next(ne=>{k.deleteObjectStore("mutations"),k.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zc,{unique:!0});const Ae=j.store("mutations"),tt=ne.map(zt=>Ae.put(zt));return $t.waitFor(tt)})}(e,m))),E=E.next(()=>{!function(k){k.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(E=E.next(()=>this.qs(m))),o<6&&u>=6&&(E=E.next(()=>(function(k){k.createObjectStore("remoteDocumentGlobal")}(e),this.Us(m)))),o<7&&u>=7&&(E=E.next(()=>this.Ks(m))),o<8&&u>=8&&(E=E.next(()=>this.Gs(e,m))),o<9&&u>=9&&(E=E.next(()=>{!function(k){k.objectStoreNames.contains("remoteDocumentChanges")&&k.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(E=E.next(()=>this.Qs(m))),o<11&&u>=11&&(E=E.next(()=>{(function(k){k.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(k){k.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(E=E.next(()=>{!function(k){const j=k.createObjectStore("documentOverlays",{keyPath:es});j.createIndex("collectionPathOverlayIndex",va,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",ds,{unique:!1})}(e)})),o<13&&u>=13&&(E=E.next(()=>function(k){const j=k.createObjectStore("remoteDocumentsV14",{keyPath:No});j.createIndex("documentKeyIndex",nl),j.createIndex("collectionGroupIndex",ka)}(e)).next(()=>this.zs(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(E=E.next(()=>this.js(e,m))),o<15&&u>=15&&(E=E.next(()=>function(k){k.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),k.createObjectStore("indexState",{keyPath:ua}).createIndex("sequenceNumberIndex",ea,{unique:!1}),k.createObjectStore("indexEntries",{keyPath:vc}).createIndex("documentKeyIndex",rl,{unique:!1})}(e))),E}Us(e){let t=0;return e.store("remoteDocuments").Z((o,u)=>{t+=mn(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.j().next(u=>$t.forEach(u,m=>{const E=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.j("userMutationsIndex",E).next(k=>$t.forEach(k,j=>{fn(j.userId===m.userId);const ne=Pl(this.serializer,j);return dn(e,m.userId,ne).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const m=[];return o.Z((E,k)=>{const j=new Nn(E),ne=[0,ss(j)];m.push(t.get(ne).next(Ae=>{return Ae?$t.resolve():(tt=j,t.put({targetId:0,path:ss(tt),sequenceNumber:u.highestListenSequenceNumber}));var tt}))}).next(()=>$t.waitFor(m))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:Yl});const o=t.store("collectionParents"),u=new a,m=E=>{if(u.add(E)){const k=E.lastSegment(),j=E.popLast();return o.put({collectionId:k,parent:ss(j)})}};return t.store("remoteDocuments").Z({Y:!0},(E,k)=>{const j=new Nn(E);return m(j.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([E,k,j],ne)=>{const Ae=$s(k);return m(Ae.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((o,u)=>{const m=_u(u),E=Cp(this.serializer,m);return t.put(E)})}zs(e,t){const o=t.store("remoteDocuments"),u=[];return o.Z((m,E)=>{const k=t.store("remoteDocumentsV14"),j=(ne=E,ne.document?new An(Nn.fromString(ne.document.name).popFirst(5)):ne.noDocument?An.fromSegments(ne.noDocument.path):ne.unknownDocument?An.fromSegments(ne.unknownDocument.path):Yt()).path.toArray();var ne;
/**
              * @license
              * Copyright 2017 Google LLC
              *
              * Licensed under the Apache License, Version 2.0 (the "License");
              * you may not use this file except in compliance with the License.
              * You may obtain a copy of the License at
              *
              *   http://www.apache.org/licenses/LICENSE-2.0
              *
              * Unless required by applicable law or agreed to in writing, software
              * distributed under the License is distributed on an "AS IS" BASIS,
              * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
              * See the License for the specific language governing permissions and
              * limitations under the License.
              */const Ae={prefixPath:j.slice(0,j.length-2),collectionGroup:j[j.length-2],documentId:j[j.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};u.push(k.put(Ae))}).next(()=>$t.waitFor(u))}js(e,t){const o=t.store("mutations"),u=ng(this.serializer),m=new cg(Af.Fs,this.serializer.se);return o.j().next(E=>{const k=new Map;return E.forEach(j=>{var ne;let Ae=null!==(ne=k.get(j.userId))&&void 0!==ne?ne:Ai();Pl(this.serializer,j).keys().forEach(tt=>Ae=Ae.add(tt)),k.set(j.userId,Ae)}),$t.forEach(k,(j,ne)=>{const Ae=new C(ne),tt=Yu.ie(this.serializer,Ae),zt=m.getIndexManager(Ae),gn=Sr.ie(Ae,this.serializer,zt,m.referenceDelegate);return new B_(u,gn,tt,zt).recalculateAndSaveOverlaysForDocumentKeys(new W(t,Is.ct),j).next()})})}}function ug(i){i.createObjectStore("targetDocuments",{keyPath:Wc}).createIndex("documentTargetsIndex",Hc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Na,{unique:!0}),i.createObjectStore("targetGlobal")}const Sp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Op{constructor(e,t,o,u,m,E,k,j,ne,Ae,tt=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Ws=m,this.window=E,this.document=k,this.Hs=ne,this.Js=Ae,this.Ys=tt,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=zt=>Promise.resolve(),!Op.D())throw new O(vt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Eh(this,u),this.si=t+"main",this.serializer=new Cf(j),this.ii=new ps(this.si,this.Ys,new lg(this.serializer)),this.Ds=new bh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ng(this.serializer),this.xs=new wf,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===Ae&&Je("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new O(vt.FAILED_PRECONDITION,Sp);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Is(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var o=(0,l.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,l.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,l.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ch(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Jo(e))return ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return Dh(e).get("owner").next(t=>$t.resolve(this._i(t)))}mi(e){return Ch(e).delete(this.clientId)}gi(){var e=this;return(0,l.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=$(o,"clientMetadata");return u.j().next(m=>{const E=e.pi(m,18e5),k=m.filter(j=>-1===E.indexOf(j));return $t.forEach(k,j=>u.delete(j.clientId)).next(()=>k)})}).catch(()=>[]);if(e.ri)for(const o of t)e.ri.removeItem(e.Ii(o.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?$t.resolve(!0):Dh(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new O(vt.FAILED_PRECONDITION,Sp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ch(e).j().next(o=>void 0===this.pi(o,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.networkEnabled&&u.networkEnabled,E=!this.inForeground&&u.inForeground,k=this.networkEnabled===u.networkEnabled;if(m||E&&k)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,l.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new W(t,Is.ct);return e.di(o).next(()=>e.mi(o))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(o=>this.yi(o.updateTimeMs,t)&&!this.Ti(o.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>Ch(e).j().next(t=>this.pi(t,18e5).map(o=>o.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return Sr.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new v(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return Yu.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,o){ve("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",m=15===(E=this.Ys)?M:14===E?b:13===E?P:12===E?ta:11===E?Ja:void Yt();var E;let k;return this.ii.runTransaction(e,u,m,j=>(k=new W(j,this.Vs?this.Vs.next():Is.ct),"readwrite-primary"===t?this.li(k).next(ne=>!!ne||this.fi(k)).next(ne=>{if(!ne)throw Je(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new O(vt.FAILED_PRECONDITION,ws);return o(k)}).next(ne=>this.wi(k).next(()=>ne)):this.Pi(k).next(()=>o(k)))).then(j=>(k.raiseOnCommittedEvent(),j))}Pi(e){return Dh(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new O(vt.FAILED_PRECONDITION,Sp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dh(e).put("owner",t)}static D(){return ps.D()}di(e){const t=Dh(e);return t.get("owner").next(o=>this._i(o)?(ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):$t.resolve())}yi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Je(`Detected an update time that is in the future: ${e} > ${o}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,Me.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const o=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return ve("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Je("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){Je("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dh(i){return $(i,"owner")}function Ch(i){return $(i,"clientMetadata")}function Pp(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}class Rp{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.Vi=o,this.Si=u}static Di(e,t){let o=Ai(),u=Ai();for(const m of t.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:u=u.add(m.doc.key)}return new Rp(e,t.fromCache,o,u)}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class dg{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,o,u){return this.Ni(e,t).next(m=>m||this.ki(e,t,u,o)).next(m=>m||this.Oi(e,t))}Ni(e,t){if(Nu(t))return $t.resolve(null);let o=ia(t);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=nu(t,null,"F"),o=ia(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const E=Ai(...m);return this.xi.getDocuments(e,E).next(k=>this.indexManager.getMinOffset(e,o).next(j=>{const ne=this.$i(t,k);return this.Mi(t,ne,E,j.readTime)?this.Ni(e,nu(t,null,"F")):this.Fi(e,ne,t,j)}))})))}ki(e,t,o,u){return Nu(t)||u.isEqual(an.min())?this.Oi(e,t):this.xi.getDocuments(e,o).next(m=>{const E=this.$i(t,m);return this.Mi(t,E,o,u)?this.Oi(e,t):(ce()<=ue.in.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),p(t)),this.Fi(e,E,t,us(u,-1)))})}$i(e,t){let o=new oi(ye(e));return t.forEach((u,m)=>{D(e,m)&&(o=o.add(m))}),o}Mi(e,t,o,u){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const m="F"===e.limitType?t.last():t.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(u)>0)}Oi(e,t){return ce()<=ue.in.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",p(t)),this.xi.getDocumentsMatchingQuery(e,t,Mi.min())}Fi(e,t,o,u){return this.xi.getDocumentsMatchingQuery(e,o,u).next(m=>(t.forEach(E=>{m=m.insert(E.key,E)}),m))}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Yi{constructor(e,t,o,u){this.persistence=e,this.Bi=t,this.serializer=u,this.Li=new sn(Yn),this.qi=new Vt(m=>Mc(m),Ps),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(o)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B_(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function kp(i,e,t,o){return new Yi(i,e,t,o)}function Np(i,e){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,l.Z)(function*(i,e){const t=un(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.mutationQueue.getAllMutationBatches(o).next(m=>(u=m,t.Gi(e),t.mutationQueue.getAllMutationBatches(o))).next(m=>{const E=[],k=[];let j=Ai();for(const ne of u){E.push(ne.batchId);for(const Ae of ne.mutations)j=j.add(Ae.key)}for(const ne of m){k.push(ne.batchId);for(const Ae of ne.mutations)j=j.add(Ae.key)}return t.localDocuments.getDocuments(o,j).next(ne=>({Qi:ne,removedBatchIds:E,addedBatchIds:k}))})})}),Sf.apply(this,arguments)}function hg(i){const e=un(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function pg(i,e,t){let o=Ai(),u=Ai();return t.forEach(m=>o=o.add(m)),e.getEntries(i,o).next(m=>{let E=Xn();return t.forEach((k,j)=>{const ne=m.get(k);j.isFoundDocument()!==ne.isFoundDocument()&&(u=u.add(k)),j.isNoDocument()&&j.version.isEqual(an.min())?(e.removeEntry(k,j.readTime),E=E.insert(k,j)):!ne.isValidDocument()||j.version.compareTo(ne.version)>0||0===j.version.compareTo(ne.version)&&ne.hasPendingWrites?(e.addEntry(j),E=E.insert(k,j)):ve("LocalStore","Ignoring outdated watch update for ",k,". Current version:",ne.version," Watch version:",j.version)}),{zi:E,ji:u}})}function mg(i,e){const t=un(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Cd(i,e){const t=un(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.Ds.getTargetData(o,e).next(m=>m?(u=m,$t.resolve(u)):t.Ds.allocateTargetId(o).next(E=>(u=new dl(e,E,0,o.currentSequenceNumber),t.Ds.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.Li.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Li=t.Li.insert(o.targetId,o),t.qi.set(e,o.targetId)),o})}function wd(i,e,t){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,l.Z)(function*(i,e,t){const o=un(i),u=o.Li.get(e),m=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",m,E=>o.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!Jo(E))throw E;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}o.Li=o.Li.remove(e),o.qi.delete(u.target)}),Lp.apply(this,arguments)}function wh(i,e,t){const o=un(i);let u=an.min(),m=Ai();return o.persistence.runTransaction("Execute query","readonly",E=>function(k,j,ne){const Ae=un(k),tt=Ae.qi.get(ne);return void 0!==tt?$t.resolve(Ae.Li.get(tt)):Ae.Ds.getTargetData(j,ne)}(o,E,ia(e)).next(k=>{if(k)return u=k.lastLimboFreeSnapshotVersion,o.Ds.getMatchingKeysForTargetId(E,k.targetId).next(j=>{m=j})}).next(()=>o.Bi.getDocumentsMatchingQuery(E,e,t?u:an.min(),t?m:Ai())).next(k=>(gg(o,L(e),k),{documents:k,Wi:m})))}function Fp(i,e){const t=un(i),o=un(t.Ds),u=t.Li.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",m=>o.ne(m,e).next(E=>E?E.target:null))}function nc(i,e){const t=un(i),o=t.Ui.get(e)||an.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Ki.getAllFromCollectionGroup(u,e,us(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(gg(t,e,u),u))}function gg(i,e,t){let o=i.Ui.get(e)||an.min();t.forEach((u,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),i.Ui.set(e,o)}function Ih(){return Ih=(0,l.Z)(function*(i,e,t,o){const u=un(i);let m=Ai(),E=Xn();for(const ne of t){const Ae=e.Hi(ne.metadata.name);ne.document&&(m=m.add(Ae));const tt=e.Ji(ne);tt.setReadTime(e.Yi(ne.metadata.readTime)),E=E.insert(Ae,tt)}const k=u.Ki.newChangeBuffer({trackRemovals:!0}),j=yield Cd(u,(ne=o,ia(sc(Nn.fromString(`__bundle__/docs/${ne}`)))));var ne;return u.persistence.runTransaction("Apply bundle documents","readwrite",ne=>pg(ne,k,E).next(Ae=>(k.apply(ne),Ae)).next(Ae=>u.Ds.removeMatchingKeysForTargetId(ne,j.targetId).next(()=>u.Ds.addMatchingKeys(ne,m,j.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(ne,Ae.zi,Ae.ji)).next(()=>Ae.zi)))}),Ih.apply(this,arguments)}function W_(i,e){return Up.apply(this,arguments)}function Up(){return Up=(0,l.Z)(function*(i,e,t=Ai()){const o=yield Cd(i,ia(Yc(e.bundledQuery))),u=un(i);return u.persistence.runTransaction("Save named query","readwrite",m=>{const E=xs(e.readTime);if(o.snapshotVersion.compareTo(E)>=0)return u.xs.saveNamedQuery(m,e);const k=o.withResumeToken(ts.EMPTY_BYTE_STRING,E);return u.Li=u.Li.insert(k.targetId,k),u.Ds.updateTargetData(m,k).next(()=>u.Ds.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>u.Ds.addMatchingKeys(m,t,o.targetId)).next(()=>u.xs.saveNamedQuery(m,e))})}),Up.apply(this,arguments)}function _g(i,e){return`firestore_clients_${i}_${e}`}function yg(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Vp(i,e){return`firestore_targets_${i}_${e}`}class Th{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Zi(e,t,o){const u=JSON.parse(o);let m,E="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return E&&u.error&&(E="string"==typeof u.error.message&&"string"==typeof u.error.code,E&&(m=new O(u.error.code,u.error.message))),E?new Th(e,t,u.state,m):(Je("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xh{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Zi(e,t){const o=JSON.parse(t);let u,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(u=new O(o.error.code,o.error.message))),m?new xh(e,o.state,u):(Je("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Of{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,m=uc();for(let E=0;u&&E<o.activeTargetIds.length;++E)u=Wa(o.activeTargetIds[E]),m=m.add(o.activeTargetIds[E]);return u?new Of(e,m):(Je("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gl{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gl(t.clientId,t.onlineState):(Je("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zp{constructor(){this.activeTargetIds=uc()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Pf{constructor(e,t,o,u,m){this.window=e,this.Ws=t,this.persistenceKey=o,this.nr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new sn(Yn),this.started=!1,this.ur=[];const E=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.cr=_g(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new zp),this.hr=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.wr=function(k){return`firestore_online_state_${k}`}(this.persistenceKey),this._r=function(k){return`firestore_bundle_loaded_v2_${k}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.Z)(function*(){const t=yield e.syncEngine.bi();for(const u of t){if(u===e.nr)continue;const m=e.getItem(_g(e.persistenceKey,u));if(m){const E=Of.Zi(u,m);E&&(e.rr=e.rr.insert(E.clientId,E))}}e.mr();const o=e.storage.getItem(e.wr);if(o){const u=e.gr(o);u&&e.yr(u)}for(const u of e.ur)e.ir(u);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,o){this.Ir(e,t,o),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Vp(this.persistenceKey,e));if(o){const u=xh.Zi(e,o);u&&(t=u.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Vp(this.persistenceKey,e))}updateQueryState(e,t,o){this.Ar(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.Tr(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ve("SharedClientState","READ",e,t),t}setItem(e,t){ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const o=e;if(o.storageArea===this.storage){if(ve("SharedClientState","EVENT",o.key,o.newValue),o.key===this.cr)return void Je("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,l.Z)(function*(){if(t.started){if(null!==o.key)if(t.hr.test(o.key)){if(null==o.newValue){const u=t.br(o.key);return t.Pr(u,null)}{const u=t.Vr(o.key,o.newValue);if(u)return t.Pr(u.clientId,u)}}else if(t.lr.test(o.key)){if(null!==o.newValue){const u=t.Sr(o.key,o.newValue);if(u)return t.Dr(u)}}else if(t.dr.test(o.key)){if(null!==o.newValue){const u=t.Cr(o.key,o.newValue);if(u)return t.Nr(u)}}else if(o.key===t.wr){if(null!==o.newValue){const u=t.gr(o.newValue);if(u)return t.yr(u)}}else if(o.key===t.ar){const u=function(m){let E=Is.ct;if(null!=m)try{const k=JSON.parse(m);fn("number"==typeof k),E=k}catch(k){Je("SharedClientState","Failed to read sequence number from WebStorage",k)}return E}(o.newValue);u!==Is.ct&&t.sequenceNumberHandler(u)}else if(o.key===t._r){const u=t.kr(o.newValue);yield Promise.all(u.map(m=>t.syncEngine.Or(m)))}}else t.ur.push(o)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,o){const u=new Th(this.currentUser,e,t,o),m=yg(this.persistenceKey,this.currentUser,e);this.setItem(m,u.Xi())}Tr(e){const t=yg(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){const t={clientId:this.nr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}Ar(e,t,o){const u=Vp(this.persistenceKey,e),m=new xh(e,t,o);this.setItem(u,m.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const o=this.br(e);return Of.Zi(o,t)}Sr(e,t){const o=this.lr.exec(e),u=Number(o[1]),m=void 0!==o[2]?o[2]:null;return Th.Zi(new C(m),u,t)}Cr(e,t){const o=this.dr.exec(e),u=Number(o[1]);return xh.Zi(u,t)}gr(e){return gl.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,l.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const o=t?this.rr.insert(e,t):this.rr.remove(e),u=this.pr(this.rr),m=this.pr(o),E=[],k=[];return m.forEach(j=>{u.has(j)||E.push(j)}),u.forEach(j=>{m.has(j)||k.push(j)}),this.syncEngine.Fr(E,k).then(()=>{this.rr=o})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=uc();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class Mh{constructor(){this.Br=new zp,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,o){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new zp,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class H_{qr(e){}shutdown(){}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Wp{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
         * @license
         * Copyright 2023 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */let Rf=null;function Hp(){return null===Rf?Rf=268435456+Math.round(2147483648*Math.random()):Rf++,"0x"+Rf.toString(16)
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}const K_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class j_{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Va="WebChannelConnection";class vg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.ro=t+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,o,u,m){const E=Hp(),k=this.ao(e,t);ve("RestConnection",`Sending RPC '${e}' ${E}:`,k,o);const j={};return this.ho(j,u,m),this.lo(e,k,j,o).then(ne=>(ve("RestConnection",`Received RPC '${e}' ${E}: `,ne),ne),ne=>{throw Pt("RestConnection",`RPC '${e}' ${E} failed with error: `,ne,"url: ",k,"request:",o),ne})}fo(e,t,o,u,m,E){return this.co(e,t,o,u,m)}ho(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+A,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,m)=>e[m]=u),o&&o.headers.forEach((u,m)=>e[m]=u)}ao(e,t){const o=K_[e];return`${this.ro}/v1/${t}:${o}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,o,u){const m=Hp();return new Promise((E,k)=>{const j=new As;j.setWithCredentials(!0),j.listenOnce(qs.COMPLETE,()=>{try{switch(j.getLastErrorCode()){case Vs.NO_ERROR:const Ae=j.getResponseJson();ve(Va,`XHR for RPC '${e}' ${m} received:`,JSON.stringify(Ae)),E(Ae);break;case Vs.TIMEOUT:ve(Va,`RPC '${e}' ${m} timed out`),k(new O(vt.DEADLINE_EXCEEDED,"Request time out"));break;case Vs.HTTP_ERROR:const tt=j.getStatus();if(ve(Va,`RPC '${e}' ${m} failed with status:`,tt,"response text:",j.getResponseText()),tt>0){let zt=j.getResponseJson();Array.isArray(zt)&&(zt=zt[0]);const gn=zt?.error;if(gn&&gn.status&&gn.message){const Kn=function(Dr){const ti=Dr.toLowerCase().replace(/_/g,"-");return Object.values(vt).indexOf(ti)>=0?ti:vt.UNKNOWN}(gn.status);k(new O(Kn,gn.message))}else k(new O(vt.UNKNOWN,"Server responded with status "+j.getStatus()))}else k(new O(vt.UNAVAILABLE,"Connection failed."));break;default:Yt()}}finally{ve(Va,`RPC '${e}' ${m} completed.`)}});const ne=JSON.stringify(u);ve(Va,`RPC '${e}' ${m} sending request:`,u),j.send(t,"POST",ne,o,15)})}wo(e,t,o){const u=Hp(),m=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],E=Yo(),k=Zo(),j={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(j.xmlHttpFactory=new Za({})),this.ho(j.initMessageHeaders,t,o),j.encodeInitMessageHeaders=!0;const ne=m.join("");ve(Va,`Creating RPC '${e}' stream ${u}: ${ne}`,j);const Ae=E.createWebChannel(ne,j);let tt=!1,zt=!1;const gn=new j_({Wr:Dr=>{zt?ve(Va,`Not sending because RPC '${e}' stream ${u} is closed:`,Dr):(tt||(ve(Va,`Opening RPC '${e}' stream ${u} transport.`),Ae.open(),tt=!0),ve(Va,`RPC '${e}' stream ${u} sending:`,Dr),Ae.send(Dr))},Hr:()=>Ae.close()}),Kn=(Dr,ti,Ko)=>{Dr.listen(ti,ks=>{try{Ko(ks)}catch(Ro){setTimeout(()=>{throw Ro},0)}})};return Kn(Ae,_a.EventType.OPEN,()=>{zt||ve(Va,`RPC '${e}' stream ${u} transport opened.`)}),Kn(Ae,_a.EventType.CLOSE,()=>{zt||(zt=!0,ve(Va,`RPC '${e}' stream ${u} transport closed`),gn.so())}),Kn(Ae,_a.EventType.ERROR,Dr=>{zt||(zt=!0,Pt(Va,`RPC '${e}' stream ${u} transport errored:`,Dr),gn.so(new O(vt.UNAVAILABLE,"The operation could not be completed")))}),Kn(Ae,_a.EventType.MESSAGE,Dr=>{var ti;if(!zt){const Ko=Dr.data[0];fn(!!Ko);const ks=Ko,Ro=ks.error||(null===(ti=ks[0])||void 0===ti?void 0:ti.error);if(Ro){ve(Va,`RPC '${e}' stream ${u} received error:`,Ro);const rc=Ro.status;let sa=function(ic){const Mu=Rs[ic];if(void 0!==Mu)return zu(Mu)}(rc),Ns=Ro.message;void 0===sa&&(sa=vt.INTERNAL,Ns="Unknown error status: "+rc+" with message "+Ro.message),zt=!0,gn.so(new O(sa,Ns)),Ae.close()}else ve(Va,`RPC '${e}' stream ${u} received:`,Ko),gn.io(Ko)}}),Kn(k,os.STAT_EVENT,Dr=>{Dr.stat===ga.PROXY?ve(Va,`RPC '${e}' stream ${u} detected buffering proxy`):Dr.stat===ga.NOPROXY&&ve(Va,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{gn.no()},0),gn}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function bg(){return typeof window<"u"?window:null}function Ah(){return typeof document<"u"?document:null}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Id(i){return new vp(i,!0)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Sh{constructor(e,t,o=1e3,u=1.5,m=6e4){this.Ws=e,this.timerId=t,this._o=o,this.mo=u,this.yo=m,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,t-o);u>0&&ve("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Td{constructor(e,t,o,u,m,E,k,j){this.Ws=e,this.bo=o,this.Po=u,this.connection=m,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=k,this.listener=j,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new Sh(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,l.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,l.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var o=this;return(0,l.Z)(function*(){o.Bo(),o.Lo(),o.Co.cancel(),o.Vo++,4!==e?o.Co.reset():t&&t.code===vt.RESOURCE_EXHAUSTED?(Je(t.toString()),Je("Using maximum backoff delay to prevent overloading the backend."),o.Co.Eo()):t&&t.code===vt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Vo===t&&this.Ko(o,u)},o=>{e(()=>{const u=new O(vt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Go(u)})})}Ko(e,t){const o=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{o(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(u=>{o(()=>this.Go(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}ko(){var e=this;this.state=5,this.Co.Ao((0,l.Z)(function*(){e.state=0,e.start()}))}Go(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oh extends Td{constructor(e,t,o,u,m,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,E),this.serializer=m}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function bp(i,e){let t;if("targetChange"in e){e.targetChange;const o="NO_CHANGE"===(j=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Yt(),u=e.targetChange.targetIds||[],m=function(j,ne){return j.useProto3Json?(fn(void 0===ne||"string"==typeof ne),ts.fromBase64String(ne||"")):(fn(void 0===ne||ne instanceof Uint8Array),ts.fromUint8Array(ne||new Uint8Array))}(i,e.targetChange.resumeToken),E=e.targetChange.cause,k=E&&function(j){const ne=void 0===j.code?vt.UNKNOWN:zu(j.code);return new O(ne,j.message||"")}(E);t=new pf(o,u,m,k||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const u=Nc(i,o.document.name),m=xs(o.document.updateTime),E=o.document.createTime?xs(o.document.createTime):an.min(),k=new Fs({mapValue:{fields:o.document.fields}}),j=ns.newFoundDocument(u,m,E,k),ne=o.targetIds||[],Ae=o.removedTargetIds||[];t=new Rc(ne,Ae,j.key,j)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const u=Nc(i,o.document),m=o.readTime?xs(o.readTime):an.min(),E=ns.newNoDocument(u,m),k=o.removedTargetIds||[];t=new Rc([],k,E.key,E)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const u=Nc(i,o.document),m=o.removedTargetIds||[];t=new Rc([],m,u,null)}else{if(!("filter"in e))return Yt();{e.filter;const o=e.filter;o.targetId;const u=o.count||0,m=new mp(u),E=o.targetId;t=new ff(E,m)}}var j;return t}(this.serializer,e),o=function(u){if(!("targetChange"in u))return an.min();const m=u.targetChange;return m.targetIds&&m.targetIds.length?an.min():m.readTime?xs(m.readTime):an.min()}(e);return this.listener.zo(t,o)}jo(e){const t={};t.database=Fc(this.serializer),t.addTarget=function(u,m){let E;const k=m.target;return E=Ac(k)?{documents:bf(u,k)}:{query:fh(u,k)},E.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?E.resumeToken=_f(u,m.resumeToken):m.snapshotVersion.compareTo(an.min())>0&&(E.readTime=Da(u,m.snapshotVersion.toTimestamp())),E}(this.serializer,e);const o=function Ep(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(this.serializer,e);o&&(t.labels=o),this.Fo(t)}Wo(e){const t={};t.database=Fc(this.serializer),t.removeTarget=e,this.Fo(t)}}class xd extends Td{constructor(e,t,o,u,m,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,E),this.serializer=m,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function hh(i,e){return i&&i.length>0?(fn(void 0!==e),i.map(t=>function(o,u){let m=o.updateTime?xs(o.updateTime):xs(u);return m.isEqual(an.min())&&(m=xs(u)),new gd(m,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=xs(e.commitTime);return this.listener.Zo(o,t)}return fn(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Fc(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>ju(this.serializer,o))};this.Fo(t)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class $_ extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=u,this.eu=!1}nu(){if(this.eu)throw new O(vt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,m])=>this.connection.co(e,t,o,u,m)).catch(u=>{throw"FirebaseError"===u.name?(u.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new O(vt.UNKNOWN,u.toString())})}fo(e,t,o,u){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,E])=>this.connection.fo(e,t,o,m,E,u)).catch(m=>{throw"FirebaseError"===m.name?(m.code===vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new O(vt.UNKNOWN,m.toString())})}terminate(){this.eu=!0}}class G_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Je(t),this.ru=!1):ve("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Eg{constructor(e,t,o,u,m){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=m,this._u.qr(k=>{o.enqueueAndForget((0,l.Z)(function*(){var j;Xc(E)&&(ve("RemoteStore","Restarting streams for network reachability change."),yield(j=(0,l.Z)(function*(ne){const Ae=un(ne);Ae.du.add(4),yield Ul(Ae),Ae.mu.set("Unknown"),Ae.du.delete(4),yield Ph(Ae)}),function(ne){return j.apply(this,arguments)})(E))}))}),this.mu=new G_(o,u)}}function Ph(i){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,l.Z)(function*(i){if(Xc(i))for(const e of i.wu)yield e(!0)}),Kp.apply(this,arguments)}function Ul(i){return vu.apply(this,arguments)}function vu(){return vu=(0,l.Z)(function*(i){for(const e of i.wu)yield e(!1)}),vu.apply(this,arguments)}function Ad(i,e){const t=un(i);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),Nh(t)?Nf(t):Od(t).No()&&Rh(t,e))}function Vl(i,e){const t=un(i),o=Od(t);t.fu.delete(e),o.No()&&kh(t,e),0===t.fu.size&&(o.No()?o.$o():Xc(t)&&t.mu.set("Unknown"))}function Rh(i,e){i.gu.Ot(e.targetId),Od(i).jo(e)}function kh(i,e){i.gu.Ot(e),Od(i).Wo(e)}function Nf(i){i.gu=new gp({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>i.fu.get(e)||null}),Od(i).start(),i.mu.ou()}function Nh(i){return Xc(i)&&!Od(i).xo()&&i.fu.size>0}function Xc(i){return 0===un(i).du.size}function Lf(i){i.gu=void 0}function Dg(i){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,l.Z)(function*(i){i.fu.forEach((e,t)=>{Rh(i,e)})}),Lh.apply(this,arguments)}function Y_(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,l.Z)(function*(i,e){Lf(i),Nh(i)?(i.mu.au(e),Nf(i)):i.mu.set("Unknown")}),jp.apply(this,arguments)}function Cg(i,e,t){return $p.apply(this,arguments)}function $p(){return $p=(0,l.Z)(function*(i,e,t){if(i.mu.set("Online"),e instanceof pf&&2===e.state&&e.cause)try{yield(o=(0,l.Z)(function*(u,m){const E=m.cause;for(const k of m.targetIds)u.fu.has(k)&&(yield u.remoteSyncer.rejectListen(k,E),u.fu.delete(k),u.gu.removeTarget(k))}),function(u,m){return o.apply(this,arguments)})(i,e)}catch(o){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Fh(i,o)}else if(e instanceof Rc?i.gu.Kt(e):e instanceof ff?i.gu.Jt(e):i.gu.zt(e),!t.isEqual(an.min()))try{const o=yield hg(i.localStore);t.compareTo(o)>=0&&(yield function(u,m){const E=u.gu.Xt(m);return E.targetChanges.forEach((k,j)=>{if(k.resumeToken.approximateByteSize()>0){const ne=u.fu.get(j);ne&&u.fu.set(j,ne.withResumeToken(k.resumeToken,m))}}),E.targetMismatches.forEach(k=>{const j=u.fu.get(k);if(!j)return;u.fu.set(k,j.withResumeToken(ts.EMPTY_BYTE_STRING,j.snapshotVersion)),kh(u,k);const ne=new dl(j.target,k,1,j.sequenceNumber);Rh(u,ne)}),u.remoteSyncer.applyRemoteEvent(E)}(i,t))}catch(o){ve("RemoteStore","Failed to raise snapshot:",o),yield Fh(i,o)}var o}),$p.apply(this,arguments)}function Fh(i,e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,l.Z)(function*(i,e,t){if(!Jo(e))throw e;i.du.add(1),yield Ul(i),i.mu.set("Offline"),t||(t=()=>hg(i.localStore)),i.asyncQueue.enqueueRetryable((0,l.Z)(function*(){ve("RemoteStore","Retrying IndexedDB access"),yield t(),i.du.delete(1),yield Ph(i)}))}),Ff.apply(this,arguments)}function wg(i,e){return e().catch(t=>Fh(i,t,e))}function Sd(i){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,l.Z)(function*(i){const e=un(i),t=Ma(e);let o=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;Ig(e);)try{const u=yield mg(e.localStore,o);if(null===u){0===e.lu.length&&t.$o();break}o=u.batchId,Z_(e,u)}catch(u){yield Fh(e,u)}q_(e)&&Bf(e)}),Ga.apply(this,arguments)}function Ig(i){return Xc(i)&&i.lu.length<10}function Z_(i,e){i.lu.push(e);const t=Ma(i);t.No()&&t.Jo&&t.Yo(e.mutations)}function q_(i){return Xc(i)&&!Ma(i).xo()&&i.lu.length>0}function Bf(i){Ma(i).start()}function Tg(i){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,l.Z)(function*(i){Ma(i).tu()}),Gp.apply(this,arguments)}function Q_(i){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,l.Z)(function*(i){const e=Ma(i);for(const t of i.lu)e.Yo(t.mutations)}),Yp.apply(this,arguments)}function xg(i,e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,l.Z)(function*(i,e,t){const o=i.lu.shift(),u=hu.from(o,e,t);yield wg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Sd(i)}),Zp.apply(this,arguments)}function X_(i,e){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,l.Z)(function*(i,e){var t;e&&Ma(i).Jo&&(yield(t=(0,l.Z)(function*(o,u){if(sh(m=u.code)&&m!==vt.ABORTED){const E=o.lu.shift();Ma(o).Oo(),yield wg(o,()=>o.remoteSyncer.rejectFailedWrite(E.batchId,u)),yield Sd(o)}var m}),function(o,u){return t.apply(this,arguments)})(i,e)),q_(i)&&Bf(i)}),Bh.apply(this,arguments)}function Mg(i,e){return qp.apply(this,arguments)}function qp(){return qp=(0,l.Z)(function*(i,e){const t=un(i);t.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const o=Xc(t);t.du.add(3),yield Ul(t),o&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield Ph(t)}),qp.apply(this,arguments)}function Qp(i,e){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,l.Z)(function*(i,e){const t=un(i);e?(t.du.delete(2),yield Ph(t)):e||(t.du.add(2),yield Ul(t),t.mu.set("Unknown"))}),Xp.apply(this,arguments)}function Od(i){return i.yu||(i.yu=function(e,t,o){const u=un(e);return u.nu(),new Oh(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Jr:Dg.bind(null,i),Zr:Y_.bind(null,i),zo:Cg.bind(null,i)}),i.wu.push(function(){var e=(0,l.Z)(function*(t){t?(i.yu.Oo(),Nh(i)?Nf(i):i.mu.set("Unknown")):(yield i.yu.stop(),Lf(i))});return function(t){return e.apply(this,arguments)}}())),i.yu}function Ma(i){return i.pu||(i.pu=function(e,t,o){const u=un(e);return u.nu(),new xd(t,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Jr:Tg.bind(null,i),Zr:X_.bind(null,i),Xo:Q_.bind(null,i),Zo:xg.bind(null,i)}),i.wu.push(function(){var e=(0,l.Z)(function*(t){t?(i.pu.Oo(),yield Sd(i)):(yield i.pu.stop(),i.lu.length>0&&(ve("RemoteStore",`Stopping write stream with ${i.lu.length} pending writes`),i.lu=[]))});return function(t){return e.apply(this,arguments)}}())),i.pu
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}class Uh{constructor(e,t,o,u,m){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=m,this.deferred=new I,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,o,u,m){const E=Date.now()+o,k=new Uh(e,t,E,u,m);return k.start(o),k}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new O(vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pd(i,e){if(Je("AsyncQueue",`${e}: ${i}`),Jo(i))return new O(vt.UNAVAILABLE,`${e}: ${i}`);throw i}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Rd{constructor(e){this.comparator=e?(t,o)=>e(t,o)||An.comparator(t.key,o.key):(t,o)=>An.comparator(t.key,o.key),this.keyedMap=wi(),this.sortedSet=new sn(this.comparator)}static emptySet(e){return new Rd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,m=o.getNext().key;if(!u.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Rd;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Jp{constructor(){this.Iu=new sn(An.comparator)}track(e){const t=e.doc.key,o=this.Iu.get(t);o?0!==e.type&&3===o.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==o.type?this.Iu=this.Iu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Iu=this.Iu.remove(t):1===e.type&&2===o.type?this.Iu=this.Iu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):Yt():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,o)=>{e.push(o)}),e}}class kd{constructor(e,t,o,u,m,E,k,j,ne){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=m,this.fromCache=E,this.syncStateChanged=k,this.excludesMetadataChanges=j,this.hasCachedResults=ne}static fromInitialDocuments(e,t,o,u,m){const E=[];return t.forEach(k=>{E.push({type:0,doc:k})}),new kd(e,t,Rd.emptySet(t),E,o,u,!0,!1,m)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class J_{constructor(){this.Eu=void 0,this.listeners=[]}}class ey{constructor(){this.queries=new Vt(e=>R(e),Sc),this.onlineState="Unknown",this.Au=new Set}}function Vh(i,e){return em.apply(this,arguments)}function em(){return em=(0,l.Z)(function*(i,e){const t=un(i),o=e.query;let u=!1,m=t.queries.get(o);if(m||(u=!0,m=new J_),u)try{m.Eu=yield t.onListen(o)}catch(E){const k=Pd(E,`Initialization of query '${p(e.query)}' failed`);return void e.onError(k)}t.queries.set(o,m),m.listeners.push(e),e.Ru(t.onlineState),m.Eu&&e.vu(m.Eu)&&Ag(t)}),em.apply(this,arguments)}function tm(i,e){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,l.Z)(function*(i,e){const t=un(i),o=e.query;let u=!1;const m=t.queries.get(o);if(m){const E=m.listeners.indexOf(e);E>=0&&(m.listeners.splice(E,1),u=0===m.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Nd.apply(this,arguments)}function nm(i,e){const t=un(i);let o=!1;for(const u of e){const m=u.query,E=t.queries.get(m);if(E){for(const k of E.listeners)k.vu(u)&&(o=!0);E.Eu=u}}o&&Ag(t)}function Uf(i,e,t){const o=un(i),u=o.queries.get(e);if(u)for(const m of u.listeners)m.onError(t);o.queries.delete(e)}function Ag(i){i.Au.forEach(e=>{e.next()})}class zh{constructor(e,t,o){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new kd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){if(!e.fromCache)return!0;const o="Offline"!==t;return(!this.options.xu||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){if(e.docChanges.length>0)return!0;const t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Cu(e){e=kd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class wv{constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class rm{constructor(e){this.serializer=e}Hi(e){return Nc(this.serializer,e)}Ji(e){return e.metadata.exists?yf(this.serializer,e.document,!1):ns.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return xs(e)}}class Sg{constructor(e,t,o){this.Ou=e,this.localStore=t,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=im(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const o=Nn.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,o=new rm(this.serializer);for(const u of e)if(u.metadata.queries){const m=o.Hi(u.metadata.name);for(const E of u.metadata.queries){const k=(t.get(E)||Ai()).add(m);t.set(E,k)}}return t}complete(){var e=this;return(0,l.Z)(function*(){const t=yield function Bp(i,e,t,o){return Ih.apply(this,arguments)}(e.localStore,new rm(e.serializer),e.documents,e.Ou.id),o=e.Mu(e.documents);for(const u of e.queries)yield W_(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function im(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class om{constructor(e){this.key=e}}class Vf{constructor(e){this.key=e}}class _l{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Ai(),this.mutatedKeys=Ai(),this.Ku=ye(e),this.Gu=new Rd(this.Ku)}get Qu(){return this.Lu}zu(e,t){const o=t?t.ju:new Jp,u=t?t.Gu:this.Gu;let m=t?t.mutatedKeys:this.mutatedKeys,E=u,k=!1;const j="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,ne="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((Ae,tt)=>{const zt=u.get(Ae),gn=D(this.query,tt)?tt:null,Kn=!!zt&&this.mutatedKeys.has(zt.key),Dr=!!gn&&(gn.hasLocalMutations||this.mutatedKeys.has(gn.key)&&gn.hasCommittedMutations);let ti=!1;zt&&gn?zt.data.isEqual(gn.data)?Kn!==Dr&&(o.track({type:3,doc:gn}),ti=!0):this.Wu(zt,gn)||(o.track({type:2,doc:gn}),ti=!0,(j&&this.Ku(gn,j)>0||ne&&this.Ku(gn,ne)<0)&&(k=!0)):!zt&&gn?(o.track({type:0,doc:gn}),ti=!0):zt&&!gn&&(o.track({type:1,doc:zt}),ti=!0,(j||ne)&&(k=!0)),ti&&(gn?(E=E.add(gn),m=Dr?m.add(Ae):m.delete(Ae)):(E=E.delete(Ae),m=m.delete(Ae)))}),null!==this.query.limit)for(;E.size>this.query.limit;){const Ae="F"===this.query.limitType?E.last():E.first();E=E.delete(Ae.key),m=m.delete(Ae.key),o.track({type:1,doc:Ae})}return{Gu:E,ju:o,Mi:k,mutatedKeys:m}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const m=e.ju.Tu();m.sort((ne,Ae)=>function(tt,zt){const gn=Kn=>{switch(Kn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt()}};return gn(tt)-gn(zt)}(ne.type,Ae.type)||this.Ku(ne.doc,Ae.doc)),this.Hu(o);const E=t?this.Ju():[],k=0===this.Uu.size&&this.current?1:0,j=k!==this.qu;return this.qu=k,0!==m.length||j?{snapshot:new kd(this.query,e.Gu,u,m,e.mutatedKeys,0===k,j,!1,!!o&&o.resumeToken.approximateByteSize()>0),Yu:E}:{Yu:E}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Jp,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Ai(),this.Gu.forEach(o=>{this.Zu(o.key)&&(this.Uu=this.Uu.add(o.key))});const t=[];return e.forEach(o=>{this.Uu.has(o)||t.push(new Vf(o))}),this.Uu.forEach(o=>{e.has(o)||t.push(new om(o))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Ai();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return kd.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class zf{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Wf{constructor(e){this.key=e,this.ec=!1}}class Wh{constructor(e,t,o,u,m,E){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=m,this.maxConcurrentLimboResolutions=E,this.nc={},this.sc=new Vt(k=>R(k),Sc),this.ic=new Map,this.rc=new Set,this.oc=new sn(An.comparator),this.uc=new Map,this.cc=new og,this.ac={},this.hc=new Map,this.lc=Ua.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function ty(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,l.Z)(function*(i,e){const t=Du(i);let o,u;const m=t.sc.get(e);if(m)o=m.targetId,t.sharedClientState.addLocalQueryTarget(o),u=m.view.tc();else{const E=yield Cd(t.localStore,ia(e));t.isPrimaryClient&&Ad(t.remoteStore,E);const k=t.sharedClientState.addLocalQueryTarget(E.targetId);o=E.targetId,u=yield Kf(t,e,o,"current"===k,E.resumeToken)}return u}),Hf.apply(this,arguments)}function Kf(i,e,t,o,u){return sm.apply(this,arguments)}function sm(){return sm=(0,l.Z)(function*(i,e,t,o,u){i.dc=(tt,zt,gn)=>{return(Kn=(0,l.Z)(function*(Dr,ti,Ko,ks){let Ro=ti.view.zu(Ko);Ro.Mi&&(Ro=yield wh(Dr.localStore,ti.query,!1).then(({documents:Ns})=>ti.view.zu(Ns,Ro)));const rc=ks&&ks.targetChanges.get(ti.targetId),sa=ti.view.applyChanges(Ro,Dr.isPrimaryClient,rc);return hm(Dr,ti.targetId,sa.Yu),sa.snapshot}),function(Dr,ti,Ko,ks){return Kn.apply(this,arguments)})(i,tt,zt,gn);var Kn};const m=yield wh(i.localStore,e,!0),E=new _l(e,m.Wi),k=E.zu(m.documents),j=pu.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState,u),ne=E.applyChanges(k,i.isPrimaryClient,j);hm(i,t,ne.Yu);const Ae=new zf(e,t,E);return i.sc.set(e,Ae),i.ic.has(t)?i.ic.get(t).push(e):i.ic.set(t,[e]),ne.snapshot}),sm.apply(this,arguments)}function ny(i,e){return Xu.apply(this,arguments)}function Xu(){return Xu=(0,l.Z)(function*(i,e){const t=un(i),o=t.sc.get(e),u=t.ic.get(o.targetId);if(u.length>1)return t.ic.set(o.targetId,u.filter(m=>!Sc(m,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield wd(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Vl(t.remoteStore,o.targetId),Ld(t,o.targetId)}).catch(Ia))):(Ld(t,o.targetId),yield wd(t.localStore,o.targetId,!0))}),Xu.apply(this,arguments)}function Og(){return Og=(0,l.Z)(function*(i,e,t){const o=Cu(i);try{const u=yield function(m,E){const k=un(m),j=hi.now(),ne=E.reduce((zt,gn)=>zt.add(gn.key),Ai());let Ae,tt;return k.persistence.runTransaction("Locally write mutations","readwrite",zt=>{let gn=Xn(),Kn=Ai();return k.Ki.getEntries(zt,ne).next(Dr=>{gn=Dr,gn.forEach((ti,Ko)=>{Ko.isValidDocument()||(Kn=Kn.add(ti))})}).next(()=>k.localDocuments.getOverlayedDocuments(zt,gn)).next(Dr=>{Ae=Dr;const ti=[];for(const Ko of E){const ks=oh(Ko,Ae.get(Ko.key).overlayedDocument);null!=ks&&ti.push(new Fa(Ko.key,ks,Dl(ks.value.mapValue),Fo.exists(!0)))}return k.mutationQueue.addMutationBatch(zt,j,ti,E)}).next(Dr=>{tt=Dr;const ti=Dr.applyToLocalDocumentSet(Ae,Kn);return k.documentOverlayCache.saveOverlays(zt,Dr.batchId,ti)})}).then(()=>({batchId:tt.batchId,changes:rs(Ae)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(m,E,k){let j=m.ac[m.currentUser.toKey()];j||(j=new sn(Yn)),j=j.insert(E,k),m.ac[m.currentUser.toKey()]=j}(o,u.batchId,t),yield yl(o,u.changes),yield Sd(o.remoteStore)}catch(u){const m=Pd(u,"Failed to persist write");t.reject(m)}}),Og.apply(this,arguments)}function Pg(i,e){return am.apply(this,arguments)}function am(){return am=(0,l.Z)(function*(i,e){const t=un(i);try{const o=yield function fg(i,e){const t=un(i),o=e.snapshotVersion;let u=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const E=t.Ki.newChangeBuffer({trackRemovals:!0});u=t.Li;const k=[];e.targetChanges.forEach((Ae,tt)=>{const zt=u.get(tt);if(!zt)return;k.push(t.Ds.removeMatchingKeys(m,Ae.removedDocuments,tt).next(()=>t.Ds.addMatchingKeys(m,Ae.addedDocuments,tt)));let gn=zt.withSequenceNumber(m.currentSequenceNumber);var Kn,Dr,ti;e.targetMismatches.has(tt)?gn=gn.withResumeToken(ts.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):Ae.resumeToken.approximateByteSize()>0&&(gn=gn.withResumeToken(Ae.resumeToken,o)),u=u.insert(tt,gn),Dr=gn,ti=Ae,(0===(Kn=zt).resumeToken.approximateByteSize()||Dr.snapshotVersion.toMicroseconds()-Kn.snapshotVersion.toMicroseconds()>=3e8||ti.addedDocuments.size+ti.modifiedDocuments.size+ti.removedDocuments.size>0)&&k.push(t.Ds.updateTargetData(m,gn))});let j=Xn(),ne=Ai();if(e.documentUpdates.forEach(Ae=>{e.resolvedLimboDocuments.has(Ae)&&k.push(t.persistence.referenceDelegate.updateLimboDocument(m,Ae))}),k.push(pg(m,E,e.documentUpdates).next(Ae=>{j=Ae.zi,ne=Ae.ji})),!o.isEqual(an.min())){const Ae=t.Ds.getLastRemoteSnapshotVersion(m).next(tt=>t.Ds.setTargetsMetadata(m,m.currentSequenceNumber,o));k.push(Ae)}return $t.waitFor(k).next(()=>E.apply(m)).next(()=>t.localDocuments.getLocalViewOfDocuments(m,j,ne)).next(()=>j)}).then(m=>(t.Li=u,m))}(t.localStore,e);e.targetChanges.forEach((u,m)=>{const E=t.uc.get(m);E&&(fn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?E.ec=!0:u.modifiedDocuments.size>0?fn(E.ec):u.removedDocuments.size>0&&(fn(E.ec),E.ec=!1))}),yield yl(t,o,e)}catch(o){yield Ia(o)}}),am.apply(this,arguments)}function Rg(i,e,t){const o=un(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.sc.forEach((m,E)=>{const k=E.view.Ru(e);k.snapshot&&u.push(k.snapshot)}),function(m,E){const k=un(m);k.onlineState=E;let j=!1;k.queries.forEach((ne,Ae)=>{for(const tt of Ae.listeners)tt.Ru(E)&&(j=!0)}),j&&Ag(k)}(o.eventManager,e),u.length&&o.nc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function iy(i,e,t){return cm.apply(this,arguments)}function cm(){return cm=(0,l.Z)(function*(i,e,t){const o=un(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.uc.get(e),m=u&&u.key;if(m){let E=new sn(An.comparator);E=E.insert(m,ns.newNoDocument(m,an.min()));const k=Ai().add(m),j=new fu(an.min(),new Map,new oi(Yn),E,k);yield Pg(o,j),o.oc=o.oc.remove(m),o.uc.delete(e),fm(o)}else yield wd(o.localStore,e,!1).then(()=>Ld(o,e,t)).catch(Ia)}),cm.apply(this,arguments)}function oy(i,e){return lm.apply(this,arguments)}function lm(){return lm=(0,l.Z)(function*(i,e){const t=un(i),o=e.batch.batchId;try{const u=yield function z_(i,e){const t=un(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),m=t.Ki.newChangeBuffer({trackRemovals:!0});return function(E,k,j,ne){const Ae=j.batch,tt=Ae.keys();let zt=$t.resolve();return tt.forEach(gn=>{zt=zt.next(()=>ne.getEntry(k,gn)).next(Kn=>{const Dr=j.docVersions.get(gn);fn(null!==Dr),Kn.version.compareTo(Dr)<0&&(Ae.applyToRemoteDocument(Kn,j),Kn.isValidDocument()&&(Kn.setReadTime(j.commitVersion),ne.addEntry(Kn)))})}),zt.next(()=>E.mutationQueue.removeMutationBatch(k,Ae))}(t,o,e,m).next(()=>m.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(E){let k=Ai();for(let j=0;j<E.mutationResults.length;++j)E.mutationResults[j].transformResults.length>0&&(k=k.add(E.batch.mutations[j].key));return k}(e))).next(()=>t.localDocuments.getDocuments(o,u))})}(t.localStore,e);dm(t,o,null),um(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield yl(t,u)}catch(u){yield Ia(u)}}),lm.apply(this,arguments)}function kg(i,e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,l.Z)(function*(i,e,t){const o=un(i);try{const u=yield function(m,E){const k=un(m);return k.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let ne;return k.mutationQueue.lookupMutationBatch(j,E).next(Ae=>(fn(null!==Ae),ne=Ae.keys(),k.mutationQueue.removeMutationBatch(j,Ae))).next(()=>k.mutationQueue.performConsistencyCheck(j)).next(()=>k.documentOverlayCache.removeOverlaysForBatchId(j,ne,E)).next(()=>k.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,ne)).next(()=>k.localDocuments.getDocuments(j,ne))})}(o.localStore,e);dm(o,e,t),um(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield yl(o,u)}catch(u){yield Ia(u)}}),Hh.apply(this,arguments)}function Kh(){return Kh=(0,l.Z)(function*(i,e){const t=un(i);Xc(t.remoteStore)||ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const E=un(m);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",k=>E.mutationQueue.getHighestUnacknowledgedBatchId(k))}(t.localStore);if(-1===o)return void e.resolve();const u=t.hc.get(o)||[];u.push(e),t.hc.set(o,u)}catch(o){const u=Pd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Kh.apply(this,arguments)}function um(i,e){(i.hc.get(e)||[]).forEach(t=>{t.resolve()}),i.hc.delete(e)}function dm(i,e,t){const o=un(i);let u=o.ac[o.currentUser.toKey()];if(u){const m=u.get(e);m&&(t?m.reject(t):m.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function Ld(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),t&&i.nc.wc(o,t);i.ic.delete(e),i.isPrimaryClient&&i.cc.hs(e).forEach(o=>{i.cc.containsKey(o)||Ng(i,o)})}function Ng(i,e){i.rc.delete(e.path.canonicalString());const t=i.oc.get(e);null!==t&&(Vl(i.remoteStore,t),i.oc=i.oc.remove(e),i.uc.delete(t),fm(i))}function hm(i,e,t){for(const o of t)o instanceof om?(i.cc.addReference(o.key,e),ay(i,o)):o instanceof Vf?(ve("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Ng(i,o.key)):Yt()}function ay(i,e){const t=e.key,o=t.path.canonicalString();i.oc.get(t)||i.rc.has(o)||(ve("SyncEngine","New document in limbo: "+t),i.rc.add(o),fm(i))}function fm(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const t=new An(Nn.fromString(e)),o=i.lc.next();i.uc.set(o,new Wf(t)),i.oc=i.oc.insert(t,o),Ad(i.remoteStore,new dl(ia(sc(t.path)),o,2,Is.ct))}}function yl(i,e,t){return jf.apply(this,arguments)}function jf(){return jf=(0,l.Z)(function*(i,e,t){const o=un(i),u=[],m=[],E=[];var k;o.sc.isEmpty()||(o.sc.forEach((k,j)=>{E.push(o.dc(j,e,t).then(ne=>{if((ne||t)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(j.targetId,ne?.fromCache?"not-current":"current"),ne){u.push(ne);const Ae=Rp.Di(j.targetId,ne);m.push(Ae)}}))}),yield Promise.all(E),o.nc.zo(u),yield(k=(0,l.Z)(function*(j,ne){const Ae=un(j);try{yield Ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",tt=>$t.forEach(ne,zt=>$t.forEach(zt.Vi,gn=>Ae.persistence.referenceDelegate.addReference(tt,zt.targetId,gn)).next(()=>$t.forEach(zt.Si,gn=>Ae.persistence.referenceDelegate.removeReference(tt,zt.targetId,gn)))))}catch(tt){if(!Jo(tt))throw tt;ve("LocalStore","Failed to update sequence numbers: "+tt)}for(const tt of ne){const zt=tt.targetId;if(!tt.fromCache){const gn=Ae.Li.get(zt),Kn=gn.snapshotVersion,Dr=gn.withLastLimboFreeSnapshotVersion(Kn);Ae.Li=Ae.Li.insert(zt,Dr)}}}),function(j,ne){return k.apply(this,arguments)})(o.localStore,m))}),jf.apply(this,arguments)}function cy(i,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,l.Z)(function*(i,e){const t=un(i);if(!t.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const o=yield Np(t.localStore,e);t.currentUser=e,(u=t).hc.forEach(E=>{E.forEach(k=>{k.reject(new O(vt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield yl(t,o.Qi)}var u}),Lg.apply(this,arguments)}function Fg(i,e){const t=un(i),o=t.uc.get(e);if(o&&o.ec)return Ai().add(o.key);{let u=Ai();const m=t.ic.get(e);if(!m)return u;for(const E of m){const k=t.sc.get(E);u=u.unionWith(k.view.Qu)}return u}}function Iv(i,e){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,l.Z)(function*(i,e){const t=un(i),o=yield wh(t.localStore,e.query,!0),u=e.view.Xu(o);return t.isPrimaryClient&&hm(t,e.targetId,u.Yu),u}),Fd.apply(this,arguments)}function ly(i,e){return pm.apply(this,arguments)}function pm(){return pm=(0,l.Z)(function*(i,e){const t=un(i);return nc(t.localStore,e).then(o=>yl(t,o))}),pm.apply(this,arguments)}function mm(i,e,t,o){return gm.apply(this,arguments)}function gm(){return gm=(0,l.Z)(function*(i,e,t,o){const u=un(i),m=yield function(E,k){const j=un(E),ne=un(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",Ae=>ne.In(Ae,k).next(tt=>tt?j.localDocuments.getDocuments(Ae,tt):$t.resolve(null)))}(u.localStore,e);var E,k;null!==m?("pending"===t?yield Sd(u.remoteStore):"acknowledged"===t||"rejected"===t?(dm(u,e,o||null),um(u,e),E=u.localStore,k=e,un(un(E).mutationQueue).En(k)):Yt(),yield yl(u,m)):ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),gm.apply(this,arguments)}function Ju(){return Ju=(0,l.Z)(function*(i,e){const t=un(i);if(Du(t),Cu(t),!0===e&&!0!==t.fc){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield Aa(t,o.toArray());t.fc=!0,yield Qp(t.remoteStore,!0);for(const m of u)Ad(t.remoteStore,m)}else if(!1===e&&!1!==t.fc){const o=[];let u=Promise.resolve();t.ic.forEach((m,E)=>{t.sharedClientState.isLocalQueryTarget(E)?o.push(E):u=u.then(()=>(Ld(t,E),wd(t.localStore,E,!0))),Vl(t.remoteStore,E)}),yield u,yield Aa(t,o),function(m){const E=un(m);E.uc.forEach((k,j)=>{Vl(E.remoteStore,j)}),E.cc.ls(),E.uc=new Map,E.oc=new sn(An.comparator)}(t),t.fc=!1,yield Qp(t.remoteStore,!1)}}),Ju.apply(this,arguments)}function Aa(i,e,t){return zl.apply(this,arguments)}function zl(){return zl=(0,l.Z)(function*(i,e,t){const o=un(i),u=[],m=[];for(const E of e){let k;const j=o.ic.get(E);if(j&&0!==j.length){k=yield Cd(o.localStore,ia(j[0]));for(const ne of j){const Ae=o.sc.get(ne),tt=yield Iv(o,Ae);tt.snapshot&&m.push(tt.snapshot)}}else{const ne=yield Fp(o.localStore,E);k=yield Cd(o.localStore,ne),yield Kf(o,jh(ne),E,!1,k.resumeToken)}u.push(k)}return o.nc.zo(m),u}),zl.apply(this,arguments)}function jh(i){return Kc(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Uc(i){const e=un(i);return un(un(e.localStore).persistence).bi()}function _m(i,e,t,o){return bu.apply(this,arguments)}function bu(){return bu=(0,l.Z)(function*(i,e,t,o){const u=un(i);if(u.fc)return void ve("SyncEngine","Ignoring unexpected query state notification.");const m=u.ic.get(e);if(m&&m.length>0)switch(t){case"current":case"not-current":{const E=yield nc(u.localStore,L(m[0])),k=fu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ts.EMPTY_BYTE_STRING);yield yl(u,E,k);break}case"rejected":yield wd(u.localStore,e,!0),Ld(u,e,o);break;default:Yt()}}),bu.apply(this,arguments)}function Bd(i,e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,l.Z)(function*(i,e,t){const o=Du(i);if(o.fc){for(const u of e){if(o.ic.has(u)){ve("SyncEngine","Adding an already active target "+u);continue}const m=yield Fp(o.localStore,u),E=yield Cd(o.localStore,m);yield Kf(o,jh(m),E.targetId,!1,E.resumeToken),Ad(o.remoteStore,E)}for(const u of t)o.ic.has(u)&&(yield wd(o.localStore,u,!1).then(()=>{Vl(o.remoteStore,u),Ld(o,u)}).catch(Ia))}}),Eu.apply(this,arguments)}function Du(i){const e=un(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iy.bind(null,e),e.nc.zo=nm.bind(null,e.eventManager),e.nc.wc=Uf.bind(null,e.eventManager),e}function Cu(i){const e=un(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kg.bind(null,e),e}class Wl{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,l.Z)(function*(){t.serializer=Id(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kp(this.persistence,new dg,e.initialUser,this.serializer)}createPersistence(e){return new cg(Af.Fs,this.serializer)}createSharedClientState(e){return new Mh}terminate(){var e=this;return(0,l.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wu extends Wl{constructor(e,t,o){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield t().call(o,e),yield o.mc.initialize(o,e),yield Cu(o.mc.syncEngine),yield Sd(o.mc.remoteStore),yield o.persistence.hi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kp(this.persistence,new dg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const o=this.persistence.referenceDelegate.garbageCollector;return new k_(o,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const o=new qa(t,this.persistence);return new ca(e.asyncQueue,o)}createPersistence(e){const t=Pp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Op(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,bg(),Ah(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Mh}}class ed extends wu{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,l.Z)(function*(){yield t().call(o,e);const u=o.mc.syncEngine;o.sharedClientState instanceof Pf&&(o.sharedClientState.syncEngine={$r:mm.bind(null,u),Mr:_m.bind(null,u),Fr:Bd.bind(null,u),bi:Uc.bind(null,u),Or:ly.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.hi(function(){var m=(0,l.Z)(function*(E){yield function vl(i,e){return Ju.apply(this,arguments)}(o.mc.syncEngine,E),o.gcScheduler&&(E&&!o.gcScheduler.started?o.gcScheduler.start():E||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(E&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():E||o.indexBackfillerScheduler.stop())});return function(E){return m.apply(this,arguments)}}())})()}createSharedClientState(e){const t=bg();if(!Pf.D(t))throw new O(vt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Pp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Pf(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class td{initialize(e,t){var o=this;return(0,l.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Rg(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=cy.bind(null,o.syncEngine),yield Qp(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ey}createDatastore(e){const t=Id(e.databaseInfo.databaseId),o=(u=e.databaseInfo,new vg(u));var u,m,E;return m=e.authCredentials,E=e.appCheckCredentials,new $_(m,E,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,m=k=>Rg(this.syncEngine,k,0),E=Wp.D()?new Wp:new H_,new Eg(t,o,u,m,E);var t,o,u,m,E}createSyncEngine(e,t){return function(o,u,m,E,k,j,ne){const Ae=new Wh(o,u,m,E,k,j);return ne&&(Ae.fc=!0),Ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,l.Z)(function*(t){const o=un(t);ve("RemoteStore","RemoteStore shutting down."),o.du.add(5),yield Ul(o),o._u.shutdown(),o.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function ym(i,e=10240){let t=0;return{read:()=>(0,l.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,l.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class $h{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Je("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Bg{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new I,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(o=>{o&&o.ku()?this.metadata.resolve(o.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.Nu)}`))},o=>this.metadata.reject(o))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,l.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,l.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,l.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const o=e.Tc.decode(t),u=Number(o);isNaN(u)&&e.Rc(`length string (${o}) is not valid number`);const m=yield e.vc(u);return new wv(JSON.parse(m),t.length+u)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,l.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}vc(e){var t=this;return(0,l.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const o=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,l.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Ug{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,l.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new O(vt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,l.Z)(function*(m,E){const k=un(m),j=Fc(k.serializer)+"/documents",ne={documents:E.map(gn=>Ku(k.serializer,gn))},Ae=yield k.fo("BatchGetDocuments",j,ne,E.length),tt=new Map;Ae.forEach(gn=>{const Kn=function vf(i,e){return"found"in e?function(t,o){fn(!!o.found),o.found.name,o.found.updateTime;const u=Nc(t,o.found.name),m=xs(o.found.updateTime),E=o.found.createTime?xs(o.found.createTime):an.min(),k=new Fs({mapValue:{fields:o.found.fields}});return ns.newFoundDocument(u,m,E,k)}(i,e):"missing"in e?function(t,o){fn(!!o.missing),fn(!!o.readTime);const u=Nc(t,o.missing),m=xs(o.readTime);return ns.newNoDocument(u,m)}(i,e):Yt()}(k.serializer,gn);tt.set(Kn.key.toString(),Kn)});const zt=[];return E.forEach(gn=>{const Kn=tt.get(gn.toString());fn(!!Kn),zt.push(Kn)}),zt}),function(m,E){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new ul(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const m=An.fromPath(u);e.mutations.push(new Vu(m,e.precondition(m)))}),yield(o=(0,l.Z)(function*(u,m){const E=un(u),k=Fc(E.serializer)+"/documents",j={writes:m.map(ne=>ju(E.serializer,ne))};yield E.co("Commit",k,j)}),function(u,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Yt();t=an.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new O(vt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(an.min())?Fo.exists(!1):Fo.updateTime(t):Fo.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(an.min()))throw new O(vt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fo.updateTime(t)}return Fo.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Vg{constructor(e,t,o,u,m){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=u,this.deferred=m,this.Vc=o.maxAttempts,this.Co=new Sh(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,l.Z)(function*(){const t=new Ug(e.datastore),o=e.Dc(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(m=>{e.Cc(m)}))}).catch(u=>{e.Cc(u)})}))}Dc(e){try{const t=this.updateFunction(e);return!Qa(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!sh(t)}return!1}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class zg{constructor(e,t,o,u){var m=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=C.UNAUTHENTICATED,this.clientId=Xi.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var E=(0,l.Z)(function*(k){ve("FirestoreClient","Received user=",k.uid),yield m.authCredentialListener(k),m.user=k});return function(k){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(o,E=>(ve("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,l.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(vt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new I;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=Pd(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Gh(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,l.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,l.Z)(function*(m){o.isEqual(m)||(yield Np(e.localStore,m),o=m)});return function(m){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),$f.apply(this,arguments)}function vm(i,e){return bm.apply(this,arguments)}function bm(){return bm=(0,l.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Dm(i);ve("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Mg(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,m)=>Mg(e.remoteStore,m)),i._onlineComponents=e}),bm.apply(this,arguments)}function Em(i){return"FirebaseError"===i.name?i.code===vt.FAILED_PRECONDITION||i.code===vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function Dm(i){return Gf.apply(this,arguments)}function Gf(){return Gf=(0,l.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gh(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Em(t))throw t;Pt("Error using user provided cache. Falling back to memory cache: "+t),yield Gh(i,new Wl)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),yield Gh(i,new Wl);return i._offlineComponents}),Gf.apply(this,arguments)}function Vd(i){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,l.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield vm(i,i._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),yield vm(i,new td))),i._onlineComponents}),Yh.apply(this,arguments)}function Wg(i){return Dm(i).then(e=>e.persistence)}function nd(i){return Dm(i).then(e=>e.localStore)}function zd(i){return Vd(i).then(e=>e.remoteStore)}function Zh(i){return Vd(i).then(e=>e.syncEngine)}function Hg(i){return Vd(i).then(e=>e.datastore)}function Iu(i){return qh.apply(this,arguments)}function qh(){return qh=(0,l.Z)(function*(i){const e=yield Vd(i),t=e.eventManager;return t.onListen=ty.bind(null,e.syncEngine),t.onUnlisten=ny.bind(null,e.syncEngine),t}),qh.apply(this,arguments)}function wm(i,e,t={}){const o=new I;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(u,m,E,k,j){const ne=new $h({next:tt=>{m.enqueueAndForget(()=>tm(u,Ae));const zt=tt.docs.has(E);!zt&&tt.fromCache?j.reject(new O(vt.UNAVAILABLE,"Failed to get document because the client is offline.")):zt&&tt.fromCache&&k&&"server"===k.source?j.reject(new O(vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(tt)},error:tt=>j.reject(tt)}),Ae=new zh(sc(E.path),ne,{includeMetadataChanges:!0,xu:!0});return Vh(u,Ae)}(yield Iu(i),i.asyncQueue,e,t,o)})),o.promise}function Yf(i,e,t={}){const o=new I;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(u,m,E,k,j){const ne=new $h({next:tt=>{m.enqueueAndForget(()=>tm(u,Ae)),tt.fromCache&&"server"===k.source?j.reject(new O(vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(tt)},error:tt=>j.reject(tt)}),Ae=new zh(E,ne,{includeMetadataChanges:!0,xu:!0});return Vh(u,Ae)}(yield Iu(i),i.asyncQueue,e,t,o)})),o.promise}function uy(i,e,t,o){const u=function(m,E){let k;return k="string"==typeof m?(new TextEncoder).encode(m):m,j=function(j,ne){if(j instanceof Uint8Array)return ym(j,void 0);if(j instanceof ArrayBuffer)return ym(new Uint8Array(j),void 0);if(j instanceof ReadableStream)return j.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(k),new Bg(j,E);var j}(t,Id(e));i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){!function Ud(i,e,t){const o=un(i);var u;(u=(0,l.Z)(function*(m,E,k){try{const j=yield E.getMetadata();if(yield function(zt,gn){const Kn=un(zt),Dr=xs(gn.createTime);return Kn.persistence.runTransaction("hasNewerBundle","readonly",ti=>Kn.xs.getBundleMetadata(ti,gn.id)).then(ti=>!!ti&&ti.createTime.compareTo(Dr)>=0)}(m.localStore,j))return yield E.close(),k._completeWith({taskState:"Success",documentsLoaded:(zt=j).totalDocuments,bytesLoaded:zt.totalBytes,totalDocuments:zt.totalDocuments,totalBytes:zt.totalBytes}),Promise.resolve(new Set);k._updateProgress(im(j));const ne=new Sg(j,m.localStore,E.serializer);let Ae=yield E._c();for(;Ae;){const zt=yield ne.$u(Ae);zt&&k._updateProgress(zt),Ae=yield E._c()}const tt=yield ne.complete();return yield yl(m,tt.Bu,void 0),yield function(zt,gn){const Kn=un(zt);return Kn.persistence.runTransaction("Save bundle","readwrite",Dr=>Kn.xs.saveBundleMetadata(Dr,gn))}(m.localStore,j),k._completeWith(tt.progress),Promise.resolve(tt.Fu)}catch(j){return Pt("SyncEngine",`Loading bundle failed with ${j}`),k._failWith(j),Promise.resolve(new Set)}var zt}),function(m,E,k){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Zh(i),u,o)}))}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const Im=new Map;
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Zf(i,e,t){if(!t)throw new O(vt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qg(i,e,t,o){if(!0===e&&!0===o)throw new O(vt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Tm(i){if(!An.isDocumentKey(i))throw new O(vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function xm(i){if(An.isDocumentKey(i))throw new O(vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Wd(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Yt()}function _o(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new O(vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wd(i);throw new O(vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Mm(i,e){if(e<=0)throw new O(vt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Am{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new O(vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new O(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Hd{constructor(e,t,o,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Am({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new O(vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Am(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new xe;switch(t.type){case"firstParty":return new yr(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new O(vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Im.get(e);t&&(ve("ComponentProvider","Removing Datastore"),Im.delete(e),t.terminate())}(this),Promise.resolve()}}function Sm(i,e,t,o={}){var u;const m=(i=_o(i,Hd))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&Pt("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let E,k;if("string"==typeof o.mockUserToken)E=o.mockUserToken,k=C.MOCK_USER;else{E=(0,Me.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new O(vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");k=new C(j)}i._authCredentials=new ht(new Z(E,k))}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Us{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Us(this.firestore,e,this._key)}}class wa{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class Jc extends wa{constructor(e,t,o){super(e,t,sc(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Us(this.firestore,null,new An(e))}withConverter(e){return new Jc(this.firestore,e,this._path)}}function Qg(i,e,...t){if(i=(0,Me.m9)(i),Zf("collection","path",e),i instanceof Hd){const o=Nn.fromString(e,...t);return xm(o),new Jc(i,null,o)}{if(!(i instanceof Us||i instanceof Jc))throw new O(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Nn.fromString(e,...t));return xm(o),new Jc(i.firestore,null,o)}}function qf(i,e){if(i=_o(i,Hd),Zf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new O(vt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new wa(i,null,(t=e,new Bs(Nn.emptyPath(),t)));var t}function Hl(i,e,...t){if(i=(0,Me.m9)(i),1===arguments.length&&(e=Xi.A()),Zf("doc","path",e),i instanceof Hd){const o=Nn.fromString(e,...t);return Tm(o),new Us(i,null,new An(o))}{if(!(i instanceof Us||i instanceof Jc))throw new O(vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Nn.fromString(e,...t));return Tm(o),new Us(i.firestore,i instanceof Jc?i.converter:null,new An(o))}}function dy(i,e){return i=(0,Me.m9)(i),e=(0,Me.m9)(e),(i instanceof Us||i instanceof Jc)&&(e instanceof Us||e instanceof Jc)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Om(i,e){return i=(0,Me.m9)(i),e=(0,Me.m9)(e),i instanceof wa&&e instanceof wa&&i.firestore===e.firestore&&Sc(i._query,e._query)&&i.converter===e.converter
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}class Pm{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new Sh(this,"async_queue_retry"),this.qc=()=>{const t=Ah();t&&ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=Ah();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=Ah();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new I;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,l.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Jo(t))throw t;ve("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(o=>{this.Mc=o,this.Fc=!1;throw Je("INTERNAL UNHANDLED ERROR: ",function(m){let E=m.message||"";return m.stack&&(E=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),E}(o)),o}).then(o=>(this.Fc=!1,o))));return this.Nc=t,t}enqueueAfterDelay(e,t,o){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const u=Uh.createAndSchedule(this,e,t,o,m=>this.Qc(m));return this.$c.push(u),u}Uc(){this.Mc&&Yt()}verifyOperationInProgress(){}zc(){var e=this;return(0,l.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Kl(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Rm{constructor(){this._progressObserver={},this._taskCompletionResolver=new I,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const hy=-1;class _s extends Hd{constructor(e,t,o,u){super(e,t,o,u),this.type="firestore",this._queue=new Pm,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xg(this),this._firestoreClient.terminate()}}function Tv(i,e,t){t||(t="(default)");const o=(0,g._getProvider)(i,"firestore");if(o.isInitialized(t)){const u=o.getImmediate({identifier:t}),m=o.getOptions(t);if((0,Me.vZ)(m,e))return u;throw new O(vt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==e.cacheSizeBytes&&void 0!==e.localCache)throw new O(vt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==e.cacheSizeBytes&&-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new O(vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return o.initialize({options:e,instanceIdentifier:t})}function xv(i,e){const t="object"==typeof i?i:(0,g.getApp)(),o="string"==typeof i?i:e||"(default)",u=(0,g._getProvider)(t,"firestore").getImmediate({identifier:o});if(!u._initialized){const m=(0,Me.P0)("firestore");m&&Sm(u,...m)}return u}function Zs(i){return i._firestoreClient||Xg(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Xg(i){var e,t,o;const u=i._freezeSettings(),m=(E=i._databaseId,k=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",j=i._persistenceKey,new V(E,k,j,(ne=u).host,ne.ssl,ne.experimentalForceLongPolling,ne.experimentalAutoDetectLongPolling,ne.useFetchStreams));var E,k,j,ne;i._firestoreClient=new zg(i._authCredentials,i._appCheckCredentials,i._queue,m),null!==(t=u.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(o=u.cache)&&void 0!==o&&o._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.cache.kind,_offline:u.cache._offlineComponentProvider,_online:u.cache._onlineComponentProvider})}function Jg(i,e){rd(i=_o(i,_s));const t=Zs(i);if(t._uninitializedComponentsProvider)throw new O(vt.FAILED_PRECONDITION,"SDK cache is already specified.");Pt("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=i._freezeSettings(),u=new td;return oa(t,u,new wu(u,o.cacheSizeBytes,e?.forceOwnership))}function fy(i){rd(i=_o(i,_s));const e=Zs(i);if(e._uninitializedComponentsProvider)throw new O(vt.FAILED_PRECONDITION,"SDK cache is already specified.");Pt("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings(),o=new td;return oa(e,o,new ed(o,t.cacheSizeBytes))}function oa(i,e,t){const o=new I;return i.asyncQueue.enqueue((0,l.Z)(function*(){try{yield Gh(i,t),yield vm(i,e),o.resolve()}catch(u){const m=u;if(!Em(m))throw m;Pt("Error enabling indexeddb cache. Falling back to memory cache: "+m),o.reject(m)}})).then(()=>o.promise)}function e_(i){if(i._initialized&&!i._terminated)throw new O(vt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new I;return i._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{yield(t=(0,l.Z)(function*(o){if(!ps.D())return Promise.resolve();const u=o+"main";yield ps.delete(u)}),function(o){return t.apply(this,arguments)})(Pp(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}function py(i){return function(e){const t=new I;return e.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function sy(i,e){return Kh.apply(this,arguments)}(yield Zh(e),t)})),t.promise}(Zs(i=_o(i,_s)))}function my(i){return function Kg(i){return i.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield Wg(i),t=yield zd(i);return e.setNetworkEnabled(!0),function(o){const u=un(o);return u.du.delete(0),Ph(u)}(t)}))}(Zs(i=_o(i,_s)))}function t_(i){return function jg(i){return i.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield Wg(i),t=yield zd(i);return e.setNetworkEnabled(!1),(o=(0,l.Z)(function*(u){const m=un(u);m.du.add(0),yield Ul(m),m.mu.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(Zs(i=_o(i,_s)))}function gy(i){return(0,g._removeServiceInstance)(i.app,"firestore",i._databaseId.database),i._delete()}function n_(i,e){const t=Zs(i=_o(i,_s)),o=new Rm;return uy(t,i._databaseId,e,o),o}function r_(i,e){return function Yg(i,e){return i.asyncQueue.enqueue((0,l.Z)(function*(){return function(t,o){const u=un(t);return u.persistence.runTransaction("Get named query","readonly",m=>u.xs.getNamedQuery(m,o))}(yield nd(i),e)}))}(Zs(i=_o(i,_s)),e).then(t=>t?new wa(i,null,t.query):null)}function rd(i){if(i._initialized||i._terminated)throw new O(vt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(ts.fromBase64String(e))}catch(t){throw new O(vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jl(ts.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Tu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new O(vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function i_(){return new Tu("__name__")}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Kd{constructor(e){this._methodName=e}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class jd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Yn(this._lat,e._lat)||Yn(this._long,e._long)}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const km=/^__.*__$/;class bl{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new uu(e,this.data,t,this.fieldTransforms)}}class o_{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function s_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt()}}class pc{constructor(e,t,o,u,m,E){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===m&&this.Jc(),this.fieldTransforms=m||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new pc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Zc({path:o,ta:!1});return u.ea(e),u}na(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Zc({path:o,ta:!1});return u.Jc(),u}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Yd(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(s_(this.Yc)&&km.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class el{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Id(e)}ua(e,t,o,u=!1){return new pc({Yc:e,methodName:t,oa:o,path:Ei.emptyPath(),ta:!1,ra:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sa(i){const e=i._freezeSettings(),t=Id(i._databaseId);return new el(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Xh(i,e,t,o,u,m={}){const E=i.ua(m.merge||m.mergeFields?2:0,e,t,u);Gd("Data must be an object, but it was:",E,o);const k=Um(o,E);let j,ne;if(m.merge)j=new Lo(E.fieldMask),ne=E.fieldTransforms;else if(m.mergeFields){const Ae=[];for(const tt of m.mergeFields){const zt=Jh(e,tt,t);if(!E.contains(zt))throw new O(vt.INVALID_ARGUMENT,`Field '${zt}' is specified in your field mask but missing from your input data.`);tf(Ae,zt)||Ae.push(zt)}j=new Lo(Ae),ne=E.fieldTransforms.filter(tt=>j.covers(tt.field))}else j=null,ne=E.fieldTransforms;return new bl(new Fs(k),j,ne)}class $d extends Kd{_toFieldTransform(e){if(2!==e.Yc)throw 1===e.Yc?e.ia(`${this._methodName}() can only appear at the top level of your update data`):e.ia(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $d}}function a_(i,e,t){return new pc({Yc:3,oa:e.settings.oa,methodName:i._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Nm extends Kd{_toFieldTransform(e){return new ec(e.path,new ja)}isEqual(e){return e instanceof Nm}}class yy extends Kd{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=a_(this,e,!0),o=this.ca.map(m=>od(m,t)),u=new Pc(o);return new ec(e.path,u)}isEqual(e){return this===e}}class vy extends Kd{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=a_(this,e,!0),o=this.ca.map(m=>od(m,t)),u=new Hs(o);return new ec(e.path,u)}isEqual(e){return this===e}}class Lm extends Kd{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new Ea(e.serializer,Oc(e.serializer,this.aa));return new ec(e.path,t)}isEqual(e){return this===e}}function id(i,e,t,o){const u=i.ua(1,e,t);Gd("Data must be an object, but it was:",u,o);const m=[],E=Fs.empty();je(o,(j,ne)=>{const Ae=ef(e,j,t);ne=(0,Me.m9)(ne);const tt=u.na(Ae);if(ne instanceof $d)m.push(Ae);else{const zt=od(ne,tt);null!=zt&&(m.push(Ae),E.set(Ae,zt))}});const k=new Lo(m);return new o_(E,k,u.fieldTransforms)}function Fm(i,e,t,o,u,m){const E=i.ua(1,e,t),k=[Jh(e,o,t)],j=[u];if(m.length%2!=0)throw new O(vt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let zt=0;zt<m.length;zt+=2)k.push(Jh(e,m[zt])),j.push(m[zt+1]);const ne=[],Ae=Fs.empty();for(let zt=k.length-1;zt>=0;--zt)if(!tf(ne,k[zt])){const gn=k[zt];let Kn=j[zt];Kn=(0,Me.m9)(Kn);const Dr=E.na(gn);if(Kn instanceof $d)ne.push(gn);else{const ti=od(Kn,Dr);null!=ti&&(ne.push(gn),Ae.set(gn,ti))}}const tt=new Lo(ne);return new o_(Ae,tt,E.fieldTransforms)}function Bm(i,e,t,o=!1){return od(t,i.ua(o?4:3,e))}function od(i,e){if(Vm(i=(0,Me.m9)(i)))return Gd("Unsupported field value:",e,i),Um(i,e);if(i instanceof Kd)return function(t,o){if(!s_(o.Yc))throw o.ia(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ia(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,o){const u=[];let m=0;for(const E of t){let k=od(E,o.sa(m));null==k&&(k={nullValue:"NULL_VALUE"}),u.push(k),m++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,Me.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Oc(o.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=hi.fromDate(t);return{timestampValue:Da(o.serializer,u)}}if(t instanceof hi){const u=new hi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Da(o.serializer,u)}}if(t instanceof jd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jl)return{bytesValue:_f(o.serializer,t._byteString)};if(t instanceof Us){const u=o.databaseId,m=t.firestore._databaseId;if(!m.isEqual(u))throw o.ia(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ch(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ia(`Unsupported field value: ${Wd(t)}`)}(i,e)}function Um(i,e){const t={};return Nt(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):je(i,(o,u)=>{const m=od(u,e.Xc(o));null!=m&&(t[o]=m)}),{mapValue:{fields:t}}}function Vm(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof hi||i instanceof jd||i instanceof jl||i instanceof Us||i instanceof Kd)}function Gd(i,e,t){if(!Vm(t)||("object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o))){const o=Wd(t);throw"an object"===o?e.ia(i+" a custom object"):e.ia(i+" "+o)}var o}function Jh(i,e,t){if((e=(0,Me.m9)(e))instanceof Tu)return e._internalPath;if("string"==typeof e)return ef(i,e);throw Yd("Field path arguments must be of type string or ",i,!1,void 0,t)}const c_=new RegExp("[~\\*/\\[\\]]");function ef(i,e,t){if(e.search(c_)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Tu(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Yd(i,e,t,o,u){const m=o&&!o.isEmpty(),E=void 0!==u;let k=`Function ${e}() called with invalid data`;t&&(k+=" (via `toFirestore()`)"),k+=". ";let j="";return(m||E)&&(j+=" (found",m&&(j+=` in field ${o}`),E&&(j+=` in document ${u}`),j+=")"),new O(vt.INVALID_ARGUMENT,k+i+j)}function tf(i,e){return i.some(t=>t.isEqual(e))}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Zd{constructor(e,t,o,u,m){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Us(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new l_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class l_ extends Zd{data(){return super.data()}}function nf(i,e){return"string"==typeof e?ef(i,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function zm(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new O(vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qf{}class qd extends Qf{}function u_(i,e,...t){let o=[];e instanceof Qf&&o.push(e),o=o.concat(t),function(u){const m=u.filter(k=>k instanceof Xd).length,E=u.filter(k=>k instanceof Qd).length;if(m>1||m>0&&E>0)throw new O(vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)i=u._apply(i);return i}class Qd extends qd{constructor(e,t,o){super(),this._field=e,this._op=t,this._value=o,this.type="where"}static _create(e,t,o){return new Qd(e,t,o)}_apply(e){const t=this._parse(e);return Hm(e._query,t),new wa(e.firestore,e.converter,tu(e._query,t))}_parse(e){const t=Sa(e.firestore);return function(u,m,E,k,j,ne,Ae){let tt;if(j.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new O(vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){f_(Ae,ne);const zt=[];for(const gn of Ae)zt.push(h_(k,u,gn));tt={arrayValue:{values:zt}}}else tt=h_(k,u,Ae)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||f_(Ae,ne),tt=Bm(E,"where",Ae,"in"===ne||"not-in"===ne);return ro.create(j,ne,tt)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function by(i,e,t){const o=e,u=nf("where",i);return Qd._create(u,o,t)}class Xd extends Qf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Xd(e,t)}_parse(e){const t=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return 1===t.length?t[0]:So.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(o,u){let m=o;const E=u.getFlattenedFilters();for(const k of E)Hm(m,k),m=tu(m,k)}(e._query,t),new wa(e.firestore,e.converter,tu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Wm extends qd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wm(e,t)}_apply(e){const t=function(o,u,m){if(null!==o.startAt)throw new O(vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new O(vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new wc(u,m);return function(k,j){if(null===ll(k)){const ne=jc(k);null!==ne&&Km(k,ne,j.field)}}(o,E),E}(e._query,this._field,this._direction);return new wa(e.firestore,e.converter,function(o,u){const m=o.explicitOrderBy.concat([u]);return new Bs(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Ey(i,e="asc"){const t=e,o=nf("orderBy",i);return Wm._create(o,t)}class Xf extends qd{constructor(e,t,o){super(),this.type=e,this._limit=t,this._limitType=o}static _create(e,t,o){return new Xf(e,t,o)}_apply(e){return new wa(e.firestore,e.converter,nu(e._query,this._limit,this._limitType))}}function Dy(i){return Mm("limit",i),Xf._create("limit",i,"F")}function Cy(i){return Mm("limitToLast",i),Xf._create("limitToLast",i,"L")}class Jf extends qd{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new Jf(e,t,o)}_apply(e){const t=d_(e,this.type,this._docOrFields,this._inclusive);return new wa(e.firestore,e.converter,(o=e._query,u=t,new Bs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function wy(...i){return Jf._create("startAt",i,!0)}function Iy(...i){return Jf._create("startAfter",i,!1)}class ep extends qd{constructor(e,t,o){super(),this.type=e,this._docOrFields=t,this._inclusive=o}static _create(e,t,o){return new ep(e,t,o)}_apply(e){const t=d_(e,this.type,this._docOrFields,this._inclusive);return new wa(e.firestore,e.converter,(o=e._query,u=t,new Bs(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Ty(...i){return ep._create("endBefore",i,!1)}function xy(...i){return ep._create("endAt",i,!0)}function d_(i,e,t,o){if(t[0]=(0,Me.m9)(t[0]),t[0]instanceof Zd)return function(u,m,E,k,j){if(!k)throw new O(vt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const ne=[];for(const Ae of ac(u))if(Ae.field.isKeyField())ne.push(li(m,k.key));else{const tt=k.data.field(Ae.field);if(Ha(tt))throw new O(vt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===tt){const zt=Ae.field.canonicalString();throw new O(vt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${zt}' (used as the orderBy) does not exist.`)}ne.push(tt)}return new Ka(ne,j)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=Sa(i.firestore);return function(m,E,k,j,ne,Ae){const tt=m.explicitOrderBy;if(ne.length>tt.length)throw new O(vt.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const zt=[];for(let gn=0;gn<ne.length;gn++){const Kn=ne[gn];if(tt[gn].field.isKeyField()){if("string"!=typeof Kn)throw new O(vt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof Kn}`);if(!eu(m)&&-1!==Kn.indexOf("/"))throw new O(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${Kn}' contains a slash.`);const Dr=m.path.child(Nn.fromString(Kn));if(!An.isDocumentKey(Dr))throw new O(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${Dr}' is not because it contains an odd number of segments.`);const ti=new An(Dr);zt.push(li(E,ti))}else{const Dr=Bm(k,j,Kn);zt.push(Dr)}}return new Ka(zt,Ae)}(i._query,i.firestore._databaseId,u,e,t,o)}}function h_(i,e,t){if("string"==typeof(t=(0,Me.m9)(t))){if(""===t)throw new O(vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eu(e)&&-1!==t.indexOf("/"))throw new O(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Nn.fromString(t));if(!An.isDocumentKey(o))throw new O(vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return li(i,new An(o))}if(t instanceof Us)return li(i,t._key);throw new O(vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wd(t)}.`)}function f_(i,e){if(!Array.isArray(i)||0===i.length)throw new O(vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hm(i,e){if(e.isInequality()){const o=jc(i),u=e.field;if(null!==o&&!o.isEqual(u))throw new O(vt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${o.toString()}' and '${u.toString()}'`);const m=ll(i);null!==m&&Km(i,u,m)}const t=function(o,u){for(const m of o)for(const E of m.getFlattenedFilters())if(u.indexOf(E.op)>=0)return E.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw t===e.op?new O(vt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(vt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Km(i,e,t){if(!t.isEqual(e))throw new O(vt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class tp{convertValue(e,t="none"){switch(wt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Yt()}}convertObject(e,t){const o={};return je(e.fields,(u,m)=>{o[u]=this.convertValue(m,t)}),o}convertGeoPoint(e){return new jd(wo(e.latitude),wo(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=bc(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(na(e));default:return null}}convertTimestamp(e){const t=Ta(e);return new hi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Nn.fromString(e);fn(Gc(o));const u=new K(o.get(1),o.get(3)),m=new An(o.popFirst(5));return u.isEqual(t)||Je(`Document ${m} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),m}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function rf(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class p_ extends tp{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,t)}}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
class mc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sd extends Zd{constructor(e,t,o,u,m,E){super(e,t,o,u,E),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(nf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class of extends sd{data(e={}){return super.data(e)}}class Vc{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new mc(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new of(this._firestore,this._userDataWriter,o.key,o,new mc(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(E=>{const k=new of(o._firestore,o._userDataWriter,E.doc.key,E.doc,new mc(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter);return E.doc,{type:"added",doc:k,oldIndex:-1,newIndex:m++}})}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(E=>u||3!==E.type).map(E=>{const k=new of(o._firestore,o._userDataWriter,E.doc.key,E.doc,new mc(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter);let j=-1,ne=-1;return 0!==E.type&&(j=m.indexOf(E.doc.key),m=m.delete(E.doc.key)),1!==E.type&&(m=m.add(E.doc),ne=m.indexOf(E.doc.key)),{type:Sv(E.type),doc:k,oldIndex:j,newIndex:ne}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Sv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt()}}function $m(i,e){return i instanceof sd&&e instanceof sd?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Vc&&e instanceof Vc&&i._firestore===e._firestore&&Om(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ov(i){i=_o(i,Us);const e=_o(i.firestore,_s);return wm(Zs(e),i._key).then(t=>ip(e,i,t))}class $l extends tp{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Us(this.firestore,null,t)}}function __(i){i=_o(i,Us);const e=_o(i.firestore,_s),t=Zs(e),o=new $l(e);return function Cm(i,e){const t=new I;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(u,m,E){try{const k=yield function(j,ne){const Ae=un(j);return Ae.persistence.runTransaction("read document","readonly",tt=>Ae.localDocuments.getDocument(tt,ne))}(u,m);k.isFoundDocument()?E.resolve(k):k.isNoDocument()?E.resolve(null):E.reject(new O(vt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(k){const j=Pd(k,`Failed to get document '${m} from cache`);E.reject(j)}}),function(u,m,E){return o.apply(this,arguments)})(yield nd(i),e,t);var o})),t.promise}(t,i._key).then(u=>new sd(e,o,i._key,u,new mc(null!==u&&u.hasLocalMutations,!0),i.converter))}function Pv(i){i=_o(i,Us);const e=_o(i.firestore,_s);return wm(Zs(e),i._key,{source:"server"}).then(t=>ip(e,i,t))}function ad(i){i=_o(i,wa);const e=_o(i.firestore,_s),t=Zs(e),o=new $l(e);return zm(i._query),Yf(t,i._query).then(u=>new Vc(e,o,i,u))}function Oy(i){i=_o(i,wa);const e=_o(i.firestore,_s),t=Zs(e),o=new $l(e);return function $g(i,e){const t=new I;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(o=(0,l.Z)(function*(u,m,E){try{const k=yield wh(u,m,!0),j=new _l(m,k.Wi),ne=j.zu(k.documents),Ae=j.applyChanges(ne,!1);E.resolve(Ae.snapshot)}catch(k){const j=Pd(k,`Failed to execute query '${m} against cache`);E.reject(j)}}),function(u,m,E){return o.apply(this,arguments)})(yield nd(i),e,t);var o})),t.promise}(t,i._query).then(u=>new Vc(e,o,i,u))}function Py(i){i=_o(i,wa);const e=_o(i.firestore,_s),t=Zs(e),o=new $l(e);return Yf(t,i._query,{source:"server"}).then(u=>new Vc(e,o,i,u))}function Ry(i,e,t){i=_o(i,Us);const o=_o(i.firestore,_s),u=rf(i.converter,e,t);return sf(o,[Xh(Sa(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,Fo.none())])}function Jd(i,e,t,...o){i=_o(i,Us);const u=_o(i.firestore,_s),m=Sa(u);let E;return E="string"==typeof(e=(0,Me.m9)(e))||e instanceof Tu?Fm(m,"updateDoc",i._key,e,t,o):id(m,"updateDoc",i._key,e),sf(u,[E.toMutation(i._key,Fo.exists(!0))])}function ky(i){return sf(_o(i.firestore,_s),[new ul(i._key,Fo.none())])}function np(i,e){const t=_o(i.firestore,_s),o=Hl(i),u=rf(i.converter,e);return sf(t,[Xh(Sa(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Fo.exists(!1))]).then(()=>o)}function rp(i,...e){var t,o,u;i=(0,Me.m9)(i);let m={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||Kl(e[E])||(m=e[E],E++);const k={includeMetadataChanges:m.includeMetadataChanges};if(Kl(e[E])){const tt=e[E];e[E]=null===(t=tt.next)||void 0===t?void 0:t.bind(tt),e[E+1]=null===(o=tt.error)||void 0===o?void 0:o.bind(tt),e[E+2]=null===(u=tt.complete)||void 0===u?void 0:u.bind(tt)}let j,ne,Ae;if(i instanceof Us)ne=_o(i.firestore,_s),Ae=sc(i._key.path),j={next:tt=>{e[E]&&e[E](ip(ne,i,tt))},error:e[E+1],complete:e[E+2]};else{const tt=_o(i,wa);ne=_o(tt.firestore,_s),Ae=tt._query;const zt=new $l(ne);j={next:gn=>{e[E]&&e[E](new Vc(ne,zt,tt,gn))},error:e[E+1],complete:e[E+2]},zm(i._query)}return function(tt,zt,gn,Kn){const Dr=new $h(Kn),ti=new zh(zt,Dr,gn);return tt.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return Vh(yield Iu(tt),ti)})),()=>{Dr.yc(),tt.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return tm(yield Iu(tt),ti)}))}}(Zs(ne),Ae,k,j)}function Ya(i,e){return function Gg(i,e){const t=new $h(e);return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return o=yield Iu(i),u=t,un(o).Au.add(u),void u.next();var o,u})),()=>{t.yc(),i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return o=yield Iu(i),u=t,void un(o).Au.delete(u);var o,u}))}}(Zs(i=_o(i,_s)),Kl(e)?e:{next:e})}function sf(i,e){return function(t,o){const u=new I;return t.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function ry(i,e,t){return Og.apply(this,arguments)}(yield Zh(t),o,u)})),u.promise}(Zs(i),e)}function ip(i,e,t){const o=t.docs.get(e._key),u=new $l(i);return new sd(i,u,e._key,o,new mc(t.hasPendingWrites,t.fromCache),e.converter)}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const Wy={maxAttempts:5};
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class b_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Sa(e)}set(e,t,o){this._verifyNotCommitted();const u=xu(e,this._firestore),m=rf(u.converter,t,o),E=Xh(this._dataReader,"WriteBatch.set",u._key,m,null!==u.converter,o);return this._mutations.push(E.toMutation(u._key,Fo.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const m=xu(e,this._firestore);let E;return E="string"==typeof(t=(0,Me.m9)(t))||t instanceof Tu?Fm(this._dataReader,"WriteBatch.update",m._key,t,o,u):id(this._dataReader,"WriteBatch.update",m._key,t),this._mutations.push(E.toMutation(m._key,Fo.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xu(e,this._firestore);return this._mutations=this._mutations.concat(new ul(t._key,Fo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new O(vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xu(i,e){if((i=(0,Me.m9)(i)).firestore!==e)throw new O(vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class sp extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Sa(e)}get(e){const t=xu(e,this._firestore),o=new p_(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return Yt();const m=u[0];if(m.isFoundDocument())return new Zd(this._firestore,o,m.key,m,t.converter);if(m.isNoDocument())return new Zd(this._firestore,o,t._key,null,t.converter);throw Yt()})}set(e,t,o){const u=xu(e,this._firestore),m=rf(u.converter,t,o),E=Xh(this._dataReader,"Transaction.set",u._key,m,null!==u.converter,o);return this._transaction.set(u._key,E),this}update(e,t,o,...u){const m=xu(e,this._firestore);let E;return E="string"==typeof(t=(0,Me.m9)(t))||t instanceof Tu?Fm(this._dataReader,"Transaction.update",m._key,t,o,u):id(this._dataReader,"Transaction.update",m._key,t),this._transaction.update(m._key,E),this}delete(e){const t=xu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xu(e,this._firestore),o=new $l(this._firestore);return super.get(e).then(u=>new sd(this._firestore,o,t._key,u._document,new mc(!1,!1),t.converter))}}function E_(i,e,t){i=_o(i,_s);const o=Object.assign(Object.assign({},Wy),t);return function(u){if(u.maxAttempts<1)throw new O(vt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(u,m,E){const k=new I;return u.asyncQueue.enqueueAndForget((0,l.Z)(function*(){const j=yield Hg(u);new Vg(u.asyncQueue,j,E,m,k).run()})),k.promise}(Zs(i),u=>e(new sp(i,u)),o)
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}function D_(){return new $d("deleteField")}function C_(){return new Nm("serverTimestamp")}function Hy(...i){return new yy("arrayUnion",i)}function af(...i){return new vy("arrayRemove",i)}function cf(i){return new Lm("increment",i)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ky(i){return Zs(i=_o(i,_s)),new b_(i,e=>sf(i,e))
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}!function(i,e=!0){var t;t=g.SDK_VERSION,A=t,(0,g._registerComponent)(new z.wA("firestore",(t,{instanceIdentifier:o,options:u})=>{const m=t.getProvider("app").getImmediate(),E=new _s(new kt(t.getProvider("auth-internal")),new ci(t.getProvider("app-check-internal")),function(k,j){if(!Object.prototype.hasOwnProperty.apply(k.options,["projectId"]))throw new O(vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new K(k.options.projectId,j)}(m,o),m);return u=Object.assign({useFetchStreams:e},u),E._setSettings(u),E},"PUBLIC").setMultipleInstances(!0)),(0,g.registerVersion)(pe,"3.10.0",i),(0,g.registerVersion)(pe,"3.10.0","esm2017")}()},2090:(En,rt,S)=>{S.d(rt,{$s:()=>Se,BH:()=>at,DV:()=>dr,Dv:()=>wr,G6:()=>Lt,GJ:()=>Jn,L:()=>_e,LL:()=>Mt,P0:()=>bt,Pz:()=>Be,Rd:()=>We,Sg:()=>qt,UG:()=>Bt,UI:()=>hr,US:()=>we,Wj:()=>di,Wl:()=>ur,Yr:()=>Rt,ZB:()=>Le,ZR:()=>It,aH:()=>_t,b$:()=>jn,cI:()=>xn,dS:()=>xr,eu:()=>Gt,g5:()=>z,gK:()=>gr,gQ:()=>Lr,h$:()=>le,hl:()=>Ht,hu:()=>g,jU:()=>_n,k$:()=>Xt,lb:()=>Wn,m9:()=>Zn,ne:()=>ir,p$:()=>Re,pd:()=>Zr,q4:()=>gt,r3:()=>Br,ru:()=>en,tV:()=>se,uI:()=>X,ug:()=>Mn,vZ:()=>fi,w1:()=>ft,w9:()=>Nr,xO:()=>Di,xb:()=>ri,z$:()=>Ye,zI:()=>Qt,zd:()=>er});
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},g=function(He,Ue){if(!He)throw z(Ue)},z=function(He){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+He)},ue=function(He){const Ue=[];let fe=0;for(let oe=0;oe<He.length;oe++){let me=He.charCodeAt(oe);me<128?Ue[fe++]=me:me<2048?(Ue[fe++]=me>>6|192,Ue[fe++]=63&me|128):55296==(64512&me)&&oe+1<He.length&&56320==(64512&He.charCodeAt(oe+1))?(me=65536+((1023&me)<<10)+(1023&He.charCodeAt(++oe)),Ue[fe++]=me>>18|240,Ue[fe++]=me>>12&63|128,Ue[fe++]=me>>6&63|128,Ue[fe++]=63&me|128):(Ue[fe++]=me>>12|224,Ue[fe++]=me>>6&63|128,Ue[fe++]=63&me|128)}return Ue},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(He,Ue){if(!Array.isArray(He))throw Error("encodeByteArray takes an array as a parameter");this.init_();const fe=Ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,oe=[];for(let me=0;me<He.length;me+=3){const Ct=He[me],Ke=me+1<He.length,ee=Ke?He[me+1]:0,Oe=me+2<He.length,nt=Oe?He[me+2]:0,Ut=Ct>>2,tn=(3&Ct)<<4|ee>>4;let On=(15&ee)<<2|nt>>6,lt=63&nt;Oe||(lt=64,Ke||(On=64)),oe.push(fe[Ut],fe[tn],fe[On],fe[lt])}return oe.join("")},encodeString(He,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?btoa(He):this.encodeByteArray(ue(He),Ue)},decodeString(He,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?atob(He):function(He){const Ue=[];let fe=0,oe=0;for(;fe<He.length;){const me=He[fe++];if(me<128)Ue[oe++]=String.fromCharCode(me);else if(me>191&&me<224){const Ct=He[fe++];Ue[oe++]=String.fromCharCode((31&me)<<6|63&Ct)}else if(me>239&&me<365){const Oe=((7&me)<<18|(63&He[fe++])<<12|(63&He[fe++])<<6|63&He[fe++])-65536;Ue[oe++]=String.fromCharCode(55296+(Oe>>10)),Ue[oe++]=String.fromCharCode(56320+(1023&Oe))}else{const Ct=He[fe++],Ke=He[fe++];Ue[oe++]=String.fromCharCode((15&me)<<12|(63&Ct)<<6|63&Ke)}}return Ue.join("")}(this.decodeStringToByteArray(He,Ue))},decodeStringToByteArray(He,Ue){this.init_();const fe=Ue?this.charToByteMapWebSafe_:this.charToByteMap_,oe=[];for(let me=0;me<He.length;){const Ct=fe[He.charAt(me++)],ee=me<He.length?fe[He.charAt(me)]:0;++me;const nt=me<He.length?fe[He.charAt(me)]:64;++me;const tn=me<He.length?fe[He.charAt(me)]:64;if(++me,null==Ct||null==ee||null==nt||null==tn)throw new Pe;const On=Ct<<2|ee>>4;if(oe.push(On),64!==nt){const lt=ee<<4&240|nt>>2;if(oe.push(lt),64!==tn){const q=nt<<6&192|tn;oe.push(q)}}}return oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let He=0;He<this.ENCODED_VALS.length;He++)this.byteToCharMap_[He]=this.ENCODED_VALS.charAt(He),this.charToByteMap_[this.byteToCharMap_[He]]=He,this.byteToCharMapWebSafe_[He]=this.ENCODED_VALS_WEBSAFE.charAt(He),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[He]]=He,He>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(He)]=He,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(He)]=He)}}};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const le=function(He){const Ue=ue(He);return we.encodeByteArray(Ue,!0)},_e=function(He){return le(He).replace(/\./g,"")},se=function(He){try{return we.decodeString(He,!0)}catch(Ue){console.error("base64Decode failed: ",Ue)}return null};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Re(He){return Le(void 0,He)}function Le(He,Ue){if(!(Ue instanceof Object))return Ue;switch(Ue.constructor){case Date:return new Date(Ue.getTime());case Object:void 0===He&&(He={});break;case Array:He=[];break;default:return Ue}for(const fe in Ue)!Ue.hasOwnProperty(fe)||!Xe(fe)||(He[fe]=Le(He[fe],Ue[fe]));return He}function Xe(He){return"__proto__"!==He}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function We(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Et=()=>{try{return We().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const He=process.env.__FIREBASE_DEFAULTS__;return He?JSON.parse(He):void 0})()||(()=>{if(typeof document>"u")return;let He;try{He=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ue=He&&se(He[1]);return Ue&&JSON.parse(Ue)})()}catch(He){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${He}`)}},gt=He=>{var Ue,fe;return null===(fe=null===(Ue=Et())||void 0===Ue?void 0:Ue.emulatorHosts)||void 0===fe?void 0:fe[He]},bt=He=>{const Ue=gt(He);if(!Ue)return;const fe=Ue.lastIndexOf(":");if(fe<=0||fe+1===Ue.length)throw new Error(`Invalid host ${Ue} with no separate hostname and port!`);const oe=parseInt(Ue.substring(fe+1),10);return"["===Ue[0]?[Ue.substring(1,fe-1),oe]:[Ue.substring(0,fe),oe]},_t=()=>{var He;return null===(He=Et())||void 0===He?void 0:He.config},Be=He=>{var Ue;return null===(Ue=Et())||void 0===Ue?void 0:Ue[`_${He}`]};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class at{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ue,fe)=>{this.resolve=Ue,this.reject=fe})}wrapCallback(Ue){return(fe,oe)=>{fe?this.reject(fe):this.resolve(oe),"function"==typeof Ue&&(this.promise.catch(()=>{}),1===Ue.length?Ue(fe):Ue(fe,oe))}}}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function qt(He,Ue){if(He.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const oe=Ue||"demo-project",me=He.iat||0,Ct=He.sub||He.user_id;if(!Ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ke=Object.assign({iss:`https://securetoken.google.com/${oe}`,aud:oe,iat:me,exp:me+3600,auth_time:me,sub:Ct,user_id:Ct,firebase:{sign_in_provider:"custom",identities:{}}},He);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Ke)),""].join(".")}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Bt(){var He;const Ue=null===(He=Et())||void 0===He?void 0:He.forceEnvironment;if("node"===Ue)return!0;if("browser"===Ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _n(){return"object"==typeof self&&self.self===self}function en(){const He="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof He&&void 0!==He.id}function jn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ft(){const He=Ye();return He.indexOf("MSIE ")>=0||He.indexOf("Trident/")>=0}function Rt(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function Lt(){return!Bt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ht(){try{return"object"==typeof indexedDB}catch{return!1}}function Gt(){return new Promise((He,Ue)=>{try{let fe=!0;const oe="validate-browser-context-for-indexeddb-analytics-module",me=self.indexedDB.open(oe);me.onsuccess=()=>{me.result.close(),fe||self.indexedDB.deleteDatabase(oe),He(!0)},me.onupgradeneeded=()=>{fe=!1},me.onerror=()=>{var Ct;Ue((null===(Ct=me.error)||void 0===Ct?void 0:Ct.message)||"")}}catch(fe){Ue(fe)}})}function Qt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class It extends Error{constructor(Ue,fe,oe){super(fe),this.code=Ue,this.customData=oe,this.name="FirebaseError",Object.setPrototypeOf(this,It.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mt.prototype.create)}}class Mt{constructor(Ue,fe,oe){this.service=Ue,this.serviceName=fe,this.errors=oe}create(Ue,...fe){const oe=fe[0]||{},me=`${this.service}/${Ue}`,Ct=this.errors[Ue],Ke=Ct?function vn(He,Ue){return He.replace(on,(fe,oe)=>{const me=Ue[oe];return null!=me?String(me):`<${oe}?>`})}(Ct,oe):"Error",ee=`${this.serviceName}: ${Ke} (${me}).`;return new It(me,ee,oe)}}const on=/\{\$([^}]+)}/g;
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function xn(He){return JSON.parse(He)}function ur(He){return JSON.stringify(He)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const br=function(He){let Ue={},fe={},oe={},me="";try{const Ct=He.split(".");Ue=xn(se(Ct[0])||""),fe=xn(se(Ct[1])||""),me=Ct[2],oe=fe.d||{},delete fe.d}catch{}return{header:Ue,claims:fe,data:oe,signature:me}},Nr=function(He){const fe=br(He).claims;return!!fe&&"object"==typeof fe&&fe.hasOwnProperty("iat")},Jn=function(He){const Ue=br(He).claims;return"object"==typeof Ue&&!0===Ue.admin};
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Br(He,Ue){return Object.prototype.hasOwnProperty.call(He,Ue)}function dr(He,Ue){if(Object.prototype.hasOwnProperty.call(He,Ue))return He[Ue]}function ri(He){for(const Ue in He)if(Object.prototype.hasOwnProperty.call(He,Ue))return!1;return!0}function hr(He,Ue,fe){const oe={};for(const me in He)Object.prototype.hasOwnProperty.call(He,me)&&(oe[me]=Ue.call(fe,He[me],me,He));return oe}function fi(He,Ue){if(He===Ue)return!0;const fe=Object.keys(He),oe=Object.keys(Ue);for(const me of fe){if(!oe.includes(me))return!1;const Ct=He[me],Ke=Ue[me];if(Hn(Ct)&&Hn(Ke)){if(!fi(Ct,Ke))return!1}else if(Ct!==Ke)return!1}for(const me of oe)if(!fe.includes(me))return!1;return!0}function Hn(He){return null!==He&&"object"==typeof He}
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Di(He){const Ue=[];for(const[fe,oe]of Object.entries(He))Array.isArray(oe)?oe.forEach(me=>{Ue.push(encodeURIComponent(fe)+"="+encodeURIComponent(me))}):Ue.push(encodeURIComponent(fe)+"="+encodeURIComponent(oe));return Ue.length?"&"+Ue.join("&"):""}function er(He){const Ue={};return He.replace(/^\?/,"").split("&").forEach(oe=>{if(oe){const[me,Ct]=oe.split("=");Ue[decodeURIComponent(me)]=decodeURIComponent(Ct)}}),Ue}function Zr(He){const Ue=He.indexOf("?");if(!Ue)return"";const fe=He.indexOf("#",Ue);return He.substring(Ue,fe>0?fe:void 0)}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Lr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ue=1;Ue<this.blockSize;++Ue)this.pad_[Ue]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ue,fe){fe||(fe=0);const oe=this.W_;if("string"==typeof Ue)for(let tn=0;tn<16;tn++)oe[tn]=Ue.charCodeAt(fe)<<24|Ue.charCodeAt(fe+1)<<16|Ue.charCodeAt(fe+2)<<8|Ue.charCodeAt(fe+3),fe+=4;else for(let tn=0;tn<16;tn++)oe[tn]=Ue[fe]<<24|Ue[fe+1]<<16|Ue[fe+2]<<8|Ue[fe+3],fe+=4;for(let tn=16;tn<80;tn++){const On=oe[tn-3]^oe[tn-8]^oe[tn-14]^oe[tn-16];oe[tn]=4294967295&(On<<1|On>>>31)}let nt,Ut,me=this.chain_[0],Ct=this.chain_[1],Ke=this.chain_[2],ee=this.chain_[3],Oe=this.chain_[4];for(let tn=0;tn<80;tn++){tn<40?tn<20?(nt=ee^Ct&(Ke^ee),Ut=1518500249):(nt=Ct^Ke^ee,Ut=1859775393):tn<60?(nt=Ct&Ke|ee&(Ct|Ke),Ut=2400959708):(nt=Ct^Ke^ee,Ut=3395469782);const On=(me<<5|me>>>27)+nt+Oe+Ut+oe[tn]&4294967295;Oe=ee,ee=Ke,Ke=4294967295&(Ct<<30|Ct>>>2),Ct=me,me=On}this.chain_[0]=this.chain_[0]+me&4294967295,this.chain_[1]=this.chain_[1]+Ct&4294967295,this.chain_[2]=this.chain_[2]+Ke&4294967295,this.chain_[3]=this.chain_[3]+ee&4294967295,this.chain_[4]=this.chain_[4]+Oe&4294967295}update(Ue,fe){if(null==Ue)return;void 0===fe&&(fe=Ue.length);const oe=fe-this.blockSize;let me=0;const Ct=this.buf_;let Ke=this.inbuf_;for(;me<fe;){if(0===Ke)for(;me<=oe;)this.compress_(Ue,me),me+=this.blockSize;if("string"==typeof Ue){for(;me<fe;)if(Ct[Ke]=Ue.charCodeAt(me),++Ke,++me,Ke===this.blockSize){this.compress_(Ct),Ke=0;break}}else for(;me<fe;)if(Ct[Ke]=Ue[me],++Ke,++me,Ke===this.blockSize){this.compress_(Ct),Ke=0;break}}this.inbuf_=Ke,this.total_+=fe}digest(){const Ue=[];let fe=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let me=this.blockSize-1;me>=56;me--)this.buf_[me]=255&fe,fe/=256;this.compress_(this.buf_);let oe=0;for(let me=0;me<5;me++)for(let Ct=24;Ct>=0;Ct-=8)Ue[oe]=this.chain_[me]>>Ct&255,++oe;return Ue}}function ir(He,Ue){const fe=new rr(He,Ue);return fe.subscribe.bind(fe)}class rr{constructor(Ue,fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=fe,this.task.then(()=>{Ue(this)}).catch(oe=>{this.error(oe)})}next(Ue){this.forEachObserver(fe=>{fe.next(Ue)})}error(Ue){this.forEachObserver(fe=>{fe.error(Ue)}),this.close(Ue)}complete(){this.forEachObserver(Ue=>{Ue.complete()}),this.close()}subscribe(Ue,fe,oe){let me;if(void 0===Ue&&void 0===fe&&void 0===oe)throw new Error("Missing Observer.");me=function Rn(He,Ue){if("object"!=typeof He||null===He)return!1;for(const fe of Ue)if(fe in He&&"function"==typeof He[fe])return!0;return!1}(Ue,["next","error","complete"])?Ue:{next:Ue,error:fe,complete:oe},void 0===me.next&&(me.next=ar),void 0===me.error&&(me.error=ar),void 0===me.complete&&(me.complete=ar);const Ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?me.error(this.finalError):me.complete()}catch{}}),this.observers.push(me),Ct}unsubscribeOne(Ue){void 0===this.observers||void 0===this.observers[Ue]||(delete this.observers[Ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ue){if(!this.finalized)for(let fe=0;fe<this.observers.length;fe++)this.sendOne(fe,Ue)}sendOne(Ue,fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ue])try{fe(this.observers[Ue])}catch(oe){typeof console<"u"&&console.error&&console.error(oe)}})}close(Ue){this.finalized||(this.finalized=!0,void 0!==Ue&&(this.finalError=Ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ar(){}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const wr=function(He,Ue,fe,oe){let me;if(oe<Ue?me="at least "+Ue:oe>fe&&(me=0===fe?"none":"no more than "+fe),me){throw new Error(He+" failed: Was called with "+oe+(1===oe?" argument.":" arguments.")+" Expects "+me+".")}};function gr(He,Ue){return`${He} failed: ${Ue} argument `}function di(He,Ue,fe,oe){if((!oe||fe)&&"function"!=typeof fe)throw new Error(gr(He,Ue)+"must be a valid function.")}function Wn(He,Ue,fe,oe){if((!oe||fe)&&("object"!=typeof fe||null===fe))throw new Error(gr(He,Ue)+"must be a valid context object.")}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const xr=function(He){const Ue=[];let fe=0;for(let oe=0;oe<He.length;oe++){let me=He.charCodeAt(oe);if(me>=55296&&me<=56319){const Ct=me-55296;oe++,g(oe<He.length,"Surrogate pair missing trail surrogate.");me=65536+(Ct<<10)+(He.charCodeAt(oe)-56320)}me<128?Ue[fe++]=me:me<2048?(Ue[fe++]=me>>6|192,Ue[fe++]=63&me|128):me<65536?(Ue[fe++]=me>>12|224,Ue[fe++]=me>>6&63|128,Ue[fe++]=63&me|128):(Ue[fe++]=me>>18|240,Ue[fe++]=me>>12&63|128,Ue[fe++]=me>>6&63|128,Ue[fe++]=63&me|128)}return Ue},Mn=function(He){let Ue=0;for(let fe=0;fe<He.length;fe++){const oe=He.charCodeAt(fe);oe<128?Ue++:oe<2048?Ue+=2:oe>=55296&&oe<=56319?(Ue+=4,fe++):Ue+=3}return Ue},Xt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,He=>{const Ue=16*Math.random()|0;return("x"===He?Ue:3&Ue|8).toString(16)})},de=1e3,Ce=2,Ee=144e5,Y=.5;
/**
         * @license
         * Copyright 2022 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function Se(He,Ue=de,fe=Ce){const oe=Ue*Math.pow(fe,He),me=Math.round(Y*oe*(Math.random()-.5)*2);return Math.min(Ee,oe+me)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function Zn(He){return He&&He._delegate?He._delegate:He}},7693:(En,rt,S)=>{S.d(rt,{I:()=>z});var l=S(1135),g=S(4650);class z{constructor(){this.dialog$=new l.X(null)}}z.\u0275fac=function(Me){return new(Me||z)},z.\u0275prov=g.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"})},1748:(En,rt,S)=>{S.r(rt),S.d(rt,{MessengerModule:()=>mi});var l=S(6895),g=S(4650),z=S(4586),ue=S(7579),Me=S(2722),we=S(8505),Pe=S(5684),le=S(1085),_e=S(7693),se=S(926),Re=S(3336),Le=S(9101),Xe=S(1994),We=S(1281),St=S(9521),Ft=S(6451),Ie=S(727),Et=S(9646),gt=S(4408);let _t,bt=1;const Be={};function at(Ve){return Ve in Be&&(delete Be[Ve],!0)}const qt={setImmediate(Ve){const y=bt++;return Be[y]=!0,_t||(_t=Promise.resolve()),_t.then(()=>at(y)&&Ve()),y},clearImmediate(Ve){at(Ve)}},{setImmediate:X,clearImmediate:Bt}=qt,_n={setImmediate(...Ve){const{delegate:y}=_n;return(y?.setImmediate||X)(...Ve)},clearImmediate(Ve){const{delegate:y}=_n;return(y?.clearImmediate||Bt)(Ve)},delegate:void 0};class en extends gt.o{constructor(y,F){super(y,F),this.scheduler=y,this.work=F}requestAsyncId(y,F,ie=0){return null!==ie&&ie>0?super.requestAsyncId(y,F,ie):(y.actions.push(this),y._scheduled||(y._scheduled=_n.setImmediate(y.flush.bind(y,void 0))))}recycleAsyncId(y,F,ie=0){var De;if(null!=ie?ie>0:this.delay>0)return super.recycleAsyncId(y,F,ie);const{actions:qe}=y;null!=F&&(null===(De=qe[qe.length-1])||void 0===De?void 0:De.id)!==F&&(_n.clearImmediate(F),y._scheduled=void 0)}}var jn=S(7565);class Pn extends jn.v{flush(y){this._active=!0;const F=this._scheduled;this._scheduled=void 0;const{actions:ie}=this;let De;y=y||ie.shift();do{if(De=y.execute(y.state,y.delay))break}while((y=ie[0])&&y.id===F&&ie.shift());if(this._active=!1,De){for(;(y=ie[0])&&y.id===F&&ie.shift();)y.unsubscribe();throw De}}}const ft=new Pn(en);var Rt=S(8675),Lt=S(3900),Ht=S(5698),Gt=S(9300),Qt=S(4986),it=S(7272),It=S(4482),Mt=S(5403),vn=S(5032);var xn=S(9718),ur=S(5577),br=S(8421);function Un(Ve,y){return y?F=>(0,it.z)(y.pipe((0,Ht.q)(1),function on(){return(0,It.e)((Ve,y)=>{Ve.subscribe((0,Mt.x)(y,vn.Z))})}()),F.pipe(Un(Ve))):(0,ur.z)((F,ie)=>(0,br.Xf)(Ve(F,ie)).pipe((0,Ht.q)(1),(0,xn.h)(F)))}var vr=S(5963);function Nr(Ve,y=Qt.z){const F=(0,vr.H)(Ve,y);return Un(()=>F)}var Jn=S(3238);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Tr{attach(y){return this._attachedHost=y,y.attach(this)}detach(){let y=this._attachedHost;null!=y&&(this._attachedHost=null,y.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(y){this._attachedHost=y}}class Di extends Tr{constructor(y,F,ie,De,qe){super(),this.component=y,this.viewContainerRef=F,this.injector=ie,this.componentFactoryResolver=De,this.projectableNodes=qe}}class er extends Tr{constructor(y,F,ie,De){super(),this.templateRef=y,this.viewContainerRef=F,this.context=ie,this.injector=De}get origin(){return this.templateRef.elementRef}attach(y,F=this.context){return this.context=F,super.attach(y)}detach(){return this.context=void 0,super.detach()}}class Zr extends Tr{constructor(y){super(),this.element=y instanceof g.SBq?y.nativeElement:y}}class Lr{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(y){return y instanceof Di?(this._attachedPortal=y,this.attachComponentPortal(y)):y instanceof er?(this._attachedPortal=y,this.attachTemplatePortal(y)):this.attachDomPortal&&y instanceof Zr?(this._attachedPortal=y,this.attachDomPortal(y)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(y){this._disposeFn=y}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class rr extends Lr{constructor(y,F,ie,De,qe){super(),this.outletElement=y,this._componentFactoryResolver=F,this._appRef=ie,this._defaultInjector=De,this.attachDomPortal=Jt=>{this._document;const Dn=Jt.element;Dn.parentNode;const Ln=this._document.createComment("dom-portal");Dn.parentNode.insertBefore(Ln,Dn),this.outletElement.appendChild(Dn),this._attachedPortal=Jt,super.setDisposeFn(()=>{Ln.parentNode&&Ln.parentNode.replaceChild(Dn,Ln)})},this._document=qe}attachComponentPortal(y){const ie=(y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(y.component);let De;return y.viewContainerRef?(De=y.viewContainerRef.createComponent(ie,y.viewContainerRef.length,y.injector||y.viewContainerRef.injector,y.projectableNodes||void 0),this.setDisposeFn(()=>De.destroy())):(De=ie.create(y.injector||this._defaultInjector||g.zs3.NULL),this._appRef.attachView(De.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(De.hostView),De.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(De)),this._attachedPortal=y,De}attachTemplatePortal(y){let F=y.viewContainerRef,ie=F.createEmbeddedView(y.templateRef,y.context,{injector:y.injector});return ie.rootNodes.forEach(De=>this.outletElement.appendChild(De)),ie.detectChanges(),this.setDisposeFn(()=>{let De=F.indexOf(ie);-1!==De&&F.remove(De)}),this._attachedPortal=y,ie}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(y){return y.hostView.rootNodes[0]}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Rn extends er{constructor(y,F){super(y,F)}}Rn.\u0275fac=function(y){return new(y||Rn)(g.Y36(g.Rgc),g.Y36(g.s_b))},Rn.\u0275dir=g.lG2({type:Rn,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[g.qOj]});class ar extends Rn{}ar.\u0275fac=function(){let Ve;return function(F){return(Ve||(Ve=g.n5z(ar)))(F||ar)}}(),ar.\u0275dir=g.lG2({type:ar,selectors:[["","cdk-portal",""],["","portal",""]],exportAs:["cdkPortal"],features:[g._Bn([{provide:Rn,useExisting:ar}]),g.qOj]});class wr extends Lr{constructor(y,F,ie){super(),this._componentFactoryResolver=y,this._viewContainerRef=F,this._isInitialized=!1,this.attached=new g.vpe,this.attachDomPortal=De=>{this._document;const qe=De.element;qe.parentNode;const Jt=this._document.createComment("dom-portal");De.setAttachedHost(this),qe.parentNode.insertBefore(Jt,qe),this._getRootNode().appendChild(qe),this._attachedPortal=De,super.setDisposeFn(()=>{Jt.parentNode&&Jt.parentNode.replaceChild(qe,Jt)})},this._document=ie}get portal(){return this._attachedPortal}set portal(y){this.hasAttached()&&!y&&!this._isInitialized||(this.hasAttached()&&super.detach(),y&&super.attach(y),this._attachedPortal=y||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(y){y.setAttachedHost(this);const F=null!=y.viewContainerRef?y.viewContainerRef:this._viewContainerRef,De=(y.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(y.component),qe=F.createComponent(De,F.length,y.injector||F.injector,y.projectableNodes||void 0);return F!==this._viewContainerRef&&this._getRootNode().appendChild(qe.hostView.rootNodes[0]),super.setDisposeFn(()=>qe.destroy()),this._attachedPortal=y,this._attachedRef=qe,this.attached.emit(qe),qe}attachTemplatePortal(y){y.setAttachedHost(this);const F=this._viewContainerRef.createEmbeddedView(y.templateRef,y.context,{injector:y.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=y,this._attachedRef=F,this.attached.emit(F),F}_getRootNode(){const y=this._viewContainerRef.element.nativeElement;return y.nodeType===y.ELEMENT_NODE?y:y.parentNode}}wr.\u0275fac=function(y){return new(y||wr)(g.Y36(g._Vd),g.Y36(g.s_b),g.Y36(l.K0))},wr.\u0275dir=g.lG2({type:wr,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[g.qOj]});class gr extends wr{}gr.\u0275fac=function(){let Ve;return function(F){return(Ve||(Ve=g.n5z(gr)))(F||gr)}}(),gr.\u0275dir=g.lG2({type:gr,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[g._Bn([{provide:wr,useExisting:gr}]),g.qOj]});class jr{}jr.\u0275fac=function(y){return new(y||jr)},jr.\u0275mod=g.oAB({type:jr,declarations:[Rn,wr,ar,gr],exports:[Rn,wr,ar,gr]}),jr.\u0275inj=g.cJS({});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
var Wn=S(7340),xr=S(445),Mn=S(9751),Xt=S(1144),de=S(576),Ce=S(3268);const Ee=["addListener","removeListener"],Y=["addEventListener","removeEventListener"],Se=["on","off"];function pt(Ve,y,F,ie){if((0,de.m)(F)&&(ie=F,F=void 0),ie)return pt(Ve,y,F).pipe((0,Ce.Z)(ie));const[De,qe]=function Ue(Ve){return(0,de.m)(Ve.addEventListener)&&(0,de.m)(Ve.removeEventListener)}(Ve)?Y.map(Jt=>Dn=>Ve[Jt](y,Dn,F)):function Zn(Ve){return(0,de.m)(Ve.addListener)&&(0,de.m)(Ve.removeListener)}(Ve)?Ee.map(yn(Ve,y)):function He(Ve){return(0,de.m)(Ve.on)&&(0,de.m)(Ve.off)}(Ve)?Se.map(yn(Ve,y)):[];if(!De&&(0,Xt.z)(Ve))return(0,ur.z)(Jt=>pt(Jt,y,F))((0,br.Xf)(Ve));if(!De)throw new TypeError("Invalid event target");return new Mn.y(Jt=>{const Dn=(...Ln)=>Jt.next(1<Ln.length?Ln:Ln[0]);return De(Dn),()=>qe(Dn)})}function yn(Ve,y){return F=>ie=>Ve[F](y,ie)}const fe={schedule(Ve){let y=requestAnimationFrame,F=cancelAnimationFrame;const{delegate:ie}=fe;ie&&(y=ie.requestAnimationFrame,F=ie.cancelAnimationFrame);const De=y(qe=>{F=void 0,Ve(qe)});return new Ie.w0(()=>F?.(De))},requestAnimationFrame(...Ve){const{delegate:y}=fe;return(y?.requestAnimationFrame||requestAnimationFrame)(...Ve)},cancelAnimationFrame(...Ve){const{delegate:y}=fe;return(y?.cancelAnimationFrame||cancelAnimationFrame)(...Ve)},delegate:void 0};class oe extends gt.o{constructor(y,F){super(y,F),this.scheduler=y,this.work=F}requestAsyncId(y,F,ie=0){return null!==ie&&ie>0?super.requestAsyncId(y,F,ie):(y.actions.push(this),y._scheduled||(y._scheduled=fe.requestAnimationFrame(()=>y.flush(void 0))))}recycleAsyncId(y,F,ie=0){var De;if(null!=ie?ie>0:this.delay>0)return super.recycleAsyncId(y,F,ie);const{actions:qe}=y;null!=F&&(null===(De=qe[qe.length-1])||void 0===De?void 0:De.id)!==F&&(fe.cancelAnimationFrame(F),y._scheduled=void 0)}}class me extends jn.v{flush(y){this._active=!0;const F=this._scheduled;this._scheduled=void 0;const{actions:ie}=this;let De;y=y||ie.shift();do{if(De=y.execute(y.state,y.delay))break}while((y=ie[0])&&y.id===F&&ie.shift());if(this._active=!1,De){for(;(y=ie[0])&&y.id===F&&ie.shift();)y.unsubscribe();throw De}}}const Ct=new me(oe);function ee(Ve){return!!Ve&&(Ve instanceof Mn.y||(0,de.m)(Ve.lift)&&(0,de.m)(Ve.subscribe))}var Oe=S(1884);function Ut(Ve,y=Qt.z){return function nt(Ve){return(0,It.e)((y,F)=>{let ie=!1,De=null,qe=null,Jt=!1;const Dn=()=>{if(qe?.unsubscribe(),qe=null,ie){ie=!1;const qn=De;De=null,F.next(qn)}Jt&&F.complete()},Ln=()=>{qe=null,Jt&&F.complete()};y.subscribe((0,Mt.x)(F,qn=>{ie=!0,De=qn,qe||(0,br.Xf)(Ve(qn)).subscribe(qe=(0,Mt.x)(F,Dn,Ln))},()=>{Jt=!0,(!ie||!qe||qe.closed)&&F.complete()}))})}(()=>(0,vr.H)(Ve,y))}var tn=S(1520),On=S(3151),lt=S(3353),q=S(4033);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class Ne{}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Kt extends Ne{constructor(y){super(),this._data=y}connect(){return ee(this._data)?this._data:(0,Et.of)(this._data)}disconnect(){}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Ti{constructor(){this._listeners=[]}notify(y,F){for(let ie of this._listeners)ie(y,F)}listen(y){return this._listeners.push(y),()=>{this._listeners=this._listeners.filter(F=>y!==F)}}ngOnDestroy(){this._listeners=[]}}Ti.\u0275fac=function(y){return new(y||Ti)},Ti.\u0275prov=g.Yz7({token:Ti,factory:Ti.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const Or=new g.OlP("_ViewRepeater"),Vi=["contentWrapper"],io=new g.OlP("VIRTUAL_SCROLL_STRATEGY");
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Fi{constructor(y,F,ie){this._scrolledIndexChange=new ue.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,Oe.x)()),this._viewport=null,this._itemSize=y,this._minBufferPx=F,this._maxBufferPx=ie}attach(y){this._viewport=y,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(y,F,ie){this._itemSize=y,this._minBufferPx=F,this._maxBufferPx=ie,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(y,F){this._viewport&&this._viewport.scrollToOffset(y*this._itemSize,F)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const y=this._viewport.getRenderedRange(),F={start:y.start,end:y.end},ie=this._viewport.getViewportSize(),De=this._viewport.getDataLength();let qe=this._viewport.measureScrollOffset(),Jt=this._itemSize>0?qe/this._itemSize:0;if(F.end>De){const Ln=Math.ceil(ie/this._itemSize),qn=Math.max(0,Math.min(Jt,De-Ln));Jt!=qn&&(Jt=qn,qe=qn*this._itemSize,F.start=Math.floor(Jt)),F.end=Math.max(0,Math.min(De,F.start+Ln))}const Dn=qe-F.start*this._itemSize;if(Dn<this._minBufferPx&&0!=F.start){const Ln=Math.ceil((this._maxBufferPx-Dn)/this._itemSize);F.start=Math.max(0,F.start-Ln),F.end=Math.min(De,Math.ceil(Jt+(ie+this._minBufferPx)/this._itemSize))}else{const Ln=F.end*this._itemSize-(qe+ie);if(Ln<this._minBufferPx&&F.end!=De){const qn=Math.ceil((this._maxBufferPx-Ln)/this._itemSize);qn>0&&(F.end=Math.min(De,F.end+qn),F.start=Math.max(0,Math.floor(Jt-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(F),this._viewport.setRenderedContentOffset(this._itemSize*F.start),this._scrolledIndexChange.next(Math.floor(Jt))}}class Vn{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Fi(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(y){this._itemSize=(0,We.su)(y)}get minBufferPx(){return this._minBufferPx}set minBufferPx(y){this._minBufferPx=(0,We.su)(y)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(y){this._maxBufferPx=(0,We.su)(y)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}Vn.\u0275fac=function(y){return new(y||Vn)},Vn.\u0275dir=g.lG2({type:Vn,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[g._Bn([{provide:io,useFactory:function ai(Ve){return Ve._scrollStrategy},deps:[(0,g.Gpc)(()=>Vn)]}]),g.TTD]});class G{constructor(y,F,ie){this._ngZone=y,this._platform=F,this._scrolled=new ue.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ie}register(y){this.scrollContainers.has(y)||this.scrollContainers.set(y,y.elementScrolled().subscribe(()=>this._scrolled.next(y)))}deregister(y){const F=this.scrollContainers.get(y);F&&(F.unsubscribe(),this.scrollContainers.delete(y))}scrolled(y=20){return this._platform.isBrowser?new Mn.y(F=>{this._globalSubscription||this._addGlobalListener();const ie=y>0?this._scrolled.pipe(Ut(y)).subscribe(F):this._scrolled.subscribe(F);return this._scrolledCount++,()=>{ie.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Et.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((y,F)=>this.deregister(F)),this._scrolled.complete()}ancestorScrolled(y,F){const ie=this.getAncestorScrollContainers(y);return this.scrolled(F).pipe((0,Gt.h)(De=>!De||ie.indexOf(De)>-1))}getAncestorScrollContainers(y){const F=[];return this.scrollContainers.forEach((ie,De)=>{this._scrollableContainsElement(De,y)&&F.push(De)}),F}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(y,F){let ie=(0,We.fI)(F),De=y.getElementRef().nativeElement;do{if(ie==De)return!0}while(ie=ie.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>pt(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}G.\u0275fac=function(y){return new(y||G)(g.LFG(g.R0b),g.LFG(lt.t4),g.LFG(l.K0,8))},G.\u0275prov=g.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class ge{constructor(y,F,ie,De){this.elementRef=y,this.scrollDispatcher=F,this.ngZone=ie,this.dir=De,this._destroyed=new ue.x,this._elementScrolled=new Mn.y(qe=>this.ngZone.runOutsideAngular(()=>pt(this.elementRef.nativeElement,"scroll").pipe((0,Me.R)(this._destroyed)).subscribe(qe)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(y){const F=this.elementRef.nativeElement,ie=this.dir&&"rtl"==this.dir.value;null==y.left&&(y.left=ie?y.end:y.start),null==y.right&&(y.right=ie?y.start:y.end),null!=y.bottom&&(y.top=F.scrollHeight-F.clientHeight-y.bottom),ie&&0!=(0,lt._i)()?(null!=y.left&&(y.right=F.scrollWidth-F.clientWidth-y.left),2==(0,lt._i)()?y.left=y.right:1==(0,lt._i)()&&(y.left=y.right?-y.right:y.right)):null!=y.right&&(y.left=F.scrollWidth-F.clientWidth-y.right),this._applyScrollToOptions(y)}_applyScrollToOptions(y){const F=this.elementRef.nativeElement;(0,lt.Mq)()?F.scrollTo(y):(null!=y.top&&(F.scrollTop=y.top),null!=y.left&&(F.scrollLeft=y.left))}measureScrollOffset(y){const F="left",De=this.elementRef.nativeElement;if("top"==y)return De.scrollTop;if("bottom"==y)return De.scrollHeight-De.clientHeight-De.scrollTop;const qe=this.dir&&"rtl"==this.dir.value;return"start"==y?y=qe?"right":F:"end"==y&&(y=qe?F:"right"),qe&&2==(0,lt._i)()?y==F?De.scrollWidth-De.clientWidth-De.scrollLeft:De.scrollLeft:qe&&1==(0,lt._i)()?y==F?De.scrollLeft+De.scrollWidth-De.clientWidth:-De.scrollLeft:y==F?De.scrollLeft:De.scrollWidth-De.clientWidth-De.scrollLeft}}ge.\u0275fac=function(y){return new(y||ge)(g.Y36(g.SBq),g.Y36(G),g.Y36(g.R0b),g.Y36(xr.Is,8))},ge.\u0275dir=g.lG2({type:ge,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});class xt{constructor(y,F,ie){this._platform=y,this._change=new ue.x,this._changeListener=De=>{this._change.next(De)},this._document=ie,F.runOutsideAngular(()=>{if(y.isBrowser){const De=this._getWindow();De.addEventListener("resize",this._changeListener),De.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const y=this._getWindow();y.removeEventListener("resize",this._changeListener),y.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const y={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),y}getViewportRect(){const y=this.getViewportScrollPosition(),{width:F,height:ie}=this.getViewportSize();return{top:y.top,left:y.left,bottom:y.top+ie,right:y.left+F,height:ie,width:F}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const y=this._document,F=this._getWindow(),ie=y.documentElement,De=ie.getBoundingClientRect();return{top:-De.top||y.body.scrollTop||F.scrollY||ie.scrollTop||0,left:-De.left||y.body.scrollLeft||F.scrollX||ie.scrollLeft||0}}change(y=20){return y>0?this._change.pipe(Ut(y)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const y=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:y.innerWidth,height:y.innerHeight}:{width:0,height:0}}}xt.\u0275fac=function(y){return new(y||xt)(g.LFG(lt.t4),g.LFG(g.R0b),g.LFG(l.K0,8))},xt.\u0275prov=g.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const cn=new g.OlP("VIRTUAL_SCROLLABLE");class In extends ge{constructor(y,F,ie,De){super(y,F,ie,De)}measureViewportSize(y){const F=this.elementRef.nativeElement;return"horizontal"===y?F.clientWidth:F.clientHeight}}In.\u0275fac=function(y){return new(y||In)(g.Y36(g.SBq),g.Y36(G),g.Y36(g.R0b),g.Y36(xr.Is,8))},In.\u0275dir=g.lG2({type:In,features:[g.qOj]});const Er=typeof requestAnimationFrame<"u"?Ct:ft;class fr extends In{get orientation(){return this._orientation}set orientation(y){this._orientation!==y&&(this._orientation=y,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(y){this._appendOnly=(0,We.Ig)(y)}constructor(y,F,ie,De,qe,Jt,Dn,Ln){super(y,Jt,ie,qe),this.elementRef=y,this._changeDetectorRef=F,this._scrollStrategy=De,this.scrollable=Ln,this._platform=(0,g.f3M)(lt.t4),this._detachedSubject=new ue.x,this._renderedRangeSubject=new ue.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Mn.y(qn=>this._scrollStrategy.scrolledIndexChange.subscribe(tr=>Promise.resolve().then(()=>this.ngZone.run(()=>qn.next(tr))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ie.w0.EMPTY,this._viewportChanges=Dn.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,Rt.O)(null),Ut(0,Er)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(y){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=y,this._forOf.dataStream.pipe((0,Me.R)(this._detachedSubject)).subscribe(F=>{const ie=F.length;ie!==this._dataLength&&(this._dataLength=ie,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(y){return this.getElementRef().nativeElement.getBoundingClientRect()[y]}setTotalContentSize(y){this._totalContentSize!==y&&(this._totalContentSize=y,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(y){(
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
function zn(Ve,y){return Ve.start==y.start&&Ve.end==y.end})(this._renderedRange,y)||(this.appendOnly&&(y={start:0,end:Math.max(this._renderedRange.end,y.end)}),this._renderedRangeSubject.next(this._renderedRange=y),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(y,F="to-start"){y=this.appendOnly&&"to-start"===F?0:y;const ie=this.dir&&"rtl"==this.dir.value,De="horizontal"==this.orientation,qe=De?"X":"Y";let Dn=`translate${qe}(${Number((De&&ie?-1:1)*y)}px)`;this._renderedContentOffset=y,"to-end"===F&&(Dn+=` translate${qe}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Dn&&(this._renderedContentTransform=Dn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(y,F="auto"){const ie={behavior:F};"horizontal"===this.orientation?ie.start=y:ie.top=y,this.scrollable.scrollTo(ie)}scrollToIndex(y,F="auto"){this._scrollStrategy.scrollToIndex(y,F)}measureScrollOffset(y){let F;return F=this.scrollable==this?ie=>super.measureScrollOffset(ie):ie=>this.scrollable.measureScrollOffset(ie),Math.max(0,F(y??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(y){let F;const qe="rtl"==this.dir?.value;F="start"==y?qe?"right":"left":"end"==y?qe?"left":"right":y||("horizontal"===this.orientation?"left":"top");const Jt=this.scrollable.measureBoundingClientRectWithScrollOffset(F);return this.elementRef.nativeElement.getBoundingClientRect()[F]-Jt}measureRenderedContentSize(){const y=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?y.offsetWidth:y.offsetHeight}measureRangeSize(y){return this._forOf?this._forOf.measureRangeSize(y,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(y){y&&this._runAfterChangeDetection.push(y),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const y=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const F of y)F()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
function mt(Ve,y,F){const ie=F;if(!ie.getBoundingClientRect)return 0;const De=ie.getBoundingClientRect();return"horizontal"===Ve?"start"===y?De.left:De.right:"start"===y?De.top:De.bottom}fr.\u0275fac=function(y){return new(y||fr)(g.Y36(g.SBq),g.Y36(g.sBO),g.Y36(g.R0b),g.Y36(io,8),g.Y36(xr.Is,8),g.Y36(G),g.Y36(xt),g.Y36(cn,8))},fr.\u0275cmp=g.Xpm({type:fr,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(y,F){if(1&y&&g.Gf(Vi,7),2&y){let ie;g.iGM(ie=g.CRH())&&(F._contentWrapper=ie.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(y,F){2&y&&g.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===F.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==F.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[g._Bn([{provide:ge,useFactory:(Ve,y)=>Ve||y,deps:[[new g.FiY,new g.tBr(cn)],fr]}]),g.qOj,g.jDz],ngContentSelectors:["*"],decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(y,F){1&y&&(g.F$t(),g.TgZ(0,"div",0,1),g.Hsn(2),g.qZA(),g._UZ(3,"div",2)),2&y&&(g.xp6(3),g.Udp("width",F._totalContentWidth)("height",F._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0});class ct{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(y){this._cdkVirtualForOf=y,function yt(Ve){return Ve&&"function"==typeof Ve.connect&&!(Ve instanceof q.c)}(y)?this._dataSourceChanges.next(y):this._dataSourceChanges.next(new Kt(ee(y)?y:Array.from(y||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(y){this._needsUpdate=!0,this._cdkVirtualForTrackBy=y?(F,ie)=>y(F+(this._renderedRange?this._renderedRange.start:0),ie):void 0}set cdkVirtualForTemplate(y){y&&(this._needsUpdate=!0,this._template=y)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(y){this._viewRepeater.viewCacheSize=(0,We.su)(y)}constructor(y,F,ie,De,qe,Jt){this._viewContainerRef=y,this._template=F,this._differs=ie,this._viewRepeater=De,this._viewport=qe,this.viewChange=new ue.x,this._dataSourceChanges=new ue.x,this.dataStream=this._dataSourceChanges.pipe((0,Rt.O)(null),(0,tn.G)(),(0,Lt.w)(([Dn,Ln])=>this._changeDataSource(Dn,Ln)),(0,On.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new ue.x,this.dataStream.subscribe(Dn=>{this._data=Dn,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,Me.R)(this._destroyed)).subscribe(Dn=>{this._renderedRange=Dn,this.viewChange.observers.length&&Jt.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(y,F){if(y.start>=y.end)return 0;y.start<this._renderedRange.start||(y.end,this._renderedRange.end);const ie=y.start-this._renderedRange.start,De=y.end-y.start;let qe,Jt;for(let Dn=0;Dn<De;Dn++){const Ln=this._viewContainerRef.get(Dn+ie);if(Ln&&Ln.rootNodes.length){qe=Jt=Ln.rootNodes[0];break}}for(let Dn=De-1;Dn>-1;Dn--){const Ln=this._viewContainerRef.get(Dn+ie);if(Ln&&Ln.rootNodes.length){Jt=Ln.rootNodes[Ln.rootNodes.length-1];break}}return qe&&Jt?mt(F,"end",Jt)-mt(F,"start",qe):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const y=this._differ.diff(this._renderedItems);y?this._applyChanges(y):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((y,F)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(y,F):F)),this._needsUpdate=!0)}_changeDataSource(y,F){return y&&y.disconnect(this),this._needsUpdate=!0,F?F.connect(this):(0,Et.of)()}_updateContext(){const y=this._data.length;let F=this._viewContainerRef.length;for(;F--;){const ie=this._viewContainerRef.get(F);ie.context.index=this._renderedRange.start+F,ie.context.count=y,this._updateComputedContextProperties(ie.context),ie.detectChanges()}}_applyChanges(y){this._viewRepeater.applyChanges(y,this._viewContainerRef,(De,qe,Jt)=>this._getEmbeddedViewArgs(De,Jt),De=>De.item),y.forEachIdentityChange(De=>{this._viewContainerRef.get(De.currentIndex).context.$implicit=De.item});const F=this._data.length;let ie=this._viewContainerRef.length;for(;ie--;){const De=this._viewContainerRef.get(ie);De.context.index=this._renderedRange.start+ie,De.context.count=F,this._updateComputedContextProperties(De.context)}}_updateComputedContextProperties(y){y.first=0===y.index,y.last=y.index===y.count-1,y.even=y.index%2==0,y.odd=!y.even}_getEmbeddedViewArgs(y,F){return{templateRef:this._template,context:{$implicit:y.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:F}}}ct.\u0275fac=function(y){return new(y||ct)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4),g.Y36(Or),g.Y36(fr,4),g.Y36(g.R0b))},ct.\u0275dir=g.lG2({type:ct,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[g._Bn([{provide:Or,useClass:
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class nr{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(y,F,ie,De,qe){y.forEachOperation((Jt,Dn,Ln)=>{let qn,tr;if(null==Jt.previousIndex){const Vr=()=>ie(Jt,Dn,Ln);qn=this._insertView(Vr,Ln,F,De(Jt)),tr=qn?1:0}else null==Ln?(this._detachAndCacheView(Dn,F),tr=3):(qn=this._moveView(Dn,Ln,F,De(Jt)),tr=2);qe&&qe({context:qn?.context,operation:tr,record:Jt})})}detach(){for(const y of this._viewCache)y.destroy();this._viewCache=[]}_insertView(y,F,ie,De){const qe=this._insertViewFromCache(F,ie);if(qe)return void(qe.context.$implicit=De);const Jt=y();return ie.createEmbeddedView(Jt.templateRef,Jt.context,Jt.index)}_detachAndCacheView(y,F){const ie=F.detach(y);this._maybeCacheView(ie,F)}_moveView(y,F,ie,De){const qe=ie.get(y);return ie.move(qe,F),qe.context.$implicit=De,qe}_maybeCacheView(y,F){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(y);else{const ie=F.indexOf(y);-1===ie?y.destroy():F.remove(ie)}}_insertViewFromCache(y,F){const ie=this._viewCache.pop();return ie&&F.insert(ie,y),ie||null}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */}])]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Qe extends In{constructor(y,F,ie,De){super(y,F,ie,De)}measureBoundingClientRectWithScrollOffset(y){return this.getElementRef().nativeElement.getBoundingClientRect()[y]-this.measureScrollOffset(y)}}Qe.\u0275fac=function(y){return new(y||Qe)(g.Y36(g.SBq),g.Y36(G),g.Y36(g.R0b),g.Y36(xr.Is,8))},Qe.\u0275dir=g.lG2({type:Qe,selectors:[["","cdkVirtualScrollingElement",""]],hostAttrs:[1,"cdk-virtual-scrollable"],standalone:!0,features:[g._Bn([{provide:cn,useExisting:Qe}]),g.qOj]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class jt extends In{constructor(y,F,ie){super(new g.SBq(document.documentElement),y,F,ie),this._elementScrolled=new Mn.y(De=>this.ngZone.runOutsideAngular(()=>pt(document,"scroll").pipe((0,Me.R)(this._destroyed)).subscribe(De)))}measureBoundingClientRectWithScrollOffset(y){return this.getElementRef().nativeElement.getBoundingClientRect()[y]}}jt.\u0275fac=function(y){return new(y||jt)(g.Y36(G),g.Y36(g.R0b),g.Y36(xr.Is,8))},jt.\u0275dir=g.lG2({type:jt,selectors:[["cdk-virtual-scroll-viewport","scrollWindow",""]],standalone:!0,features:[g._Bn([{provide:cn,useExisting:jt}]),g.qOj]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class ln{}ln.\u0275fac=function(y){return new(y||ln)},ln.\u0275mod=g.oAB({type:ln,imports:[ge],exports:[ge]}),ln.\u0275inj=g.cJS({});class Gn{}Gn.\u0275fac=function(y){return new(y||Gn)},Gn.\u0275mod=g.oAB({type:Gn,imports:[xr.vT,ln,fr,Vn,ct,jt,Qe],exports:[xr.vT,ln,Vn,ct,fr,jt,Qe]}),Gn.\u0275inj=g.cJS({imports:[xr.vT,ln,fr,xr.vT,ln]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
var cr=S(2529);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const $r=(0,lt.Mq)();class _r{constructor(y,F){this._viewportRuler=y,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=F}attach(){}enable(){if(this._canBeEnabled()){const y=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=y.style.left||"",this._previousHTMLStyles.top=y.style.top||"",y.style.left=(0,We.HM)(-this._previousScrollPosition.left),y.style.top=(0,We.HM)(-this._previousScrollPosition.top),y.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const y=this._document.documentElement,F=this._document.body,ie=y.style,De=F.style,qe=ie.scrollBehavior||"",Jt=De.scrollBehavior||"";this._isEnabled=!1,ie.left=this._previousHTMLStyles.left,ie.top=this._previousHTMLStyles.top,y.classList.remove("cdk-global-scrollblock"),$r&&(ie.scrollBehavior=De.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$r&&(ie.scrollBehavior=qe,De.scrollBehavior=Jt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const F=this._document.body,ie=this._viewportRuler.getViewportSize();return F.scrollHeight>ie.height||F.scrollWidth>ie.width}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class Ii{constructor(y,F,ie,De){this._scrollDispatcher=y,this._ngZone=F,this._viewportRuler=ie,this._config=De,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(y){this._overlayRef,this._overlayRef=y}enable(){if(this._scrollSubscription)return;const y=this._scrollDispatcher.scrolled(0).pipe((0,Gt.h)(F=>!F||!this._overlayRef.overlayElement.contains(F.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=y.subscribe(()=>{const F=this._viewportRuler.getViewportScrollPosition().top;Math.abs(F-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=y.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class _i{enable(){}disable(){}attach(){}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function Oo(Ve,y){return y.some(F=>{const ie=Ve.bottom<F.top,De=Ve.top>F.bottom,qe=Ve.right<F.left,Jt=Ve.left>F.right;return ie||De||qe||Jt})}function Wr(Ve,y){return y.some(F=>{const ie=Ve.top<F.top,De=Ve.bottom>F.bottom,qe=Ve.left<F.left,Jt=Ve.right>F.right;return ie||De||qe||Jt})}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class jo{constructor(y,F,ie,De){this._scrollDispatcher=y,this._viewportRuler=F,this._ngZone=ie,this._config=De,this._scrollSubscription=null}attach(y){this._overlayRef,this._overlayRef=y}enable(){if(!this._scrollSubscription){const y=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(y).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const F=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ie,height:De}=this._viewportRuler.getViewportSize();Oo(F,[{width:ie,height:De,bottom:De,right:ie,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class si{constructor(y,F,ie,De){this._scrollDispatcher=y,this._viewportRuler=F,this._ngZone=ie,this.noop=()=>new _i,this.close=qe=>new Ii(this._scrollDispatcher,this._ngZone,this._viewportRuler,qe),this.block=()=>new _r(this._viewportRuler,this._document),this.reposition=qe=>new jo(this._scrollDispatcher,this._viewportRuler,this._ngZone,qe),this._document=De}}si.\u0275fac=function(y){return new(y||si)(g.LFG(G),g.LFG(xt),g.LFG(g.R0b),g.LFG(l.K0))},si.\u0275prov=g.Yz7({token:si,factory:si.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class ii{constructor(y){if(this.scrollStrategy=new _i,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,y){const F=Object.keys(y);for(const ie of F)void 0!==y[ie]&&(this[ie]=y[ie])}}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class Ar{constructor(y,F){this.connectionPair=y,this.scrollableViewProperties=F}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class qr{constructor(y){this._attachedOverlays=[],this._document=y}ngOnDestroy(){this.detach()}add(y){this.remove(y),this._attachedOverlays.push(y)}remove(y){const F=this._attachedOverlays.indexOf(y);F>-1&&this._attachedOverlays.splice(F,1),0===this._attachedOverlays.length&&this.detach()}}qr.\u0275fac=function(y){return new(y||qr)(g.LFG(l.K0))},qr.\u0275prov=g.Yz7({token:qr,factory:qr.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class xi extends qr{constructor(y,F){super(y),this._ngZone=F,this._keydownListener=ie=>{const De=this._attachedOverlays;for(let qe=De.length-1;qe>-1;qe--)if(De[qe]._keydownEvents.observers.length>0){const Jt=De[qe]._keydownEvents;this._ngZone?this._ngZone.run(()=>Jt.next(ie)):Jt.next(ie);break}}}add(y){super.add(y),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}xi.\u0275fac=function(y){return new(y||xi)(g.LFG(l.K0),g.LFG(g.R0b,8))},xi.\u0275prov=g.Yz7({token:xi,factory:xi.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Jr extends qr{constructor(y,F,ie){super(y),this._platform=F,this._ngZone=ie,this._cursorStyleIsSet=!1,this._pointerDownListener=De=>{this._pointerDownEventTarget=(0,lt.sA)(De)},this._clickListener=De=>{const qe=(0,lt.sA)(De),Jt="click"===De.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:qe;this._pointerDownEventTarget=null;const Dn=this._attachedOverlays.slice();for(let Ln=Dn.length-1;Ln>-1;Ln--){const qn=Dn[Ln];if(qn._outsidePointerEvents.observers.length<1||!qn.hasAttached())continue;if(qn.overlayElement.contains(qe)||qn.overlayElement.contains(Jt))break;const tr=qn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>tr.next(De)):tr.next(De)}}}add(y){if(super.add(y),!this._isAttached){const F=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(F)):this._addEventListeners(F),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=F.style.cursor,F.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const y=this._document.body;y.removeEventListener("pointerdown",this._pointerDownListener,!0),y.removeEventListener("click",this._clickListener,!0),y.removeEventListener("auxclick",this._clickListener,!0),y.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(y.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(y){y.addEventListener("pointerdown",this._pointerDownListener,!0),y.addEventListener("click",this._clickListener,!0),y.addEventListener("auxclick",this._clickListener,!0),y.addEventListener("contextmenu",this._clickListener,!0)}}Jr.\u0275fac=function(y){return new(y||Jr)(g.LFG(l.K0),g.LFG(lt.t4),g.LFG(g.R0b,8))},Jr.\u0275prov=g.Yz7({token:Jr,factory:Jr.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Ir{constructor(y,F){this._platform=F,this._document=y}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const y="cdk-overlay-container";if(this._platform.isBrowser||(0,lt.Oy)()){const ie=this._document.querySelectorAll(`.${y}[platform="server"], .${y}[platform="test"]`);for(let De=0;De<ie.length;De++)ie[De].remove()}const F=this._document.createElement("div");F.classList.add(y),(0,lt.Oy)()?F.setAttribute("platform","test"):this._platform.isBrowser||F.setAttribute("platform","server"),this._document.body.appendChild(F),this._containerElement=F}}Ir.\u0275fac=function(y){return new(y||Ir)(g.LFG(l.K0),g.LFG(lt.t4))},Ir.\u0275prov=g.Yz7({token:Ir,factory:Ir.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Ur{constructor(y,F,ie,De,qe,Jt,Dn,Ln,qn,tr=!1){this._portalOutlet=y,this._host=F,this._pane=ie,this._config=De,this._ngZone=qe,this._keyboardDispatcher=Jt,this._document=Dn,this._location=Ln,this._outsideClickDispatcher=qn,this._animationsDisabled=tr,this._backdropElement=null,this._backdropClick=new ue.x,this._attachments=new ue.x,this._detachments=new ue.x,this._locationChanges=Ie.w0.EMPTY,this._backdropClickHandler=Vr=>this._backdropClick.next(Vr),this._backdropTransitionendHandler=Vr=>{this._disposeBackdrop(Vr.target)},this._keydownEvents=new ue.x,this._outsidePointerEvents=new ue.x,De.scrollStrategy&&(this._scrollStrategy=De.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=De.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(y){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const F=this._portalOutlet.attach(y);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ht.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof F?.onDestroy&&F.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),F}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const y=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),y}dispose(){const y=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,y&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(y){y!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=y,this.hasAttached()&&(y.attach(this),this.updatePosition()))}updateSize(y){this._config={...this._config,...y},this._updateElementSize()}setDirection(y){this._config={...this._config,direction:y},this._updateElementDirection()}addPanelClass(y){this._pane&&this._toggleClasses(this._pane,y,!0)}removePanelClass(y){this._pane&&this._toggleClasses(this._pane,y,!1)}getDirection(){const y=this._config.direction;return y?"string"==typeof y?y:y.value:"ltr"}updateScrollStrategy(y){y!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=y,this.hasAttached()&&(y.attach(this),y.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const y=this._pane.style;y.width=(0,We.HM)(this._config.width),y.height=(0,We.HM)(this._config.height),y.minWidth=(0,We.HM)(this._config.minWidth),y.minHeight=(0,We.HM)(this._config.minHeight),y.maxWidth=(0,We.HM)(this._config.maxWidth),y.maxHeight=(0,We.HM)(this._config.maxHeight)}_togglePointerEvents(y){this._pane.style.pointerEvents=y?"":"none"}_attachBackdrop(){const y="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(y)})}):this._backdropElement.classList.add(y)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const y=this._backdropElement;if(y){if(this._animationsDisabled)return void this._disposeBackdrop(y);y.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{y.addEventListener("transitionend",this._backdropTransitionendHandler)}),y.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(y)},500))}}_toggleClasses(y,F,ie){const De=(0,We.Eq)(F||[]).filter(qe=>!!qe);De.length&&(ie?y.classList.add(...De):y.classList.remove(...De))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const y=this._ngZone.onStable.pipe((0,Me.R)((0,Ft.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),y.unsubscribe())})})}_disposeScrollStrategy(){const y=this._scrollStrategy;y&&(y.disable(),y.detach&&y.detach())}_disposeBackdrop(y){y&&(y.removeEventListener("click",this._backdropClickHandler),y.removeEventListener("transitionend",this._backdropTransitionendHandler),y.remove(),this._backdropElement===y&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const vo="cdk-overlay-connected-position-bounding-box",Si=/([A-Za-z%]+)$/;class ki{get positions(){return this._preferredPositions}constructor(y,F,ie,De,qe){this._viewportRuler=F,this._document=ie,this._platform=De,this._overlayContainer=qe,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ue.x,this._resizeSubscription=Ie.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(y)}attach(y){this._overlayRef&&this._overlayRef,this._validatePositions(),y.hostElement.classList.add(vo),this._overlayRef=y,this._boundingBox=y.hostElement,this._pane=y.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const y=this._originRect,F=this._overlayRect,ie=this._viewportRect,De=this._containerRect,qe=[];let Jt;for(let Dn of this._preferredPositions){let Ln=this._getOriginPoint(y,De,Dn),qn=this._getOverlayPoint(Ln,F,Dn),tr=this._getOverlayFit(qn,F,ie,Dn);if(tr.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Dn,Ln);this._canFitWithFlexibleDimensions(tr,qn,ie)?qe.push({position:Dn,origin:Ln,overlayRect:F,boundingBoxRect:this._calculateBoundingBoxRect(Ln,Dn)}):(!Jt||Jt.overlayFit.visibleArea<tr.visibleArea)&&(Jt={overlayFit:tr,overlayPoint:qn,originPoint:Ln,position:Dn,overlayRect:F})}if(qe.length){let Dn=null,Ln=-1;for(const qn of qe){const tr=qn.boundingBoxRect.width*qn.boundingBoxRect.height*(qn.position.weight||1);tr>Ln&&(Ln=tr,Dn=qn)}return this._isPushed=!1,void this._applyPosition(Dn.position,Dn.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Jt.position,Jt.originPoint);this._applyPosition(Jt.position,Jt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Pr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vo),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const y=this._lastPosition;if(y){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const F=this._getOriginPoint(this._originRect,this._containerRect,y);this._applyPosition(y,F)}else this.apply()}withScrollableContainers(y){return this._scrollables=y,this}withPositions(y){return this._preferredPositions=y,-1===y.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(y){return this._viewportMargin=y,this}withFlexibleDimensions(y=!0){return this._hasFlexibleDimensions=y,this}withGrowAfterOpen(y=!0){return this._growAfterOpen=y,this}withPush(y=!0){return this._canPush=y,this}withLockedPosition(y=!0){return this._positionLocked=y,this}setOrigin(y){return this._origin=y,this}withDefaultOffsetX(y){return this._offsetX=y,this}withDefaultOffsetY(y){return this._offsetY=y,this}withTransformOriginOn(y){return this._transformOriginSelector=y,this}_getOriginPoint(y,F,ie){let De,qe;if("center"==ie.originX)De=y.left+y.width/2;else{const Jt=this._isRtl()?y.right:y.left,Dn=this._isRtl()?y.left:y.right;De="start"==ie.originX?Jt:Dn}return F.left<0&&(De-=F.left),qe="center"==ie.originY?y.top+y.height/2:"top"==ie.originY?y.top:y.bottom,F.top<0&&(qe-=F.top),{x:De,y:qe}}_getOverlayPoint(y,F,ie){let De,qe;return De="center"==ie.overlayX?-F.width/2:"start"===ie.overlayX?this._isRtl()?-F.width:0:this._isRtl()?0:-F.width,qe="center"==ie.overlayY?-F.height/2:"top"==ie.overlayY?0:-F.height,{x:y.x+De,y:y.y+qe}}_getOverlayFit(y,F,ie,De){const qe=oo(F);let{x:Jt,y:Dn}=y,Ln=this._getOffset(De,"x"),qn=this._getOffset(De,"y");Ln&&(Jt+=Ln),qn&&(Dn+=qn);let tr=0-Jt,Vr=Jt+qe.width-ie.width,Ho=0-Dn,Go=Dn+qe.height-ie.height,Qi=this._subtractOverflows(qe.width,tr,Vr),Yo=this._subtractOverflows(qe.height,Ho,Go),Zo=Qi*Yo;return{visibleArea:Zo,isCompletelyWithinViewport:qe.width*qe.height===Zo,fitsInViewportVertically:Yo===qe.height,fitsInViewportHorizontally:Qi==qe.width}}_canFitWithFlexibleDimensions(y,F,ie){if(this._hasFlexibleDimensions){const De=ie.bottom-F.y,qe=ie.right-F.x,Jt=Bo(this._overlayRef.getConfig().minHeight),Dn=Bo(this._overlayRef.getConfig().minWidth),Ln=y.fitsInViewportVertically||null!=Jt&&Jt<=De,qn=y.fitsInViewportHorizontally||null!=Dn&&Dn<=qe;return Ln&&qn}return!1}_pushOverlayOnScreen(y,F,ie){if(this._previousPushAmount&&this._positionLocked)return{x:y.x+this._previousPushAmount.x,y:y.y+this._previousPushAmount.y};const De=oo(F),qe=this._viewportRect,Jt=Math.max(y.x+De.width-qe.width,0),Dn=Math.max(y.y+De.height-qe.height,0),Ln=Math.max(qe.top-ie.top-y.y,0),qn=Math.max(qe.left-ie.left-y.x,0);let tr=0,Vr=0;return tr=De.width<=qe.width?qn||-Jt:y.x<this._viewportMargin?qe.left-ie.left-y.x:0,Vr=De.height<=qe.height?Ln||-Dn:y.y<this._viewportMargin?qe.top-ie.top-y.y:0,this._previousPushAmount={x:tr,y:Vr},{x:y.x+tr,y:y.y+Vr}}_applyPosition(y,F){if(this._setTransformOrigin(y),this._setOverlayElementStyles(F,y),this._setBoundingBoxStyles(F,y),y.panelClass&&this._addPanelClasses(y.panelClass),this._lastPosition=y,this._positionChanges.observers.length){const ie=this._getScrollVisibility(),De=new Ar(y,ie);this._positionChanges.next(De)}this._isInitialRender=!1}_setTransformOrigin(y){if(!this._transformOriginSelector)return;const F=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ie,De=y.overlayY;ie="center"===y.overlayX?"center":this._isRtl()?"start"===y.overlayX?"right":"left":"start"===y.overlayX?"left":"right";for(let qe=0;qe<F.length;qe++)F[qe].style.transformOrigin=`${ie} ${De}`}_calculateBoundingBoxRect(y,F){const ie=this._viewportRect,De=this._isRtl();let qe,Jt,Dn;if("top"===F.overlayY)Jt=y.y,qe=ie.height-Jt+this._viewportMargin;else if("bottom"===F.overlayY)Dn=ie.height-y.y+2*this._viewportMargin,qe=ie.height-Dn+this._viewportMargin;else{const Go=Math.min(ie.bottom-y.y+ie.top,y.y),Qi=this._lastBoundingBoxSize.height;qe=2*Go,Jt=y.y-Go,qe>Qi&&!this._isInitialRender&&!this._growAfterOpen&&(Jt=y.y-Qi/2)}const Ln="start"===F.overlayX&&!De||"end"===F.overlayX&&De;let tr,Vr,Ho;if("end"===F.overlayX&&!De||"start"===F.overlayX&&De)Ho=ie.width-y.x+this._viewportMargin,tr=y.x-this._viewportMargin;else if(Ln)Vr=y.x,tr=ie.right-y.x;else{const Go=Math.min(ie.right-y.x+ie.left,y.x),Qi=this._lastBoundingBoxSize.width;tr=2*Go,Vr=y.x-Go,tr>Qi&&!this._isInitialRender&&!this._growAfterOpen&&(Vr=y.x-Qi/2)}return{top:Jt,left:Vr,bottom:Dn,right:Ho,width:tr,height:qe}}_setBoundingBoxStyles(y,F){const ie=this._calculateBoundingBoxRect(y,F);!this._isInitialRender&&!this._growAfterOpen&&(ie.height=Math.min(ie.height,this._lastBoundingBoxSize.height),ie.width=Math.min(ie.width,this._lastBoundingBoxSize.width));const De={};if(this._hasExactPosition())De.top=De.left="0",De.bottom=De.right=De.maxHeight=De.maxWidth="",De.width=De.height="100%";else{const qe=this._overlayRef.getConfig().maxHeight,Jt=this._overlayRef.getConfig().maxWidth;De.height=(0,We.HM)(ie.height),De.top=(0,We.HM)(ie.top),De.bottom=(0,We.HM)(ie.bottom),De.width=(0,We.HM)(ie.width),De.left=(0,We.HM)(ie.left),De.right=(0,We.HM)(ie.right),"center"===F.overlayX?De.alignItems="center":De.alignItems="end"===F.overlayX?"flex-end":"flex-start","center"===F.overlayY?De.justifyContent="center":De.justifyContent="bottom"===F.overlayY?"flex-end":"flex-start",qe&&(De.maxHeight=(0,We.HM)(qe)),Jt&&(De.maxWidth=(0,We.HM)(Jt))}this._lastBoundingBoxSize=ie,Pr(this._boundingBox.style,De)}_resetBoundingBoxStyles(){Pr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Pr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(y,F){const ie={},De=this._hasExactPosition(),qe=this._hasFlexibleDimensions,Jt=this._overlayRef.getConfig();if(De){const tr=this._viewportRuler.getViewportScrollPosition();Pr(ie,this._getExactOverlayY(F,y,tr)),Pr(ie,this._getExactOverlayX(F,y,tr))}else ie.position="static";let Dn="",Ln=this._getOffset(F,"x"),qn=this._getOffset(F,"y");Ln&&(Dn+=`translateX(${Ln}px) `),qn&&(Dn+=`translateY(${qn}px)`),ie.transform=Dn.trim(),Jt.maxHeight&&(De?ie.maxHeight=(0,We.HM)(Jt.maxHeight):qe&&(ie.maxHeight="")),Jt.maxWidth&&(De?ie.maxWidth=(0,We.HM)(Jt.maxWidth):qe&&(ie.maxWidth="")),Pr(this._pane.style,ie)}_getExactOverlayY(y,F,ie){let De={top:"",bottom:""},qe=this._getOverlayPoint(F,this._overlayRect,y);if(this._isPushed&&(qe=this._pushOverlayOnScreen(qe,this._overlayRect,ie)),"bottom"===y.overlayY){const Jt=this._document.documentElement.clientHeight;De.bottom=Jt-(qe.y+this._overlayRect.height)+"px"}else De.top=(0,We.HM)(qe.y);return De}_getExactOverlayX(y,F,ie){let Jt,De={left:"",right:""},qe=this._getOverlayPoint(F,this._overlayRect,y);if(this._isPushed&&(qe=this._pushOverlayOnScreen(qe,this._overlayRect,ie)),Jt=this._isRtl()?"end"===y.overlayX?"left":"right":"end"===y.overlayX?"right":"left","right"===Jt){const Dn=this._document.documentElement.clientWidth;De.right=Dn-(qe.x+this._overlayRect.width)+"px"}else De.left=(0,We.HM)(qe.x);return De}_getScrollVisibility(){const y=this._getOriginRect(),F=this._pane.getBoundingClientRect(),ie=this._scrollables.map(De=>De.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Wr(y,ie),isOriginOutsideView:Oo(y,ie),isOverlayClipped:Wr(F,ie),isOverlayOutsideView:Oo(F,ie)}}_subtractOverflows(y,...F){return F.reduce((ie,De)=>ie-Math.max(De,0),y)}_getNarrowedViewportRect(){const y=this._document.documentElement.clientWidth,F=this._document.documentElement.clientHeight,ie=this._viewportRuler.getViewportScrollPosition();return{top:ie.top+this._viewportMargin,left:ie.left+this._viewportMargin,right:ie.left+y-this._viewportMargin,bottom:ie.top+F-this._viewportMargin,width:y-2*this._viewportMargin,height:F-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(y,F){return"x"===F?null==y.offsetX?this._offsetX:y.offsetX:null==y.offsetY?this._offsetY:y.offsetY}_validatePositions(){}_addPanelClasses(y){this._pane&&(0,We.Eq)(y).forEach(F=>{""!==F&&-1===this._appliedPanelClasses.indexOf(F)&&(this._appliedPanelClasses.push(F),this._pane.classList.add(F))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(y=>{this._pane.classList.remove(y)}),this._appliedPanelClasses=[])}_getOriginRect(){const y=this._origin;if(y instanceof g.SBq)return y.nativeElement.getBoundingClientRect();if(y instanceof Element)return y.getBoundingClientRect();const F=y.width||0,ie=y.height||0;return{top:y.y,bottom:y.y+ie,left:y.x,right:y.x+F,height:ie,width:F}}}function Pr(Ve,y){for(let F in y)y.hasOwnProperty(F)&&(Ve[F]=y[F]);return Ve}function Bo(Ve){if("number"!=typeof Ve&&null!=Ve){const[y,F]=Ve.split(Si);return F&&"px"!==F?null:parseFloat(y)}return Ve||null}function oo(Ve){return{top:Math.floor(Ve.top),right:Math.floor(Ve.right),bottom:Math.floor(Ve.bottom),left:Math.floor(Ve.left),width:Math.floor(Ve.width),height:Math.floor(Ve.height)}}const ko="cdk-global-overlay-wrapper";
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class Po{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(y){const F=y.getConfig();this._overlayRef=y,this._width&&!F.width&&y.updateSize({width:this._width}),this._height&&!F.height&&y.updateSize({height:this._height}),y.hostElement.classList.add(ko),this._isDisposed=!1}top(y=""){return this._bottomOffset="",this._topOffset=y,this._alignItems="flex-start",this}left(y=""){return this._xOffset=y,this._xPosition="left",this}bottom(y=""){return this._topOffset="",this._bottomOffset=y,this._alignItems="flex-end",this}right(y=""){return this._xOffset=y,this._xPosition="right",this}start(y=""){return this._xOffset=y,this._xPosition="start",this}end(y=""){return this._xOffset=y,this._xPosition="end",this}width(y=""){return this._overlayRef?this._overlayRef.updateSize({width:y}):this._width=y,this}height(y=""){return this._overlayRef?this._overlayRef.updateSize({height:y}):this._height=y,this}centerHorizontally(y=""){return this.left(y),this._xPosition="center",this}centerVertically(y=""){return this.top(y),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const y=this._overlayRef.overlayElement.style,F=this._overlayRef.hostElement.style,ie=this._overlayRef.getConfig(),{width:De,height:qe,maxWidth:Jt,maxHeight:Dn}=ie,Ln=!("100%"!==De&&"100vw"!==De||Jt&&"100%"!==Jt&&"100vw"!==Jt),qn=!("100%"!==qe&&"100vh"!==qe||Dn&&"100%"!==Dn&&"100vh"!==Dn),tr=this._xPosition,Vr=this._xOffset,Ho="rtl"===this._overlayRef.getConfig().direction;let Go="",Qi="",Yo="";Ln?Yo="flex-start":"center"===tr?(Yo="center",Ho?Qi=Vr:Go=Vr):Ho?"left"===tr||"end"===tr?(Yo="flex-end",Go=Vr):("right"===tr||"start"===tr)&&(Yo="flex-start",Qi=Vr):"left"===tr||"start"===tr?(Yo="flex-start",Go=Vr):("right"===tr||"end"===tr)&&(Yo="flex-end",Qi=Vr),y.position=this._cssPosition,y.marginLeft=Ln?"0":Go,y.marginTop=qn?"0":this._topOffset,y.marginBottom=this._bottomOffset,y.marginRight=Ln?"0":Qi,F.justifyContent=Yo,F.alignItems=qn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const y=this._overlayRef.overlayElement.style,F=this._overlayRef.hostElement,ie=F.style;F.classList.remove(ko),ie.justifyContent=ie.alignItems=y.marginTop=y.marginBottom=y.marginLeft=y.marginRight=y.position="",this._overlayRef=null,this._isDisposed=!0}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class po{constructor(y,F,ie,De){this._viewportRuler=y,this._document=F,this._platform=ie,this._overlayContainer=De}global(){return new Po}flexibleConnectedTo(y){return new ki(y,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}po.\u0275fac=function(y){return new(y||po)(g.LFG(xt),g.LFG(l.K0),g.LFG(lt.t4),g.LFG(Ir))},po.\u0275prov=g.Yz7({token:po,factory:po.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
let Io=0;class Oi{constructor(y,F,ie,De,qe,Jt,Dn,Ln,qn,tr,Vr,Ho){this.scrollStrategies=y,this._overlayContainer=F,this._componentFactoryResolver=ie,this._positionBuilder=De,this._keyboardDispatcher=qe,this._injector=Jt,this._ngZone=Dn,this._document=Ln,this._directionality=qn,this._location=tr,this._outsideClickDispatcher=Vr,this._animationsModuleType=Ho}create(y){const F=this._createHostElement(),ie=this._createPaneElement(F),De=this._createPortalOutlet(ie),qe=new ii(y);return qe.direction=qe.direction||this._directionality.value,new Ur(De,F,ie,qe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(y){const F=this._document.createElement("div");return F.id="cdk-overlay-"+Io++,F.classList.add("cdk-overlay-pane"),y.appendChild(F),F}_createHostElement(){const y=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(y),y}_createPortalOutlet(y){return this._appRef||(this._appRef=this._injector.get(g.z2F)),new rr(y,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}Oi.\u0275fac=function(y){return new(y||Oi)(g.LFG(si),g.LFG(Ir),g.LFG(g._Vd),g.LFG(po),g.LFG(xi),g.LFG(g.zs3),g.LFG(g.R0b),g.LFG(l.K0),g.LFG(xr.Is),g.LFG(l.Ye),g.LFG(Jr),g.LFG(g.QbO,8))},Oi.\u0275prov=g.Yz7({token:Oi,factory:Oi.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const Ms=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],To=new g.OlP("cdk-connected-overlay-scroll-strategy");class mo{constructor(y){this.elementRef=y}}mo.\u0275fac=function(y){return new(y||mo)(g.Y36(g.SBq))},mo.\u0275dir=g.lG2({type:mo,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});class Pi{get offsetX(){return this._offsetX}set offsetX(y){this._offsetX=y,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(y){this._offsetY=y,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(y){this._hasBackdrop=(0,We.Ig)(y)}get lockPosition(){return this._lockPosition}set lockPosition(y){this._lockPosition=(0,We.Ig)(y)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(y){this._flexibleDimensions=(0,We.Ig)(y)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(y){this._growAfterOpen=(0,We.Ig)(y)}get push(){return this._push}set push(y){this._push=(0,We.Ig)(y)}constructor(y,F,ie,De,qe){this._overlay=y,this._dir=qe,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ie.w0.EMPTY,this._attachSubscription=Ie.w0.EMPTY,this._detachSubscription=Ie.w0.EMPTY,this._positionSubscription=Ie.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new g.vpe,this.positionChange=new g.vpe,this.attach=new g.vpe,this.detach=new g.vpe,this.overlayKeydown=new g.vpe,this.overlayOutsideClick=new g.vpe,this._templatePortal=new er(F,ie),this._scrollStrategyFactory=De,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(y){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),y.origin&&this.open&&this._position.apply()),y.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Ms);const y=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=y.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=y.detachments().subscribe(()=>this.detach.emit()),y.keydownEvents().subscribe(F=>{this.overlayKeydown.next(F),F.keyCode===St.hY&&!this.disableClose&&!(0,St.Vb)(F)&&(F.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(F=>{this.overlayOutsideClick.next(F)})}_buildConfig(){const y=this._position=this.positionStrategy||this._createPositionStrategy(),F=new ii({direction:this._dir,positionStrategy:y,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(F.width=this.width),(this.height||0===this.height)&&(F.height=this.height),(this.minWidth||0===this.minWidth)&&(F.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(F.minHeight=this.minHeight),this.backdropClass&&(F.backdropClass=this.backdropClass),this.panelClass&&(F.panelClass=this.panelClass),F}_updatePositionStrategy(y){const F=this.positions.map(ie=>({originX:ie.originX,originY:ie.originY,overlayX:ie.overlayX,overlayY:ie.overlayY,offsetX:ie.offsetX||this.offsetX,offsetY:ie.offsetY||this.offsetY,panelClass:ie.panelClass||void 0}));return y.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(F).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const y=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(y),y}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof mo?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(y=>{this.backdropClick.emit(y)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,cr.o)(()=>this.positionChange.observers.length>0)).subscribe(y=>{this.positionChange.emit(y),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}Pi.\u0275fac=function(y){return new(y||Pi)(g.Y36(Oi),g.Y36(g.Rgc),g.Y36(g.s_b),g.Y36(To),g.Y36(xr.Is,8))},Pi.\u0275dir=g.lG2({type:Pi,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[g.TTD]});const $o={provide:To,deps:[Oi],useFactory:function Gr(Ve){return()=>Ve.scrollStrategies.reposition()}};
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class lo{}lo.\u0275fac=function(y){return new(y||lo)},lo.\u0275mod=g.oAB({type:lo,imports:[xr.vT,jr,Gn,Pi,mo],exports:[Pi,mo,Gn]}),lo.\u0275inj=g.cJS({providers:[Oi,$o],imports:[xr.vT,jr,Gn,Gn]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class bo extends Ir{constructor(y,F){super(y,F)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(y){const F=this._getEventName();F&&(this._fullScreenListener&&this._document.removeEventListener(F,this._fullScreenListener),this._document.addEventListener(F,y),this._fullScreenListener=y)}_getEventName(){if(!this._fullScreenEventName){const y=this._document;y.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":y.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":y.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":y.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const y=this._document;return y.fullscreenElement||y.webkitFullscreenElement||y.mozFullScreenElement||y.msFullscreenElement||null}}bo.\u0275fac=function(y){return new(y||bo)(g.LFG(l.K0),g.LFG(lt.t4))},bo.\u0275prov=g.Yz7({token:bo,factory:bo.\u0275fac,providedIn:"root"});function ao(Ve,y){1&Ve&&(g.O4$(),g.TgZ(0,"svg",3),g._UZ(1,"polygon",4),g.qZA())}const uo=[[["mat-icon"],["","matMenuItemIcon",""]],"*"];function ho(Ve,y){if(1&Ve){const F=g.EpF();g.TgZ(0,"div",0),g.NdJ("keydown",function(De){g.CHM(F);const qe=g.oxw();return g.KtG(qe._handleKeydown(De))})("click",function(){g.CHM(F);const De=g.oxw();return g.KtG(De.closed.emit("click"))})("@transformMenu.start",function(De){g.CHM(F);const qe=g.oxw();return g.KtG(qe._onAnimationStart(De))})("@transformMenu.done",function(De){g.CHM(F);const qe=g.oxw();return g.KtG(qe._onAnimationDone(De))}),g.TgZ(1,"div",1),g.Hsn(2),g.qZA()()}if(2&Ve){const F=g.oxw();g.Q6J("id",F.panelId)("ngClass",F._classList)("@transformMenu",F._panelAnimationState),g.uIk("aria-label",F.ariaLabel||null)("aria-labelledby",F.ariaLabelledby||null)("aria-describedby",F.ariaDescribedby||null)}}const Mo=new g.OlP("MAT_MENU_PANEL"),Uo=(0,Jn.Kr)((0,Jn.Id)(class{}));
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class Vo extends Uo{constructor(y,F,ie,De,qe){super(),this._elementRef=y,this._document=F,this._focusMonitor=ie,this._parentMenu=De,this._changeDetectorRef=qe,this.role="menuitem",this._hovered=new ue.x,this._focused=new ue.x,this._highlighted=!1,this._triggersSubmenu=!1,De?.addItem?.(this)}focus(y,F){this._focusMonitor&&y?this._focusMonitor.focusVia(this._getHostElement(),y,F):this._getHostElement().focus(F),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(y){this.disabled&&(y.preventDefault(),y.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const y=this._elementRef.nativeElement.cloneNode(!0),F=y.querySelectorAll("mat-icon, .material-icons");for(let ie=0;ie<F.length;ie++)F[ie].remove();return y.textContent?.trim()||""}_setHighlighted(y){this._highlighted=y,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(y){this._triggersSubmenu=y,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}Vo.\u0275fac=function(y){return new(y||Vo)(g.Y36(g.SBq),g.Y36(l.K0),g.Y36(Xe.tE),g.Y36(Mo,8),g.Y36(g.sBO))},Vo.\u0275cmp=g.Xpm({type:Vo,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(y,F){1&y&&g.NdJ("click",function(De){return F._checkDisabled(De)})("mouseenter",function(){return F._handleMouseEnter()}),2&y&&(g.uIk("role",F.role)("tabindex",F._getTabIndex())("aria-disabled",F.disabled)("disabled",F.disabled||null),g.ekj("mat-mdc-menu-item-highlighted",F._highlighted)("mat-mdc-menu-item-submenu-trigger",F._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[g.qOj],attrs:["mat-menu-item",""],ngContentSelectors:["mat-icon, [matMenuItemIcon]","*"],decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(y,F){1&y&&(g.F$t(uo),g.Hsn(0),g.TgZ(1,"span",0),g.Hsn(2,1),g.qZA(),g._UZ(3,"div",1),g.YNc(4,ao,2,0,"svg",2)),2&y&&(g.xp6(3),g.Q6J("matRippleDisabled",F.disableRipple||F.disabled)("matRippleTrigger",F._getHostElement()),g.xp6(1),g.Q6J("ngIf",F._triggersSubmenu))},dependencies:[l.O5,Jn.wG],encapsulation:2,changeDetection:0});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const Fr=new g.OlP("MatMenuContent");class fo{constructor(y,F,ie,De,qe,Jt,Dn){this._template=y,this._componentFactoryResolver=F,this._appRef=ie,this._injector=De,this._viewContainerRef=qe,this._document=Jt,this._changeDetectorRef=Dn,this._attached=new ue.x}attach(y={}){this._portal||(this._portal=new er(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new rr(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const F=this._template.elementRef.nativeElement;F.parentNode.insertBefore(this._outlet.outletElement,F),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,y),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}fo.\u0275fac=function(y){return new(y||fo)(g.Y36(g.Rgc),g.Y36(g._Vd),g.Y36(g.z2F),g.Y36(g.zs3),g.Y36(g.s_b),g.Y36(l.K0),g.Y36(g.sBO))},fo.\u0275dir=g.lG2({type:fo});class Bi extends fo{}Bi.\u0275fac=function(){let Ve;return function(F){return(Ve||(Ve=g.n5z(Bi)))(F||Bi)}}(),Bi.\u0275dir=g.lG2({type:Bi,selectors:[["ng-template","matMenuContent",""]],features:[g._Bn([{provide:Fr,useExisting:Bi}]),g.qOj]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const yi={transformMenu:(0,Wn.X$)("transformMenu",[(0,Wn.SB)("void",(0,Wn.oB)({opacity:0,transform:"scale(0.8)"})),(0,Wn.eR)("void => enter",(0,Wn.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Wn.oB)({opacity:1,transform:"scale(1)"}))),(0,Wn.eR)("* => void",(0,Wn.jt)("100ms 25ms linear",(0,Wn.oB)({opacity:0})))]),fadeInItems:(0,Wn.X$)("fadeInItems",[(0,Wn.SB)("showing",(0,Wn.oB)({opacity:1})),(0,Wn.eR)("void => *",[(0,Wn.oB)({opacity:0}),(0,Wn.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */yi.fadeInItems,yi.transformMenu;let Hr=0;const zo=new g.OlP("mat-menu-default-options",{providedIn:"root",factory:function Ni(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});class co{get xPosition(){return this._xPosition}set xPosition(y){this._xPosition=y,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(y){this._yPosition=y,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(y){this._overlapTrigger=(0,We.Ig)(y)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(y){this._hasBackdrop=(0,We.Ig)(y)}set panelClass(y){const F=this._previousPanelClass;F&&F.length&&F.split(" ").forEach(ie=>{this._classList[ie]=!1}),this._previousPanelClass=y,y&&y.length&&(y.split(" ").forEach(ie=>{this._classList[ie]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(y){this.panelClass=y}constructor(y,F,ie,De){this._elementRef=y,this._ngZone=F,this._defaultOptions=ie,this._changeDetectorRef=De,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new g.n_E,this._classList={},this._panelAnimationState="void",this._animationDone=new ue.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new g.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Hr++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Xe.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,Rt.O)(this._directDescendantItems),(0,Lt.w)(y=>(0,Ft.T)(...y.map(F=>F._focused)))).subscribe(y=>this._keyManager.updateActiveItem(y)),this._directDescendantItems.changes.subscribe(y=>{const F=this._keyManager;if("enter"===this._panelAnimationState&&F.activeItem?._hasFocus()){const ie=y.toArray(),De=Math.max(0,Math.min(ie.length-1,F.activeItemIndex||0));ie[De]&&!ie[De].disabled?F.setActiveItem(De):F.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe((0,Rt.O)(this._directDescendantItems),(0,Lt.w)(F=>(0,Ft.T)(...F.map(ie=>ie._hovered))))}addItem(y){}removeItem(y){}_handleKeydown(y){const F=y.keyCode,ie=this._keyManager;switch(F){case St.hY:(0,St.Vb)(y)||(y.preventDefault(),this.closed.emit("keydown"));break;case St.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case St.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(F===St.LH||F===St.JH)&&ie.setFocusOrigin("keyboard"),void ie.onKeydown(y)}y.stopPropagation()}focusFirstItem(y="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe((0,Ht.q)(1)).subscribe(()=>{let F=null;if(this._directDescendantItems.length&&(F=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!F||!F.contains(document.activeElement)){const ie=this._keyManager;ie.setFocusOrigin(y).setFirstItemActive(),!ie.activeItem&&F&&F.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(y){const F=Math.min(this._baseElevation+y,24),ie=`${this._elevationPrefix}${F}`,De=Object.keys(this._classList).find(qe=>qe.startsWith(this._elevationPrefix));(!De||De===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[ie]=!0,this._previousElevation=ie)}setPositionClasses(y=this.xPosition,F=this.yPosition){const ie=this._classList;ie["mat-menu-before"]="before"===y,ie["mat-menu-after"]="after"===y,ie["mat-menu-above"]="above"===F,ie["mat-menu-below"]="below"===F,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(y){this._animationDone.next(y),this._isAnimating=!1}_onAnimationStart(y){this._isAnimating=!0,"enter"===y.toState&&0===this._keyManager.activeItemIndex&&(y.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,Rt.O)(this._allItems)).subscribe(y=>{this._directDescendantItems.reset(y.filter(F=>F._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}co.\u0275fac=function(y){return new(y||co)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(zo),g.Y36(g.sBO))},co.\u0275dir=g.lG2({type:co,contentQueries:function(y,F,ie){if(1&y&&(g.Suo(ie,Fr,5),g.Suo(ie,Vo,5),g.Suo(ie,Vo,4)),2&y){let De;g.iGM(De=g.CRH())&&(F.lazyContent=De.first),g.iGM(De=g.CRH())&&(F._allItems=De),g.iGM(De=g.CRH())&&(F.items=De)}},viewQuery:function(y,F){if(1&y&&g.Gf(g.Rgc,5),2&y){let ie;g.iGM(ie=g.CRH())&&(F.templateRef=ie.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}});class ji extends co{constructor(y,F,ie,De){super(y,F,ie,De),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}ji.\u0275fac=function(y){return new(y||ji)(g.Y36(g.SBq),g.Y36(g.R0b),g.Y36(zo),g.Y36(g.sBO))},ji.\u0275cmp=g.Xpm({type:ji,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(y,F){2&y&&g.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[g._Bn([{provide:Mo,useExisting:ji}]),g.qOj],ngContentSelectors:["*"],decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(y,F){1&y&&(g.F$t(),g.YNc(0,ho,3,6,"ng-template"))},dependencies:[l.mk],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[yi.transformMenu,yi.fadeInItems]},changeDetection:0});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const Wo=new g.OlP("mat-menu-scroll-strategy");const Xo={provide:Wo,deps:[Oi],useFactory:function $i(Ve){return()=>Ve.scrollStrategies.reposition()}},or=(0,lt.i$)({passive:!0});class Wi{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(y){this.menu=y}get menu(){return this._menu}set menu(y){y!==this._menu&&(this._menu=y,this._menuCloseSubscription.unsubscribe(),y&&(this._parentMaterialMenu,this._menuCloseSubscription=y.close.subscribe(F=>{this._destroyMenu(F),("click"===F||"tab"===F)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(F)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(y,F,ie,De,qe,Jt,Dn,Ln,qn){this._overlay=y,this._element=F,this._viewContainerRef=ie,this._menuItemInstance=Jt,this._dir=Dn,this._focusMonitor=Ln,this._ngZone=qn,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ie.w0.EMPTY,this._hoverSubscription=Ie.w0.EMPTY,this._menuCloseSubscription=Ie.w0.EMPTY,this._changeDetectorRef=(0,g.f3M)(g.sBO),this._handleTouchStart=tr=>{(0,Xe.yG)(tr)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new g.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new g.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=De,this._parentMaterialMenu=qe instanceof co?qe:void 0,F.nativeElement.addEventListener("touchstart",this._handleTouchStart,or)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,or),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const y=this.menu;if(this._menuOpen||!y)return;const F=this._createOverlay(y),ie=F.getConfig(),De=ie.positionStrategy;this._setPosition(y,De),ie.hasBackdrop=null==y.hasBackdrop?!this.triggersSubmenu():y.hasBackdrop,F.attach(this._getPortal(y)),y.lazyContent&&y.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(y),y instanceof co&&(y._startAnimation(),y._directDescendantItems.changes.pipe((0,Me.R)(y.close)).subscribe(()=>{De.withLockedPosition(!1).reapplyLastPosition(),De.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(y,F){this._focusMonitor&&y?this._focusMonitor.focusVia(this._element,y,F):this._element.nativeElement.focus(F)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(y){if(!this._overlayRef||!this.menuOpen)return;const F=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===y||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,F instanceof co?(F._resetAnimation(),F.lazyContent?F._animationDone.pipe((0,Gt.h)(ie=>"void"===ie.toState),(0,Ht.q)(1),(0,Me.R)(F.lazyContent._attached)).subscribe({next:()=>F.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),F?.lazyContent?.detach())}_initMenu(y){y.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,y.direction=this.dir,this._setMenuElevation(y),y.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(y){if(y.setElevation){let F=0,ie=y.parentMenu;for(;ie;)F++,ie=ie.parentMenu;y.setElevation(F)}}_setIsMenuOpen(y){y!==this._menuOpen&&(this._menuOpen=y,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(y),this._changeDetectorRef.markForCheck())}_createOverlay(y){if(!this._overlayRef){const F=this._getOverlayConfig(y);this._subscribeToPositions(y,F.positionStrategy),this._overlayRef=this._overlay.create(F),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(y){return new ii({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:y.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:y.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(y,F){y.setPositionClasses&&F.positionChanges.subscribe(ie=>{const De="start"===ie.connectionPair.overlayX?"after":"before",qe="top"===ie.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>y.setPositionClasses(De,qe)):y.setPositionClasses(De,qe)})}_setPosition(y,F){let[ie,De]="before"===y.xPosition?["end","start"]:["start","end"],[qe,Jt]="above"===y.yPosition?["bottom","top"]:["top","bottom"],[Dn,Ln]=[qe,Jt],[qn,tr]=[ie,De],Vr=0;if(this.triggersSubmenu()){if(tr=ie="before"===y.xPosition?"start":"end",De=qn="end"===ie?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Ho=this._parentMaterialMenu.items.first;this._parentInnerPadding=Ho?Ho._getHostElement().offsetTop:0}Vr="bottom"===qe?this._parentInnerPadding:-this._parentInnerPadding}}else y.overlapTrigger||(Dn="top"===qe?"bottom":"top",Ln="top"===Jt?"bottom":"top");F.withPositions([{originX:ie,originY:Dn,overlayX:qn,overlayY:qe,offsetY:Vr},{originX:De,originY:Dn,overlayX:tr,overlayY:qe,offsetY:Vr},{originX:ie,originY:Ln,overlayX:qn,overlayY:Jt,offsetY:-Vr},{originX:De,originY:Ln,overlayX:tr,overlayY:Jt,offsetY:-Vr}])}_menuClosingActions(){const y=this._overlayRef.backdropClick(),F=this._overlayRef.detachments(),ie=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Et.of)(),De=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Gt.h)(qe=>qe!==this._menuItemInstance),(0,Gt.h)(()=>this._menuOpen)):(0,Et.of)();return(0,Ft.T)(y,ie,De,F)}_handleMousedown(y){(0,Xe.X6)(y)||(this._openedBy=0===y.button?"mouse":void 0,this.triggersSubmenu()&&y.preventDefault())}_handleKeydown(y){const F=y.keyCode;(F===St.K5||F===St.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(F===St.SV&&"ltr"===this.dir||F===St.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(y){this.triggersSubmenu()?(y.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Gt.h)(y=>y===this._menuItemInstance&&!y.disabled),Nr(0,ft)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof co&&this.menu._isAnimating?this.menu._animationDone.pipe((0,Ht.q)(1),Nr(0,ft),(0,Me.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(y){return(!this._portal||this._portal.templateRef!==y.templateRef)&&(this._portal=new er(y.templateRef,this._viewContainerRef)),this._portal}}Wi.\u0275fac=function(y){return new(y||Wi)(g.Y36(Oi),g.Y36(g.SBq),g.Y36(g.s_b),g.Y36(Wo),g.Y36(Mo,8),g.Y36(Vo,10),g.Y36(xr.Is,8),g.Y36(Xe.tE),g.Y36(g.R0b))},Wi.\u0275dir=g.lG2({type:Wi,hostVars:3,hostBindings:function(y,F){1&y&&g.NdJ("click",function(De){return F._handleClick(De)})("mousedown",function(De){return F._handleMousedown(De)})("keydown",function(De){return F._handleKeydown(De)}),2&y&&g.uIk("aria-haspopup",F.menu?"menu":null)("aria-expanded",F.menuOpen)("aria-controls",F.menuOpen?F.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}});class mr extends Wi{}mr.\u0275fac=function(){let Ve;return function(F){return(Ve||(Ve=g.n5z(mr)))(F||mr)}}(),mr.\u0275dir=g.lG2({type:mr,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[g.qOj]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class re{}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
function T(Ve,y){if(1&Ve){const F=g.EpF();g.TgZ(0,"div",1,2),g.NdJ("click",function(){const qe=g.CHM(F).$implicit,Jt=g.MAs(1),Dn=g.oxw();return g.KtG(Dn.onclick(qe,Jt))}),g.TgZ(2,"div",3),g._UZ(3,"img",4),g.qZA(),g.TgZ(4,"div",5)(5,"div",6)(6,"p",7),g._uU(7),g.qZA(),g.TgZ(8,"p",8),g._uU(9),g.ALo(10,"date"),g.qZA()(),g.TgZ(11,"p",9),g._uU(12),g.qZA()()()}if(2&Ve){const F=y.$implicit;g.Q6J("routerLink",F.ref.id),g.xp6(3),g.uIk("src",F.otherUserPhoto,g.LSH),g.xp6(4),g.Oqu(F.otherUserName),g.xp6(2),g.Oqu(g.xi3(10,5,F.lastMessageTime,"HH:mm")),g.xp6(3),g.Oqu(F.lastMessageValue)}}re.\u0275fac=function(y){return new(y||re)},re.\u0275mod=g.oAB({type:re,declarations:[ji,Vo,Bi,mr],imports:[l.ez,Jn.si,Jn.BQ,lo],exports:[ln,ji,Jn.BQ,Vo,Bi,mr]}),re.\u0275inj=g.cJS({providers:[Xo],imports:[l.ez,Jn.si,Jn.BQ,lo,ln,Jn.BQ]});class J{constructor(){this.dialogs=null,this.selectedDialog=new g.vpe,this.selected=null}handleEscapeKey(y){this.selected?.classList.remove("selected"),this.selected=null}onclick(y,F){this.selected&&this.selected.classList.remove("selected"),F.classList.add("selected"),this.selected=F,this.selectedDialog.emit(y)}ngAfterViewChecked(){this.selected&&!this.selected.classList.contains("selected")&&this.selected.classList.add("selected")}}J.\u0275fac=function(y){return new(y||J)},J.\u0275cmp=g.Xpm({type:J,selectors:[["app-dialog"]],hostBindings:function(y,F){1&y&&g.NdJ("keydown.escape",function(De){return F.handleEscapeKey(De)},!1,g.evT)},inputs:{dialogs:"dialogs"},outputs:{selectedDialog:"selectedDialog"},decls:1,vars:1,consts:[["class","chat flex",3,"routerLink","click",4,"ngFor","ngForOf"],[1,"chat","flex",3,"routerLink","click"],["selected",""],[1,"img-box"],["alt","User's avatar","decoding","async",1,"avatar"],[1,"content-box"],[1,"header","flex"],[1,"username"],[1,"time"],[1,"message"]],template:function(y,F){1&y&&g.YNc(0,T,13,8,"div",0),2&y&&g.Q6J("ngForOf",F.dialogs)},dependencies:[z.rH,l.sg,l.uU],styles:[".chat[_ngcontent-%COMP%]{padding:.7rem;max-height:7.5rem;overflow:hidden;border-radius:10px;gap:1rem;cursor:pointer}.chat[_ngcontent-%COMP%]:hover{background-color:#27272a}.chat[_ngcontent-%COMP%]:focus{outline:none}.selected[_ngcontent-%COMP%]{background-color:#6c44e3!important}.selected[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .content-box[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{color:#d0d0d0!important}.content-box[_ngcontent-%COMP%]{width:100%}.avatar[_ngcontent-%COMP%]{border-radius:50%;height:5.3rem;width:5.3rem;object-fit:cover;object-position:center;image-rendering:smooth}.header[_ngcontent-%COMP%]{width:100%;justify-content:space-between;margin-bottom:1.2rem}.username[_ngcontent-%COMP%]{font-size:1.6rem;color:#d0d0d0;font-weight:600}.time[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600}.message[_ngcontent-%COMP%]{color:#777;width:100%}"]});class ot{constructor(y,F,ie){this.store=y,this.dialogTrans=F,this.dialogData=ie,this.unsubscribe$=new ue.x}ngOnInit(){this.subscribeToDialogs()}subscribeToDialogs(){this.dialogData.dialogs$.pipe((0,Me.R)(this.unsubscribe$),(0,we.b)(y=>this.dialogs=y)).subscribe(y=>y?.forEach(F=>this.dialogSubscription(F)))}dialogSubscription(y){this.store.doc(`chats/${y.ref.id}`).valueChanges().pipe((0,Me.R)(this.unsubscribe$),(0,Pe.T)(1)).subscribe(F=>this.createDialogUpdate(y,F))}createDialogUpdate(y,F){let ie=this.dialogs?.find(De=>De===y);ie=this.changeDialog(ie,F),this.dialogToTop(ie)}dialogToTop(y){this.dialogs?.splice(this.dialogs?.findIndex(F=>F.ref.id===y.ref.id),1),this.dialogs?.unshift(y)}changeDialog(y,F){const ie=F.message.slice(-1)[0];return this.dialogData.messageLengthFix(ie),y.lastMessageValue=ie?.content,y.lastMessageTime=ie?.time,y}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}ot.\u0275fac=function(y){return new(y||ot)(g.Y36(le.ST),g.Y36(_e.I),g.Y36(se.C))},ot.\u0275cmp=g.Xpm({type:ot,selectors:[["app-dialogs"]],decls:33,vars:2,consts:[[1,"container"],[1,"header","flex"],["mat-icon-button","","color","accent",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],[1,"search-box"],["type","text","placeholder","Search...",1,"search-input"],[1,"icon","search-icon"],[1,"main"],[3,"dialogs","selectedDialog"]],template:function(y,F){if(1&y&&(g.TgZ(0,"div",0)(1,"header",1)(2,"button",2)(3,"mat-icon"),g._uU(4,"more_vert"),g.qZA()(),g.TgZ(5,"mat-menu",null,3)(7,"button",4)(8,"mat-icon"),g._uU(9,"person"),g.qZA(),g.TgZ(10,"span"),g._uU(11,"Your Profile"),g.qZA()(),g.TgZ(12,"button",4)(13,"mat-icon"),g._uU(14,"edit"),g.qZA(),g.TgZ(15,"span"),g._uU(16,"Start new chat"),g.qZA()(),g.TgZ(17,"button",4)(18,"mat-icon"),g._uU(19,"contacts"),g.qZA(),g.TgZ(20,"span"),g._uU(21,"Contacts"),g.qZA()(),g.TgZ(22,"button",4)(23,"mat-icon"),g._uU(24,"notifications_off"),g.qZA(),g.TgZ(25,"span"),g._uU(26,"Disable alerts"),g.qZA()()(),g.TgZ(27,"div",5),g._UZ(28,"input",6),g.TgZ(29,"mat-icon",7),g._uU(30,"search"),g.qZA()()(),g.TgZ(31,"main",8)(32,"app-dialog",9),g.NdJ("selectedDialog",function(De){return F.dialogTrans.dialog$.next(De)}),g.qZA()()()),2&y){const ie=g.MAs(6);g.xp6(2),g.Q6J("matMenuTriggerFor",ie),g.xp6(30),g.Q6J("dialogs",F.dialogs)}},dependencies:[Re.Hw,Le.RK,ji,Vo,mr,J],styles:[".container[_ngcontent-%COMP%]{height:100%;background-color:#18181b;border-right:1px solid #2e2e2e}.header[_ngcontent-%COMP%]{align-items:center;background-color:#1f1f21;box-shadow:0 2px 2px #00000040}.search-box[_ngcontent-%COMP%]{width:100%;padding:1.3rem;position:relative}.search-input[_ngcontent-%COMP%]{width:100%;border:none;padding:1.2rem 1.5rem 1.2rem 4rem;border-radius:20px;font-size:1.6rem;color:#fff;background-color:#27272a;transition:.1s}.search-input[_ngcontent-%COMP%]:focus{outline:2px solid #5f3dc4}.search-icon[_ngcontent-%COMP%]{position:absolute;left:23px;top:22px}.main[_ngcontent-%COMP%]{padding:1rem}"]});class pn{constructor(y){this.router=y,this.router.navigateByUrl("")}}pn.\u0275fac=function(y){return new(y||pn)(g.Y36(z.F0))},pn.\u0275cmp=g.Xpm({type:pn,selectors:[["app-messenger"]],decls:5,vars:0,consts:[[1,"container","flex"],[1,"sidenav"],[1,"main","img"]],template:function(y,F){1&y&&(g.TgZ(0,"div",0)(1,"aside",1),g._UZ(2,"app-dialogs"),g.qZA(),g.TgZ(3,"main",2),g._UZ(4,"router-outlet"),g.qZA()())},dependencies:[z.lC,ot],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%}.sidenav[_ngcontent-%COMP%]{width:45rem}.main[_ngcontent-%COMP%]{width:100%}.img[_ngcontent-%COMP%]{background:url(chats-background.3c213d0d71e60d4d.jpg) center no-repeat;background-size:cover}"]});var st=S(9598),ut=S(1173);const Tt=["messageRef"];function dt(Ve,y){1&Ve&&(g.TgZ(0,"div",10),g._UZ(1,"img",11),g.qZA())}function hn(Ve,y){1&Ve&&(g.TgZ(0,"div",12),g._UZ(1,"img",13),g.qZA())}function Fn(Ve,y){if(1&Ve&&(g.TgZ(0,"div",3,4)(2,"div",5),g.YNc(3,dt,2,0,"div",6),g.YNc(4,hn,2,0,"ng-template",null,7,g.W1O),g.TgZ(6,"p",8),g._uU(7),g.qZA(),g.TgZ(8,"span",9),g.ALo(9,"date"),g._uU(10),g.ALo(11,"date"),g.qZA()()()),2&Ve){const F=y.$implicit,ie=y.index,De=g.MAs(1),qe=g.MAs(5),Jt=g.oxw();g.ekj("lastMes",Jt.messages.length===ie+1),g.Q6J("ngClass",F.senderId.id===Jt.curUserId?"message-centering-right":"message-centering-left"),g.xp6(3),g.Q6J("ngIf",De.classList.contains("message-centering-right"))("ngIfElse",qe),g.xp6(4),g.Oqu(F.content),g.xp6(1),g.s9C("title",g.xi3(9,8,F.time,"d MMMM, y, HH:mm:ss")),g.xp6(2),g.hij(" ",g.xi3(11,11,F.time,"HH:mm")," ")}}class Qr{constructor(y,F){this.userData=y,this.chatData=F,this.messages=[],this.newChat=!0,this.unsubscribe$=new ue.x,this.curUserId=this.userData.curUserDoc?.ref.id}ngAfterViewInit(){this.chatData.chatData$.pipe((0,Me.R)(this.unsubscribe$)).subscribe(()=>this.newChat=!0),this.messageItems.changes.pipe((0,Me.R)(this.unsubscribe$)).subscribe(()=>this.scrollToLastItem())}scrollToLastItem(){!this.newChat&&this.messageItems?.last&&this.messageItems.last.nativeElement.scrollIntoView({behavior:"smooth",block:"end"}),this.newChat&&this.messageItems?.last&&(this.messageItems.last.nativeElement.scrollIntoView({behavior:"instant",block:"end"}),this.newChat=!1)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}Qr.\u0275fac=function(y){return new(y||Qr)(g.Y36(ut.M),g.Y36(st.Q))},Qr.\u0275cmp=g.Xpm({type:Qr,selectors:[["app-message"]],viewQuery:function(y,F){if(1&y&&g.Gf(Tt,5),2&y){let ie;g.iGM(ie=g.CRH())&&(F.messageItems=ie)}},inputs:{messages:"messages"},decls:3,vars:1,consts:[[1,"main"],[1,"messages-container"],["class","message flex",3,"ngClass","lastMes",4,"ngFor","ngForOf"],[1,"message","flex",3,"ngClass"],["messageRef",""],[1,"message-box"],["class","echo-box right",4,"ngIf","ngIfElse"],["echoLeft",""],[1,"message-text"],[1,"message-time",3,"title"],[1,"echo-box","right"],["src","../../../../../../assets/svg/echo-send.svg","alt","echo-svg"],[1,"echo-box","left"],["src","../../../../../../assets/svg/echo-receive.svg","alt","echo-svg"]],template:function(y,F){1&y&&(g.TgZ(0,"main",0)(1,"div",1),g.YNc(2,Fn,12,14,"div",2),g.qZA()()),2&y&&(g.xp6(2),g.Q6J("ngForOf",F.messages))},dependencies:[l.mk,l.sg,l.O5,l.uU],styles:[".main[_ngcontent-%COMP%]{display:flex;align-items:flex-end;height:100%;width:100%;margin:0 auto;line-height:2.1rem;font-size:1.8rem}.messages-container[_ngcontent-%COMP%]{width:70rem;margin:0 auto;max-height:calc(100% - 6rem)}.message-box[_ngcontent-%COMP%]{position:relative;width:max-content;min-width:7.3rem;max-width:46rem;margin-bottom:1.3rem;padding:.9rem 4.5rem .9rem .9rem;background-color:#5f3dc4}.message-text[_ngcontent-%COMP%]{color:#e8e8e8;font-weight:400}.message-time[_ngcontent-%COMP%]{font-size:1.2rem;position:absolute;right:5px;bottom:0}.message-centering-left[_ngcontent-%COMP%]{justify-content:flex-start}.message-centering-left[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]{border-radius:.85rem 1.3rem .85rem 0;justify-content:flex-start;background-color:#27272a}.message-centering-left[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#686c72}.message-centering-right[_ngcontent-%COMP%]{justify-content:flex-end}.message-centering-right[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]{border-radius:1.3rem .85rem 0;justify-content:flex-end;background-color:#6741d9}.message-centering-right[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#d0bfff}.echo-box[_ngcontent-%COMP%]{position:absolute}.right[_ngcontent-%COMP%]{left:-19px;top:-11px}.left[_ngcontent-%COMP%]{right:-19px;top:-11px}"]});const Rr=["message"];class go{handleEscapeKey(y){this.router.navigateByUrl("")}handleEnterKey(y){this.chatData.onSendMessage(this.messageInput.nativeElement)}constructor(y,F){this.router=y,this.chatData=F,this.user={name:"Loading",photo:""},this.messages=[]}ngOnInit(){this.chatData.chatData$.pipe((0,Gt.h)(Boolean),(0,we.b)(y=>this.user=y)).subscribe(),this.chatData.messagesData$.pipe((0,Gt.h)(Boolean),(0,we.b)(y=>this.messages=y)).subscribe()}ngAfterViewChecked(){this.messageInput.nativeElement.focus()}onKeyDown(y){"Enter"===y.key&&!y.shiftKey&&y.preventDefault()}}go.\u0275fac=function(y){return new(y||go)(g.Y36(z.F0),g.Y36(st.Q))},go.\u0275cmp=g.Xpm({type:go,selectors:[["app-chat"]],viewQuery:function(y,F){if(1&y&&g.Gf(Rr,5),2&y){let ie;g.iGM(ie=g.CRH())&&(F.messageInput=ie.first)}},hostBindings:function(y,F){1&y&&g.NdJ("keydown.escape",function(De){return F.handleEscapeKey(De)},!1,g.evT)("keydown.enter",function(De){return F.handleEnterKey(De)},!1,g.evT)},decls:27,vars:4,consts:[[1,"container"],[1,"header","flex"],[1,"user","flex"],[1,"avatar-box"],["alt","user's avatar",1,"avatar"],[1,"username"],["mat-icon-button","","color","accent",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item",""],[1,"messenger-container","flex"],[1,"main"],[3,"messages"],[1,"input-field"],[1,"input-container"],["placeholder","Message",1,"input",3,"input","keydown"],["message",""],["mat-icon-button","","color","accent",1,"btn-send",3,"click"],[1,"menu-icon"]],template:function(y,F){if(1&y){const ie=g.EpF();g.TgZ(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),g._UZ(4,"img",4),g.qZA(),g.TgZ(5,"div",5),g._uU(6),g.qZA()(),g.TgZ(7,"button",6)(8,"mat-icon"),g._uU(9,"more_vert"),g.qZA()(),g.TgZ(10,"mat-menu",null,7)(12,"button",8)(13,"mat-icon"),g._uU(14,"delete"),g.qZA(),g.TgZ(15,"span"),g._uU(16,"Delete chat"),g.qZA()()()(),g.TgZ(17,"div",9)(18,"main",10),g._UZ(19,"app-message",11),g.qZA(),g.TgZ(20,"div",12)(21,"div",13)(22,"textarea",14,15),g.NdJ("input",function(){g.CHM(ie);const qe=g.MAs(23);return g.KtG(F.chatData.messageHeightCalc(qe))})("keydown",function(qe){return F.onKeyDown(qe)}),g.qZA(),g.TgZ(24,"button",16),g.NdJ("click",function(){g.CHM(ie);const qe=g.MAs(23);return g.KtG(F.chatData.onSendMessage(qe))}),g.TgZ(25,"mat-icon",17),g._uU(26,"send"),g.qZA()()()()()()}if(2&y){const ie=g.MAs(11);g.xp6(4),g.uIk("src",F.user.photo,g.LSH),g.xp6(2),g.Oqu(F.user.name),g.xp6(1),g.Q6J("matMenuTriggerFor",ie),g.xp6(12),g.Q6J("messages",F.messages)}},dependencies:[Re.Hw,Le.RK,ji,Vo,mr,Qr],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{height:100%}.header[_ngcontent-%COMP%]{padding:.9rem 2rem;justify-content:space-between;background-color:#1f1f21;box-shadow:0 2px 2px #00000040}.user[_ngcontent-%COMP%]{height:100%;align-items:center;gap:.7rem;width:max-content}.avatar-box[_ngcontent-%COMP%]{width:5rem;height:5rem}.avatar[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover;object-position:center;border-radius:50%}.username[_ngcontent-%COMP%]{font-size:1.6rem;color:#d0d0d0;font-weight:600}.main[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;height:calc(100% - 6rem);margin-bottom:1rem}.messenger-container[_ngcontent-%COMP%]{height:calc(100% - 6.8rem);flex-direction:column;align-content:flex-start}.input-field[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}.input-container[_ngcontent-%COMP%]{position:relative;max-width:70rem;width:available;margin:0 auto}.input[_ngcontent-%COMP%]{width:100%;border-radius:15px;padding:1.6rem 5rem 1.6rem 3rem;border:none;background-color:#27272a;height:54px;font-size:1.8rem;color:#fff;resize:none}.input[_ngcontent-%COMP%]:focus{outline:none}.btn-send[_ngcontent-%COMP%]{position:absolute;right:5px;top:2px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;background-color:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#8080804d;border-radius:4px}*[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:rgba(128,128,128,.3) transparent}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:vertical{height:30%}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:horizontal{width:30%}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#8080804d;border-radius:4px}']});const Yr=[{path:"",redirectTo:"chat",pathMatch:"full"},{path:"chat",component:pn,children:[{path:":id",component:go}]}];class mi{}mi.\u0275fac=function(y){return new(y||mi)},mi.\u0275mod=g.oAB({type:mi}),mi.\u0275inj=g.cJS({imports:[z.Bz.forChild(Yr),l.ez,Re.Ps,Le.ot,re]})},9598:(En,rt,S)=>{S.d(rt,{Q:()=>Le});var l=S(1135),g=S(9300),z=S(3900),ue=S(8505),Me=S(4004),we=S(8996),Pe=S(9214),le=S(4650),_e=S(1173),se=S(7693),Re=S(1085);class Le{constructor(We,St,Ft){this.userData=We,this.dialogTrans=St,this.store=Ft,this.chatData$=new l.X(null),this.messagesData$=new l.X(null),St.dialog$.pipe((0,g.h)(Boolean),(0,z.w)(Ie=>this.getMessagesData(Ie)),(0,g.h)(Ie=>Ie.payload.data()?.message.length>this.messagesData$.getValue()?.length),(0,g.h)(Ie=>"modified"===Ie.type),(0,ue.b)(Ie=>"test-chat"===Ie.payload.id?this.onTestChat(Ie):null),(0,Me.U)(Ie=>Ie.payload.data()?.message)).subscribe(Ie=>this.messagesData$.next(Ie))}onSendMessage(We){const St=We.value.trim();St&&(We.value="",this.messageHeightCalc(We),this.sendMessageToDB(this.chatData$.getValue()?.ref,this.createMessageForDB(We,St)))}messageHeightCalc(We){We.style.height="auto",We.style.height=We.scrollHeight-22+"px"}createMessageForDB(We,St,Ft=this.userData.curUserDoc?.ref){return{content:St,senderId:Ft,time:(new Date).toISOString()}}getMessagesData(We){return(0,we.D)(We.ref.get()).subscribe(St=>this.setNewUserAndMessages(We.otherUserName,We.otherUserPhoto,We.ref,St.data()?.message)),this.store.doc(`chats/${We.ref.id}`).snapshotChanges()}setNewUserAndMessages(We,St,Ft,Ie){this.chatData$.next({name:We,photo:St,ref:Ft}),this.messagesData$.next(Ie)}randomBoolean(){return Math.random()<.4}getTestMessageData(){const We=this.chatData$.getValue()?.ref;return{currentChat:We,senderId:this.store.doc("users/H89Non7WmWztp02NPxMO").ref,messages:["Hello\u{1f44b}! This message was sent automatically for you to see the application in action.","It is sends with a 40% probability. You're lucky if you see it. Have a nice day\u{1f389}"]}}onTestChat(We){const St=this.randomBoolean();if("test--main"===We.payload.data()?.message.slice(-1)[0].senderId.id&&St){const{currentChat:Ft,senderId:Ie,messages:Et}=this.getTestMessageData();setTimeout(()=>this.sendMessageToDB(Ft,this.createMessageForDB(null,Et[0],Ie)),500),setTimeout(()=>this.sendMessageToDB(Ft,this.createMessageForDB(null,Et[1],Ie)),800)}}sendMessageToDB(We,St){(0,Pe.r7)(We,{message:(0,Pe.vr)(St)})}}Le.\u0275fac=function(We){return new(We||Le)(le.LFG(_e.M),le.LFG(se.I),le.LFG(Re.ST))},Le.\u0275prov=le.Yz7({token:Le,factory:Le.\u0275fac,providedIn:"root"})},926:(En,rt,S)=>{S.d(rt,{C:()=>_e});var l=S(1135),g=S(8996),z=S(3900),ue=S(4004),Me=S(9300),we=S(4128),Pe=S(4650),le=S(1173);class _e{constructor(Re){this.userData=Re,this.dialogs$=new l.X(null),this.getOtherUserData=Le=>{const Xe=this.userData.getOtherUser(Le);return(0,g.D)(Xe.get())},this.createUserDialog=(Le,Xe)=>{const We=Le.data()?.message.slice(-1)[0];return We&&this.messageLengthFix(We),{ref:Le.ref,lastMessageValue:We?.content,lastMessageTime:We?.time,otherUserName:Xe.data()?.name,otherUserPhoto:Xe.data()?.photo}},this.getDialogAndOtherUser=Le=>(0,g.D)(Le.get()).pipe((0,z.w)(Xe=>this.getOtherUserData(Xe.data()?.users).pipe((0,ue.U)(We=>this.createUserDialog(Xe,We))))),Re.curUserData$.pipe((0,Me.h)(Le=>!!Le?.dialogs[0]),(0,z.w)(Le=>{const Xe=Le?.dialogs.map(this.getDialogAndOtherUser);return(0,we.D)(Xe||[])}),(0,ue.U)(Le=>this.sortDialogs(Le))).subscribe(Le=>this.dialogs$.next(Le))}messageLengthFix(Re){return Re.content.length>60&&(Re.content=Re.content.slice(0,60)+"..."),Re}sortDialogs(Re){return Re.sort((Le,Xe)=>new Date(Xe.lastMessageTime).getTime()-new Date(Le.lastMessageTime).getTime())}}_e.\u0275fac=function(Re){return new(Re||_e)(Pe.LFG(le.M))},_e.\u0275prov=Pe.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"})},1173:(En,rt,S)=>{S.d(rt,{M:()=>ue});var l=S(1135),g=S(4650),z=S(1085);class ue{constructor(we){this.store=we,this.curUserData$=new l.X(null),this.getOtherUser=Pe=>Pe&&Pe[0].id!==this.curUserDoc.ref.id?Pe[0]:Pe[1],this.setNewUser(this.store.doc("users/test--main").ref)}setNewUser(we){this.curUserDoc=this.store.doc(`users/${we.id}`),this.curUser$=this.curUserDoc.valueChanges(),this.curUser$.subscribe(Pe=>this.curUserData$.next(Pe))}}ue.\u0275fac=function(we){return new(we||ue)(g.LFG(z.ST))},ue.\u0275prov=g.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"})},4523:(En,rt,S)=>{S.r(rt),S.d(rt,{AuthModule:()=>Le});var l=S(4650),g=S(4586);class z{}z.\u0275fac=function(We){return new(We||z)},z.\u0275cmp=l.Xpm({type:z,selectors:[["app-login"]],decls:6,vars:0,consts:[[1,"fullscreen"],[1,"main"],[1,"img"],[1,"heading-primary"]],template:function(We,St){1&We&&(l.TgZ(0,"div",0)(1,"main",1),l._UZ(2,"div",2),l.TgZ(3,"h1",3),l._uU(4,"echo"),l.qZA(),l._UZ(5,"router-outlet"),l.qZA()())},dependencies:[g.lC],styles:[".fullscreen[_ngcontent-%COMP%]{background:#4b6cb7;background:linear-gradient(to right,#121e37,#1e0631);min-height:100vh;width:100%}.img[_ngcontent-%COMP%]{width:16rem;height:16rem;margin:0 auto 3rem;background:url(logo-transparent-notext.4c1e30da1756aa18.png) center no-repeat;background-size:100%}.main[_ngcontent-%COMP%]{margin:0 auto;padding-top:8rem;width:-moz-fit-content;width:fit-content;text-align:center;color:#fff}.heading-primary[_ngcontent-%COMP%]{color:#fff;margin-bottom:3.5rem}"]});var ue=S(4006),Me=S(3336),we=S(9101);class Pe{signup(){this.myForm.valid?console.log("\u2705 Form is Valid"):console.log("\u26d4 Form error: ",this.myForm.controls)}constructor(We){this.router=We,this.showPassword=!1,this.myForm=new ue.cw({Email:new ue.NI("",[ue.kI.required,ue.kI.pattern(/\S+@\S+\.\S+/)]),Password:new ue.NI("",[ue.kI.required])})}}Pe.\u0275fac=function(We){return new(We||Pe)(l.Y36(g.F0))},Pe.\u0275cmp=l.Xpm({type:Pe,selectors:[["app-signin"]],decls:21,vars:3,consts:[[1,"auth-box"],[1,"auth-type"],[3,"formGroup"],[1,"auth-form-box"],[1,"auth-form-label"],["type","mail","placeholder","example@echo.io","formControlName","Email",1,"auth-form-input"],["placeholder","password","formControlName","Password",1,"auth-form-input",3,"type"],["mat-icon-button","",1,"btn-show-pass",3,"click"],[1,"link","auth-form-link",3,"click"],[1,"btn","btn--full","btn-auth",3,"click"]],template:function(We,St){1&We&&(l.TgZ(0,"div",0)(1,"h2",1),l._uU(2,"Sign In"),l.qZA(),l.TgZ(3,"form",2)(4,"div",3)(5,"label",4),l._uU(6,"Your email"),l.qZA(),l._UZ(7,"input",5),l.qZA(),l.TgZ(8,"div",3)(9,"label",4),l._uU(10,"Your password"),l.qZA(),l._UZ(11,"input",6),l.TgZ(12,"button",7),l.NdJ("click",function(){return St.showPassword=!St.showPassword}),l.TgZ(13,"mat-icon"),l._uU(14),l.qZA()()(),l.TgZ(15,"a",8),l.NdJ("click",function(){return St.router.navigateByUrl("auth/signup")}),l._uU(16,"haven't join yet? "),l.TgZ(17,"strong"),l._uU(18,"sign up"),l.qZA()(),l.TgZ(19,"button",9),l.NdJ("click",function(){return St.signup()}),l._uU(20,"Next"),l.qZA()()()),2&We&&(l.xp6(3),l.Q6J("formGroup",St.myForm),l.xp6(8),l.Q6J("type",St.showPassword?"text":"password"),l.xp6(3),l.Oqu(St.showPassword?"visibility":"visibility_off"))},dependencies:[ue._Y,ue.Fj,ue.JJ,ue.JL,ue.sg,ue.u,Me.Hw,we.RK],styles:[".auth-box[_ngcontent-%COMP%]{width:35rem;margin:0 auto}.auth-type[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:3rem;color:#748ffc}.subheading[_ngcontent-%COMP%]{color:#999;margin-bottom:4rem}.auth-form-box[_ngcontent-%COMP%]{position:relative;margin-bottom:3.7rem}.auth-form-label[_ngcontent-%COMP%]{position:absolute;padding:0 3px;left:10px;top:-7px;font-size:1.4rem;background-color:#181434;color:#aeaeae}.auth-form-input[_ngcontent-%COMP%]{width:100%;padding:1.7rem 1.5rem;border-radius:10px;background-color:transparent;border:1px solid #aeaeae;font-size:1.6rem;color:#fff;transition:all .2s}.auth-form-link[_ngcontent-%COMP%]{display:inline-block;margin-bottom:3rem}.auth-form-link[_ngcontent-%COMP%]:hover, auth-form-link[_ngcontent-%COMP%]:active{color:#dbe4ff}.btn-auth[_ngcontent-%COMP%]{display:block;width:100%}.btn--full[_ngcontent-%COMP%]{background-color:#845ef7;color:#fff}.btn--full[_ngcontent-%COMP%]:hover, .btn--full[_ngcontent-%COMP%]:active{background-color:#7048e8}.btn-show-pass[_ngcontent-%COMP%]{color:#aeaeae;position:absolute;right:0;top:3px}"]});class le{signup(){this.myForm.valid?console.log("\u2705Form is Valid"):console.log("\u26d4Form error: ",this.myForm.controls)}constructor(We){this.router=We,this.showPassword=!1,this.myForm=new ue.cw({Email:new ue.NI("",[ue.kI.required,ue.kI.pattern(/\S+@\S+\.\S+/)]),Phone:new ue.NI("+380",[ue.kI.required,ue.kI.pattern(/^\+\d{12}$/)]),Password:new ue.NI("",[ue.kI.required,ue.kI.minLength(8),ue.kI.maxLength(16),ue.kI.pattern(/^(?=.*[a-zA-Z])/)])})}}le.\u0275fac=function(We){return new(We||le)(l.Y36(g.F0))},le.\u0275cmp=l.Xpm({type:le,selectors:[["app-signup"]],decls:25,vars:3,consts:[[1,"auth-box"],[1,"auth-type"],[3,"formGroup"],[1,"auth-form-box"],[1,"auth-form-label"],["type","mail","placeholder","example@echo.io","formControlName","Email",1,"auth-form-input"],["type","phone","placeholder","+380","formControlName","Phone",1,"auth-form-input"],["type","password","placeholder","password","formControlName","Password",1,"auth-form-input",3,"type"],["mat-icon-button","",1,"btn-show-pass",3,"click"],[1,"link","auth-form-link",3,"click"],[1,"btn","btn--full","btn-auth",3,"click"]],template:function(We,St){1&We&&(l.TgZ(0,"div",0)(1,"h2",1),l._uU(2,"Sign Up"),l.qZA(),l.TgZ(3,"form",2)(4,"div",3)(5,"label",4),l._uU(6,"Your email"),l.qZA(),l._UZ(7,"input",5),l.qZA(),l.TgZ(8,"div",3)(9,"label",4),l._uU(10,"Your phone number"),l.qZA(),l._UZ(11,"input",6),l.qZA(),l.TgZ(12,"div",3)(13,"label",4),l._uU(14,"Create password"),l.qZA(),l._UZ(15,"input",7),l.TgZ(16,"button",8),l.NdJ("click",function(){return St.showPassword=!St.showPassword}),l.TgZ(17,"mat-icon"),l._uU(18),l.qZA()()(),l.TgZ(19,"a",9),l.NdJ("click",function(){return St.router.navigateByUrl("auth/signin")}),l._uU(20,"already have account? "),l.TgZ(21,"strong"),l._uU(22,"sign in"),l.qZA()(),l.TgZ(23,"button",10),l.NdJ("click",function(){return St.signup()}),l._uU(24,"Join"),l.qZA()()()),2&We&&(l.xp6(3),l.Q6J("formGroup",St.myForm),l.xp6(12),l.Q6J("type",St.showPassword?"text":"password"),l.xp6(3),l.Oqu(St.showPassword?"visibility":"visibility_off"))},dependencies:[ue._Y,ue.Fj,ue.JJ,ue.JL,ue.sg,ue.u,Me.Hw,we.RK],styles:[".auth-box[_ngcontent-%COMP%]{width:35rem;margin:0 auto}.auth-type[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:3rem;color:#748ffc}.subheading[_ngcontent-%COMP%]{color:#999;margin-bottom:4rem}.auth-form-box[_ngcontent-%COMP%]{position:relative;margin-bottom:3.7rem}.auth-form-label[_ngcontent-%COMP%]{position:absolute;padding:0 3px;left:10px;top:-7px;font-size:1.4rem;background-color:#181434;color:#aeaeae}.auth-form-input[_ngcontent-%COMP%]{width:100%;padding:1.7rem 1.5rem;border-radius:10px;background-color:transparent;border:1px solid #aeaeae;font-size:1.6rem;color:#fff;transition:all .2s}.auth-form-link[_ngcontent-%COMP%]{display:inline-block;margin-bottom:3rem}.auth-form-link[_ngcontent-%COMP%]:hover, auth-form-link[_ngcontent-%COMP%]:active{color:#dbe4ff}.btn-auth[_ngcontent-%COMP%]{display:block;width:100%}.btn--full[_ngcontent-%COMP%]{background-color:#845ef7;color:#fff}.btn--full[_ngcontent-%COMP%]:hover, .btn--full[_ngcontent-%COMP%]:active{background-color:#7048e8}.btn-show-pass[_ngcontent-%COMP%]{color:#aeaeae;position:absolute;right:0;top:3px}"]});var _e=S(6895),se=S(5197);const Re=[{path:"auth",redirectTo:"auth/signin",pathMatch:"full"},{path:"auth",children:[{path:"signin",component:Pe},{path:"signup",component:le}],component:z}];class Le{}Le.\u0275fac=function(We){return new(We||Le)},Le.\u0275mod=l.oAB({type:Le}),Le.\u0275inj=l.cJS({imports:[g.Bz.forChild(Re),_e.ez,ue.u5,ue.UX,Me.Ps,we.ot,se.JS]})},1981:(En,rt,S)=>{var l=S(1481),g=S(4006),z=S(4650),ue=S(1085),Me=S(4586);class we{ngOnInit(){}constructor(C){this.store=C,this.title="echo"}}we.\u0275fac=function(C){return new(C||we)(z.Y36(ue.ST))},we.\u0275cmp=z.Xpm({type:we,selectors:[["app-root"]],decls:1,vars:0,template:function(C,A){1&C&&z._UZ(0,"router-outlet")},dependencies:[Me.lC],styles:["app-login[_ngcontent-%COMP%]{height:100%}"]});var Pe=S(3692);(0,S(259).ZF)({projectId:"project-echo-01",appId:"1:822906463628:web:12e7b848318fc09eb9a2a9",storageBucket:"project-echo-01.appspot.com",apiKey:"AIzaSyD1d4kv-gGmvR9-R_6soZIpXi5Fw1DUQHk",authDomain:"project-echo-01.firebaseapp.com",messagingSenderId:"822906463628",measurementId:"G-5XE6G7SPJ0"});const Re_firebase={projectId:"project-echo-01",appId:"1:822906463628:web:12e7b848318fc09eb9a2a9",storageBucket:"project-echo-01.appspot.com",apiKey:"AIzaSyD1d4kv-gGmvR9-R_6soZIpXi5Fw1DUQHk",authDomain:"project-echo-01.firebaseapp.com",messagingSenderId:"822906463628",measurementId:"G-5XE6G7SPJ0"};var Le=S(9214),Xe=S(2011),We=S(5197),St=S(4523),Ft=S(3336),Ie=S(1748),Et=S(1173),gt=S(7693),bt=S(7340);
/**
         * @license Angular v15.2.5
         * (c) 2010-2022 Google LLC. https://angular.io/
         * License: MIT
         */function Be(pe){return new z.vHH(3e3,!1)}function Zr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Lr(pe){switch(pe.length){case 0:return new bt.ZN;case 1:return pe[0];default:return new bt.ZE(pe)}}function ir(pe,C,A,H,ce=new Map,ke=new Map){const ve=[],Je=[];let Pt=-1,rn=null;if(H.forEach(Yt=>{const fn=Yt.get("offset"),vi=fn==Pt,un=vi&&rn||new Map;Yt.forEach((vt,O)=>{let I=O,Z=vt;if("offset"!==O)switch(I=C.normalizePropertyName(I,ve),Z){case bt.k1:Z=ce.get(O);break;case bt.l3:Z=ke.get(O);break;default:Z=C.normalizeStyleValue(O,I,Z,ve)}un.set(I,Z)}),vi||Je.push(un),rn=un,Pt=fn}),ve.length)throw function br(pe){return new z.vHH(3502,!1)}();return Je}function rr(pe,C,A,H){switch(C){case"start":pe.onStart(()=>H(A&&$n(A,"start",pe)));break;case"done":pe.onDone(()=>H(A&&$n(A,"done",pe)));break;case"destroy":pe.onDestroy(()=>H(A&&$n(A,"destroy",pe)))}}function $n(pe,C,A){const H=A.totalTime,ce=!!A.disabled,ke=Rn(pe.element,pe.triggerName,pe.fromState,pe.toState,C||pe.phaseName,H??pe.totalTime,ce),ve=pe._data;return null!=ve&&(ke._data=ve),ke}function Rn(pe,C,A,H,ce="",ke=0,ve){return{element:pe,triggerName:C,fromState:A,toState:H,phaseName:ce,totalTime:ke,disabled:!!ve}}function ar(pe,C,A){let H=pe.get(C);return H||pe.set(C,H=A),H}function wr(pe){const C=pe.indexOf(":");return[pe.substring(1,C),pe.slice(C+1)]}let gr=(pe,C)=>!1,jr=(pe,C,A)=>[],di=null;function Wn(pe){const C=pe.parentNode||pe.host;return C===di?null:C}(Zr()||typeof Element<"u")&&(function er(){return typeof window<"u"&&typeof window.document<"u"}()?(di=(()=>document.documentElement)(),gr=(pe,C)=>{for(;C;){if(C===pe)return!0;C=Wn(C)}return!1}):gr=(pe,C)=>pe.contains(C),jr=(pe,C,A)=>{if(A)return Array.from(pe.querySelectorAll(C));const H=pe.querySelector(C);return H?[H]:[]});let Xt=null,de=!1;function Ce(pe){Xt||(Xt=function Y(){return typeof document<"u"?document.body:null}()||{},de=!!Xt.style&&"WebkitAppearance"in Xt.style);let C=!0;return Xt.style&&!function Mn(pe){return"ebkit"==pe.substring(1,6)}(pe)&&(C=pe in Xt.style,!C&&de&&(C="Webkit"+pe.charAt(0).toUpperCase()+pe.slice(1)in Xt.style)),C}const Se=gr,pt=jr;class Zn{validateStyleProperty(C){return Ce(C)}matchesElement(C,A){return!1}containsElement(C,A){return Se(C,A)}getParentElement(C){return Wn(C)}query(C,A,H){return pt(C,A,H)}computeStyle(C,A,H){return H||""}animate(C,A,H,ce,ke,ve=[],Je){return new bt.ZN(H,ce)}}Zn.\u0275fac=function(C){return new(C||Zn)},Zn.\u0275prov=z.Yz7({token:Zn,factory:Zn.\u0275fac});class He{}He.NOOP=new Zn;const Ue=1e3,me="ng-enter",Ct="ng-leave",Ke="ng-trigger",ee=".ng-trigger",Oe="ng-animating",nt=".ng-animating";function Ut(pe){if("number"==typeof pe)return pe;const C=pe.match(/^(-?[\.\d]+)(m?s)/);return!C||C.length<2?0:tn(parseFloat(C[1]),C[2])}function tn(pe,C){return"s"===C?pe*Ue:pe}function On(pe,C,A){return pe.hasOwnProperty("duration")?pe:function lt(pe,C,A){const H=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let ce,ke=0,ve="";if("string"==typeof pe){const Je=pe.match(H);if(null===Je)return C.push(Be()),{duration:0,delay:0,easing:""};ce=tn(parseFloat(Je[1]),Je[2]);const Pt=Je[3];null!=Pt&&(ke=tn(parseFloat(Pt),Je[4]));const rn=Je[5];rn&&(ve=rn)}else ce=pe;if(!A){let Je=!1,Pt=C.length;ce<0&&(C.push(function at(){return new z.vHH(3100,!1)}()),Je=!0),ke<0&&(C.push(function qt(){return new z.vHH(3101,!1)}()),Je=!0),Je&&C.splice(Pt,0,Be())}return{duration:ce,delay:ke,easing:ve}}(pe,C,A)}function q(pe,C={}){return Object.keys(pe).forEach(A=>{C[A]=pe[A]}),C}function Ne(pe){const C=new Map;return Object.keys(pe).forEach(A=>{const H=pe[A];C.set(A,H)}),C}function Cn(pe,C=new Map,A){if(A)for(let[H,ce]of A)C.set(H,ce);for(let[H,ce]of pe)C.set(H,ce);return C}function nr(pe,C,A){return A?C+":"+A+";":""}function Zi(pe){let C="";for(let A=0;A<pe.style.length;A++){const H=pe.style.item(A);C+=nr(0,H,pe.style.getPropertyValue(H))}for(const A in pe.style){if(!pe.style.hasOwnProperty(A)||A.startsWith("_"))continue;C+=nr(0,G(A),pe.style[A])}pe.setAttribute("style",C)}function Ui(pe,C,A){pe.style&&(C.forEach((H,ce)=>{const ke=At(ce);A&&!A.has(ce)&&A.set(ce,pe.style[ke]),pe.style[ke]=H}),Zr()&&Zi(pe))}function Ti(pe,C){pe.style&&(C.forEach((A,H)=>{const ce=At(H);pe.style[ce]=""}),Zr()&&Zi(pe))}function Or(pe){return Array.isArray(pe)?1==pe.length?pe[0]:(0,bt.vP)(pe):pe}function Vi(pe,C,A){const H=C.params||{},ce=io(pe);ce.length&&ce.forEach(ke=>{H.hasOwnProperty(ke)||A.push(function Ye(pe){return new z.vHH(3001,!1)}())})}const Ci=new RegExp("{{\\s*(.+?)\\s*}}","g");function io(pe){let C=[];if("string"==typeof pe){let A;for(;A=Ci.exec(pe);)C.push(A[1]);Ci.lastIndex=0}return C}function Fi(pe,C,A){const H=pe.toString(),ce=H.replace(Ci,(ke,ve)=>{let Je=C[ve];return null==Je&&(A.push(function X(pe){return new z.vHH(3003,!1)}()),Je=""),Je.toString()});return ce==H?pe:ce}function ai(pe){const C=[];let A=pe.next();for(;!A.done;)C.push(A.value),A=pe.next();return C}const Vn=/-+([a-z0-9])/g;function At(pe){return pe.replace(Vn,(...C)=>C[1].toUpperCase())}function G(pe){return pe.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xt(pe,C,A){switch(C.type){case 7:return pe.visitTrigger(C,A);case 0:return pe.visitState(C,A);case 1:return pe.visitTransition(C,A);case 2:return pe.visitSequence(C,A);case 3:return pe.visitGroup(C,A);case 4:return pe.visitAnimate(C,A);case 5:return pe.visitKeyframes(C,A);case 6:return pe.visitStyle(C,A);case 8:return pe.visitReference(C,A);case 9:return pe.visitAnimateChild(C,A);case 10:return pe.visitAnimateRef(C,A);case 11:return pe.visitQuery(C,A);case 12:return pe.visitStagger(C,A);default:throw function Bt(pe){return new z.vHH(3004,!1)}(C.type)}}function cn(pe,C){return window.getComputedStyle(pe)[C]}const In=!1;function zn(pe){const C="\n - ";return`${C}${pe.filter(Boolean).map(A=>A).join(C)}`}const jt="*";function ln(pe,C){const A=[];return"string"==typeof pe?pe.split(/\s*,\s*/).forEach(H=>function Gn(pe,C,A){if(":"==pe[0]){const Pt=function cr(pe,C){switch(pe){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(A,H)=>parseFloat(H)>parseFloat(A);case":decrement":return(A,H)=>parseFloat(H)<parseFloat(A);default:return C.push(function vn(pe){return new z.vHH(3016,!1)}()),"* => *"}}(pe,A);if("function"==typeof Pt)return void C.push(Pt);pe=Pt}const H=pe.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==H||H.length<4)return A.push(function Mt(pe){return new z.vHH(3015,!1)}()),C;const ce=H[1],ke=H[2],ve=H[3];C.push(zi(ce,ve));const Je=ce==jt&&ve==jt;"<"==ke[0]&&!Je&&C.push(zi(ve,ce))}(H,A,C)):A.push(pe),A}const $r=new Set(["true","1"]),_r=new Set(["false","0"]);function zi(pe,C){const A=$r.has(pe)||_r.has(pe),H=$r.has(C)||_r.has(C);return(ce,ke)=>{let ve=pe==jt||pe==ce,Je=C==jt||C==ke;return!ve&&A&&"boolean"==typeof ce&&(ve=ce?$r.has(pe):_r.has(pe)),!Je&&H&&"boolean"==typeof ke&&(Je=ke?$r.has(C):_r.has(C)),ve&&Je}}const Ii=":self",_i=new RegExp(`s*${Ii}s*,?`,"g");function Oo(pe,C,A,H){return new jo(pe).build(C,A,H)}class jo{constructor(C){this._driver=C}build(C,A,H){const ce=new pr(A);return this._resetContextStyleTimingState(ce),xt(this,Or(C),ce)}_resetContextStyleTimingState(C){C.currentQuerySelector="",C.collectedStyles=new Map,C.collectedStyles.set("",new Map),C.currentTime=0}visitTrigger(C,A){let H=A.queryCount=0,ce=A.depCount=0;const ke=[],ve=[];return"@"==C.name.charAt(0)&&A.errors.push(function en(){return new z.vHH(3006,!1)}()),C.definitions.forEach(Je=>{if(this._resetContextStyleTimingState(A),0==Je.type){const Pt=Je,rn=Pt.name;rn.toString().split(/\s*,\s*/).forEach(Yt=>{Pt.name=Yt,ke.push(this.visitState(Pt,A))}),Pt.name=rn}else if(1==Je.type){const Pt=this.visitTransition(Je,A);H+=Pt.queryCount,ce+=Pt.depCount,ve.push(Pt)}else A.errors.push(function jn(){return new z.vHH(3007,!1)}())}),{type:7,name:C.name,states:ke,transitions:ve,queryCount:H,depCount:ce,options:null}}visitState(C,A){const H=this.visitStyle(C.styles,A),ce=C.options&&C.options.params||null;if(H.containsDynamicStyles){const ke=new Set,ve=ce||{};if(H.styles.forEach(Je=>{Je instanceof Map&&Je.forEach(Pt=>{io(Pt).forEach(rn=>{ve.hasOwnProperty(rn)||ke.add(rn)})})}),ke.size){ai(ke.values());A.errors.push(function Pn(pe,C){return new z.vHH(3008,!1)}(C.name))}}return{type:0,name:C.name,style:H,options:ce?{params:ce}:null}}visitTransition(C,A){A.queryCount=0,A.depCount=0;const H=xt(this,Or(C.animation),A);return{type:1,matchers:ln(C.expr,A.errors),animation:H,queryCount:A.queryCount,depCount:A.depCount,options:no(C.options)}}visitSequence(C,A){return{type:2,steps:C.steps.map(H=>xt(this,H,A)),options:no(C.options)}}visitGroup(C,A){const H=A.currentTime;let ce=0;const ke=C.steps.map(ve=>{A.currentTime=H;const Je=xt(this,ve,A);return ce=Math.max(ce,A.currentTime),Je});return A.currentTime=ce,{type:3,steps:ke,options:no(C.options)}}visitAnimate(C,A){const H=function Ar(pe,C){if(pe.hasOwnProperty("duration"))return pe;if("number"==typeof pe){return yo(On(pe,C).duration,0,"")}const A=pe;if(A.split(/\s+/).some(ke=>"{"==ke.charAt(0)&&"{"==ke.charAt(1))){const ke=yo(0,0,"");return ke.dynamic=!0,ke.strValue=A,ke}const ce=On(A,C);return yo(ce.duration,ce.delay,ce.easing)}(C.timings,A.errors);A.currentAnimateTimings=H;let ce,ke=C.styles?C.styles:(0,bt.oB)({});if(5==ke.type)ce=this.visitKeyframes(ke,A);else{let ve=C.styles,Je=!1;if(!ve){Je=!0;const rn={};H.easing&&(rn.easing=H.easing),ve=(0,bt.oB)(rn)}A.currentTime+=H.duration+H.delay;const Pt=this.visitStyle(ve,A);Pt.isEmptyStep=Je,ce=Pt}return A.currentAnimateTimings=null,{type:4,timings:H,style:ce,options:null}}visitStyle(C,A){const H=this._makeStyleAst(C,A);return this._validateStyleAst(H,A),H}_makeStyleAst(C,A){const H=[],ce=Array.isArray(C.styles)?C.styles:[C.styles];for(let Je of ce)"string"==typeof Je?Je===bt.l3?H.push(Je):A.errors.push(new z.vHH(3002,!1)):H.push(Ne(Je));let ke=!1,ve=null;return H.forEach(Je=>{if(Je instanceof Map&&(Je.has("easing")&&(ve=Je.get("easing"),Je.delete("easing")),!ke))for(let Pt of Je.values())if(Pt.toString().indexOf("{{")>=0){ke=!0;break}}),{type:6,styles:H,easing:ve,offset:C.offset,containsDynamicStyles:ke,options:null}}_validateStyleAst(C,A){const H=A.currentAnimateTimings;let ce=A.currentTime,ke=A.currentTime;H&&ke>0&&(ke-=H.duration+H.delay),C.styles.forEach(ve=>{"string"!=typeof ve&&ve.forEach((Je,Pt)=>{const rn=A.collectedStyles.get(A.currentQuerySelector),Yt=rn.get(Pt);let fn=!0;Yt&&(ke!=ce&&ke>=Yt.startTime&&ce<=Yt.endTime&&(A.errors.push(function Rt(pe,C,A,H,ce){return new z.vHH(3010,!1)}(0,Yt.startTime,Yt.endTime)),fn=!1),ke=Yt.startTime),fn&&rn.set(Pt,{startTime:ke,endTime:ce}),A.options&&Vi(Je,A.options,A.errors)})})}visitKeyframes(C,A){const H={type:5,styles:[],options:null};if(!A.currentAnimateTimings)return A.errors.push(function Lt(){return new z.vHH(3011,!1)}()),H;let ke=0;const ve=[];let Je=!1,Pt=!1,rn=0;const Yt=C.steps.map(Z=>{const xe=this._makeStyleAst(Z,A);let ht=null!=xe.offset?xe.offset:function pi(pe){if("string"==typeof pe)return null;let C=null;if(Array.isArray(pe))pe.forEach(A=>{if(A instanceof Map&&A.has("offset")){const H=A;C=parseFloat(H.get("offset")),H.delete("offset")}});else if(pe instanceof Map&&pe.has("offset")){const A=pe;C=parseFloat(A.get("offset")),A.delete("offset")}return C}(xe.styles),kt=0;return null!=ht&&(ke++,kt=xe.offset=ht),Pt=Pt||kt<0||kt>1,Je=Je||kt<rn,rn=kt,ve.push(kt),xe});Pt&&A.errors.push(function Ht(){return new z.vHH(3012,!1)}()),Je&&A.errors.push(function Gt(){return new z.vHH(3200,!1)}());const fn=C.steps.length;let vi=0;ke>0&&ke<fn?A.errors.push(function Qt(){return new z.vHH(3202,!1)}()):0==ke&&(vi=1/(fn-1));const un=fn-1,vt=A.currentTime,O=A.currentAnimateTimings,I=O.duration;return Yt.forEach((Z,xe)=>{const ht=vi>0?xe==un?1:vi*xe:ve[xe],kt=ht*I;A.currentTime=vt+O.delay+kt,O.duration=kt,this._validateStyleAst(Z,A),Z.offset=ht,H.styles.push(Z)}),H}visitReference(C,A){return{type:8,animation:xt(this,Or(C.animation),A),options:no(C.options)}}visitAnimateChild(C,A){return A.depCount++,{type:9,options:no(C.options)}}visitAnimateRef(C,A){return{type:10,animation:this.visitReference(C.animation,A),options:no(C.options)}}visitQuery(C,A){const H=A.currentQuerySelector,ce=C.options||{};A.queryCount++,A.currentQuery=C;const[ke,ve]=function si(pe){const C=!!pe.split(/\s*,\s*/).find(A=>A==Ii);return C&&(pe=pe.replace(_i,"")),pe=pe.replace(/@\*/g,ee).replace(/@\w+/g,A=>ee+"-"+A.slice(1)).replace(/:animating/g,nt),[pe,C]}(C.selector);A.currentQuerySelector=H.length?H+" "+ke:ke,ar(A.collectedStyles,A.currentQuerySelector,new Map);const Je=xt(this,Or(C.animation),A);return A.currentQuery=null,A.currentQuerySelector=H,{type:11,selector:ke,limit:ce.limit||0,optional:!!ce.optional,includeSelf:ve,animation:Je,originalSelector:C.selector,options:no(C.options)}}visitStagger(C,A){A.currentQuery||A.errors.push(function it(){return new z.vHH(3013,!1)}());const H="full"===C.timings?{duration:0,delay:0,easing:"full"}:On(C.timings,A.errors,!0);return{type:12,animation:xt(this,Or(C.animation),A),timings:H,options:null}}}class pr{constructor(C){this.errors=C,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function no(pe){return pe?(pe=q(pe)).params&&(pe.params=function ii(pe){return pe?q(pe):null}(pe.params)):pe={},pe}function yo(pe,C,A){return{duration:pe,delay:C,easing:A}}function qr(pe,C,A,H,ce,ke,ve=null,Je=!1){return{type:1,element:pe,keyframes:C,preStyleProps:A,postStyleProps:H,duration:ce,delay:ke,totalTime:ce+ke,easing:ve,subTimeline:Je}}class xi{constructor(){this._map=new Map}get(C){return this._map.get(C)||[]}append(C,A){let H=this._map.get(C);H||this._map.set(C,H=[]),H.push(...A)}has(C){return this._map.has(C)}clear(){this._map.clear()}}const Ur=new RegExp(":enter","g"),Si=new RegExp(":leave","g");function ki(pe,C,A,H,ce,ke=new Map,ve=new Map,Je,Pt,rn=[]){return(new Pr).buildKeyframes(pe,C,A,H,ce,ke,ve,Je,Pt,rn)}class Pr{buildKeyframes(C,A,H,ce,ke,ve,Je,Pt,rn,Yt=[]){rn=rn||new xi;const fn=new oo(C,A,rn,ce,ke,Yt,[]);fn.options=Pt;const vi=Pt.delay?Ut(Pt.delay):0;fn.currentTimeline.delayNextStep(vi),fn.currentTimeline.setStyles([ve],null,fn.errors,Pt),xt(this,H,fn);const un=fn.timelines.filter(vt=>vt.containsAnimation());if(un.length&&Je.size){let vt;for(let O=un.length-1;O>=0;O--){const I=un[O];if(I.element===A){vt=I;break}}vt&&!vt.allowOnlyTimelineStyles()&&vt.setStyles([Je],null,fn.errors,Pt)}return un.length?un.map(vt=>vt.buildKeyframes()):[qr(A,[],[],[],0,vi,"",!1)]}visitTrigger(C,A){}visitState(C,A){}visitTransition(C,A){}visitAnimateChild(C,A){const H=A.subInstructions.get(A.element);if(H){const ce=A.createSubContext(C.options),ke=A.currentTimeline.currentTime,ve=this._visitSubInstructions(H,ce,ce.options);ke!=ve&&A.transformIntoNewTimeline(ve)}A.previousNode=C}visitAnimateRef(C,A){const H=A.createSubContext(C.options);H.transformIntoNewTimeline(),this._applyAnimationRefDelays([C.options,C.animation.options],A,H),this.visitReference(C.animation,H),A.transformIntoNewTimeline(H.currentTimeline.currentTime),A.previousNode=C}_applyAnimationRefDelays(C,A,H){for(const ce of C){const ke=ce?.delay;if(ke){const ve="number"==typeof ke?ke:Ut(Fi(ke,ce?.params??{},A.errors));H.delayNextStep(ve)}}}_visitSubInstructions(C,A,H){let ke=A.currentTimeline.currentTime;const ve=null!=H.duration?Ut(H.duration):null,Je=null!=H.delay?Ut(H.delay):null;return 0!==ve&&C.forEach(Pt=>{const rn=A.appendInstructionToTimeline(Pt,ve,Je);ke=Math.max(ke,rn.duration+rn.delay)}),ke}visitReference(C,A){A.updateOptions(C.options,!0),xt(this,C.animation,A),A.previousNode=C}visitSequence(C,A){const H=A.subContextCount;let ce=A;const ke=C.options;if(ke&&(ke.params||ke.delay)&&(ce=A.createSubContext(ke),ce.transformIntoNewTimeline(),null!=ke.delay)){6==ce.previousNode.type&&(ce.currentTimeline.snapshotCurrentStyles(),ce.previousNode=Bo);const ve=Ut(ke.delay);ce.delayNextStep(ve)}C.steps.length&&(C.steps.forEach(ve=>xt(this,ve,ce)),ce.currentTimeline.applyStylesToKeyframe(),ce.subContextCount>H&&ce.transformIntoNewTimeline()),A.previousNode=C}visitGroup(C,A){const H=[];let ce=A.currentTimeline.currentTime;const ke=C.options&&C.options.delay?Ut(C.options.delay):0;C.steps.forEach(ve=>{const Je=A.createSubContext(C.options);ke&&Je.delayNextStep(ke),xt(this,ve,Je),ce=Math.max(ce,Je.currentTimeline.currentTime),H.push(Je.currentTimeline)}),H.forEach(ve=>A.currentTimeline.mergeTimelineCollectedStyles(ve)),A.transformIntoNewTimeline(ce),A.previousNode=C}_visitTiming(C,A){if(C.dynamic){const H=C.strValue;return On(A.params?Fi(H,A.params,A.errors):H,A.errors)}return{duration:C.duration,delay:C.delay,easing:C.easing}}visitAnimate(C,A){const H=A.currentAnimateTimings=this._visitTiming(C.timings,A),ce=A.currentTimeline;H.delay&&(A.incrementTime(H.delay),ce.snapshotCurrentStyles());const ke=C.style;5==ke.type?this.visitKeyframes(ke,A):(A.incrementTime(H.duration),this.visitStyle(ke,A),ce.applyStylesToKeyframe()),A.currentAnimateTimings=null,A.previousNode=C}visitStyle(C,A){const H=A.currentTimeline,ce=A.currentAnimateTimings;!ce&&H.hasCurrentStyleProperties()&&H.forwardFrame();const ke=ce&&ce.easing||C.easing;C.isEmptyStep?H.applyEmptyStep(ke):H.setStyles(C.styles,ke,A.errors,A.options),A.previousNode=C}visitKeyframes(C,A){const H=A.currentAnimateTimings,ce=A.currentTimeline.duration,ke=H.duration,Je=A.createSubContext().currentTimeline;Je.easing=H.easing,C.styles.forEach(Pt=>{const rn=Pt.offset||0;Je.forwardTime(rn*ke),Je.setStyles(Pt.styles,Pt.easing,A.errors,A.options),Je.applyStylesToKeyframe()}),A.currentTimeline.mergeTimelineCollectedStyles(Je),A.transformIntoNewTimeline(ce+ke),A.previousNode=C}visitQuery(C,A){const H=A.currentTimeline.currentTime,ce=C.options||{},ke=ce.delay?Ut(ce.delay):0;ke&&(6===A.previousNode.type||0==H&&A.currentTimeline.hasCurrentStyleProperties())&&(A.currentTimeline.snapshotCurrentStyles(),A.previousNode=Bo);let ve=H;const Je=A.invokeQuery(C.selector,C.originalSelector,C.limit,C.includeSelf,!!ce.optional,A.errors);A.currentQueryTotal=Je.length;let Pt=null;Je.forEach((rn,Yt)=>{A.currentQueryIndex=Yt;const fn=A.createSubContext(C.options,rn);ke&&fn.delayNextStep(ke),rn===A.element&&(Pt=fn.currentTimeline),xt(this,C.animation,fn),fn.currentTimeline.applyStylesToKeyframe();const vi=fn.currentTimeline.currentTime;ve=Math.max(ve,vi)}),A.currentQueryIndex=0,A.currentQueryTotal=0,A.transformIntoNewTimeline(ve),Pt&&(A.currentTimeline.mergeTimelineCollectedStyles(Pt),A.currentTimeline.snapshotCurrentStyles()),A.previousNode=C}visitStagger(C,A){const H=A.parentContext,ce=A.currentTimeline,ke=C.timings,ve=Math.abs(ke.duration),Je=ve*(A.currentQueryTotal-1);let Pt=ve*A.currentQueryIndex;switch(ke.duration<0?"reverse":ke.easing){case"reverse":Pt=Je-Pt;break;case"full":Pt=H.currentStaggerTime}const Yt=A.currentTimeline;Pt&&Yt.delayNextStep(Pt);const fn=Yt.currentTime;xt(this,C.animation,A),A.previousNode=C,H.currentStaggerTime=ce.currentTime-fn+(ce.startTime-H.currentTimeline.startTime)}}const Bo={};class oo{constructor(C,A,H,ce,ke,ve,Je,Pt){this._driver=C,this.element=A,this.subInstructions=H,this._enterClassName=ce,this._leaveClassName=ke,this.errors=ve,this.timelines=Je,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Pt||new Ki(this._driver,A,0),Je.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(C,A){if(!C)return;const H=C;let ce=this.options;null!=H.duration&&(ce.duration=Ut(H.duration)),null!=H.delay&&(ce.delay=Ut(H.delay));const ke=H.params;if(ke){let ve=ce.params;ve||(ve=this.options.params={}),Object.keys(ke).forEach(Je=>{(!A||!ve.hasOwnProperty(Je))&&(ve[Je]=Fi(ke[Je],ve,this.errors))})}}_copyOptions(){const C={};if(this.options){const A=this.options.params;if(A){const H=C.params={};Object.keys(A).forEach(ce=>{H[ce]=A[ce]})}}return C}createSubContext(C=null,A,H){const ce=A||this.element,ke=new oo(this._driver,ce,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ce,H||0));return ke.previousNode=this.previousNode,ke.currentAnimateTimings=this.currentAnimateTimings,ke.options=this._copyOptions(),ke.updateOptions(C),ke.currentQueryIndex=this.currentQueryIndex,ke.currentQueryTotal=this.currentQueryTotal,ke.parentContext=this,this.subContextCount++,ke}transformIntoNewTimeline(C){return this.previousNode=Bo,this.currentTimeline=this.currentTimeline.fork(this.element,C),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(C,A,H){const ce={duration:A??C.duration,delay:this.currentTimeline.currentTime+(H??0)+C.delay,easing:""},ke=new so(this._driver,C.element,C.keyframes,C.preStyleProps,C.postStyleProps,ce,C.stretchStartingKeyframe);return this.timelines.push(ke),ce}incrementTime(C){this.currentTimeline.forwardTime(this.currentTimeline.duration+C)}delayNextStep(C){C>0&&this.currentTimeline.delayNextStep(C)}invokeQuery(C,A,H,ce,ke,ve){let Je=[];if(ce&&Je.push(this.element),C.length>0){C=(C=C.replace(Ur,"."+this._enterClassName)).replace(Si,"."+this._leaveClassName);const Pt=1!=H;let rn=this._driver.query(this.element,C,Pt);0!==H&&(rn=H<0?rn.slice(rn.length+H,rn.length):rn.slice(0,H)),Je.push(...rn)}return!ke&&0==Je.length&&ve.push(function It(pe){return new z.vHH(3014,!1)}()),Je}}class Ki{constructor(C,A,H,ce){this._driver=C,this.element=A,this.startTime=H,this._elementTimelineStylesLookup=ce,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(A),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(A,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(C){const A=1===this._keyframes.size&&this._pendingStyles.size;this.duration||A?(this.forwardTime(this.currentTime+C),A&&this.snapshotCurrentStyles()):this.startTime+=C}fork(C,A){return this.applyStylesToKeyframe(),new Ki(this._driver,C,A||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(C){this.applyStylesToKeyframe(),this.duration=C,this._loadKeyframe()}_updateStyle(C,A){this._localTimelineStyles.set(C,A),this._globalTimelineStyles.set(C,A),this._styleSummary.set(C,{time:this.currentTime,value:A})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(C){C&&this._previousKeyframe.set("easing",C);for(let[A,H]of this._globalTimelineStyles)this._backFill.set(A,H||bt.l3),this._currentKeyframe.set(A,bt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(C,A,H,ce){A&&this._previousKeyframe.set("easing",A);const ke=ce&&ce.params||{},ve=function Po(pe,C){const A=new Map;let H;return pe.forEach(ce=>{if("*"===ce){H=H||C.keys();for(let ke of H)A.set(ke,bt.l3)}else Cn(ce,A)}),A}(C,this._globalTimelineStyles);for(let[Je,Pt]of ve){const rn=Fi(Pt,ke,H);this._pendingStyles.set(Je,rn),this._localTimelineStyles.has(Je)||this._backFill.set(Je,this._globalTimelineStyles.get(Je)??bt.l3),this._updateStyle(Je,rn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((C,A)=>{this._currentKeyframe.set(A,C)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((C,A)=>{this._currentKeyframe.has(A)||this._currentKeyframe.set(A,C)}))}snapshotCurrentStyles(){for(let[C,A]of this._localTimelineStyles)this._pendingStyles.set(C,A),this._updateStyle(C,A)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const C=[];for(let A in this._currentKeyframe)C.push(A);return C}mergeTimelineCollectedStyles(C){C._styleSummary.forEach((A,H)=>{const ce=this._styleSummary.get(H);(!ce||A.time>ce.time)&&this._updateStyle(H,A.value)})}buildKeyframes(){this.applyStylesToKeyframe();const C=new Set,A=new Set,H=1===this._keyframes.size&&0===this.duration;let ce=[];this._keyframes.forEach((Je,Pt)=>{const rn=Cn(Je,new Map,this._backFill);rn.forEach((Yt,fn)=>{Yt===bt.k1?C.add(fn):Yt===bt.l3&&A.add(fn)}),H||rn.set("offset",Pt/this.duration),ce.push(rn)});const ke=C.size?ai(C.values()):[],ve=A.size?ai(A.values()):[];if(H){const Je=ce[0],Pt=new Map(Je);Je.set("offset",0),Pt.set("offset",1),ce=[Je,Pt]}return qr(this.element,ce,ke,ve,this.duration,this.startTime,this.easing,!1)}}class so extends Ki{constructor(C,A,H,ce,ke,ve,Je=!1){super(C,A,ve.delay),this.keyframes=H,this.preStyleProps=ce,this.postStyleProps=ke,this._stretchStartingKeyframe=Je,this.timings={duration:ve.duration,delay:ve.delay,easing:ve.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let C=this.keyframes,{delay:A,duration:H,easing:ce}=this.timings;if(this._stretchStartingKeyframe&&A){const ke=[],ve=H+A,Je=A/ve,Pt=Cn(C[0]);Pt.set("offset",0),ke.push(Pt);const rn=Cn(C[0]);rn.set("offset",ko(Je)),ke.push(rn);const Yt=C.length-1;for(let fn=1;fn<=Yt;fn++){let vi=Cn(C[fn]);const vt=A+vi.get("offset")*H;vi.set("offset",ko(vt/ve)),ke.push(vi)}H=ve,A=0,ce="",C=ke}return qr(this.element,C,this.preStyleProps,this.postStyleProps,H,A,ce,!0)}}function ko(pe,C=3){const A=Math.pow(10,C-1);return Math.round(pe*A)/A}class Io{}const Ms=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class To extends Io{normalizePropertyName(C,A){return At(C)}normalizeStyleValue(C,A,H,ce){let ke="";const ve=H.toString().trim();if(Ms.has(A)&&0!==H&&"0"!==H)if("number"==typeof H)ke="px";else{const Je=H.match(/^[+-]?[\d\.]+([a-z]*)$/);Je&&0==Je[1].length&&ce.push(function _n(pe,C){return new z.vHH(3005,!1)}())}return ve+ke}}function mo(pe,C,A,H,ce,ke,ve,Je,Pt,rn,Yt,fn,vi){return{type:0,element:pe,triggerName:C,isRemovalTransition:ce,fromState:A,fromStyles:ke,toState:H,toStyles:ve,timelines:Je,queriedElements:Pt,preStyleProps:rn,postStyleProps:Yt,totalTime:fn,errors:vi}}const Pi={};class Gr{constructor(C,A,H){this._triggerName=C,this.ast=A,this._stateStyles=H}match(C,A,H,ce){return function lo(pe,C,A,H,ce){return pe.some(ke=>ke(C,A,H,ce))}(this.ast.matchers,C,A,H,ce)}buildStyles(C,A,H){let ce=this._stateStyles.get("*");return void 0!==C&&(ce=this._stateStyles.get(C?.toString())||ce),ce?ce.buildStyles(A,H):new Map}build(C,A,H,ce,ke,ve,Je,Pt,rn,Yt){const fn=[],vi=this.ast.options&&this.ast.options.params||Pi,un=Je&&Je.params||Pi,vt=this.buildStyles(H,un,fn),O=Pt&&Pt.params||Pi,I=this.buildStyles(ce,O,fn),Z=new Set,xe=new Map,ht=new Map,kt="void"===ce,kn={params:bo(O,vi),delay:this.ast.options?.delay},yr=Yt?[]:ki(C,A,this.ast.animation,ke,ve,vt,I,kn,rn,fn);let ui=0;if(yr.forEach(bi=>{ui=Math.max(bi.duration+bi.delay,ui)}),fn.length)return mo(A,this._triggerName,H,ce,kt,vt,I,[],[],xe,ht,ui,fn);yr.forEach(bi=>{const Kr=bi.element,Xi=ar(xe,Kr,new Set);bi.preStyleProps.forEach(Hi=>Xi.add(Hi));const Yn=ar(ht,Kr,new Set);bi.postStyleProps.forEach(Hi=>Yn.add(Hi)),Kr!==A&&Z.add(Kr)});const ci=ai(Z.values());return mo(A,this._triggerName,H,ce,kt,vt,I,yr,ci,xe,ht,ui)}}function bo(pe,C){const A=q(C);for(const H in pe)pe.hasOwnProperty(H)&&null!=pe[H]&&(A[H]=pe[H]);return A}class xo{constructor(C,A,H){this.styles=C,this.defaultParams=A,this.normalizer=H}buildStyles(C,A){const H=new Map,ce=q(this.defaultParams);return Object.keys(C).forEach(ke=>{const ve=C[ke];null!==ve&&(ce[ke]=ve)}),this.styles.styles.forEach(ke=>{"string"!=typeof ke&&ke.forEach((ve,Je)=>{ve&&(ve=Fi(ve,ce,A));const Pt=this.normalizer.normalizePropertyName(Je,A);ve=this.normalizer.normalizeStyleValue(Je,Pt,ve,A),H.set(Je,ve)})}),H}}class uo{constructor(C,A,H){this.name=C,this.ast=A,this._normalizer=H,this.transitionFactories=[],this.states=new Map,A.states.forEach(ce=>{const ke=ce.options&&ce.options.params||{};this.states.set(ce.name,new xo(ce.style,ke,H))}),ho(this.states,"true","1"),ho(this.states,"false","0"),A.transitions.forEach(ce=>{this.transitionFactories.push(new Gr(C,ce,this.states))}),this.fallbackTransition=function qi(pe,C,A){return new Gr(pe,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ve,Je)=>!0],options:null,queryCount:0,depCount:0},C)}(C,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(C,A,H,ce){return this.transitionFactories.find(ve=>ve.match(C,A,H,ce))||null}matchStyles(C,A,H){return this.fallbackTransition.buildStyles(C,A,H)}}function ho(pe,C,A){pe.has(C)?pe.has(A)||pe.set(A,pe.get(C)):pe.has(A)&&pe.set(C,pe.get(A))}const Ds=new xi;class Mo{constructor(C,A,H){this.bodyNode=C,this._driver=A,this._normalizer=H,this._animations=new Map,this._playersById=new Map,this.players=[]}register(C,A){const H=[],ce=[],ke=Oo(this._driver,A,H,ce);if(H.length)throw function Un(pe){return new z.vHH(3503,!1)}();ce.length&&function mt(pe){In&&console.warn(`Animation built with the following warnings:${zn(pe)}`)}(ce),this._animations.set(C,ke)}_buildPlayer(C,A,H){const ce=C.element,ke=ir(this._driver,this._normalizer,0,C.keyframes,A,H);return this._driver.animate(ce,ke,C.duration,C.delay,C.easing,[],!0)}create(C,A,H={}){const ce=[],ke=this._animations.get(C);let ve;const Je=new Map;if(ke?(ve=ki(this._driver,A,ke,me,Ct,new Map,new Map,H,Ds,ce),ve.forEach(Yt=>{const fn=ar(Je,Yt.element,new Map);Yt.postStyleProps.forEach(vi=>fn.set(vi,null))})):(ce.push(function vr(){return new z.vHH(3300,!1)}()),ve=[]),ce.length)throw function Nr(pe){return new z.vHH(3504,!1)}();Je.forEach((Yt,fn)=>{Yt.forEach((vi,un)=>{Yt.set(un,this._driver.computeStyle(fn,un,bt.l3))})});const rn=Lr(ve.map(Yt=>{const fn=Je.get(Yt.element);return this._buildPlayer(Yt,new Map,fn)}));return this._playersById.set(C,rn),rn.onDestroy(()=>this.destroy(C)),this.players.push(rn),rn}destroy(C){const A=this._getPlayer(C);A.destroy(),this._playersById.delete(C);const H=this.players.indexOf(A);H>=0&&this.players.splice(H,1)}_getPlayer(C){const A=this._playersById.get(C);if(!A)throw function Jn(pe){return new z.vHH(3301,!1)}();return A}listen(C,A,H,ce){const ke=Rn(A,"","","");return rr(this._getPlayer(C),H,ke,ce),()=>{}}command(C,A,H,ce){if("register"==H)return void this.register(C,ce[0]);if("create"==H){const ve=ce[0]||{};return void this.create(C,A,ve)}const ke=this._getPlayer(C);switch(H){case"play":ke.play();break;case"pause":ke.pause();break;case"reset":ke.reset();break;case"restart":ke.restart();break;case"finish":ke.finish();break;case"init":ke.init();break;case"setPosition":ke.setPosition(parseFloat(ce[0]));break;case"destroy":this.destroy(C)}}}const Uo="ng-animate-queued",Co="ng-animate-disabled",fo=[],Bi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Eo="__ng_removed";class is{get params(){return this.options.params}constructor(C,A=""){this.namespaceId=A;const H=C&&C.hasOwnProperty("value"),ce=H?C.value:C;if(this.value=function $i(pe){return pe??null}(ce),H){const ke=q(C);delete ke.value,this.options=ke}else this.options={};this.options.params||(this.options.params={})}absorbOptions(C){const A=C.params;if(A){const H=this.options.params;Object.keys(A).forEach(ce=>{null==H[ce]&&(H[ce]=A[ce])})}}}const Hr="void",zo=new is(Hr);class Ni{constructor(C,A,H){this.id=C,this.hostElement=A,this._engine=H,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+C,re(A,this._hostClassName)}listen(C,A,H,ce){if(!this._triggers.has(A))throw function Br(pe,C){return new z.vHH(3302,!1)}();if(null==H||0==H.length)throw function dr(pe){return new z.vHH(3303,!1)}();if(!function or(pe){return"start"==pe||"done"==pe}(H))throw function ri(pe,C){return new z.vHH(3400,!1)}();const ke=ar(this._elementListeners,C,[]),ve={name:A,phase:H,callback:ce};ke.push(ve);const Je=ar(this._engine.statesByElement,C,new Map);return Je.has(A)||(re(C,Ke),re(C,Ke+"-"+A),Je.set(A,zo)),()=>{this._engine.afterFlush(()=>{const Pt=ke.indexOf(ve);Pt>=0&&ke.splice(Pt,1),this._triggers.has(A)||Je.delete(A)})}}register(C,A){return!this._triggers.has(C)&&(this._triggers.set(C,A),!0)}_getTrigger(C){const A=this._triggers.get(C);if(!A)throw function hr(pe){return new z.vHH(3401,!1)}();return A}trigger(C,A,H,ce=!0){const ke=this._getTrigger(A),ve=new ji(this.id,A,C);let Je=this._engine.statesByElement.get(C);Je||(re(C,Ke),re(C,Ke+"-"+A),this._engine.statesByElement.set(C,Je=new Map));let Pt=Je.get(A);const rn=new is(H,this.id);if(!(H&&H.hasOwnProperty("value"))&&Pt&&rn.absorbOptions(Pt.options),Je.set(A,rn),Pt||(Pt=zo),rn.value!==Hr&&Pt.value===rn.value){if(!function st(pe,C){const A=Object.keys(pe),H=Object.keys(C);if(A.length!=H.length)return!1;for(let ce=0;ce<A.length;ce++){const ke=A[ce];if(!C.hasOwnProperty(ke)||pe[ke]!==C[ke])return!1}return!0}(Pt.params,rn.params)){const O=[],I=ke.matchStyles(Pt.value,Pt.params,O),Z=ke.matchStyles(rn.value,rn.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(()=>{Ti(C,I),Ui(C,Z)})}return}const vi=ar(this._engine.playersByElement,C,[]);vi.forEach(O=>{O.namespaceId==this.id&&O.triggerName==A&&O.queued&&O.destroy()});let un=ke.matchTransition(Pt.value,rn.value,C,rn.params),vt=!1;if(!un){if(!ce)return;un=ke.fallbackTransition,vt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:A,transition:un,fromState:Pt,toState:rn,player:ve,isFallbackTransition:vt}),vt||(re(C,Uo),ve.onStart(()=>{T(C,Uo)})),ve.onDone(()=>{let O=this.players.indexOf(ve);O>=0&&this.players.splice(O,1);const I=this._engine.playersByElement.get(C);if(I){let Z=I.indexOf(ve);Z>=0&&I.splice(Z,1)}}),this.players.push(ve),vi.push(ve),ve}deregister(C){this._triggers.delete(C),this._engine.statesByElement.forEach(A=>A.delete(C)),this._elementListeners.forEach((A,H)=>{this._elementListeners.set(H,A.filter(ce=>ce.name!=C))})}clearElementCache(C){this._engine.statesByElement.delete(C),this._elementListeners.delete(C);const A=this._engine.playersByElement.get(C);A&&(A.forEach(H=>H.destroy()),this._engine.playersByElement.delete(C))}_signalRemovalForInnerTriggers(C,A){const H=this._engine.driver.query(C,ee,!0);H.forEach(ce=>{if(ce[Eo])return;const ke=this._engine.fetchNamespacesByElement(ce);ke.size?ke.forEach(ve=>ve.triggerLeaveAnimation(ce,A,!1,!0)):this.clearElementCache(ce)}),this._engine.afterFlushAnimationsDone(()=>H.forEach(ce=>this.clearElementCache(ce)))}triggerLeaveAnimation(C,A,H,ce){const ke=this._engine.statesByElement.get(C),ve=new Map;if(ke){const Je=[];if(ke.forEach((Pt,rn)=>{if(ve.set(rn,Pt.value),this._triggers.has(rn)){const Yt=this.trigger(C,rn,Hr,ce);Yt&&Je.push(Yt)}}),Je.length)return this._engine.markElementAsRemoved(this.id,C,!0,A,ve),H&&Lr(Je).onDone(()=>this._engine.processLeaveNode(C)),!0}return!1}prepareLeaveAnimationListeners(C){const A=this._elementListeners.get(C),H=this._engine.statesByElement.get(C);if(A&&H){const ce=new Set;A.forEach(ke=>{const ve=ke.name;if(ce.has(ve))return;ce.add(ve);const Pt=this._triggers.get(ve).fallbackTransition,rn=H.get(ve)||zo,Yt=new is(Hr),fn=new ji(this.id,ve,C);this._engine.totalQueuedPlayers++,this._queue.push({element:C,triggerName:ve,transition:Pt,fromState:rn,toState:Yt,player:fn,isFallbackTransition:!0})})}}removeNode(C,A){const H=this._engine;if(C.childElementCount&&this._signalRemovalForInnerTriggers(C,A),this.triggerLeaveAnimation(C,A,!0))return;let ce=!1;if(H.totalAnimations){const ke=H.players.length?H.playersByQueriedElement.get(C):[];if(ke&&ke.length)ce=!0;else{let ve=C;for(;ve=ve.parentNode;)if(H.statesByElement.get(ve)){ce=!0;break}}}if(this.prepareLeaveAnimationListeners(C),ce)H.markElementAsRemoved(this.id,C,!1,A);else{const ke=C[Eo];(!ke||ke===Bi)&&(H.afterFlush(()=>this.clearElementCache(C)),H.destroyInnerAnimations(C),H._onRemovalComplete(C,A))}}insertNode(C,A){re(C,this._hostClassName)}drainQueuedTransitions(C){const A=[];return this._queue.forEach(H=>{const ce=H.player;if(ce.destroyed)return;const ke=H.element,ve=this._elementListeners.get(ke);ve&&ve.forEach(Je=>{if(Je.name==H.triggerName){const Pt=Rn(ke,H.triggerName,H.fromState.value,H.toState.value);Pt._data=C,rr(H.player,Je.phase,Pt,Je.callback)}}),ce.markedForDestroy?this._engine.afterFlush(()=>{ce.destroy()}):A.push(H)}),this._queue=[],A.sort((H,ce)=>{const ke=H.transition.ast.depCount,ve=ce.transition.ast.depCount;return 0==ke||0==ve?ke-ve:this._engine.driver.containsElement(H.element,ce.element)?1:-1})}destroy(C){this.players.forEach(A=>A.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,C)}elementContainsData(C){let A=!1;return this._elementListeners.has(C)&&(A=!0),A=!!this._queue.find(H=>H.element===C)||A,A}}class co{_onRemovalComplete(C,A){this.onRemovalComplete(C,A)}constructor(C,A,H){this.bodyNode=C,this.driver=A,this._normalizer=H,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ce,ke)=>{}}get queuedPlayers(){const C=[];return this._namespaceList.forEach(A=>{A.players.forEach(H=>{H.queued&&C.push(H)})}),C}createNamespace(C,A){const H=new Ni(C,A,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,A)?this._balanceNamespaceList(H,A):(this.newHostElements.set(A,H),this.collectEnterElement(A)),this._namespaceLookup[C]=H}_balanceNamespaceList(C,A){const H=this._namespaceList,ce=this.namespacesByHostElement;if(H.length-1>=0){let ve=!1,Je=this.driver.getParentElement(A);for(;Je;){const Pt=ce.get(Je);if(Pt){const rn=H.indexOf(Pt);H.splice(rn+1,0,C),ve=!0;break}Je=this.driver.getParentElement(Je)}ve||H.unshift(C)}else H.push(C);return ce.set(A,C),C}register(C,A){let H=this._namespaceLookup[C];return H||(H=this.createNamespace(C,A)),H}registerTrigger(C,A,H){let ce=this._namespaceLookup[C];ce&&ce.register(A,H)&&this.totalAnimations++}destroy(C,A){if(!C)return;const H=this._fetchNamespace(C);this.afterFlush(()=>{this.namespacesByHostElement.delete(H.hostElement),delete this._namespaceLookup[C];const ce=this._namespaceList.indexOf(H);ce>=0&&this._namespaceList.splice(ce,1)}),this.afterFlushAnimationsDone(()=>H.destroy(A))}_fetchNamespace(C){return this._namespaceLookup[C]}fetchNamespacesByElement(C){const A=new Set,H=this.statesByElement.get(C);if(H)for(let ce of H.values())if(ce.namespaceId){const ke=this._fetchNamespace(ce.namespaceId);ke&&A.add(ke)}return A}trigger(C,A,H,ce){if(Xo(A)){const ke=this._fetchNamespace(C);if(ke)return ke.trigger(A,H,ce),!0}return!1}insertNode(C,A,H,ce){if(!Xo(A))return;const ke=A[Eo];if(ke&&ke.setForRemoval){ke.setForRemoval=!1,ke.setForMove=!0;const ve=this.collectedLeaveElements.indexOf(A);ve>=0&&this.collectedLeaveElements.splice(ve,1)}if(C){const ve=this._fetchNamespace(C);ve&&ve.insertNode(A,H)}ce&&this.collectEnterElement(A)}collectEnterElement(C){this.collectedEnterElements.push(C)}markElementAsDisabled(C,A){A?this.disabledNodes.has(C)||(this.disabledNodes.add(C),re(C,Co)):this.disabledNodes.has(C)&&(this.disabledNodes.delete(C),T(C,Co))}removeNode(C,A,H,ce){if(Xo(A)){const ke=C?this._fetchNamespace(C):null;if(ke?ke.removeNode(A,ce):this.markElementAsRemoved(C,A,!1,ce),H){const ve=this.namespacesByHostElement.get(A);ve&&ve.id!==C&&ve.removeNode(A,ce)}}else this._onRemovalComplete(A,ce)}markElementAsRemoved(C,A,H,ce,ke){this.collectedLeaveElements.push(A),A[Eo]={namespaceId:C,setForRemoval:ce,hasAnimation:H,removedBeforeQueried:!1,previousTriggersValues:ke}}listen(C,A,H,ce,ke){return Xo(A)?this._fetchNamespace(C).listen(A,H,ce,ke):()=>{}}_buildInstruction(C,A,H,ce,ke){return C.transition.build(this.driver,C.element,C.fromState.value,C.toState.value,H,ce,C.fromState.options,C.toState.options,A,ke)}destroyInnerAnimations(C){let A=this.driver.query(C,ee,!0);A.forEach(H=>this.destroyActiveAnimationsForElement(H)),0!=this.playersByQueriedElement.size&&(A=this.driver.query(C,nt,!0),A.forEach(H=>this.finishActiveQueriedAnimationOnElement(H)))}destroyActiveAnimationsForElement(C){const A=this.playersByElement.get(C);A&&A.forEach(H=>{H.queued?H.markedForDestroy=!0:H.destroy()})}finishActiveQueriedAnimationOnElement(C){const A=this.playersByQueriedElement.get(C);A&&A.forEach(H=>H.finish())}whenRenderingDone(){return new Promise(C=>{if(this.players.length)return Lr(this.players).onDone(()=>C());C()})}processLeaveNode(C){const A=C[Eo];if(A&&A.setForRemoval){if(C[Eo]=Bi,A.namespaceId){this.destroyInnerAnimations(C);const H=this._fetchNamespace(A.namespaceId);H&&H.clearElementCache(C)}this._onRemovalComplete(C,A.setForRemoval)}C.classList?.contains(Co)&&this.markElementAsDisabled(C,!1),this.driver.query(C,".ng-animate-disabled",!0).forEach(H=>{this.markElementAsDisabled(H,!1)})}flush(C=-1){let A=[];if(this.newHostElements.size&&(this.newHostElements.forEach((H,ce)=>this._balanceNamespaceList(H,ce)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let H=0;H<this.collectedEnterElements.length;H++){re(this.collectedEnterElements[H],"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const H=[];try{A=this._flushAnimations(H,C)}finally{for(let ce=0;ce<H.length;ce++)H[ce]()}}else for(let H=0;H<this.collectedLeaveElements.length;H++){const ce=this.collectedLeaveElements[H];this.processLeaveNode(ce)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(H=>H()),this._flushFns=[],this._whenQuietFns.length){const H=this._whenQuietFns;this._whenQuietFns=[],A.length?Lr(A).onDone(()=>{H.forEach(ce=>ce())}):H.forEach(ce=>ce())}}reportError(C){throw function fi(pe){return new z.vHH(3402,!1)}()}_flushAnimations(C,A){const H=new xi,ce=[],ke=new Map,ve=[],Je=new Map,Pt=new Map,rn=new Map,Yt=new Set;this.disabledNodes.forEach(an=>{Yt.add(an);const sr=this.driver.query(an,".ng-animate-queued",!0);for(let Nn=0;Nn<sr.length;Nn++)Yt.add(sr[Nn])});const fn=this.bodyNode,vi=Array.from(this.statesByElement.keys()),un=mr(vi,this.collectedEnterElements),vt=new Map;let O=0;un.forEach((an,sr)=>{const Nn=me+O++;vt.set(sr,Nn),an.forEach(gi=>re(gi,Nn))});const I=[],Z=new Set,xe=new Set;for(let an=0;an<this.collectedLeaveElements.length;an++){const sr=this.collectedLeaveElements[an],Nn=sr[Eo];Nn&&Nn.setForRemoval&&(I.push(sr),Z.add(sr),Nn.hasAnimation?this.driver.query(sr,".ng-star-inserted",!0).forEach(gi=>Z.add(gi)):xe.add(sr))}const ht=new Map,kt=mr(vi,Array.from(Z));kt.forEach((an,sr)=>{const Nn=Ct+O++;ht.set(sr,Nn),an.forEach(gi=>re(gi,Nn))}),C.push(()=>{un.forEach((an,sr)=>{const Nn=vt.get(sr);an.forEach(gi=>T(gi,Nn))}),kt.forEach((an,sr)=>{const Nn=ht.get(sr);an.forEach(gi=>T(gi,Nn))}),I.forEach(an=>{this.processLeaveNode(an)})});const kn=[],yr=[];for(let an=this._namespaceList.length-1;an>=0;an--)this._namespaceList[an].drainQueuedTransitions(A).forEach(Nn=>{const gi=Nn.player,Ei=Nn.element;if(kn.push(gi),this.collectedEnterElements.length){const ls=Ei[Eo];if(ls&&ls.setForMove){if(ls.previousTriggersValues&&ls.previousTriggersValues.has(Nn.triggerName)){const Ao=ls.previousTriggersValues.get(Nn.triggerName),us=this.statesByElement.get(Nn.element);if(us&&us.has(Nn.triggerName)){const js=us.get(Nn.triggerName);js.value=Ao,us.set(Nn.triggerName,js)}}return void gi.destroy()}}const An=!fn||!this.driver.containsElement(fn,Ei),cs=ht.get(Ei),qo=vt.get(Ei),eo=this._buildInstruction(Nn,H,qo,cs,An);if(eo.errors&&eo.errors.length)return void yr.push(eo);if(An)return gi.onStart(()=>Ti(Ei,eo.fromStyles)),gi.onDestroy(()=>Ui(Ei,eo.toStyles)),void ce.push(gi);if(Nn.isFallbackTransition)return gi.onStart(()=>Ti(Ei,eo.fromStyles)),gi.onDestroy(()=>Ui(Ei,eo.toStyles)),void ce.push(gi);const Ss=[];eo.timelines.forEach(ls=>{ls.stretchStartingKeyframe=!0,this.disabledNodes.has(ls.element)||Ss.push(ls)}),eo.timelines=Ss,H.append(Ei,eo.timelines);const Qs={instruction:eo,player:gi,element:Ei};ve.push(Qs),eo.queriedElements.forEach(ls=>ar(Je,ls,[]).push(gi)),eo.preStyleProps.forEach((ls,Ao)=>{if(ls.size){let us=Pt.get(Ao);us||Pt.set(Ao,us=new Set),ls.forEach((js,Mi)=>us.add(Mi))}}),eo.postStyleProps.forEach((ls,Ao)=>{let us=rn.get(Ao);us||rn.set(Ao,us=new Set),ls.forEach((js,Mi)=>us.add(Mi))})});if(yr.length){const an=[];yr.forEach(sr=>{an.push(function Tr(pe,C){return new z.vHH(3505,!1)}(sr.triggerName,sr.errors))}),kn.forEach(sr=>sr.destroy()),this.reportError(an)}const ui=new Map,ci=new Map;ve.forEach(an=>{const sr=an.element;H.has(sr)&&(ci.set(sr,sr),this._beforeAnimationBuild(an.player.namespaceId,an.instruction,ui))}),ce.forEach(an=>{const sr=an.element;this._getPreviousPlayers(sr,!1,an.namespaceId,an.triggerName,null).forEach(gi=>{ar(ui,sr,[]).push(gi),gi.destroy()})});const bi=I.filter(an=>ut(an,Pt,rn)),Kr=new Map;Wi(Kr,this.driver,xe,rn,bt.l3).forEach(an=>{ut(an,Pt,rn)&&bi.push(an)});const Yn=new Map;un.forEach((an,sr)=>{Wi(Yn,this.driver,new Set(an),Pt,bt.k1)}),bi.forEach(an=>{const sr=Kr.get(an),Nn=Yn.get(an);Kr.set(an,new Map([...Array.from(sr?.entries()??[]),...Array.from(Nn?.entries()??[])]))});const Hi=[],Ji=[],hi={};ve.forEach(an=>{const{element:sr,player:Nn,instruction:gi}=an;if(H.has(sr)){if(Yt.has(sr))return Nn.onDestroy(()=>Ui(sr,gi.toStyles)),Nn.disabled=!0,Nn.overrideTotalTime(gi.totalTime),void ce.push(Nn);let Ei=hi;if(ci.size>1){let cs=sr;const qo=[];for(;cs=cs.parentNode;){const eo=ci.get(cs);if(eo){Ei=eo;break}qo.push(cs)}qo.forEach(eo=>ci.set(eo,Ei))}const An=this._buildAnimation(Nn.namespaceId,gi,ui,ke,Yn,Kr);if(Nn.setRealPlayer(An),Ei===hi)Hi.push(Nn);else{const cs=this.playersByElement.get(Ei);cs&&cs.length&&(Nn.parentPlayer=Lr(cs)),ce.push(Nn)}}else Ti(sr,gi.fromStyles),Nn.onDestroy(()=>Ui(sr,gi.toStyles)),Ji.push(Nn),Yt.has(sr)&&ce.push(Nn)}),Ji.forEach(an=>{const sr=ke.get(an.element);if(sr&&sr.length){const Nn=Lr(sr);an.setRealPlayer(Nn)}}),ce.forEach(an=>{an.parentPlayer?an.syncPlayerEvents(an.parentPlayer):an.destroy()});for(let an=0;an<I.length;an++){const sr=I[an],Nn=sr[Eo];if(T(sr,Ct),Nn&&Nn.hasAnimation)continue;let gi=[];if(Je.size){let An=Je.get(sr);An&&An.length&&gi.push(...An);let cs=this.driver.query(sr,nt,!0);for(let qo=0;qo<cs.length;qo++){let eo=Je.get(cs[qo]);eo&&eo.length&&gi.push(...eo)}}const Ei=gi.filter(An=>!An.destroyed);Ei.length?J(this,sr,Ei):this.processLeaveNode(sr)}return I.length=0,Hi.forEach(an=>{this.players.push(an),an.onDone(()=>{an.destroy();const sr=this.players.indexOf(an);this.players.splice(sr,1)}),an.play()}),Hi}elementContainsData(C,A){let H=!1;const ce=A[Eo];return ce&&ce.setForRemoval&&(H=!0),this.playersByElement.has(A)&&(H=!0),this.playersByQueriedElement.has(A)&&(H=!0),this.statesByElement.has(A)&&(H=!0),this._fetchNamespace(C).elementContainsData(A)||H}afterFlush(C){this._flushFns.push(C)}afterFlushAnimationsDone(C){this._whenQuietFns.push(C)}_getPreviousPlayers(C,A,H,ce,ke){let ve=[];if(A){const Je=this.playersByQueriedElement.get(C);Je&&(ve=Je)}else{const Je=this.playersByElement.get(C);if(Je){const Pt=!ke||ke==Hr;Je.forEach(rn=>{rn.queued||!Pt&&rn.triggerName!=ce||ve.push(rn)})}}return(H||ce)&&(ve=ve.filter(Je=>!(H&&H!=Je.namespaceId||ce&&ce!=Je.triggerName))),ve}_beforeAnimationBuild(C,A,H){const ce=A.triggerName,ke=A.element,ve=A.isRemovalTransition?void 0:C,Je=A.isRemovalTransition?void 0:ce;for(const Pt of A.timelines){const rn=Pt.element,Yt=rn!==ke,fn=ar(H,rn,[]);this._getPreviousPlayers(rn,Yt,ve,Je,A.toState).forEach(un=>{const vt=un.getRealPlayer();vt.beforeDestroy&&vt.beforeDestroy(),un.destroy(),fn.push(un)})}Ti(ke,A.fromStyles)}_buildAnimation(C,A,H,ce,ke,ve){const Je=A.triggerName,Pt=A.element,rn=[],Yt=new Set,fn=new Set,vi=A.timelines.map(vt=>{const O=vt.element;Yt.add(O);const I=O[Eo];if(I&&I.removedBeforeQueried)return new bt.ZN(vt.duration,vt.delay);const Z=O!==Pt,xe=function ot(pe){const C=[];return pn(pe,C),C}((H.get(O)||fo).map(ui=>ui.getRealPlayer())).filter(ui=>{const ci=ui;return!!ci.element&&ci.element===O}),ht=ke.get(O),kt=ve.get(O),kn=ir(this.driver,this._normalizer,0,vt.keyframes,ht,kt),yr=this._buildPlayer(vt,kn,xe);if(vt.subTimeline&&ce&&fn.add(O),Z){const ui=new ji(C,Je,O);ui.setRealPlayer(yr),rn.push(ui)}return yr});rn.forEach(vt=>{ar(this.playersByQueriedElement,vt.element,[]).push(vt),vt.onDone(()=>function Wo(pe,C,A){let H=pe.get(C);if(H){if(H.length){const ce=H.indexOf(A);H.splice(ce,1)}0==H.length&&pe.delete(C)}return H}(this.playersByQueriedElement,vt.element,vt))}),Yt.forEach(vt=>re(vt,Oe));const un=Lr(vi);return un.onDestroy(()=>{Yt.forEach(vt=>T(vt,Oe)),Ui(Pt,A.toStyles)}),fn.forEach(vt=>{ar(ce,vt,[]).push(un)}),un}_buildPlayer(C,A,H){return A.length>0?this.driver.animate(C.element,A,C.duration,C.delay,C.easing,H):new bt.ZN(C.duration,C.delay)}}class ji{constructor(C,A,H){this.namespaceId=C,this.triggerName=A,this.element=H,this._player=new bt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(C){this._containsRealPlayer||(this._player=C,this._queuedCallbacks.forEach((A,H)=>{A.forEach(ce=>rr(C,H,void 0,ce))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(C.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(C){this.totalTime=C}syncPlayerEvents(C){const A=this._player;A.triggerCallback&&C.onStart(()=>A.triggerCallback("start")),C.onDone(()=>this.finish()),C.onDestroy(()=>this.destroy())}_queueEvent(C,A){ar(this._queuedCallbacks,C,[]).push(A)}onDone(C){this.queued&&this._queueEvent("done",C),this._player.onDone(C)}onStart(C){this.queued&&this._queueEvent("start",C),this._player.onStart(C)}onDestroy(C){this.queued&&this._queueEvent("destroy",C),this._player.onDestroy(C)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(C){this.queued||this._player.setPosition(C)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(C){const A=this._player;A.triggerCallback&&A.triggerCallback(C)}}function Xo(pe){return pe&&1===pe.nodeType}function Cs(pe,C){const A=pe.style.display;return pe.style.display=C??"none",A}function Wi(pe,C,A,H,ce){const ke=[];A.forEach(Pt=>ke.push(Cs(Pt)));const ve=[];H.forEach((Pt,rn)=>{const Yt=new Map;Pt.forEach(fn=>{const vi=C.computeStyle(rn,fn,ce);Yt.set(fn,vi),(!vi||0==vi.length)&&(rn[Eo]=yi,ve.push(rn))}),pe.set(rn,Yt)});let Je=0;return A.forEach(Pt=>Cs(Pt,ke[Je++])),ve}function mr(pe,C){const A=new Map;if(pe.forEach(Je=>A.set(Je,[])),0==C.length)return A;const H=1,ce=new Set(C),ke=new Map;function ve(Je){if(!Je)return H;let Pt=ke.get(Je);if(Pt)return Pt;const rn=Je.parentNode;return Pt=A.has(rn)?rn:ce.has(rn)?H:ve(rn),ke.set(Je,Pt),Pt}return C.forEach(Je=>{const Pt=ve(Je);Pt!==H&&A.get(Pt).push(Je)}),A}function re(pe,C){pe.classList?.add(C)}function T(pe,C){pe.classList?.remove(C)}function J(pe,C,A){Lr(A).onDone(()=>pe.processLeaveNode(C))}function pn(pe,C){for(let A=0;A<pe.length;A++){const H=pe[A];H instanceof bt.ZE?pn(H.players,C):C.push(H)}}function ut(pe,C,A){const H=A.get(pe);if(!H)return!1;let ce=C.get(pe);return ce?H.forEach(ke=>ce.add(ke)):C.set(pe,H),A.delete(pe),!0}class Tt{constructor(C,A,H){this.bodyNode=C,this._driver=A,this._normalizer=H,this._triggerCache={},this.onRemovalComplete=(ce,ke)=>{},this._transitionEngine=new co(C,A,H),this._timelineEngine=new Mo(C,A,H),this._transitionEngine.onRemovalComplete=(ce,ke)=>this.onRemovalComplete(ce,ke)}registerTrigger(C,A,H,ce,ke){const ve=C+"-"+ce;let Je=this._triggerCache[ve];if(!Je){const Pt=[],rn=[],Yt=Oo(this._driver,ke,Pt,rn);if(Pt.length)throw function ur(pe,C){return new z.vHH(3404,!1)}();rn.length&&function fr(pe,C){In&&console.warn(`The animation trigger "${pe}" has built with the following warnings:${zn(C)}`)}(ce,rn),Je=function ao(pe,C,A){return new uo(pe,C,A)}(ce,Yt,this._normalizer),this._triggerCache[ve]=Je}this._transitionEngine.registerTrigger(A,ce,Je)}register(C,A){this._transitionEngine.register(C,A)}destroy(C,A){this._transitionEngine.destroy(C,A)}onInsert(C,A,H,ce){this._transitionEngine.insertNode(C,A,H,ce)}onRemove(C,A,H,ce){this._transitionEngine.removeNode(C,A,ce||!1,H)}disableAnimations(C,A){this._transitionEngine.markElementAsDisabled(C,A)}process(C,A,H,ce){if("@"==H.charAt(0)){const[ke,ve]=wr(H),Je=ce;this._timelineEngine.command(ke,A,ve,Je)}else this._transitionEngine.trigger(C,A,H,ce)}listen(C,A,H,ce,ke){if("@"==H.charAt(0)){const[ve,Je]=wr(H);return this._timelineEngine.listen(ve,A,Je,ke)}return this._transitionEngine.listen(C,A,H,ce,ke)}flush(C=-1){this._transitionEngine.flush(C)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}class hn{constructor(C,A,H){this._element=C,this._startStyles=A,this._endStyles=H,this._state=0;let ce=hn.initialStylesByElement.get(C);ce||hn.initialStylesByElement.set(C,ce=new Map),this._initialStyles=ce}start(){this._state<1&&(this._startStyles&&Ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ui(this._element,this._initialStyles),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(hn.initialStylesByElement.delete(this._element),this._startStyles&&(Ti(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ti(this._element,this._endStyles),this._endStyles=null),Ui(this._element,this._initialStyles),this._state=3)}}function Fn(pe){let C=null;return pe.forEach((A,H)=>{(function Qr(pe){return"display"===pe||"position"===pe})(H)&&(C=C||new Map,C.set(H,A))}),C}hn.initialStylesByElement=new WeakMap;class Rr{constructor(C,A,H,ce){this.element=C,this.keyframes=A,this.options=H,this._specialStyles=ce,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=H.duration,this._delay=H.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(C=>C()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const C=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,C,this.options),this._finalKeyframe=C.length?C[C.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(C){const A=[];return C.forEach(H=>{A.push(Object.fromEntries(H))}),A}_triggerWebAnimation(C,A,H){return C.animate(this._convertKeyframesToObject(A),H)}onStart(C){this._originalOnStartFns.push(C),this._onStartFns.push(C)}onDone(C){this._originalOnDoneFns.push(C),this._onDoneFns.push(C)}onDestroy(C){this._onDestroyFns.push(C)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(C=>C()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(C=>C()),this._onDestroyFns=[])}setPosition(C){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=C*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const C=new Map;this.hasStarted()&&this._finalKeyframe.forEach((H,ce)=>{"offset"!==ce&&C.set(ce,this._finished?H:cn(this.element,ce))}),this.currentSnapshot=C}triggerCallback(C){const A="start"===C?this._onStartFns:this._onDoneFns;A.forEach(H=>H()),A.length=0}}class go{validateStyleProperty(C){return!0}validateAnimatableStyleProperty(C){return!0}matchesElement(C,A){return!1}containsElement(C,A){return Se(C,A)}getParentElement(C){return Wn(C)}query(C,A,H){return pt(C,A,H)}computeStyle(C,A,H){return window.getComputedStyle(C)[A]}animate(C,A,H,ce,ke,ve=[]){const Pt={duration:H,delay:ce,fill:0==ce?"both":"forwards"};ke&&(Pt.easing=ke);const rn=new Map,Yt=ve.filter(un=>un instanceof Rr);(function ge(pe,C){return 0===pe||0===C})(H,ce)&&Yt.forEach(un=>{un.currentSnapshot.forEach((vt,O)=>rn.set(O,vt))});let fn=function yt(pe){return pe.length?pe[0]instanceof Map?pe:pe.map(C=>Ne(C)):[]}(A).map(un=>Cn(un));fn=function ze(pe,C,A){if(A.size&&C.length){let H=C[0],ce=[];if(A.forEach((ke,ve)=>{H.has(ve)||ce.push(ve),H.set(ve,ke)}),ce.length)for(let ke=1;ke<C.length;ke++){let ve=C[ke];ce.forEach(Je=>ve.set(Je,cn(pe,Je)))}}return C}(C,fn,rn);const vi=function dt(pe,C){let A=null,H=null;return Array.isArray(C)&&C.length?(A=Fn(C[0]),C.length>1&&(H=Fn(C[C.length-1]))):C instanceof Map&&(A=Fn(C)),A||H?new hn(pe,A,H):null}(C,fn);return new Rr(C,fn,Pt,vi)}}var Yr=S(6895);
/**
         * @license Angular v15.2.5
         * (c) 2010-2022 Google LLC. https://angular.io/
         * License: MIT
         */class mi extends bt._j{constructor(C,A){super(),this._nextAnimationId=0;const H={id:"0",encapsulation:z.ifc.None,styles:[],data:{animation:[]}};this._renderer=C.createRenderer(A.body,H)}build(C){const A=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(C)?(0,bt.vP)(C):C;return F(this._renderer,null,A,"register",[H]),new Ve(A,this._renderer)}}mi.\u0275fac=function(C){return new(C||mi)(z.LFG(z.FYo),z.LFG(Yr.K0))},mi.\u0275prov=z.Yz7({token:mi,factory:mi.\u0275fac});class Ve extends bt.LC{constructor(C,A){super(),this._id=C,this._renderer=A}create(C,A){return new y(this._id,C,A||{},this._renderer)}}class y{constructor(C,A,H,ce){this.id=C,this.element=A,this._renderer=ce,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",H)}_listen(C,A){return this._renderer.listen(this.element,`@@${this.id}:${C}`,A)}_command(C,...A){return F(this._renderer,this.element,this.id,C,A)}onDone(C){this._listen("done",C)}onStart(C){this._listen("start",C)}onDestroy(C){this._listen("destroy",C)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(C){this._command("setPosition",C)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function F(pe,C,A,H,ce){return pe.setProperty(C,`@@${A}:${H}`,ce)}const De="@.disabled";class qe{constructor(C,A,H){this.delegate=C,this.engine=A,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),A.onRemovalComplete=(ce,ke)=>{const ve=ke?.parentNode(ce);ve&&ke.removeChild(ve,ce)}}createRenderer(C,A){const ce=this.delegate.createRenderer(C,A);if(!(C&&A&&A.data&&A.data.animation)){let rn=this._rendererCache.get(ce);if(!rn){const Yt=()=>this._rendererCache.delete(ce);rn=new Jt("",ce,this.engine,Yt),this._rendererCache.set(ce,rn)}return rn}const ke=A.id,ve=A.id+"-"+this._currentId;this._currentId++,this.engine.register(ve,C);const Je=rn=>{Array.isArray(rn)?rn.forEach(Je):this.engine.registerTrigger(ke,ve,C,rn.name,rn)};return A.data.animation.forEach(Je),new Dn(this,ve,ce,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(C,A,H){C>=0&&C<this._microtaskId?this._zone.run(()=>A(H)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ce=>{const[ke,ve]=ce;ke(ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([A,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}qe.\u0275fac=function(C){return new(C||qe)(z.LFG(z.FYo),z.LFG(Tt),z.LFG(z.R0b))},qe.\u0275prov=z.Yz7({token:qe,factory:qe.\u0275fac});class Jt{constructor(C,A,H,ce){this.namespaceId=C,this.delegate=A,this.engine=H,this._onDestroy=ce,this.destroyNode=this.delegate.destroyNode?ke=>A.destroyNode(ke):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(C,A){return this.delegate.createElement(C,A)}createComment(C){return this.delegate.createComment(C)}createText(C){return this.delegate.createText(C)}appendChild(C,A){this.delegate.appendChild(C,A),this.engine.onInsert(this.namespaceId,A,C,!1)}insertBefore(C,A,H,ce=!0){this.delegate.insertBefore(C,A,H),this.engine.onInsert(this.namespaceId,A,C,ce)}removeChild(C,A,H){this.engine.onRemove(this.namespaceId,A,this.delegate,H)}selectRootElement(C,A){return this.delegate.selectRootElement(C,A)}parentNode(C){return this.delegate.parentNode(C)}nextSibling(C){return this.delegate.nextSibling(C)}setAttribute(C,A,H,ce){this.delegate.setAttribute(C,A,H,ce)}removeAttribute(C,A,H){this.delegate.removeAttribute(C,A,H)}addClass(C,A){this.delegate.addClass(C,A)}removeClass(C,A){this.delegate.removeClass(C,A)}setStyle(C,A,H,ce){this.delegate.setStyle(C,A,H,ce)}removeStyle(C,A,H){this.delegate.removeStyle(C,A,H)}setProperty(C,A,H){"@"==A.charAt(0)&&A==De?this.disableAnimations(C,!!H):this.delegate.setProperty(C,A,H)}setValue(C,A){this.delegate.setValue(C,A)}listen(C,A,H){return this.delegate.listen(C,A,H)}disableAnimations(C,A){this.engine.disableAnimations(C,A)}}class Dn extends Jt{constructor(C,A,H,ce,ke){super(A,H,ce,ke),this.factory=C,this.namespaceId=A}setProperty(C,A,H){"@"==A.charAt(0)?"."==A.charAt(1)&&A==De?(H=void 0===H||!!H,this.disableAnimations(C,H)):this.engine.process(this.namespaceId,C,A.slice(1),H):this.delegate.setProperty(C,A,H)}listen(C,A,H){if("@"==A.charAt(0)){const ce=function Ln(pe){switch(pe){case"body":return document.body;case"document":return document;case"window":return window;default:return pe}}(C);let ke=A.slice(1),ve="";return"@"!=ke.charAt(0)&&([ke,ve]=function qn(pe){const C=pe.indexOf("."),A=pe.substring(0,C),H=pe.slice(C+1);return[A,H]}(ke)),this.engine.listen(this.namespaceId,ce,ke,ve,Je=>{const Pt=Je._data||-1;this.factory.scheduleListenerCallback(Pt,H,Je)})}return this.delegate.listen(C,A,H)}}class tr extends Tt{constructor(C,A,H,ce){super(C.body,A,H)}ngOnDestroy(){this.flush()}}tr.\u0275fac=function(C){return new(C||tr)(z.LFG(Yr.K0),z.LFG(He),z.LFG(Io),z.LFG(z.z2F))},tr.\u0275prov=z.Yz7({token:tr,factory:tr.\u0275fac});const Go=[{provide:bt._j,useClass:mi},{provide:Io,useFactory:function Vr(){return new To}},{provide:Tt,useClass:tr},{provide:z.FYo,useFactory:function Ho(pe,C,A){return new qe(pe,C,A)},deps:[l.se,Tt,z.R0b]}],Qi=[{provide:He,useFactory:()=>new go},{provide:z.QbO,useValue:"BrowserAnimations"},...Go],Yo=[{provide:He,useClass:Zn},{provide:z.QbO,useValue:"NoopAnimations"},...Go];class Zo{static withConfig(C){return{ngModule:Zo,providers:C.disableAnimations?Yo:Qi}}}Zo.\u0275fac=function(C){return new(C||Zo)},Zo.\u0275mod=z.oAB({type:Zo,exports:[l.b2]}),Zo.\u0275inj=z.cJS({providers:Qi,imports:[l.b2]});class qs{}qs.\u0275fac=function(C){return new(C||qs)},qs.\u0275mod=z.oAB({type:qs,exports:[l.b2]}),qs.\u0275inj=z.cJS({providers:Yo,imports:[l.b2]});var ga=S(926),Za=S(9598);const _a=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadChildren:()=>Promise.resolve().then(S.bind(S,4523)).then(pe=>pe.AuthModule)},{path:"chat",loadChildren:()=>Promise.resolve().then(S.bind(S,1748)).then(pe=>pe.MessengerModule)}];class As{}As.\u0275fac=function(C){return new(C||As)},As.\u0275mod=z.oAB({type:As,bootstrap:[we]}),As.\u0275inj=z.cJS({providers:[Et.M,gt.I,ga.C,Za.Q],imports:[Me.Bz.forRoot(_a),l.b2,(0,Le.Cm)(()=>(0,Le.ad)()),Xe.hO.initializeApp(Re_firebase),We.JS,(0,Pe.hX)(()=>(0,Pe.ZF)(Re_firebase)),St.AuthModule,g.u5,g.UX,Ft.Ps,Ie.MessengerModule,Zo]}),l.q6().bootstrapModule(As).catch(pe=>console.error(pe))},1135:(En,rt,S)=>{S.d(rt,{X:()=>g});var l=S(7579);class g extends l.x{constructor(ue){super(),this._value=ue}get value(){return this.getValue()}_subscribe(ue){const Me=super._subscribe(ue);return!Me.closed&&ue.next(this._value),Me}getValue(){const{hasError:ue,thrownError:Me,_value:we}=this;if(ue)throw Me;return this._throwIfClosed(),we}next(ue){super.next(this._value=ue)}}},9751:(En,rt,S)=>{S.d(rt,{y:()=>le});var l=S(930),g=S(727),z=S(8822),ue=S(9635),Me=S(2416),we=S(576),Pe=S(2806);class le{constructor(Xe){Xe&&(this._subscribe=Xe)}lift(Xe){const We=new le;return We.source=this,We.operator=Xe,We}subscribe(Xe,We,St){const Ft=function Re(Le){return Le&&Le instanceof l.Lv||function se(Le){return Le&&(0,we.m)(Le.next)&&(0,we.m)(Le.error)&&(0,we.m)(Le.complete)}(Le)&&(0,g.Nn)(Le)}(Xe)?Xe:new l.Hp(Xe,We,St);return(0,Pe.x)(()=>{const{operator:Ie,source:Et}=this;Ft.add(Ie?Ie.call(Ft,Et):Et?this._subscribe(Ft):this._trySubscribe(Ft))}),Ft}_trySubscribe(Xe){try{return this._subscribe(Xe)}catch(We){Xe.error(We)}}forEach(Xe,We){return new(We=_e(We))((St,Ft)=>{const Ie=new l.Hp({next:Et=>{try{Xe(Et)}catch(gt){Ft(gt),Ie.unsubscribe()}},error:Ft,complete:St});this.subscribe(Ie)})}_subscribe(Xe){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Xe)}[z.L](){return this}pipe(...Xe){return(0,ue.U)(Xe)(this)}toPromise(Xe){return new(Xe=_e(Xe))((We,St)=>{let Ft;this.subscribe(Ie=>Ft=Ie,Ie=>St(Ie),()=>We(Ft))})}}function _e(Le){var Xe;return null!==(Xe=Le??Me.v.Promise)&&void 0!==Xe?Xe:Promise}le.create=Le=>new le(Le)},7579:(En,rt,S)=>{S.d(rt,{x:()=>Pe});var l=S(9751),g=S(727);const ue=(0,S(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=S(8737),we=S(2806);class Pe extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Re=new le(this,this);return Re.operator=se,Re}_throwIfClosed(){if(this.closed)throw new ue}next(se){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(se)}})}error(se){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Re}=this;for(;Re.length;)Re.shift().error(se)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Re,isStopped:Le,observers:Xe}=this;return Re||Le?g.Lc:(this.currentObservers=null,Xe.push(se),new g.w0(()=>{this.currentObservers=null,(0,Me.P)(Xe,se)}))}_checkFinalizedStatuses(se){const{hasError:Re,thrownError:Le,isStopped:Xe}=this;Re?se.error(Le):Xe&&se.complete()}asObservable(){const se=new l.y;return se.source=this,se}}Pe.create=(_e,se)=>new le(_e,se);class le extends Pe{constructor(se,Re){super(),this.destination=se,this.source=Re}next(se){var Re,Le;null===(Le=null===(Re=this.destination)||void 0===Re?void 0:Re.next)||void 0===Le||Le.call(Re,se)}error(se){var Re,Le;null===(Le=null===(Re=this.destination)||void 0===Re?void 0:Re.error)||void 0===Le||Le.call(Re,se)}complete(){var se,Re;null===(Re=null===(se=this.destination)||void 0===se?void 0:se.complete)||void 0===Re||Re.call(se)}_subscribe(se){var Re,Le;return null!==(Le=null===(Re=this.source)||void 0===Re?void 0:Re.subscribe(se))&&void 0!==Le?Le:g.Lc}}},930:(En,rt,S)=>{S.d(rt,{Hp:()=>Ft,Lv:()=>Le});var l=S(576),g=S(727),z=S(2416),ue=S(7849),Me=S(5032);const we=_e("C",void 0,void 0);function _e(_t,Be,at){return{kind:_t,value:Be,error:at}}var se=S(3410),Re=S(2806);class Le extends g.w0{constructor(Be){super(),this.isStopped=!1,Be?(this.destination=Be,(0,g.Nn)(Be)&&Be.add(this)):this.destination=bt}static create(Be,at,qt){return new Ft(Be,at,qt)}next(Be){this.isStopped?gt(function le(_t){return _e("N",_t,void 0)}(Be),this):this._next(Be)}error(Be){this.isStopped?gt(function Pe(_t){return _e("E",void 0,_t)}(Be),this):(this.isStopped=!0,this._error(Be))}complete(){this.isStopped?gt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Be){this.destination.next(Be)}_error(Be){try{this.destination.error(Be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function We(_t,Be){return Xe.call(_t,Be)}class St{constructor(Be){this.partialObserver=Be}next(Be){const{partialObserver:at}=this;if(at.next)try{at.next(Be)}catch(qt){Ie(qt)}}error(Be){const{partialObserver:at}=this;if(at.error)try{at.error(Be)}catch(qt){Ie(qt)}else Ie(Be)}complete(){const{partialObserver:Be}=this;if(Be.complete)try{Be.complete()}catch(at){Ie(at)}}}class Ft extends Le{constructor(Be,at,qt){let Ye;if(super(),(0,l.m)(Be)||!Be)Ye={next:Be??void 0,error:at??void 0,complete:qt??void 0};else{let X;this&&z.v.useDeprecatedNextContext?(X=Object.create(Be),X.unsubscribe=()=>this.unsubscribe(),Ye={next:Be.next&&We(Be.next,X),error:Be.error&&We(Be.error,X),complete:Be.complete&&We(Be.complete,X)}):Ye=Be}this.destination=new St(Ye)}}function Ie(_t){z.v.useDeprecatedSynchronousErrorHandling?(0,Re.O)(_t):(0,ue.h)(_t)}function gt(_t,Be){const{onStoppedNotification:at}=z.v;at&&se.z.setTimeout(()=>at(_t,Be))}const bt={closed:!0,next:Me.Z,error:function Et(_t){throw _t},complete:Me.Z}},727:(En,rt,S)=>{S.d(rt,{Lc:()=>we,w0:()=>Me,Nn:()=>Pe});var l=S(576);const z=(0,S(3888).d)(_e=>function(Re){_e(this),this.message=Re?`${Re.length} errors occurred during unsubscription:\n${Re.map((Le,Xe)=>`${Xe+1}) ${Le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Re});var ue=S(8737);class Me{constructor(se){this.initialTeardown=se,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let se;if(!this.closed){this.closed=!0;const{_parentage:Re}=this;if(Re)if(this._parentage=null,Array.isArray(Re))for(const We of Re)We.remove(this);else Re.remove(this);const{initialTeardown:Le}=this;if((0,l.m)(Le))try{Le()}catch(We){se=We instanceof z?We.errors:[We]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const We of Xe)try{le(We)}catch(St){se=se??[],St instanceof z?se=[...se,...St.errors]:se.push(St)}}if(se)throw new z(se)}}add(se){var Re;if(se&&se!==this)if(this.closed)le(se);else{if(se instanceof Me){if(se.closed||se._hasParent(this))return;se._addParent(this)}(this._finalizers=null!==(Re=this._finalizers)&&void 0!==Re?Re:[]).push(se)}}_hasParent(se){const{_parentage:Re}=this;return Re===se||Array.isArray(Re)&&Re.includes(se)}_addParent(se){const{_parentage:Re}=this;this._parentage=Array.isArray(Re)?(Re.push(se),Re):Re?[Re,se]:se}_removeParent(se){const{_parentage:Re}=this;Re===se?this._parentage=null:Array.isArray(Re)&&(0,ue.P)(Re,se)}remove(se){const{_finalizers:Re}=this;Re&&(0,ue.P)(Re,se),se instanceof Me&&se._removeParent(this)}}Me.EMPTY=(()=>{const _e=new Me;return _e.closed=!0,_e})();const we=Me.EMPTY;function Pe(_e){return _e instanceof Me||_e&&"closed"in _e&&(0,l.m)(_e.remove)&&(0,l.m)(_e.add)&&(0,l.m)(_e.unsubscribe)}function le(_e){(0,l.m)(_e)?_e():_e.unsubscribe()}},2416:(En,rt,S)=>{S.d(rt,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(En,rt,S)=>{S.d(rt,{c:()=>we});var l=S(9751),g=S(727),z=S(8343),ue=S(5403),Me=S(4482);class we extends l.y{constructor(le,_e){super(),this.source=le,this.subjectFactory=_e,this._subject=null,this._refCount=0,this._connection=null,(0,Me.A)(le)&&(this.lift=le.lift)}_subscribe(le){return this.getSubject().subscribe(le)}getSubject(){const le=this._subject;return(!le||le.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:le}=this;this._subject=this._connection=null,le?.unsubscribe()}connect(){let le=this._connection;if(!le){le=this._connection=new g.w0;const _e=this.getSubject();le.add(this.source.subscribe((0,ue.x)(_e,void 0,()=>{this._teardown(),_e.complete()},se=>{this._teardown(),_e.error(se)},()=>this._teardown()))),le.closed&&(this._connection=null,le=g.w0.EMPTY)}return le}refCount(){return(0,z.x)()(this)}}},9841:(En,rt,S)=>{S.d(rt,{a:()=>se});var l=S(9751),g=S(4742),z=S(8996),ue=S(4671),Me=S(3268),we=S(3269),Pe=S(1810),le=S(5403),_e=S(9672);function se(...Xe){const We=(0,we.yG)(Xe),St=(0,we.jO)(Xe),{args:Ft,keys:Ie}=(0,g.D)(Xe);if(0===Ft.length)return(0,z.D)([],We);const Et=new l.y(function Re(Xe,We,St=ue.y){return Ft=>{Le(We,()=>{const{length:Ie}=Xe,Et=new Array(Ie);let gt=Ie,bt=Ie;for(let _t=0;_t<Ie;_t++)Le(We,()=>{const Be=(0,z.D)(Xe[_t],We);let at=!1;Be.subscribe((0,le.x)(Ft,qt=>{Et[_t]=qt,at||(at=!0,bt--),bt||Ft.next(St(Et.slice()))},()=>{--gt||Ft.complete()}))},Ft)},Ft)}}(Ft,We,Ie?gt=>(0,Pe.n)(Ie,gt):ue.y));return St?Et.pipe((0,Me.Z)(St)):Et}function Le(Xe,We,St){Xe?(0,_e.f)(St,Xe,We):We()}},7272:(En,rt,S)=>{S.d(rt,{z:()=>Me});var l=S(8189);var z=S(3269),ue=S(8996);function Me(...we){return function g(){return(0,l.J)(1)}()((0,ue.D)(we,(0,z.yG)(we)))}},515:(En,rt,S)=>{S.d(rt,{E:()=>g});const g=new(S(9751).y)(Me=>Me.complete())},4128:(En,rt,S)=>{S.d(rt,{D:()=>le});var l=S(9751),g=S(4742),z=S(8421),ue=S(3269),Me=S(5403),we=S(3268),Pe=S(1810);function le(..._e){const se=(0,ue.jO)(_e),{args:Re,keys:Le}=(0,g.D)(_e),Xe=new l.y(We=>{const{length:St}=Re;if(!St)return void We.complete();const Ft=new Array(St);let Ie=St,Et=St;for(let gt=0;gt<St;gt++){let bt=!1;(0,z.Xf)(Re[gt]).subscribe((0,Me.x)(We,_t=>{bt||(bt=!0,Et--),Ft[gt]=_t},()=>Ie--,void 0,()=>{(!Ie||!bt)&&(Et||We.next(Le?(0,Pe.n)(Le,Ft):Ft),We.complete())}))}});return se?Xe.pipe((0,we.Z)(se)):Xe}},8996:(En,rt,S)=>{S.d(rt,{D:()=>Be});var l=S(8421),g=S(5363),z=S(9468);var we=S(9751);var le=S(2202),_e=S(576),se=S(9672);function Le(at,qt){if(!at)throw new Error("Iterable cannot be null");return new we.y(Ye=>{(0,se.f)(Ye,qt,()=>{const X=at[Symbol.asyncIterator]();(0,se.f)(Ye,qt,()=>{X.next().then(Bt=>{Bt.done?Ye.complete():Ye.next(Bt.value)})},0,!0)})})}var Xe=S(3670),We=S(8239),St=S(1144),Ft=S(6495),Ie=S(2206),Et=S(4532),gt=S(3260);function _t(at,qt){if(null!=at){if((0,Xe.c)(at))return function ue(at,qt){return(0,l.Xf)(at).pipe((0,z.R)(qt),(0,g.Q)(qt))}(at,qt);if((0,St.z)(at))return function Pe(at,qt){return new we.y(Ye=>{let X=0;return qt.schedule(function(){X===at.length?Ye.complete():(Ye.next(at[X++]),Ye.closed||this.schedule())})})}(at,qt);if((0,We.t)(at))return function Me(at,qt){return(0,l.Xf)(at).pipe((0,z.R)(qt),(0,g.Q)(qt))}(at,qt);if((0,Ie.D)(at))return Le(at,qt);if((0,Ft.T)(at))return function Re(at,qt){return new we.y(Ye=>{let X;return(0,se.f)(Ye,qt,()=>{X=at[le.h](),(0,se.f)(Ye,qt,()=>{let Bt,_n;try{({value:Bt,done:_n}=X.next())}catch(en){return void Ye.error(en)}_n?Ye.complete():Ye.next(Bt)},0,!0)}),()=>(0,_e.m)(X?.return)&&X.return()})}(at,qt);if((0,gt.L)(at))return function bt(at,qt){return Le((0,gt.Q)(at),qt)}(at,qt)}throw(0,Et.z)(at)}function Be(at,qt){return qt?_t(at,qt):(0,l.Xf)(at)}},8421:(En,rt,S)=>{S.d(rt,{Xf:()=>Xe});var l=S(655),g=S(1144),z=S(8239),ue=S(9751),Me=S(3670),we=S(2206),Pe=S(4532),le=S(6495),_e=S(3260),se=S(576),Re=S(7849),Le=S(8822);function Xe(_t){if(_t instanceof ue.y)return _t;if(null!=_t){if((0,Me.c)(_t))return function We(_t){return new ue.y(Be=>{const at=_t[Le.L]();if((0,se.m)(at.subscribe))return at.subscribe(Be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_t);if((0,g.z)(_t))return function St(_t){return new ue.y(Be=>{for(let at=0;at<_t.length&&!Be.closed;at++)Be.next(_t[at]);Be.complete()})}(_t);if((0,z.t)(_t))return function Ft(_t){return new ue.y(Be=>{_t.then(at=>{Be.closed||(Be.next(at),Be.complete())},at=>Be.error(at)).then(null,Re.h)})}(_t);if((0,we.D)(_t))return Et(_t);if((0,le.T)(_t))return function Ie(_t){return new ue.y(Be=>{for(const at of _t)if(Be.next(at),Be.closed)return;Be.complete()})}(_t);if((0,_e.L)(_t))return function gt(_t){return Et((0,_e.Q)(_t))}(_t)}throw(0,Pe.z)(_t)}function Et(_t){return new ue.y(Be=>{(function bt(_t,Be){var at,qt,Ye,X;return(0,l.mG)(this,void 0,void 0,function*(){try{for(at=(0,l.KL)(_t);!(qt=yield at.next()).done;){const Bt=qt.value;if(Be.next(Bt),Be.closed)return}}catch(Bt){Ye={error:Bt}}finally{try{qt&&!qt.done&&(X=at.return)&&(yield X.call(at))}finally{if(Ye)throw Ye.error}}Be.complete()})})(_t,Be).catch(at=>Be.error(at))})}},6451:(En,rt,S)=>{S.d(rt,{T:()=>we});var l=S(8189),g=S(8421),z=S(515),ue=S(3269),Me=S(8996);function we(...Pe){const le=(0,ue.yG)(Pe),_e=(0,ue._6)(Pe,1/0),se=Pe;return se.length?1===se.length?(0,g.Xf)(se[0]):(0,l.J)(_e)((0,Me.D)(se,le)):z.E}},9646:(En,rt,S)=>{S.d(rt,{of:()=>z});var l=S(3269),g=S(8996);function z(...ue){const Me=(0,l.yG)(ue);return(0,g.D)(ue,Me)}},2843:(En,rt,S)=>{S.d(rt,{_:()=>z});var l=S(9751),g=S(576);function z(ue,Me){const we=(0,g.m)(ue)?ue:()=>ue,Pe=le=>le.error(we());return new l.y(Me?le=>Me.schedule(Pe,0,le):Pe)}},5963:(En,rt,S)=>{S.d(rt,{H:()=>Me});var l=S(9751),g=S(4986),z=S(3532);function Me(we=0,Pe,le=g.P){let _e=-1;return null!=Pe&&((0,z.K)(Pe)?le=Pe:_e=Pe),new l.y(se=>{let Re=function ue(we){return we instanceof Date&&!isNaN(we)}(we)?+we-le.now():we;Re<0&&(Re=0);let Le=0;return le.schedule(function(){se.closed||(se.next(Le++),0<=_e?this.schedule(void 0,_e):se.complete())},Re)})}},5403:(En,rt,S)=>{S.d(rt,{x:()=>g});var l=S(930);function g(ue,Me,we,Pe,le){return new z(ue,Me,we,Pe,le)}class z extends l.Lv{constructor(Me,we,Pe,le,_e,se){super(Me),this.onFinalize=_e,this.shouldUnsubscribe=se,this._next=we?function(Re){try{we(Re)}catch(Le){Me.error(Le)}}:super._next,this._error=le?function(Re){try{le(Re)}catch(Le){Me.error(Le)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(Re){Me.error(Re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},262:(En,rt,S)=>{S.d(rt,{K:()=>ue});var l=S(8421),g=S(5403),z=S(4482);function ue(Me){return(0,z.e)((we,Pe)=>{let se,le=null,_e=!1;le=we.subscribe((0,g.x)(Pe,void 0,void 0,Re=>{se=(0,l.Xf)(Me(Re,ue(Me)(we))),le?(le.unsubscribe(),le=null,se.subscribe(Pe)):_e=!0})),_e&&(le.unsubscribe(),le=null,se.subscribe(Pe))})}},4351:(En,rt,S)=>{S.d(rt,{b:()=>z});var l=S(5577),g=S(576);function z(ue,Me){return(0,g.m)(Me)?(0,l.z)(ue,Me,1):(0,l.z)(ue,1)}},6590:(En,rt,S)=>{S.d(rt,{d:()=>z});var l=S(4482),g=S(5403);function z(ue){return(0,l.e)((Me,we)=>{let Pe=!1;Me.subscribe((0,g.x)(we,le=>{Pe=!0,we.next(le)},()=>{Pe||we.next(ue),we.complete()}))})}},7552:(En,rt,S)=>{S.d(rt,{E:()=>Me});var l=S(4482),g=S(5403),z=S(5032),ue=S(8421);function Me(we,Pe){return(0,l.e)((le,_e)=>{const se=new Set;le.subscribe((0,g.x)(_e,Re=>{const Le=we?we(Re):Re;se.has(Le)||(se.add(Le),_e.next(Re))})),Pe&&(0,ue.Xf)(Pe).subscribe((0,g.x)(_e,()=>se.clear(),z.Z))})}},1884:(En,rt,S)=>{S.d(rt,{x:()=>ue});var l=S(4671),g=S(4482),z=S(5403);function ue(we,Pe=l.y){return we=we??Me,(0,g.e)((le,_e)=>{let se,Re=!0;le.subscribe((0,z.x)(_e,Le=>{const Xe=Pe(Le);(Re||!we(se,Xe))&&(Re=!1,se=Xe,_e.next(Le))}))})}function Me(we,Pe){return we===Pe}},9300:(En,rt,S)=>{S.d(rt,{h:()=>z});var l=S(4482),g=S(5403);function z(ue,Me){return(0,l.e)((we,Pe)=>{let le=0;we.subscribe((0,g.x)(Pe,_e=>ue.call(Me,_e,le++)&&Pe.next(_e)))})}},8746:(En,rt,S)=>{S.d(rt,{x:()=>g});var l=S(4482);function g(z){return(0,l.e)((ue,Me)=>{try{ue.subscribe(Me)}finally{Me.add(z)}})}},590:(En,rt,S)=>{S.d(rt,{P:()=>Pe});var l=S(6805),g=S(9300),z=S(5698),ue=S(6590),Me=S(8068),we=S(4671);function Pe(le,_e){const se=arguments.length>=2;return Re=>Re.pipe(le?(0,g.h)((Le,Xe)=>le(Le,Xe,Re)):we.y,(0,z.q)(1),se?(0,ue.d)(_e):(0,Me.T)(()=>new l.K))}},4004:(En,rt,S)=>{S.d(rt,{U:()=>z});var l=S(4482),g=S(5403);function z(ue,Me){return(0,l.e)((we,Pe)=>{let le=0;we.subscribe((0,g.x)(Pe,_e=>{Pe.next(ue.call(Me,_e,le++))}))})}},9718:(En,rt,S)=>{S.d(rt,{h:()=>g});var l=S(4004);function g(z){return(0,l.U)(()=>z)}},8189:(En,rt,S)=>{S.d(rt,{J:()=>z});var l=S(5577),g=S(4671);function z(ue=1/0){return(0,l.z)(g.y,ue)}},5577:(En,rt,S)=>{S.d(rt,{z:()=>le});var l=S(4004),g=S(8421),z=S(4482),ue=S(9672),Me=S(5403);var Pe=S(576);function le(_e,se,Re=1/0){return(0,Pe.m)(se)?le((Le,Xe)=>(0,l.U)((We,St)=>se(Le,We,Xe,St))((0,g.Xf)(_e(Le,Xe))),Re):("number"==typeof se&&(Re=se),(0,z.e)((Le,Xe)=>function we(_e,se,Re,Le,Xe,We,St,Ft){const Ie=[];let Et=0,gt=0,bt=!1;const _t=()=>{bt&&!Ie.length&&!Et&&se.complete()},Be=qt=>Et<Le?at(qt):Ie.push(qt),at=qt=>{We&&se.next(qt),Et++;let Ye=!1;(0,g.Xf)(Re(qt,gt++)).subscribe((0,Me.x)(se,X=>{Xe?.(X),We?Be(X):se.next(X)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(Et--;Ie.length&&Et<Le;){const X=Ie.shift();St?(0,ue.f)(se,St,()=>at(X)):at(X)}_t()}catch(X){se.error(X)}}))};return _e.subscribe((0,Me.x)(se,Be,()=>{bt=!0,_t()})),()=>{Ft?.()}}(Le,Xe,_e,Re)))}},5363:(En,rt,S)=>{S.d(rt,{Q:()=>ue});var l=S(9672),g=S(4482),z=S(5403);function ue(Me,we=0){return(0,g.e)((Pe,le)=>{Pe.subscribe((0,z.x)(le,_e=>(0,l.f)(le,Me,()=>le.next(_e),we),()=>(0,l.f)(le,Me,()=>le.complete(),we),_e=>(0,l.f)(le,Me,()=>le.error(_e),we)))})}},1520:(En,rt,S)=>{S.d(rt,{G:()=>z});var l=S(4482),g=S(5403);function z(){return(0,l.e)((ue,Me)=>{let we,Pe=!1;ue.subscribe((0,g.x)(Me,le=>{const _e=we;we=le,Pe&&Me.next([_e,le]),Pe=!0}))})}},8343:(En,rt,S)=>{S.d(rt,{x:()=>z});var l=S(4482),g=S(5403);function z(){return(0,l.e)((ue,Me)=>{let we=null;ue._refCount++;const Pe=(0,g.x)(Me,void 0,void 0,void 0,()=>{if(!ue||ue._refCount<=0||0<--ue._refCount)return void(we=null);const le=ue._connection,_e=we;we=null,le&&(!_e||le===_e)&&le.unsubscribe(),Me.unsubscribe()});ue.subscribe(Pe),Pe.closed||(we=ue.connect())})}},5026:(En,rt,S)=>{S.d(rt,{R:()=>ue});var l=S(4482),g=S(5403);function ue(Me,we){return(0,l.e)(function z(Me,we,Pe,le,_e){return(se,Re)=>{let Le=Pe,Xe=we,We=0;se.subscribe((0,g.x)(Re,St=>{const Ft=We++;Xe=Le?Me(Xe,St,Ft):(Le=!0,St),le&&Re.next(Xe)},_e&&(()=>{Le&&Re.next(Xe),Re.complete()})))}}(Me,we,arguments.length>=2,!0))}},3099:(En,rt,S)=>{S.d(rt,{B:()=>Me});var l=S(8421),g=S(7579),z=S(930),ue=S(4482);function Me(Pe={}){const{connector:le=(()=>new g.x),resetOnError:_e=!0,resetOnComplete:se=!0,resetOnRefCountZero:Re=!0}=Pe;return Le=>{let Xe,We,St,Ft=0,Ie=!1,Et=!1;const gt=()=>{We?.unsubscribe(),We=void 0},bt=()=>{gt(),Xe=St=void 0,Ie=Et=!1},_t=()=>{const Be=Xe;bt(),Be?.unsubscribe()};return(0,ue.e)((Be,at)=>{Ft++,!Et&&!Ie&&gt();const qt=St=St??le();at.add(()=>{Ft--,0===Ft&&!Et&&!Ie&&(We=we(_t,Re))}),qt.subscribe(at),!Xe&&Ft>0&&(Xe=new z.Hp({next:Ye=>qt.next(Ye),error:Ye=>{Et=!0,gt(),We=we(bt,_e,Ye),qt.error(Ye)},complete:()=>{Ie=!0,gt(),We=we(bt,se),qt.complete()}}),(0,l.Xf)(Be).subscribe(Xe))})(Le)}}function we(Pe,le,..._e){if(!0===le)return void Pe();if(!1===le)return;const se=new z.Hp({next:()=>{se.unsubscribe(),Pe()}});return(0,l.Xf)(le(..._e)).subscribe(se)}},3151:(En,rt,S)=>{S.d(rt,{d:()=>Me});var l=S(7579),g=S(6063);class z extends l.x{constructor(Pe=1/0,le=1/0,_e=g.l){super(),this._bufferSize=Pe,this._windowTime=le,this._timestampProvider=_e,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=le===1/0,this._bufferSize=Math.max(1,Pe),this._windowTime=Math.max(1,le)}next(Pe){const{isStopped:le,_buffer:_e,_infiniteTimeWindow:se,_timestampProvider:Re,_windowTime:Le}=this;le||(_e.push(Pe),!se&&_e.push(Re.now()+Le)),this._trimBuffer(),super.next(Pe)}_subscribe(Pe){this._throwIfClosed(),this._trimBuffer();const le=this._innerSubscribe(Pe),{_infiniteTimeWindow:_e,_buffer:se}=this,Re=se.slice();for(let Le=0;Le<Re.length&&!Pe.closed;Le+=_e?1:2)Pe.next(Re[Le]);return this._checkFinalizedStatuses(Pe),le}_trimBuffer(){const{_bufferSize:Pe,_timestampProvider:le,_buffer:_e,_infiniteTimeWindow:se}=this,Re=(se?1:2)*Pe;if(Pe<1/0&&Re<_e.length&&_e.splice(0,_e.length-Re),!se){const Le=le.now();let Xe=0;for(let We=1;We<_e.length&&_e[We]<=Le;We+=2)Xe=We;Xe&&_e.splice(0,Xe+1)}}}var ue=S(3099);function Me(we,Pe,le){let _e,se=!1;return we&&"object"==typeof we?({bufferSize:_e=1/0,windowTime:Pe=1/0,refCount:se=!1,scheduler:le}=we):_e=we??1/0,(0,ue.B)({connector:()=>new z(_e,Pe,le),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:se})}},5684:(En,rt,S)=>{S.d(rt,{T:()=>g});var l=S(9300);function g(z){return(0,l.h)((ue,Me)=>z<=Me)}},8675:(En,rt,S)=>{S.d(rt,{O:()=>ue});var l=S(7272),g=S(3269),z=S(4482);function ue(...Me){const we=(0,g.yG)(Me);return(0,z.e)((Pe,le)=>{(we?(0,l.z)(Me,Pe,we):(0,l.z)(Me,Pe)).subscribe(le)})}},9468:(En,rt,S)=>{S.d(rt,{R:()=>g});var l=S(4482);function g(z,ue=0){return(0,l.e)((Me,we)=>{we.add(z.schedule(()=>Me.subscribe(we),ue))})}},3900:(En,rt,S)=>{S.d(rt,{w:()=>ue});var l=S(8421),g=S(4482),z=S(5403);function ue(Me,we){return(0,g.e)((Pe,le)=>{let _e=null,se=0,Re=!1;const Le=()=>Re&&!_e&&le.complete();Pe.subscribe((0,z.x)(le,Xe=>{_e?.unsubscribe();let We=0;const St=se++;(0,l.Xf)(Me(Xe,St)).subscribe(_e=(0,z.x)(le,Ft=>le.next(we?we(Xe,Ft,St,We++):Ft),()=>{_e=null,Le()}))},()=>{Re=!0,Le()}))})}},5698:(En,rt,S)=>{S.d(rt,{q:()=>ue});var l=S(515),g=S(4482),z=S(5403);function ue(Me){return Me<=0?()=>l.E:(0,g.e)((we,Pe)=>{let le=0;we.subscribe((0,z.x)(Pe,_e=>{++le<=Me&&(Pe.next(_e),Me<=le&&Pe.complete())}))})}},2722:(En,rt,S)=>{S.d(rt,{R:()=>Me});var l=S(4482),g=S(5403),z=S(8421),ue=S(5032);function Me(we){return(0,l.e)((Pe,le)=>{(0,z.Xf)(we).subscribe((0,g.x)(le,()=>le.complete(),ue.Z)),!le.closed&&Pe.subscribe(le)})}},2529:(En,rt,S)=>{S.d(rt,{o:()=>z});var l=S(4482),g=S(5403);function z(ue,Me=!1){return(0,l.e)((we,Pe)=>{let le=0;we.subscribe((0,g.x)(Pe,_e=>{const se=ue(_e,le++);(se||Me)&&Pe.next(_e),!se&&Pe.complete()}))})}},8505:(En,rt,S)=>{S.d(rt,{b:()=>Me});var l=S(576),g=S(4482),z=S(5403),ue=S(4671);function Me(we,Pe,le){const _e=(0,l.m)(we)||Pe||le?{next:we,error:Pe,complete:le}:we;return _e?(0,g.e)((se,Re)=>{var Le;null===(Le=_e.subscribe)||void 0===Le||Le.call(_e);let Xe=!0;se.subscribe((0,z.x)(Re,We=>{var St;null===(St=_e.next)||void 0===St||St.call(_e,We),Re.next(We)},()=>{var We;Xe=!1,null===(We=_e.complete)||void 0===We||We.call(_e),Re.complete()},We=>{var St;Xe=!1,null===(St=_e.error)||void 0===St||St.call(_e,We),Re.error(We)},()=>{var We,St;Xe&&(null===(We=_e.unsubscribe)||void 0===We||We.call(_e)),null===(St=_e.finalize)||void 0===St||St.call(_e)}))}):ue.y}},8068:(En,rt,S)=>{S.d(rt,{T:()=>ue});var l=S(6805),g=S(4482),z=S(5403);function ue(we=Me){return(0,g.e)((Pe,le)=>{let _e=!1;Pe.subscribe((0,z.x)(le,se=>{_e=!0,le.next(se)},()=>_e?le.complete():le.error(we())))})}function Me(){return new l.K}},4408:(En,rt,S)=>{S.d(rt,{o:()=>Me});var l=S(727);class g extends l.w0{constructor(Pe,le){super()}schedule(Pe,le=0){return this}}const z={setInterval(we,Pe,...le){const{delegate:_e}=z;return _e?.setInterval?_e.setInterval(we,Pe,...le):setInterval(we,Pe,...le)},clearInterval(we){const{delegate:Pe}=z;return(Pe?.clearInterval||clearInterval)(we)},delegate:void 0};var ue=S(8737);class Me extends g{constructor(Pe,le){super(Pe,le),this.scheduler=Pe,this.work=le,this.pending=!1}schedule(Pe,le=0){var _e;if(this.closed)return this;this.state=Pe;const se=this.id,Re=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(Re,se,le)),this.pending=!0,this.delay=le,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(Re,this.id,le),this}requestAsyncId(Pe,le,_e=0){return z.setInterval(Pe.flush.bind(Pe,this),_e)}recycleAsyncId(Pe,le,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return le;null!=le&&z.clearInterval(le)}execute(Pe,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(Pe,le);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Pe,le){let se,_e=!1;try{this.work(Pe)}catch(Re){_e=!0,se=Re||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),se}unsubscribe(){if(!this.closed){const{id:Pe,scheduler:le}=this,{actions:_e}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(_e,this),null!=Pe&&(this.id=this.recycleAsyncId(le,Pe,null)),this.delay=null,super.unsubscribe()}}}},7565:(En,rt,S)=>{S.d(rt,{v:()=>z});var l=S(6063);class g{constructor(Me,we=g.now){this.schedulerActionCtor=Me,this.now=we}schedule(Me,we=0,Pe){return new this.schedulerActionCtor(this,Me).schedule(Pe,we)}}g.now=l.l.now;class z extends g{constructor(Me,we=g.now){super(Me,we),this.actions=[],this._active=!1}flush(Me){const{actions:we}=this;if(this._active)return void we.push(Me);let Pe;this._active=!0;do{if(Pe=Me.execute(Me.state,Me.delay))break}while(Me=we.shift());if(this._active=!1,Pe){for(;Me=we.shift();)Me.unsubscribe();throw Pe}}}},4986:(En,rt,S)=>{S.d(rt,{P:()=>ue,z:()=>z});var l=S(4408);const z=new(S(7565).v)(l.o),ue=z},6063:(En,rt,S)=>{S.d(rt,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(En,rt,S)=>{S.d(rt,{z:()=>l});const l={setTimeout(g,z,...ue){const{delegate:Me}=l;return Me?.setTimeout?Me.setTimeout(g,z,...ue):setTimeout(g,z,...ue)},clearTimeout(g){const{delegate:z}=l;return(z?.clearTimeout||clearTimeout)(g)},delegate:void 0}},2202:(En,rt,S)=>{S.d(rt,{h:()=>g});const g=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(En,rt,S)=>{S.d(rt,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(En,rt,S)=>{S.d(rt,{K:()=>g});const g=(0,S(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(En,rt,S)=>{S.d(rt,{_6:()=>we,jO:()=>ue,yG:()=>Me});var l=S(576),g=S(3532);function z(Pe){return Pe[Pe.length-1]}function ue(Pe){return(0,l.m)(z(Pe))?Pe.pop():void 0}function Me(Pe){return(0,g.K)(z(Pe))?Pe.pop():void 0}function we(Pe,le){return"number"==typeof z(Pe)?Pe.pop():le}},4742:(En,rt,S)=>{S.d(rt,{D:()=>Me});const{isArray:l}=Array,{getPrototypeOf:g,prototype:z,keys:ue}=Object;function Me(Pe){if(1===Pe.length){const le=Pe[0];if(l(le))return{args:le,keys:null};if(function we(Pe){return Pe&&"object"==typeof Pe&&g(Pe)===z}(le)){const _e=ue(le);return{args:_e.map(se=>le[se]),keys:_e}}}return{args:Pe,keys:null}}},8737:(En,rt,S)=>{function l(g,z){if(g){const ue=g.indexOf(z);0<=ue&&g.splice(ue,1)}}S.d(rt,{P:()=>l})},3888:(En,rt,S)=>{function l(g){const ue=g(Me=>{Error.call(Me),Me.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}S.d(rt,{d:()=>l})},1810:(En,rt,S)=>{function l(g,z){return g.reduce((ue,Me,we)=>(ue[Me]=z[we],ue),{})}S.d(rt,{n:()=>l})},2806:(En,rt,S)=>{S.d(rt,{O:()=>ue,x:()=>z});var l=S(2416);let g=null;function z(Me){if(l.v.useDeprecatedSynchronousErrorHandling){const we=!g;if(we&&(g={errorThrown:!1,error:null}),Me(),we){const{errorThrown:Pe,error:le}=g;if(g=null,Pe)throw le}}else Me()}function ue(Me){l.v.useDeprecatedSynchronousErrorHandling&&g&&(g.errorThrown=!0,g.error=Me)}},9672:(En,rt,S)=>{function l(g,z,ue,Me=0,we=!1){const Pe=z.schedule(function(){ue(),we?g.add(this.schedule(null,Me)):this.unsubscribe()},Me);if(g.add(Pe),!we)return Pe}S.d(rt,{f:()=>l})},4671:(En,rt,S)=>{function l(g){return g}S.d(rt,{y:()=>l})},1144:(En,rt,S)=>{S.d(rt,{z:()=>l});const l=g=>g&&"number"==typeof g.length&&"function"!=typeof g},2206:(En,rt,S)=>{S.d(rt,{D:()=>g});var l=S(576);function g(z){return Symbol.asyncIterator&&(0,l.m)(z?.[Symbol.asyncIterator])}},576:(En,rt,S)=>{function l(g){return"function"==typeof g}S.d(rt,{m:()=>l})},3670:(En,rt,S)=>{S.d(rt,{c:()=>z});var l=S(8822),g=S(576);function z(ue){return(0,g.m)(ue[l.L])}},6495:(En,rt,S)=>{S.d(rt,{T:()=>z});var l=S(2202),g=S(576);function z(ue){return(0,g.m)(ue?.[l.h])}},8239:(En,rt,S)=>{S.d(rt,{t:()=>g});var l=S(576);function g(z){return(0,l.m)(z?.then)}},3260:(En,rt,S)=>{S.d(rt,{L:()=>ue,Q:()=>z});var l=S(655),g=S(576);function z(Me){return(0,l.FC)(this,arguments,function*(){const Pe=Me.getReader();try{for(;;){const{value:le,done:_e}=yield(0,l.qq)(Pe.read());if(_e)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(le)}}finally{Pe.releaseLock()}})}function ue(Me){return(0,g.m)(Me?.getReader)}},3532:(En,rt,S)=>{S.d(rt,{K:()=>g});var l=S(576);function g(z){return z&&(0,l.m)(z.schedule)}},4482:(En,rt,S)=>{S.d(rt,{A:()=>g,e:()=>z});var l=S(576);function g(ue){return(0,l.m)(ue?.lift)}function z(ue){return Me=>{if(g(Me))return Me.lift(function(we){try{return ue(we,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(En,rt,S)=>{S.d(rt,{Z:()=>ue});var l=S(4004);const{isArray:g}=Array;function ue(Me){return(0,l.U)(we=>function z(Me,we){return g(we)?Me(...we):Me(we)}(Me,we))}},5032:(En,rt,S)=>{function l(){}S.d(rt,{Z:()=>l})},9635:(En,rt,S)=>{S.d(rt,{U:()=>z,z:()=>g});var l=S(4671);function g(...ue){return z(ue)}function z(ue){return 0===ue.length?l.y:1===ue.length?ue[0]:function(we){return ue.reduce((Pe,le)=>le(Pe),we)}}},7849:(En,rt,S)=>{S.d(rt,{h:()=>z});var l=S(2416),g=S(3410);function z(ue){g.z.setTimeout(()=>{const{onUnhandledError:Me}=l.v;if(!Me)throw ue;Me(ue)})}},4532:(En,rt,S)=>{function l(g){return new TypeError(`You provided ${null!==g&&"object"==typeof g?"an invalid object":`'${g}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(rt,{z:()=>l})},655:(En,rt,S)=>{S.d(rt,{FC:()=>Be,KL:()=>qt,_T:()=>ue,mG:()=>Le,qq:()=>_t});function ue(ft,Ot){var Rt={};for(var Lt in ft)Object.prototype.hasOwnProperty.call(ft,Lt)&&Ot.indexOf(Lt)<0&&(Rt[Lt]=ft[Lt]);if(null!=ft&&"function"==typeof Object.getOwnPropertySymbols){var Ht=0;for(Lt=Object.getOwnPropertySymbols(ft);Ht<Lt.length;Ht++)Ot.indexOf(Lt[Ht])<0&&Object.prototype.propertyIsEnumerable.call(ft,Lt[Ht])&&(Rt[Lt[Ht]]=ft[Lt[Ht]])}return Rt}function Le(ft,Ot,Rt,Lt){return new(Rt||(Rt=Promise))(function(Gt,Qt){function it(vn){try{Mt(Lt.next(vn))}catch(on){Qt(on)}}function It(vn){try{Mt(Lt.throw(vn))}catch(on){Qt(on)}}function Mt(vn){vn.done?Gt(vn.value):function Ht(Gt){return Gt instanceof Rt?Gt:new Rt(function(Qt){Qt(Gt)})}(vn.value).then(it,It)}Mt((Lt=Lt.apply(ft,Ot||[])).next())})}Object.create;function Ft(ft){var Ot="function"==typeof Symbol&&Symbol.iterator,Rt=Ot&&ft[Ot],Lt=0;if(Rt)return Rt.call(ft);if(ft&&"number"==typeof ft.length)return{next:function(){return ft&&Lt>=ft.length&&(ft=void 0),{value:ft&&ft[Lt++],done:!ft}}};throw new TypeError(Ot?"Object is not iterable.":"Symbol.iterator is not defined.")}function _t(ft){return this instanceof _t?(this.v=ft,this):new _t(ft)}function Be(ft,Ot,Rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ht,Lt=Rt.apply(ft,Ot||[]),Gt=[];return Ht={},Qt("next"),Qt("throw"),Qt("return"),Ht[Symbol.asyncIterator]=function(){return this},Ht;function Qt(xn){Lt[xn]&&(Ht[xn]=function(ur){return new Promise(function(br,Un){Gt.push([xn,ur,br,Un])>1||it(xn,ur)})})}function it(xn,ur){try{!function It(xn){xn.value instanceof _t?Promise.resolve(xn.value.v).then(Mt,vn):on(Gt[0][2],xn)}(Lt[xn](ur))}catch(br){on(Gt[0][3],br)}}function Mt(xn){it("next",xn)}function vn(xn){it("throw",xn)}function on(xn,ur){xn(ur),Gt.shift(),Gt.length&&it(Gt[0][0],Gt[0][1])}}function qt(ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,Ot=ft[Symbol.asyncIterator];return Ot?Ot.call(ft):(ft=Ft(ft),Rt={},Lt("next"),Lt("throw"),Lt("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt);function Lt(Gt){Rt[Gt]=ft[Gt]&&function(Qt){return new Promise(function(it,It){(function Ht(Gt,Qt,it,It){Promise.resolve(It).then(function(Mt){Gt({value:Mt,done:it})},Qt)})(it,It,(Qt=ft[Gt](Qt)).done,Qt.value)})}}}Object.create},7340:(En,rt,S)=>{S.d(rt,{LC:()=>g,SB:()=>_e,X$:()=>ue,ZE:()=>gt,ZN:()=>Et,_j:()=>l,eR:()=>Re,jt:()=>Me,k1:()=>bt,l3:()=>z,oB:()=>le,vP:()=>Pe});
/**
         * @license Angular v15.2.5
         * (c) 2010-2022 Google LLC. https://angular.io/
         * License: MIT
         */
class l{}class g{}const z="*";function ue(_t,Be){return{type:7,name:_t,definitions:Be,options:{}}}function Me(_t,Be=null){return{type:4,styles:Be,timings:_t}}function Pe(_t,Be=null){return{type:2,steps:_t,options:Be}}function le(_t){return{type:6,styles:_t,offset:null}}function _e(_t,Be,at){return{type:0,name:_t,styles:Be,options:at}}function Re(_t,Be,at=null){return{type:1,expr:_t,animation:Be,options:at}}function Ie(_t){Promise.resolve().then(_t)}class Et{constructor(Be=0,at=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Be+at}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Be=>Be()),this._onDoneFns=[])}onStart(Be){this._originalOnStartFns.push(Be),this._onStartFns.push(Be)}onDone(Be){this._originalOnDoneFns.push(Be),this._onDoneFns.push(Be)}onDestroy(Be){this._onDestroyFns.push(Be)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ie(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Be=>Be()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Be=>Be()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Be){this._position=this.totalTime?Be*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Be){const at="start"==Be?this._onStartFns:this._onDoneFns;at.forEach(qt=>qt()),at.length=0}}class gt{constructor(Be){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Be;let at=0,qt=0,Ye=0;const X=this.players.length;0==X?Ie(()=>this._onFinish()):this.players.forEach(Bt=>{Bt.onDone(()=>{++at==X&&this._onFinish()}),Bt.onDestroy(()=>{++qt==X&&this._onDestroy()}),Bt.onStart(()=>{++Ye==X&&this._onStart()})}),this.totalTime=this.players.reduce((Bt,_n)=>Math.max(Bt,_n.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Be=>Be()),this._onDoneFns=[])}init(){this.players.forEach(Be=>Be.init())}onStart(Be){this._onStartFns.push(Be)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Be=>Be()),this._onStartFns=[])}onDone(Be){this._onDoneFns.push(Be)}onDestroy(Be){this._onDestroyFns.push(Be)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Be=>Be.play())}pause(){this.players.forEach(Be=>Be.pause())}restart(){this.players.forEach(Be=>Be.restart())}finish(){this._onFinish(),this.players.forEach(Be=>Be.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Be=>Be.destroy()),this._onDestroyFns.forEach(Be=>Be()),this._onDestroyFns=[])}reset(){this.players.forEach(Be=>Be.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Be){const at=Be*this.totalTime;this.players.forEach(qt=>{const Ye=qt.totalTime?Math.min(1,at/qt.totalTime):1;qt.setPosition(Ye)})}getPosition(){const Be=this.players.reduce((at,qt)=>null===at||qt.totalTime>at.totalTime?qt:at,null);return null!=Be?Be.getPosition():0}beforeDestroy(){this.players.forEach(Be=>{Be.beforeDestroy&&Be.beforeDestroy()})}triggerCallback(Be){const at="start"==Be?this._onStartFns:this._onDoneFns;at.forEach(qt=>qt()),at.length=0}}const bt="!"},1994:(En,rt,S)=>{S.d(rt,{Em:()=>Br,tE:()=>Ke,qm:()=>tn,X6:()=>Xt,yG:()=>de});var l=S(6895),g=S(4650),z=S(3353),ue=S(7579),Me=S(727),we=S(1135),Pe=S(9646),le=S(9521),_e=S(8505),se=S(4986),Re=S(4482),Le=S(5403);function Xe(lt,q=se.z){return(0,Re.e)((Ne,yt)=>{let Kt=null,Cn=null,nr=null;const Zi=()=>{if(Kt){Kt.unsubscribe(),Kt=null;const Ti=Cn;Cn=null,yt.next(Ti)}};function Ui(){const Ti=nr+lt,Or=q.now();if(Or<Ti)return Kt=this.schedule(void 0,Ti-Or),void yt.add(Kt);Zi()}Ne.subscribe((0,Le.x)(yt,Ti=>{Cn=Ti,nr=q.now(),Kt||(Kt=q.schedule(Ui,lt),yt.add(Kt))},()=>{Zi(),yt.complete()},void 0,()=>{Cn=Kt=null}))})}var We=S(9300),St=S(4004),Ft=S(5698),Ie=S(5684),Et=S(1884),gt=S(2722),bt=S(1281),_t=S(9751);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class Be{create(q){return typeof MutationObserver>"u"?null:new MutationObserver(q)}}Be.\u0275fac=function(q){return new(q||Be)},Be.\u0275prov=g.Yz7({token:Be,factory:Be.\u0275fac,providedIn:"root"});class at{constructor(q){this._mutationObserverFactory=q,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((q,Ne)=>this._cleanupObserver(Ne))}observe(q){const Ne=(0,bt.fI)(q);return new _t.y(yt=>{const Cn=this._observeElement(Ne).subscribe(yt);return()=>{Cn.unsubscribe(),this._unobserveElement(Ne)}})}_observeElement(q){if(this._observedElements.has(q))this._observedElements.get(q).count++;else{const Ne=new ue.x,yt=this._mutationObserverFactory.create(Kt=>Ne.next(Kt));yt&&yt.observe(q,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(q,{observer:yt,stream:Ne,count:1})}return this._observedElements.get(q).stream}_unobserveElement(q){this._observedElements.has(q)&&(this._observedElements.get(q).count--,this._observedElements.get(q).count||this._cleanupObserver(q))}_cleanupObserver(q){if(this._observedElements.has(q)){const{observer:Ne,stream:yt}=this._observedElements.get(q);Ne&&Ne.disconnect(),yt.complete(),this._observedElements.delete(q)}}}at.\u0275fac=function(q){return new(q||at)(g.LFG(Be))},at.\u0275prov=g.Yz7({token:at,factory:at.\u0275fac,providedIn:"root"});class qt{get disabled(){return this._disabled}set disabled(q){this._disabled=(0,bt.Ig)(q),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(q){this._debounce=(0,bt.su)(q),this._subscribe()}constructor(q,Ne,yt){this._contentObserver=q,this._elementRef=Ne,this._ngZone=yt,this.event=new g.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const q=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?q.pipe(Xe(this.debounce)):q).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}qt.\u0275fac=function(q){return new(q||qt)(g.Y36(at),g.Y36(g.SBq),g.Y36(g.R0b))},qt.\u0275dir=g.lG2({type:qt,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]});class Ye{}Ye.\u0275fac=function(q){return new(q||Ye)},Ye.\u0275mod=g.oAB({type:Ye,declarations:[qt],exports:[qt]}),Ye.\u0275inj=g.cJS({providers:[Be]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
var X=S(9841),Bt=S(7272),_n=S(8675);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class en{}en.\u0275fac=function(q){return new(q||en)},en.\u0275mod=g.oAB({type:en}),en.\u0275inj=g.cJS({});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const jn=new Set;let Pn;class ft{constructor(q){this._platform=q,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Rt}matchMedia(q){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ot(lt){if(!jn.has(lt))try{Pn||(Pn=document.createElement("style"),Pn.setAttribute("type","text/css"),document.head.appendChild(Pn)),Pn.sheet&&(Pn.sheet.insertRule(`@media ${lt} {body{ }}`,0),jn.add(lt))}catch(q){console.error(q)}}(q),this._matchMedia(q)}}function Rt(lt){return{matches:"all"===lt||""===lt,media:lt,addListener:()=>{},removeListener:()=>{}}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */ft.\u0275fac=function(q){return new(q||ft)(g.LFG(z.t4))},ft.\u0275prov=g.Yz7({token:ft,factory:ft.\u0275fac,providedIn:"root"});class Lt{constructor(q,Ne){this._mediaMatcher=q,this._zone=Ne,this._queries=new Map,this._destroySubject=new ue.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(q){return Ht((0,bt.Eq)(q)).some(yt=>this._registerQuery(yt).mql.matches)}observe(q){const yt=Ht((0,bt.Eq)(q)).map(Cn=>this._registerQuery(Cn).observable);let Kt=(0,X.a)(yt);return Kt=(0,Bt.z)(Kt.pipe((0,Ft.q)(1)),Kt.pipe((0,Ie.T)(1),Xe(0))),Kt.pipe((0,St.U)(Cn=>{const nr={matches:!1,breakpoints:{}};return Cn.forEach(({matches:Zi,query:Ui})=>{nr.matches=nr.matches||Zi,nr.breakpoints[Ui]=Zi}),nr}))}_registerQuery(q){if(this._queries.has(q))return this._queries.get(q);const Ne=this._mediaMatcher.matchMedia(q),Kt={observable:new _t.y(Cn=>{const nr=Zi=>this._zone.run(()=>Cn.next(Zi));return Ne.addListener(nr),()=>{Ne.removeListener(nr)}}).pipe((0,_n.O)(Ne),(0,St.U)(({matches:Cn})=>({query:q,matches:Cn})),(0,gt.R)(this._destroySubject)),mql:Ne};return this._queries.set(q,Kt),Kt}}function Ht(lt){return lt.map(q=>q.split(",")).reduce((q,Ne)=>q.concat(Ne)).map(q=>q.trim())}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */Lt.\u0275fac=function(q){return new(q||Lt)(g.LFG(ft),g.LFG(g.R0b))},Lt.\u0275prov=g.Yz7({token:Lt,factory:Lt.\u0275fac,providedIn:"root"});const Qt=" ";
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function Mt(lt,q){return(lt.getAttribute(q)||"").match(/\S+/g)||[]}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const on="cdk-describedby-message",xn="cdk-describedby-host";let ur=0;class br{constructor(q,Ne){this._platform=Ne,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ur++,this._document=q,this._id=(0,g.f3M)(g.AFp)+"-"+ur++}describe(q,Ne,yt){if(!this._canBeDescribed(q,Ne))return;const Kt=Un(Ne,yt);"string"!=typeof Ne?(vr(Ne,this._id),this._messageRegistry.set(Kt,{messageElement:Ne,referenceCount:0})):this._messageRegistry.has(Kt)||this._createMessageElement(Ne,yt),this._isElementDescribedByMessage(q,Kt)||this._addMessageReference(q,Kt)}removeDescription(q,Ne,yt){if(!Ne||!this._isElementNode(q))return;const Kt=Un(Ne,yt);if(this._isElementDescribedByMessage(q,Kt)&&this._removeMessageReference(q,Kt),"string"==typeof Ne){const Cn=this._messageRegistry.get(Kt);Cn&&0===Cn.referenceCount&&this._deleteMessageElement(Kt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const q=this._document.querySelectorAll(`[${xn}="${this._id}"]`);for(let Ne=0;Ne<q.length;Ne++)this._removeCdkDescribedByReferenceIds(q[Ne]),q[Ne].removeAttribute(xn);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(q,Ne){const yt=this._document.createElement("div");vr(yt,this._id),yt.textContent=q,Ne&&yt.setAttribute("role",Ne),this._createMessagesContainer(),this._messagesContainer.appendChild(yt),this._messageRegistry.set(Un(q,Ne),{messageElement:yt,referenceCount:0})}_deleteMessageElement(q){this._messageRegistry.get(q)?.messageElement?.remove(),this._messageRegistry.delete(q)}_createMessagesContainer(){if(this._messagesContainer)return;const q="cdk-describedby-message-container",Ne=this._document.querySelectorAll(`.${q}[platform="server"]`);for(let Kt=0;Kt<Ne.length;Kt++)Ne[Kt].remove();const yt=this._document.createElement("div");yt.style.visibility="hidden",yt.classList.add(q),yt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&yt.setAttribute("platform","server"),this._document.body.appendChild(yt),this._messagesContainer=yt}_removeCdkDescribedByReferenceIds(q){const Ne=Mt(q,"aria-describedby").filter(yt=>0!=yt.indexOf(on));q.setAttribute("aria-describedby",Ne.join(" "))}_addMessageReference(q,Ne){const yt=this._messageRegistry.get(Ne);(function it(lt,q,Ne){const yt=Mt(lt,q);yt.some(Kt=>Kt.trim()==Ne.trim())||(yt.push(Ne.trim()),lt.setAttribute(q,yt.join(Qt)))})(q,"aria-describedby",yt.messageElement.id),q.setAttribute(xn,this._id),yt.referenceCount++}_removeMessageReference(q,Ne){const yt=this._messageRegistry.get(Ne);yt.referenceCount--,function It(lt,q,Ne){const Kt=Mt(lt,q).filter(Cn=>Cn!=Ne.trim());Kt.length?lt.setAttribute(q,Kt.join(Qt)):lt.removeAttribute(q)}(q,"aria-describedby",yt.messageElement.id),q.removeAttribute(xn)}_isElementDescribedByMessage(q,Ne){const yt=Mt(q,"aria-describedby"),Kt=this._messageRegistry.get(Ne),Cn=Kt&&Kt.messageElement.id;return!!Cn&&-1!=yt.indexOf(Cn)}_canBeDescribed(q,Ne){if(!this._isElementNode(q))return!1;if(Ne&&"object"==typeof Ne)return!0;const yt=null==Ne?"":`${Ne}`.trim(),Kt=q.getAttribute("aria-label");return!!yt&&(!Kt||Kt.trim()!==yt)}_isElementNode(q){return q.nodeType===this._document.ELEMENT_NODE}}function Un(lt,q){return"string"==typeof lt?`${q||""}/${lt}`:lt}function vr(lt,q){lt.id||(lt.id=`${on}-${q}-${ur++}`)}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */br.\u0275fac=function(q){return new(q||br)(g.LFG(l.K0),g.LFG(z.t4))},br.\u0275prov=g.Yz7({token:br,factory:br.\u0275fac,providedIn:"root"});class Nr{constructor(q){this._items=q,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ue.x,this._typeaheadSubscription=Me.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ne=>Ne.disabled,this._pressedLetters=[],this.tabOut=new ue.x,this.change=new ue.x,q instanceof g.n_E&&(this._itemChangesSubscription=q.changes.subscribe(Ne=>{if(this._activeItem){const Kt=Ne.toArray().indexOf(this._activeItem);Kt>-1&&Kt!==this._activeItemIndex&&(this._activeItemIndex=Kt)}}))}skipPredicate(q){return this._skipPredicateFn=q,this}withWrap(q=!0){return this._wrap=q,this}withVerticalOrientation(q=!0){return this._vertical=q,this}withHorizontalOrientation(q){return this._horizontal=q,this}withAllowedModifierKeys(q){return this._allowedModifierKeys=q,this}withTypeAhead(q=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,_e.b)(Ne=>this._pressedLetters.push(Ne)),Xe(q),(0,We.h)(()=>this._pressedLetters.length>0),(0,St.U)(()=>this._pressedLetters.join(""))).subscribe(Ne=>{const yt=this._getItemsArray();for(let Kt=1;Kt<yt.length+1;Kt++){const Cn=(this._activeItemIndex+Kt)%yt.length,nr=yt[Cn];if(!this._skipPredicateFn(nr)&&0===nr.getLabel().toUpperCase().trim().indexOf(Ne)){this.setActiveItem(Cn);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(q=!0){return this._homeAndEnd=q,this}withPageUpDown(q=!0,Ne=10){return this._pageUpAndDown={enabled:q,delta:Ne},this}setActiveItem(q){const Ne=this._activeItem;this.updateActiveItem(q),this._activeItem!==Ne&&this.change.next(this._activeItemIndex)}onKeydown(q){const Ne=q.keyCode,Kt=["altKey","ctrlKey","metaKey","shiftKey"].every(Cn=>!q[Cn]||this._allowedModifierKeys.indexOf(Cn)>-1);switch(Ne){case le.Mf:return void this.tabOut.next();case le.JH:if(this._vertical&&Kt){this.setNextItemActive();break}return;case le.LH:if(this._vertical&&Kt){this.setPreviousItemActive();break}return;case le.SV:if(this._horizontal&&Kt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case le.oh:if(this._horizontal&&Kt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case le.Sd:if(this._homeAndEnd&&Kt){this.setFirstItemActive();break}return;case le.uR:if(this._homeAndEnd&&Kt){this.setLastItemActive();break}return;case le.Ku:if(this._pageUpAndDown.enabled&&Kt){const Cn=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Cn>0?Cn:0,1);break}return;case le.VM:if(this._pageUpAndDown.enabled&&Kt){const Cn=this._activeItemIndex+this._pageUpAndDown.delta,nr=this._getItemsArray().length;this._setActiveItemByIndex(Cn<nr?Cn:nr-1,-1);break}return;default:return void((Kt||(0,le.Vb)(q,"shiftKey"))&&(q.key&&1===q.key.length?this._letterKeyStream.next(q.key.toLocaleUpperCase()):(Ne>=le.A&&Ne<=le.Z||Ne>=le.xE&&Ne<=le.aO)&&this._letterKeyStream.next(String.fromCharCode(Ne))))}this._pressedLetters=[],q.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(q){const Ne=this._getItemsArray(),yt="number"==typeof q?q:Ne.indexOf(q),Kt=Ne[yt];this._activeItem=Kt??null,this._activeItemIndex=yt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(q){this._wrap?this._setActiveInWrapMode(q):this._setActiveInDefaultMode(q)}_setActiveInWrapMode(q){const Ne=this._getItemsArray();for(let yt=1;yt<=Ne.length;yt++){const Kt=(this._activeItemIndex+q*yt+Ne.length)%Ne.length,Cn=Ne[Kt];if(!this._skipPredicateFn(Cn))return void this.setActiveItem(Kt)}}_setActiveInDefaultMode(q){this._setActiveItemByIndex(this._activeItemIndex+q,q)}_setActiveItemByIndex(q,Ne){const yt=this._getItemsArray();if(yt[q]){for(;this._skipPredicateFn(yt[q]);)if(!yt[q+=Ne])return;this.setActiveItem(q)}}_getItemsArray(){return this._items instanceof g.n_E?this._items.toArray():this._items}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Br extends Nr{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(q){return this._origin=q,this}setActiveItem(q){super.setActiveItem(q),this.activeItem&&this.activeItem.focus(this._origin)}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class ri{constructor(q){this._platform=q}isDisabled(q){return q.hasAttribute("disabled")}isVisible(q){return function fi(lt){return!!(lt.offsetWidth||lt.offsetHeight||"function"==typeof lt.getClientRects&&lt.getClientRects().length)}(q)&&"visible"===getComputedStyle(q).visibility}isTabbable(q){if(!this._platform.isBrowser)return!1;const Ne=function hr(lt){try{return lt.frameElement}catch{return null}}(function Rn(lt){return lt.ownerDocument&&lt.ownerDocument.defaultView||window}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */(q));if(Ne&&(-1===ir(Ne)||!this.isVisible(Ne)))return!1;let yt=q.nodeName.toLowerCase(),Kt=ir(q);return q.hasAttribute("contenteditable")?-1!==Kt:!("iframe"===yt||"object"===yt||this._platform.WEBKIT&&this._platform.IOS&&!function rr(lt){let q=lt.nodeName.toLowerCase(),Ne="input"===q&&lt.type;return"text"===Ne||"password"===Ne||"select"===q||"textarea"===q}(q))&&("audio"===yt?!!q.hasAttribute("controls")&&-1!==Kt:"video"===yt?-1!==Kt&&(null!==Kt||(this._platform.FIREFOX||q.hasAttribute("controls"))):q.tabIndex>=0)}isFocusable(q,Ne){return function $n(lt){return!function Tr(lt){return function er(lt){return"input"==lt.nodeName.toLowerCase()}(lt)&&"hidden"==lt.type}(lt)&&(function Hn(lt){let q=lt.nodeName.toLowerCase();return"input"===q||"select"===q||"button"===q||"textarea"===q}(lt)||function Di(lt){return function Zr(lt){return"a"==lt.nodeName.toLowerCase()}(lt)&&lt.hasAttribute("href")}(lt)||lt.hasAttribute("contenteditable")||Lr(lt))}(q)&&!this.isDisabled(q)&&(Ne?.ignoreVisibility||this.isVisible(q))}}function Lr(lt){if(!lt.hasAttribute("tabindex")||void 0===lt.tabIndex)return!1;let q=lt.getAttribute("tabindex");return!(!q||isNaN(parseInt(q,10)))}function ir(lt){if(!Lr(lt))return null;const q=parseInt(lt.getAttribute("tabindex")||"",10);return isNaN(q)?-1:q}ri.\u0275fac=function(q){return new(q||ri)(g.LFG(z.t4))},ri.\u0275prov=g.Yz7({token:ri,factory:ri.\u0275fac,providedIn:"root"});class ar{get enabled(){return this._enabled}set enabled(q){this._enabled=q,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(q,this._startAnchor),this._toggleAnchorTabIndex(q,this._endAnchor))}constructor(q,Ne,yt,Kt,Cn=!1){this._element=q,this._checker=Ne,this._ngZone=yt,this._document=Kt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Cn||this.attachAnchors()}destroy(){const q=this._startAnchor,Ne=this._endAnchor;q&&(q.removeEventListener("focus",this.startAnchorListener),q.remove()),Ne&&(Ne.removeEventListener("focus",this.endAnchorListener),Ne.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(q){return new Promise(Ne=>{this._executeOnStable(()=>Ne(this.focusInitialElement(q)))})}focusFirstTabbableElementWhenReady(q){return new Promise(Ne=>{this._executeOnStable(()=>Ne(this.focusFirstTabbableElement(q)))})}focusLastTabbableElementWhenReady(q){return new Promise(Ne=>{this._executeOnStable(()=>Ne(this.focusLastTabbableElement(q)))})}_getRegionBoundary(q){const Ne=this._element.querySelectorAll(`[cdk-focus-region-${q}], [cdkFocusRegion${q}], [cdk-focus-${q}]`);return"start"==q?Ne.length?Ne[0]:this._getFirstTabbableElement(this._element):Ne.length?Ne[Ne.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(q){const Ne=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ne){if(!this._checker.isFocusable(Ne)){const yt=this._getFirstTabbableElement(Ne);return yt?.focus(q),!!yt}return Ne.focus(q),!0}return this.focusFirstTabbableElement(q)}focusFirstTabbableElement(q){const Ne=this._getRegionBoundary("start");return Ne&&Ne.focus(q),!!Ne}focusLastTabbableElement(q){const Ne=this._getRegionBoundary("end");return Ne&&Ne.focus(q),!!Ne}hasAttached(){return this._hasAttached}_getFirstTabbableElement(q){if(this._checker.isFocusable(q)&&this._checker.isTabbable(q))return q;const Ne=q.children;for(let yt=0;yt<Ne.length;yt++){const Kt=Ne[yt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ne[yt]):null;if(Kt)return Kt}return null}_getLastTabbableElement(q){if(this._checker.isFocusable(q)&&this._checker.isTabbable(q))return q;const Ne=q.children;for(let yt=Ne.length-1;yt>=0;yt--){const Kt=Ne[yt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ne[yt]):null;if(Kt)return Kt}return null}_createAnchor(){const q=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,q),q.classList.add("cdk-visually-hidden"),q.classList.add("cdk-focus-trap-anchor"),q.setAttribute("aria-hidden","true"),q}_toggleAnchorTabIndex(q,Ne){q?Ne.setAttribute("tabindex","0"):Ne.removeAttribute("tabindex")}toggleAnchors(q){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(q,this._startAnchor),this._toggleAnchorTabIndex(q,this._endAnchor))}_executeOnStable(q){this._ngZone.isStable?q():this._ngZone.onStable.pipe((0,Ft.q)(1)).subscribe(q)}}class wr{constructor(q,Ne,yt){this._checker=q,this._ngZone=Ne,this._document=yt}create(q,Ne=!1){return new ar(q,this._checker,this._ngZone,this._document,Ne)}}wr.\u0275fac=function(q){return new(q||wr)(g.LFG(ri),g.LFG(g.R0b),g.LFG(l.K0))},wr.\u0275prov=g.Yz7({token:wr,factory:wr.\u0275fac,providedIn:"root"});class gr{get enabled(){return this.focusTrap.enabled}set enabled(q){this.focusTrap.enabled=(0,bt.Ig)(q)}get autoCapture(){return this._autoCapture}set autoCapture(q){this._autoCapture=(0,bt.Ig)(q)}constructor(q,Ne,yt){this._elementRef=q,this._focusTrapFactory=Ne,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(q){const Ne=q.autoCapture;Ne&&!Ne.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,z.ht)(),this.focusTrap.focusInitialElementWhenReady()}}gr.\u0275fac=function(q){return new(q||gr)(g.Y36(g.SBq),g.Y36(wr),g.Y36(l.K0))},gr.\u0275dir=g.lG2({type:gr,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[g.TTD]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class jr extends ar{get enabled(){return this._enabled}set enabled(q){this._enabled=q,this._enabled?this._focusTrapManager.register(this):this._focusTrapManager.deregister(this)}constructor(q,Ne,yt,Kt,Cn,nr,Zi){super(q,Ne,yt,Kt,Zi.defer),this._focusTrapManager=Cn,this._inertStrategy=nr,this._focusTrapManager.register(this)}destroy(){this._focusTrapManager.deregister(this),super.destroy()}_enable(){this._inertStrategy.preventFocus(this),this.toggleAnchors(!0)}_disable(){this._inertStrategy.allowFocus(this),this.toggleAnchors(!1)}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const di=new g.OlP("FOCUS_TRAP_INERT_STRATEGY");
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class Wn{constructor(){this._listener=null}preventFocus(q){this._listener&&q._document.removeEventListener("focus",this._listener,!0),this._listener=Ne=>this._trapFocus(q,Ne),q._ngZone.runOutsideAngular(()=>{q._document.addEventListener("focus",this._listener,!0)})}allowFocus(q){this._listener&&(q._document.removeEventListener("focus",this._listener,!0),this._listener=null)}_trapFocus(q,Ne){const yt=Ne.target,Kt=q._element;yt&&!Kt.contains(yt)&&!yt.closest?.("div.cdk-overlay-pane")&&setTimeout(()=>{q.enabled&&!Kt.contains(q._document.activeElement)&&q.focusFirstTabbableElement()})}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */class xr{constructor(){this._focusTrapStack=[]}register(q){this._focusTrapStack=this._focusTrapStack.filter(yt=>yt!==q);let Ne=this._focusTrapStack;Ne.length&&Ne[Ne.length-1]._disable(),Ne.push(q),q._enable()}deregister(q){q._disable();const Ne=this._focusTrapStack,yt=Ne.indexOf(q);-1!==yt&&(Ne.splice(yt,1),Ne.length&&Ne[Ne.length-1]._enable())}}xr.\u0275fac=function(q){return new(q||xr)},xr.\u0275prov=g.Yz7({token:xr,factory:xr.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Mn{constructor(q,Ne,yt,Kt,Cn){this._checker=q,this._ngZone=Ne,this._focusTrapManager=yt,this._document=Kt,this._inertStrategy=Cn||new Wn}create(q,Ne={defer:!1}){let yt;return yt="boolean"==typeof Ne?{defer:Ne}:Ne,new jr(q,this._checker,this._ngZone,this._document,this._focusTrapManager,this._inertStrategy,yt)}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
function Xt(lt){return 0===lt.buttons||0===lt.offsetX&&0===lt.offsetY}function de(lt){const q=lt.touches&&lt.touches[0]||lt.changedTouches&&lt.changedTouches[0];return!(!q||-1!==q.identifier||null!=q.radiusX&&1!==q.radiusX||null!=q.radiusY&&1!==q.radiusY)}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */Mn.\u0275fac=function(q){return new(q||Mn)(g.LFG(ri),g.LFG(g.R0b),g.LFG(xr),g.LFG(l.K0),g.LFG(di,8))},Mn.\u0275prov=g.Yz7({token:Mn,factory:Mn.\u0275fac,providedIn:"root"});const Ce=new g.OlP("cdk-input-modality-detector-options"),Ee={ignoreKeys:[le.zL,le.jx,le.b2,le.MW,le.JU]},Se=(0,z.i$)({passive:!0,capture:!0});class pt{get mostRecentModality(){return this._modality.value}constructor(q,Ne,yt,Kt){this._platform=q,this._mostRecentTarget=null,this._modality=new we.X(null),this._lastTouchMs=0,this._onKeydown=Cn=>{this._options?.ignoreKeys?.some(nr=>nr===Cn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,z.sA)(Cn))},this._onMousedown=Cn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Xt(Cn)?"keyboard":"mouse"),this._mostRecentTarget=(0,z.sA)(Cn))},this._onTouchstart=Cn=>{de(Cn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,z.sA)(Cn))},this._options={...Ee,...Kt},this.modalityDetected=this._modality.pipe((0,Ie.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Et.x)()),q.isBrowser&&Ne.runOutsideAngular(()=>{yt.addEventListener("keydown",this._onKeydown,Se),yt.addEventListener("mousedown",this._onMousedown,Se),yt.addEventListener("touchstart",this._onTouchstart,Se)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Se),document.removeEventListener("mousedown",this._onMousedown,Se),document.removeEventListener("touchstart",this._onTouchstart,Se))}}pt.\u0275fac=function(q){return new(q||pt)(g.LFG(z.t4),g.LFG(g.R0b),g.LFG(l.K0),g.LFG(Ce,8))},pt.\u0275prov=g.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const yn=new g.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Zn(){return null}});const He=new g.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */let Ue=0;class fe{constructor(q,Ne,yt,Kt){this._ngZone=Ne,this._defaultOptions=Kt,this._document=yt,this._liveElement=q||this._createLiveElement()}announce(q,...Ne){const yt=this._defaultOptions;let Kt,Cn;return 1===Ne.length&&"number"==typeof Ne[0]?Cn=Ne[0]:[Kt,Cn]=Ne,this.clear(),clearTimeout(this._previousTimeout),Kt||(Kt=yt&&yt.politeness?yt.politeness:"polite"),null==Cn&&yt&&(Cn=yt.duration),this._liveElement.setAttribute("aria-live",Kt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(nr=>this._currentResolve=nr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=q,"number"==typeof Cn&&(this._previousTimeout=setTimeout(()=>this.clear(),Cn)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const q="cdk-live-announcer-element",Ne=this._document.getElementsByClassName(q),yt=this._document.createElement("div");for(let Kt=0;Kt<Ne.length;Kt++)Ne[Kt].remove();return yt.classList.add(q),yt.classList.add("cdk-visually-hidden"),yt.setAttribute("aria-atomic","true"),yt.setAttribute("aria-live","polite"),yt.id="cdk-live-announcer-"+Ue++,this._document.body.appendChild(yt),yt}_exposeAnnouncerToModals(q){const Ne=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let yt=0;yt<Ne.length;yt++){const Kt=Ne[yt],Cn=Kt.getAttribute("aria-owns");Cn?-1===Cn.indexOf(q)&&Kt.setAttribute("aria-owns",Cn+" "+q):Kt.setAttribute("aria-owns",q)}}}fe.\u0275fac=function(q){return new(q||fe)(g.LFG(yn,8),g.LFG(g.R0b),g.LFG(l.K0),g.LFG(He,8))},fe.\u0275prov=g.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"});class oe{get politeness(){return this._politeness}set politeness(q){this._politeness="off"===q||"assertive"===q?q:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const Ne=this._elementRef.nativeElement.textContent;Ne!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(Ne,this._politeness,this.duration),this._previousAnnouncedText=Ne)})))}constructor(q,Ne,yt,Kt){this._elementRef=q,this._liveAnnouncer=Ne,this._contentObserver=yt,this._ngZone=Kt,this._politeness="polite"}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}oe.\u0275fac=function(q){return new(q||oe)(g.Y36(g.SBq),g.Y36(fe),g.Y36(at),g.Y36(g.R0b))},oe.\u0275dir=g.lG2({type:oe,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"],duration:["cdkAriaLiveDuration","duration"]},exportAs:["cdkAriaLive"]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const me=new g.OlP("cdk-focus-monitor-default-options"),Ct=(0,z.i$)({passive:!0,capture:!0});class Ke{constructor(q,Ne,yt,Kt,Cn){this._ngZone=q,this._platform=Ne,this._inputModalityDetector=yt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ue.x,this._rootNodeFocusAndBlurListener=nr=>{for(let Ui=(0,z.sA)(nr);Ui;Ui=Ui.parentElement)"focus"===nr.type?this._onFocus(nr,Ui):this._onBlur(nr,Ui)},this._document=Kt,this._detectionMode=Cn?.detectionMode||0}monitor(q,Ne=!1){const yt=(0,bt.fI)(q);if(!this._platform.isBrowser||1!==yt.nodeType)return(0,Pe.of)(null);const Kt=(0,z.kV)(yt)||this._getDocument(),Cn=this._elementInfo.get(yt);if(Cn)return Ne&&(Cn.checkChildren=!0),Cn.subject;const nr={checkChildren:Ne,subject:new ue.x,rootNode:Kt};return this._elementInfo.set(yt,nr),this._registerGlobalListeners(nr),nr.subject}stopMonitoring(q){const Ne=(0,bt.fI)(q),yt=this._elementInfo.get(Ne);yt&&(yt.subject.complete(),this._setClasses(Ne),this._elementInfo.delete(Ne),this._removeGlobalListeners(yt))}focusVia(q,Ne,yt){const Kt=(0,bt.fI)(q);Kt===this._getDocument().activeElement?this._getClosestElementsInfo(Kt).forEach(([nr,Zi])=>this._originChanged(nr,Ne,Zi)):(this._setOrigin(Ne),"function"==typeof Kt.focus&&Kt.focus(yt))}ngOnDestroy(){this._elementInfo.forEach((q,Ne)=>this.stopMonitoring(Ne))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(q){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(q)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:q&&this._isLastInteractionFromInputLabel(q)?"mouse":"program"}_shouldBeAttributedToTouch(q){return 1===this._detectionMode||!!q?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(q,Ne){q.classList.toggle("cdk-focused",!!Ne),q.classList.toggle("cdk-touch-focused","touch"===Ne),q.classList.toggle("cdk-keyboard-focused","keyboard"===Ne),q.classList.toggle("cdk-mouse-focused","mouse"===Ne),q.classList.toggle("cdk-program-focused","program"===Ne)}_setOrigin(q,Ne=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=q,this._originFromTouchInteraction="touch"===q&&Ne,0===this._detectionMode){clearTimeout(this._originTimeoutId);const yt=this._originFromTouchInteraction?650:1;this._originTimeoutId=setTimeout(()=>this._origin=null,yt)}})}_onFocus(q,Ne){const yt=this._elementInfo.get(Ne),Kt=(0,z.sA)(q);!yt||!yt.checkChildren&&Ne!==Kt||this._originChanged(Ne,this._getFocusOrigin(Kt),yt)}_onBlur(q,Ne){const yt=this._elementInfo.get(Ne);!yt||yt.checkChildren&&q.relatedTarget instanceof Node&&Ne.contains(q.relatedTarget)||(this._setClasses(Ne),this._emitOrigin(yt,null))}_emitOrigin(q,Ne){q.subject.observers.length&&this._ngZone.run(()=>q.subject.next(Ne))}_registerGlobalListeners(q){if(!this._platform.isBrowser)return;const Ne=q.rootNode,yt=this._rootNodeFocusListenerCount.get(Ne)||0;yt||this._ngZone.runOutsideAngular(()=>{Ne.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ct),Ne.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ct)}),this._rootNodeFocusListenerCount.set(Ne,yt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,gt.R)(this._stopInputModalityDetector)).subscribe(Kt=>{this._setOrigin(Kt,!0)}))}_removeGlobalListeners(q){const Ne=q.rootNode;if(this._rootNodeFocusListenerCount.has(Ne)){const yt=this._rootNodeFocusListenerCount.get(Ne);yt>1?this._rootNodeFocusListenerCount.set(Ne,yt-1):(Ne.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ct),Ne.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ct),this._rootNodeFocusListenerCount.delete(Ne))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(q,Ne,yt){this._setClasses(q,Ne),this._emitOrigin(yt,Ne),this._lastFocusOrigin=Ne}_getClosestElementsInfo(q){const Ne=[];return this._elementInfo.forEach((yt,Kt)=>{(Kt===q||yt.checkChildren&&Kt.contains(q))&&Ne.push([Kt,yt])}),Ne}_isLastInteractionFromInputLabel(q){const{_mostRecentTarget:Ne,mostRecentModality:yt}=this._inputModalityDetector;if("mouse"!==yt||!Ne||Ne===q||"INPUT"!==q.nodeName&&"TEXTAREA"!==q.nodeName||q.disabled)return!1;const Kt=q.labels;if(Kt)for(let Cn=0;Cn<Kt.length;Cn++)if(Kt[Cn].contains(Ne))return!0;return!1}}Ke.\u0275fac=function(q){return new(q||Ke)(g.LFG(g.R0b),g.LFG(z.t4),g.LFG(pt),g.LFG(l.K0,8),g.LFG(me,8))},Ke.\u0275prov=g.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"});class ee{constructor(q,Ne){this._elementRef=q,this._focusMonitor=Ne,this._focusOrigin=null,this.cdkFocusChange=new g.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const q=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(q,1===q.nodeType&&q.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Ne=>{this._focusOrigin=Ne,this.cdkFocusChange.emit(Ne)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}ee.\u0275fac=function(q){return new(q||ee)(g.Y36(g.SBq),g.Y36(Ke))},ee.\u0275dir=g.lG2({type:ee,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const Oe="cdk-high-contrast-black-on-white",nt="cdk-high-contrast-white-on-black",Ut="cdk-high-contrast-active";class tn{constructor(q,Ne){this._platform=q,this._document=Ne,this._breakpointSubscription=(0,g.f3M)(Lt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const q=this._document.createElement("div");q.style.backgroundColor="rgb(1,2,3)",q.style.position="absolute",this._document.body.appendChild(q);const Ne=this._document.defaultView||window,yt=Ne&&Ne.getComputedStyle?Ne.getComputedStyle(q):null,Kt=(yt&&yt.backgroundColor||"").replace(/ /g,"");switch(q.remove(),Kt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const q=this._document.body.classList;q.remove(Ut,Oe,nt),this._hasCheckedHighContrastMode=!0;const Ne=this.getHighContrastMode();1===Ne?q.add(Ut,Oe):2===Ne&&q.add(Ut,nt)}}}tn.\u0275fac=function(q){return new(q||tn)(g.LFG(z.t4),g.LFG(l.K0))},tn.\u0275prov=g.Yz7({token:tn,factory:tn.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class On{constructor(q){q._applyBodyHighContrastModeCssClasses()}}On.\u0275fac=function(q){return new(q||On)(g.LFG(tn))},On.\u0275mod=g.oAB({type:On,declarations:[oe,gr,ee],imports:[Ye],exports:[oe,gr,ee]}),On.\u0275inj=g.cJS({imports:[Ye]})}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */,445:(En,rt,S)=>{S.d(rt,{Is:()=>Pe,vT:()=>_e});var l=S(4650),g=S(6895);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const z=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function ue(){return(0,l.f3M)(g.K0)}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */});const Me=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function we(se){const Re=se?.toLowerCase()||"";return"auto"===Re&&typeof navigator<"u"&&navigator?.language?Me.test(navigator.language)?"rtl":"ltr":"rtl"===Re?"rtl":"ltr"}class Pe{constructor(Re){if(this.value="ltr",this.change=new l.vpe,Re){const Le=Re.body?Re.body.dir:null,Xe=Re.documentElement?Re.documentElement.dir:null;this.value=we(Le||Xe||"ltr")}}ngOnDestroy(){this.change.complete()}}Pe.\u0275fac=function(Re){return new(Re||Pe)(l.LFG(z,8))},Pe.\u0275prov=l.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class le{constructor(){this._dir="ltr",this._isInitialized=!1,this.change=new l.vpe}get dir(){return this._dir}set dir(Re){const Le=this._dir;this._dir=we(Re),this._rawDir=Re,Le!==this._dir&&this._isInitialized&&this.change.emit(this._dir)}get value(){return this.dir}ngAfterContentInit(){this._isInitialized=!0}ngOnDestroy(){this.change.complete()}}le.\u0275fac=function(Re){return new(Re||le)},le.\u0275dir=l.lG2({type:le,selectors:[["","dir",""]],hostVars:1,hostBindings:function(Re,Le){2&Re&&l.uIk("dir",Le._rawDir)},inputs:{dir:"dir"},outputs:{change:"dirChange"},exportAs:["dir"],features:[l._Bn([{provide:Pe,useExisting:le}])]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class _e{}_e.\u0275fac=function(Re){return new(Re||_e)},_e.\u0275mod=l.oAB({type:_e,declarations:[le],exports:[le]}),_e.\u0275inj=l.cJS({})}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */,1281:(En,rt,S)=>{S.d(rt,{Eq:()=>Me,HM:()=>we,Ig:()=>g,fI:()=>Pe,su:()=>z});var l=S(4650);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function g(_e){return null!=_e&&"false"!=`${_e}`}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function z(_e,se=0){return function ue(_e){return!isNaN(parseFloat(_e))&&!isNaN(Number(_e))}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */(_e)?Number(_e):se}function Me(_e){return Array.isArray(_e)?_e:[_e]}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function we(_e){return null==_e?"":"string"==typeof _e?_e:`${_e}px`}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function Pe(_e){return _e instanceof l.SBq?_e.nativeElement:_e}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */,9521:(En,rt,S)=>{S.d(rt,{A:()=>it,JH:()=>bt,JU:()=>we,K5:()=>Me,Ku:()=>Xe,LH:()=>Et,L_:()=>Le,MW:()=>Rn,Mf:()=>z,SV:()=>gt,Sd:()=>Ft,VM:()=>We,Vb:()=>zn,Z:()=>$n,aO:()=>Rt,b2:()=>In,hY:()=>Re,jx:()=>Pe,oh:()=>Ie,uR:()=>St,xE:()=>Ye,zL:()=>le});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const z=9,Me=13,we=16,Pe=17,le=18,Re=27,Le=32,Xe=33,We=34,St=35,Ft=36,Ie=37,Et=38,gt=39,bt=40,Ye=48,Rt=57,it=65,$n=90,Rn=91,In=224;
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function zn(Er,...fr){return fr.length?fr.some(mt=>Er[mt]):Er.altKey||Er.shiftKey||Er.ctrlKey||Er.metaKey}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */},3353:(En,rt,S)=>{S.d(rt,{Mq:()=>We,Oy:()=>_t,_i:()=>St,ht:()=>gt,i$:()=>Re,kV:()=>Et,sA:()=>bt,t4:()=>ue});var l=S(4650),g=S(6895);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */let z;try{z=typeof Intl<"u"&&Intl.v8BreakIterator}catch{z=!1}class ue{constructor(at){this._platformId=at,this.isBrowser=this._platformId?(0,g.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!z)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}ue.\u0275fac=function(at){return new(at||ue)(l.LFG(l.Lbi))},ue.\u0275prov=l.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Me{}Me.\u0275fac=function(at){return new(at||Me)},Me.\u0275mod=l.oAB({type:Me}),Me.\u0275inj=l.cJS({});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
let _e,Le,Xe,Ft;function Re(Be){return function se(){if(null==_e&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_e=!0}))}finally{_e=_e||!1}return _e}()?Be:!!Be.capture}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function We(){if(null==Xe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xe=!1,Xe;if("scrollBehavior"in document.documentElement.style)Xe=!0;else{const Be=Element.prototype.scrollTo;Xe=!!Be&&!/\{\s*\[native code\]\s*\}/.test(Be.toString())}}return Xe}function St(){if("object"!=typeof document||!document)return 0;if(null==Le){const Be=document.createElement("div"),at=Be.style;Be.dir="rtl",at.width="1px",at.overflow="auto",at.visibility="hidden",at.pointerEvents="none",at.position="absolute";const qt=document.createElement("div"),Ye=qt.style;Ye.width="2px",Ye.height="1px",Be.appendChild(qt),document.body.appendChild(Be),Le=0,0===Be.scrollLeft&&(Be.scrollLeft=1,Le=0===Be.scrollLeft?1:2),Be.remove()}return Le}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function Et(Be){if(function Ie(){if(null==Ft){const Be=typeof document<"u"?document.head:null;Ft=!(!Be||!Be.createShadowRoot&&!Be.attachShadow)}return Ft}()){const at=Be.getRootNode?Be.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&at instanceof ShadowRoot)return at}return null}function gt(){let Be=typeof document<"u"&&document?document.activeElement:null;for(;Be&&Be.shadowRoot;){const at=Be.shadowRoot.activeElement;if(at===Be)break;Be=at}return Be}function bt(Be){return Be.composedPath?Be.composedPath()[0]:Be.target}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function _t(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */},6895:(En,rt,S)=>{S.d(rt,{Do:()=>gt,EM:()=>qi,HT:()=>ue,JF:()=>Vo,K0:()=>we,Mx:()=>Vn,NF:()=>lo,O5:()=>mt,PM:()=>bo,S$:()=>Ft,V_:()=>_e,Ye:()=>bt,b0:()=>Et,bD:()=>mo,ez:()=>To,mk:()=>ge,q:()=>z,sg:()=>zn,uU:()=>Ur,w_:()=>Me});var l=S(4650);
/**
         * @license Angular v15.2.5
         * (c) 2010-2022 Google LLC. https://angular.io/
         * License: MIT
         */let g=null;function z(){return g}function ue(O){g||(g=O)}class Me{}const we=new l.OlP("DocumentToken");class Pe{historyGo(I){throw new Error("Not implemented")}}Pe.\u0275fac=function(I){return new(I||Pe)},Pe.\u0275prov=l.Yz7({token:Pe,factory:function(){return function le(){return(0,l.LFG)(se)}()},providedIn:"platform"});const _e=new l.OlP("Location Initialized");class se extends Pe{constructor(I){super(),this._doc=I,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(I){const Z=z().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",I,!1),()=>Z.removeEventListener("popstate",I)}onHashChange(I){const Z=z().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",I,!1),()=>Z.removeEventListener("hashchange",I)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(I){this._location.pathname=I}pushState(I,Z,xe){Re()?this._history.pushState(I,Z,xe):this._location.hash=xe}replaceState(I,Z,xe){Re()?this._history.replaceState(I,Z,xe):this._location.hash=xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(I=0){this._history.go(I)}getState(){return this._history.state}}function Re(){return!!window.history.pushState}function Xe(O,I){if(0==O.length)return I;if(0==I.length)return O;let Z=0;return O.endsWith("/")&&Z++,I.startsWith("/")&&Z++,2==Z?O+I.substring(1):1==Z?O+I:O+"/"+I}function We(O){const I=O.match(/#|\?|$/),Z=I&&I.index||O.length,xe=Z-("/"===O[Z-1]?1:0);return O.slice(0,xe)+O.slice(Z)}function St(O){return O&&"?"!==O[0]?"?"+O:O}se.\u0275fac=function(I){return new(I||se)(l.LFG(we))},se.\u0275prov=l.Yz7({token:se,factory:function(){return function Le(){return new se((0,l.LFG)(we))}()},providedIn:"platform"});class Ft{historyGo(I){throw new Error("Not implemented")}}Ft.\u0275fac=function(I){return new(I||Ft)},Ft.\u0275prov=l.Yz7({token:Ft,factory:function(){return(0,l.f3M)(Et)},providedIn:"root"});const Ie=new l.OlP("appBaseHref");class Et extends Ft{constructor(I,Z){super(),this._platformLocation=I,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}prepareExternalUrl(I){return Xe(this._baseHref,I)}path(I=!1){const Z=this._platformLocation.pathname+St(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&I?`${Z}${xe}`:Z}pushState(I,Z,xe,ht){const kt=this.prepareExternalUrl(xe+St(ht));this._platformLocation.pushState(I,Z,kt)}replaceState(I,Z,xe,ht){const kt=this.prepareExternalUrl(xe+St(ht));this._platformLocation.replaceState(I,Z,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}}Et.\u0275fac=function(I){return new(I||Et)(l.LFG(Pe),l.LFG(Ie,8))},Et.\u0275prov=l.Yz7({token:Et,factory:Et.\u0275fac,providedIn:"root"});class gt extends Ft{constructor(I,Z){super(),this._platformLocation=I,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(I){this._removeListenerFns.push(this._platformLocation.onPopState(I),this._platformLocation.onHashChange(I))}getBaseHref(){return this._baseHref}path(I=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(I){const Z=Xe(this._baseHref,I);return Z.length>0?"#"+Z:Z}pushState(I,Z,xe,ht){let kt=this.prepareExternalUrl(xe+St(ht));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.pushState(I,Z,kt)}replaceState(I,Z,xe,ht){let kt=this.prepareExternalUrl(xe+St(ht));0==kt.length&&(kt=this._platformLocation.pathname),this._platformLocation.replaceState(I,Z,kt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(I=0){this._platformLocation.historyGo?.(I)}}gt.\u0275fac=function(I){return new(I||gt)(l.LFG(Pe),l.LFG(Ie,8))},gt.\u0275prov=l.Yz7({token:gt,factory:gt.\u0275fac});class bt{constructor(I){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=I;const Z=this._locationStrategy.getBaseHref();this._basePath=function qt(O){if(new RegExp("^(https?:)?//").test(O)){const[,Z]=O.split(/\/\/[^\/]+/);return Z}return O}(We(at(Z))),this._locationStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(I=!1){return this.normalize(this._locationStrategy.path(I))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(I,Z=""){return this.path()==this.normalize(I+St(Z))}normalize(I){return bt.stripTrailingSlash(function Be(O,I){if(!O||!I.startsWith(O))return I;const Z=I.substring(O.length);return""===Z||["/",";","?","#"].includes(Z[0])?Z:I}(this._basePath,at(I)))}prepareExternalUrl(I){return I&&"/"!==I[0]&&(I="/"+I),this._locationStrategy.prepareExternalUrl(I)}go(I,Z="",xe=null){this._locationStrategy.pushState(xe,"",I,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+St(Z)),xe)}replaceState(I,Z="",xe=null){this._locationStrategy.replaceState(xe,"",I,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(I+St(Z)),xe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(I=0){this._locationStrategy.historyGo?.(I)}onUrlChange(I){return this._urlChangeListeners.push(I),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(I);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(I="",Z){this._urlChangeListeners.forEach(xe=>xe(I,Z))}subscribe(I,Z,xe){return this._subject.subscribe({next:I,error:Z,complete:xe})}}function at(O){return O.replace(/\/index.html$/,"")}bt.normalizeQueryParams=St,bt.joinWithSlash=Xe,bt.stripTrailingSlash=We,bt.\u0275fac=function(I){return new(I||bt)(l.LFG(Ft))},bt.\u0275prov=l.Yz7({token:bt,factory:function(){return function _t(){return new bt((0,l.LFG)(Ft))}()},providedIn:"root"});const Ye={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var X,O,Bt,_n,en,jn,Pn,ft;function It(O,I){return hr((0,l.cg1)(O)[l.wAp.DateFormat],I)}function Mt(O,I){return hr((0,l.cg1)(O)[l.wAp.TimeFormat],I)}function vn(O,I){return hr((0,l.cg1)(O)[l.wAp.DateTimeFormat],I)}function on(O,I){const Z=(0,l.cg1)(O),xe=Z[l.wAp.NumberSymbols][I];if(typeof xe>"u"){if(I===Pn.CurrencyDecimal)return Z[l.wAp.NumberSymbols][Pn.Decimal];if(I===Pn.CurrencyGroup)return Z[l.wAp.NumberSymbols][Pn.Group]}return xe}function xn(O,I){return(0,l.cg1)(O)[l.wAp.NumberFormats][I]}(O=X||(X={}))[O.Decimal=0]="Decimal",O[O.Percent=1]="Percent",O[O.Currency=2]="Currency",O[O.Scientific=3]="Scientific",function(O){O[O.Zero=0]="Zero",O[O.One=1]="One",O[O.Two=2]="Two",O[O.Few=3]="Few",O[O.Many=4]="Many",O[O.Other=5]="Other"}(Bt||(Bt={})),function(O){O[O.Format=0]="Format",O[O.Standalone=1]="Standalone"}(_n||(_n={})),function(O){O[O.Narrow=0]="Narrow",O[O.Abbreviated=1]="Abbreviated",O[O.Wide=2]="Wide",O[O.Short=3]="Short"}(en||(en={})),function(O){O[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full"}(jn||(jn={})),function(O){O[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O.Infinity=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup"}(Pn||(Pn={})),function(O){O[O.Sunday=0]="Sunday",O[O.Monday=1]="Monday",O[O.Tuesday=2]="Tuesday",O[O.Wednesday=3]="Wednesday",O[O.Thursday=4]="Thursday",O[O.Friday=5]="Friday",O[O.Saturday=6]="Saturday"}(ft||(ft={}));const Nr=l.kL8;function Jn(O){if(!O[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hr(O,I){for(let Z=I;Z>-1;Z--)if(typeof O[Z]<"u")return O[Z];throw new Error("Locale data API: locale data undefined")}function fi(O){const[I,Z]=O.split(":");return{hours:+I,minutes:+Z}}function Hn(O,I,Z="en"){const xe=function vr(O){return(0,l.cg1)(O)[l.wAp.Currencies]}(Z)[O]||Ye[O]||[],ht=xe[1];return"narrow"===I&&"string"==typeof ht?ht:xe[0]||O}const Tr=2;const er=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zr={},Lr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ir,rr,$n;function Rn(O,I,Z,xe){let ht=function me(O){if(Ke(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[ht,kt=1,kn=1]=O.split("-").map(yr=>+yr);return ar(ht,kt-1,kn)}const Z=parseFloat(O);if(!isNaN(O-Z))return new Date(Z);let xe;if(xe=O.match(er))return function Ct(O){const I=new Date(0);let Z=0,xe=0;const ht=O[8]?I.setUTCFullYear:I.setFullYear,kt=O[8]?I.setUTCHours:I.setHours;O[9]&&(Z=Number(O[9]+O[10]),xe=Number(O[9]+O[11])),ht.call(I,Number(O[1]),Number(O[2])-1,Number(O[3]));const kn=Number(O[4]||0)-Z,yr=Number(O[5]||0)-xe,ui=Number(O[6]||0),ci=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return kt.call(I,kn,yr,ui,ci),I}(xe)}const I=new Date(O);if(!Ke(I))throw new Error(`Unable to convert "${O}" into a date`);return I}(O);I=wr(Z,I)||I;let yr,kn=[];for(;I;){if(yr=Lr.exec(I),!yr){kn.push(I);break}{kn=kn.concat(yr.slice(1));const bi=kn.pop();if(!bi)break;I=bi}}let ui=ht.getTimezoneOffset();xe&&(ui=Ue(xe,ui),ht=function oe(O,I,Z){const xe=Z?-1:1,ht=O.getTimezoneOffset(),kt=Ue(I,ht);return function fe(O,I){return O=new Date(O.getTime()),O.setMinutes(O.getMinutes()+I),O}(O,xe*(kt-ht))}(ht,xe,!0));let ci="";return kn.forEach(bi=>{const Kr=function He(O){if(Zn[O])return Zn[O];let I;switch(O){case"G":case"GG":case"GGG":I=Mn($n.Eras,en.Abbreviated);break;case"GGGG":I=Mn($n.Eras,en.Wide);break;case"GGGGG":I=Mn($n.Eras,en.Narrow);break;case"y":I=Wn(rr.FullYear,1,0,!1,!0);break;case"yy":I=Wn(rr.FullYear,2,0,!0,!0);break;case"yyy":I=Wn(rr.FullYear,3,0,!1,!0);break;case"yyyy":I=Wn(rr.FullYear,4,0,!1,!0);break;case"Y":I=yn(1);break;case"YY":I=yn(2,!0);break;case"YYY":I=yn(3);break;case"YYYY":I=yn(4);break;case"M":case"L":I=Wn(rr.Month,1,1);break;case"MM":case"LL":I=Wn(rr.Month,2,1);break;case"MMM":I=Mn($n.Months,en.Abbreviated);break;case"MMMM":I=Mn($n.Months,en.Wide);break;case"MMMMM":I=Mn($n.Months,en.Narrow);break;case"LLL":I=Mn($n.Months,en.Abbreviated,_n.Standalone);break;case"LLLL":I=Mn($n.Months,en.Wide,_n.Standalone);break;case"LLLLL":I=Mn($n.Months,en.Narrow,_n.Standalone);break;case"w":I=pt(1);break;case"ww":I=pt(2);break;case"W":I=pt(1,!0);break;case"d":I=Wn(rr.Date,1);break;case"dd":I=Wn(rr.Date,2);break;case"c":case"cc":I=Wn(rr.Day,1);break;case"ccc":I=Mn($n.Days,en.Abbreviated,_n.Standalone);break;case"cccc":I=Mn($n.Days,en.Wide,_n.Standalone);break;case"ccccc":I=Mn($n.Days,en.Narrow,_n.Standalone);break;case"cccccc":I=Mn($n.Days,en.Short,_n.Standalone);break;case"E":case"EE":case"EEE":I=Mn($n.Days,en.Abbreviated);break;case"EEEE":I=Mn($n.Days,en.Wide);break;case"EEEEE":I=Mn($n.Days,en.Narrow);break;case"EEEEEE":I=Mn($n.Days,en.Short);break;case"a":case"aa":case"aaa":I=Mn($n.DayPeriods,en.Abbreviated);break;case"aaaa":I=Mn($n.DayPeriods,en.Wide);break;case"aaaaa":I=Mn($n.DayPeriods,en.Narrow);break;case"b":case"bb":case"bbb":I=Mn($n.DayPeriods,en.Abbreviated,_n.Standalone,!0);break;case"bbbb":I=Mn($n.DayPeriods,en.Wide,_n.Standalone,!0);break;case"bbbbb":I=Mn($n.DayPeriods,en.Narrow,_n.Standalone,!0);break;case"B":case"BB":case"BBB":I=Mn($n.DayPeriods,en.Abbreviated,_n.Format,!0);break;case"BBBB":I=Mn($n.DayPeriods,en.Wide,_n.Format,!0);break;case"BBBBB":I=Mn($n.DayPeriods,en.Narrow,_n.Format,!0);break;case"h":I=Wn(rr.Hours,1,-12);break;case"hh":I=Wn(rr.Hours,2,-12);break;case"H":I=Wn(rr.Hours,1);break;case"HH":I=Wn(rr.Hours,2);break;case"m":I=Wn(rr.Minutes,1);break;case"mm":I=Wn(rr.Minutes,2);break;case"s":I=Wn(rr.Seconds,1);break;case"ss":I=Wn(rr.Seconds,2);break;case"S":I=Wn(rr.FractionalSeconds,1);break;case"SS":I=Wn(rr.FractionalSeconds,2);break;case"SSS":I=Wn(rr.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":I=de(ir.Short);break;case"ZZZZZ":I=de(ir.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":I=de(ir.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":I=de(ir.Long);break;default:return null}return Zn[O]=I,I}(bi);ci+=Kr?Kr(ht,Z,ui):"''"===bi?"'":bi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ci}function ar(O,I,Z){const xe=new Date(0);return xe.setFullYear(O,I,Z),xe.setHours(0,0,0),xe}function wr(O,I){const Z=function Ot(O){return(0,l.cg1)(O)[l.wAp.LocaleId]}(O);if(Zr[Z]=Zr[Z]||{},Zr[Z][I])return Zr[Z][I];let xe="";switch(I){case"shortDate":xe=It(O,jn.Short);break;case"mediumDate":xe=It(O,jn.Medium);break;case"longDate":xe=It(O,jn.Long);break;case"fullDate":xe=It(O,jn.Full);break;case"shortTime":xe=Mt(O,jn.Short);break;case"mediumTime":xe=Mt(O,jn.Medium);break;case"longTime":xe=Mt(O,jn.Long);break;case"fullTime":xe=Mt(O,jn.Full);break;case"short":const ht=wr(O,"shortTime"),kt=wr(O,"shortDate");xe=gr(vn(O,jn.Short),[ht,kt]);break;case"medium":const kn=wr(O,"mediumTime"),yr=wr(O,"mediumDate");xe=gr(vn(O,jn.Medium),[kn,yr]);break;case"long":const ui=wr(O,"longTime"),ci=wr(O,"longDate");xe=gr(vn(O,jn.Long),[ui,ci]);break;case"full":const bi=wr(O,"fullTime"),Kr=wr(O,"fullDate");xe=gr(vn(O,jn.Full),[bi,Kr])}return xe&&(Zr[Z][I]=xe),xe}function gr(O,I){return I&&(O=O.replace(/\{([^}]+)}/g,function(Z,xe){return null!=I&&xe in I?I[xe]:Z})),O}function jr(O,I,Z="-",xe,ht){let kt="";(O<0||ht&&O<=0)&&(ht?O=1-O:(O=-O,kt=Z));let kn=String(O);for(;kn.length<I;)kn="0"+kn;return xe&&(kn=kn.slice(kn.length-I)),kt+kn}function Wn(O,I,Z=0,xe=!1,ht=!1){return function(kt,kn){let yr=function xr(O,I){switch(O){case rr.FullYear:return I.getFullYear();case rr.Month:return I.getMonth();case rr.Date:return I.getDate();case rr.Hours:return I.getHours();case rr.Minutes:return I.getMinutes();case rr.Seconds:return I.getSeconds();case rr.FractionalSeconds:return I.getMilliseconds();case rr.Day:return I.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,kt);if((Z>0||yr>-Z)&&(yr+=Z),O===rr.Hours)0===yr&&-12===Z&&(yr=12);else if(O===rr.FractionalSeconds)return function di(O,I){return jr(O,3).substring(0,I)}(yr,I);const ui=on(kn,Pn.MinusSign);return jr(yr,I,ui,xe,ht)}}function Mn(O,I,Z=_n.Format,xe=!1){return function(ht,kt){return function Xt(O,I,Z,xe,ht,kt){switch(Z){case $n.Months:return function Ht(O,I,Z){const xe=(0,l.cg1)(O),kt=hr([xe[l.wAp.MonthsFormat],xe[l.wAp.MonthsStandalone]],I);return hr(kt,Z)}(I,ht,xe)[O.getMonth()];case $n.Days:return function Lt(O,I,Z){const xe=(0,l.cg1)(O),kt=hr([xe[l.wAp.DaysFormat],xe[l.wAp.DaysStandalone]],I);return hr(kt,Z)}(I,ht,xe)[O.getDay()];case $n.DayPeriods:const kn=O.getHours(),yr=O.getMinutes();if(kt){const ci=function Br(O){const I=(0,l.cg1)(O);return Jn(I),(I[l.wAp.ExtraData][2]||[]).map(xe=>"string"==typeof xe?fi(xe):[fi(xe[0]),fi(xe[1])])}(I),bi=function dr(O,I,Z){const xe=(0,l.cg1)(O);Jn(xe);const kt=hr([xe[l.wAp.ExtraData][0],xe[l.wAp.ExtraData][1]],I)||[];return hr(kt,Z)||[]}(I,ht,xe),Kr=ci.findIndex(Xi=>{if(Array.isArray(Xi)){const[Yn,Hi]=Xi,Ji=kn>=Yn.hours&&yr>=Yn.minutes,hi=kn<Hi.hours||kn===Hi.hours&&yr<Hi.minutes;if(Yn.hours<Hi.hours){if(Ji&&hi)return!0}else if(Ji||hi)return!0}else if(Xi.hours===kn&&Xi.minutes===yr)return!0;return!1});if(-1!==Kr)return bi[Kr]}return function Rt(O,I,Z){const xe=(0,l.cg1)(O),kt=hr([xe[l.wAp.DayPeriodsFormat],xe[l.wAp.DayPeriodsStandalone]],I);return hr(kt,Z)}(I,ht,xe)[kn<12?0:1];case $n.Eras:return function Gt(O,I){return hr((0,l.cg1)(O)[l.wAp.Eras],I)}(I,xe)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Z}`)}}(ht,kt,O,I,Z,xe)}}function de(O){return function(I,Z,xe){const ht=-1*xe,kt=on(Z,Pn.MinusSign),kn=ht>0?Math.floor(ht/60):Math.ceil(ht/60);switch(O){case ir.Short:return(ht>=0?"+":"")+jr(kn,2,kt)+jr(Math.abs(ht%60),2,kt);case ir.ShortGMT:return"GMT"+(ht>=0?"+":"")+jr(kn,1,kt);case ir.Long:return"GMT"+(ht>=0?"+":"")+jr(kn,2,kt)+":"+jr(Math.abs(ht%60),2,kt);case ir.Extended:return 0===xe?"Z":(ht>=0?"+":"")+jr(kn,2,kt)+":"+jr(Math.abs(ht%60),2,kt);default:throw new Error(`Unknown zone width "${O}"`)}}}!function(O){O[O.Short=0]="Short",O[O.ShortGMT=1]="ShortGMT",O[O.Long=2]="Long",O[O.Extended=3]="Extended"}(ir||(ir={})),function(O){O[O.FullYear=0]="FullYear",O[O.Month=1]="Month",O[O.Date=2]="Date",O[O.Hours=3]="Hours",O[O.Minutes=4]="Minutes",O[O.Seconds=5]="Seconds",O[O.FractionalSeconds=6]="FractionalSeconds",O[O.Day=7]="Day"}(rr||(rr={})),function(O){O[O.DayPeriods=0]="DayPeriods",O[O.Days=1]="Days",O[O.Months=2]="Months",O[O.Eras=3]="Eras"}($n||($n={}));const Ce=0,Ee=4;function Se(O){return ar(O.getFullYear(),O.getMonth(),O.getDate()+(Ee-O.getDay()))}function pt(O,I=!1){return function(Z,xe){let ht;if(I){const kt=new Date(Z.getFullYear(),Z.getMonth(),1).getDay()-1,kn=Z.getDate();ht=1+Math.floor((kn+kt)/7)}else{const kt=Se(Z),kn=function Y(O){const I=ar(O,Ce,1).getDay();return ar(O,0,1+(I<=Ee?Ee:Ee+7)-I)}(kt.getFullYear()),yr=kt.getTime()-kn.getTime();ht=1+Math.round(yr/6048e5)}return jr(ht,O,on(xe,Pn.MinusSign))}}function yn(O,I=!1){return function(Z,xe){return jr(Se(Z).getFullYear(),O,on(xe,Pn.MinusSign),I)}}const Zn={};function Ue(O,I){O=O.replace(/:/g,"");const Z=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(Z)?I:Z}function Ke(O){return O instanceof Date&&!isNaN(O.valueOf())}const ee=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Oe=22,nt=".",Ut="0",tn=";",On=",",lt="#",q="\xa4",Ne="%";function yt(O,I,Z,xe,ht,kt,kn=!1){let yr="",ui=!1;if(isFinite(O)){let ci=function Ti(O){let xe,ht,kt,kn,yr,I=Math.abs(O)+"",Z=0;for((ht=I.indexOf(nt))>-1&&(I=I.replace(nt,"")),(kt=I.search(/e/i))>0?(ht<0&&(ht=kt),ht+=+I.slice(kt+1),I=I.substring(0,kt)):ht<0&&(ht=I.length),kt=0;I.charAt(kt)===Ut;kt++);if(kt===(yr=I.length))xe=[0],ht=1;else{for(yr--;I.charAt(yr)===Ut;)yr--;for(ht-=kt,xe=[],kn=0;kt<=yr;kt++,kn++)xe[kn]=Number(I.charAt(kt))}return ht>Oe&&(xe=xe.splice(0,Oe-1),Z=ht-1,ht=1),{digits:xe,exponent:Z,integerLen:ht}}(O);kn&&(ci=function Ui(O){if(0===O.digits[0])return O;const I=O.digits.length-O.integerLen;return O.exponent?O.exponent+=2:(0===I?O.digits.push(0,0):1===I&&O.digits.push(0),O.integerLen+=2),O}(ci));let bi=I.minInt,Kr=I.minFrac,Xi=I.maxFrac;if(kt){const sr=kt.match(ee);if(null===sr)throw new Error(`${kt} is not a valid digit info`);const Nn=sr[1],gi=sr[3],Ei=sr[5];null!=Nn&&(bi=Vi(Nn)),null!=gi&&(Kr=Vi(gi)),null!=Ei?Xi=Vi(Ei):null!=gi&&Kr>Xi&&(Xi=Kr)}!function Or(O,I,Z){if(I>Z)throw new Error(`The minimum number of digits after fraction (${I}) is higher than the maximum (${Z}).`);let xe=O.digits,ht=xe.length-O.integerLen;const kt=Math.min(Math.max(I,ht),Z);let kn=kt+O.integerLen,yr=xe[kn];if(kn>0){xe.splice(Math.max(O.integerLen,kn));for(let Kr=kn;Kr<xe.length;Kr++)xe[Kr]=0}else{ht=Math.max(0,ht),O.integerLen=1,xe.length=Math.max(1,kn=kt+1),xe[0]=0;for(let Kr=1;Kr<kn;Kr++)xe[Kr]=0}if(yr>=5)if(kn-1<0){for(let Kr=0;Kr>kn;Kr--)xe.unshift(0),O.integerLen++;xe.unshift(1),O.integerLen++}else xe[kn-1]++;for(;ht<Math.max(0,kt);ht++)xe.push(0);let ui=0!==kt;const ci=I+O.integerLen,bi=xe.reduceRight(function(Kr,Xi,Yn,Hi){return Xi+=Kr,Hi[Yn]=Xi<10?Xi:Xi-10,ui&&(0===Hi[Yn]&&Yn>=ci?Hi.pop():ui=!1),Xi>=10?1:0},0);bi&&(xe.unshift(bi),O.integerLen++)}(ci,Kr,Xi);let Yn=ci.digits,Hi=ci.integerLen;const Ji=ci.exponent;let hi=[];for(ui=Yn.every(sr=>!sr);Hi<bi;Hi++)Yn.unshift(0);for(;Hi<0;Hi++)Yn.unshift(0);Hi>0?hi=Yn.splice(Hi,Yn.length):(hi=Yn,Yn=[0]);const an=[];for(Yn.length>=I.lgSize&&an.unshift(Yn.splice(-I.lgSize,Yn.length).join(""));Yn.length>I.gSize;)an.unshift(Yn.splice(-I.gSize,Yn.length).join(""));Yn.length&&an.unshift(Yn.join("")),yr=an.join(on(Z,xe)),hi.length&&(yr+=on(Z,ht)+hi.join("")),Ji&&(yr+=on(Z,Pn.Exponential)+"+"+Ji)}else yr=on(Z,Pn.Infinity);return yr=O<0&&!ui?I.negPre+yr+I.negSuf:I.posPre+yr+I.posSuf,yr}function Kt(O,I,Z,xe,ht){const kn=Zi(xn(I,X.Currency),on(I,Pn.MinusSign));return kn.minFrac=function Di(O){let I;const Z=Ye[O];return Z&&(I=Z[2]),"number"==typeof I?I:Tr}(xe),kn.maxFrac=kn.minFrac,yt(O,kn,I,Pn.CurrencyGroup,Pn.CurrencyDecimal,ht).replace(q,Z).replace(q,"").trim()}function Zi(O,I="-"){const Z={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},xe=O.split(tn),ht=xe[0],kt=xe[1],kn=-1!==ht.indexOf(nt)?ht.split(nt):[ht.substring(0,ht.lastIndexOf(Ut)+1),ht.substring(ht.lastIndexOf(Ut)+1)],yr=kn[0],ui=kn[1]||"";Z.posPre=yr.substring(0,yr.indexOf(lt));for(let bi=0;bi<ui.length;bi++){const Kr=ui.charAt(bi);Kr===Ut?Z.minFrac=Z.maxFrac=bi+1:Kr===lt?Z.maxFrac=bi+1:Z.posSuf+=Kr}const ci=yr.split(On);if(Z.gSize=ci[1]?ci[1].length:0,Z.lgSize=ci[2]||ci[1]?(ci[2]||ci[1]).length:0,kt){const bi=ht.length-Z.posPre.length-Z.posSuf.length,Kr=kt.indexOf(lt);Z.negPre=kt.substring(0,Kr).replace(/'/g,""),Z.negSuf=kt.slice(Kr+bi).replace(/'/g,"")}else Z.negPre=I+Z.posPre,Z.negSuf=Z.posSuf;return Z}function Vi(O){const I=parseInt(O);if(isNaN(I))throw new Error("Invalid integer literal when parsing "+O);return I}class Ci{}function io(O,I,Z,xe){let ht=`=${O}`;if(I.indexOf(ht)>-1||(ht=Z.getPluralCategory(O,xe),I.indexOf(ht)>-1))return ht;if(I.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${O}"`)}Ci.\u0275fac=function(I){return new(I||Ci)},Ci.\u0275prov=l.Yz7({token:Ci,factory:function(I){let Z=null;return I?Z=new I:(xe=l.LFG(l.soG),Z=new Fi(xe)),Z;var xe},providedIn:"root"});class Fi extends Ci{constructor(I){super(),this.locale=I}getPluralCategory(I,Z){switch(Nr(Z||this.locale)(I)){case Bt.Zero:return"zero";case Bt.One:return"one";case Bt.Two:return"two";case Bt.Few:return"few";case Bt.Many:return"many";default:return"other"}}}function Vn(O,I){I=encodeURIComponent(I);for(const Z of O.split(";")){const xe=Z.indexOf("="),[ht,kt]=-1==xe?[Z,""]:[Z.slice(0,xe),Z.slice(xe+1)];if(ht.trim()===I)return decodeURIComponent(kt)}return null}Fi.\u0275fac=function(I){return new(I||Fi)(l.LFG(l.soG))},Fi.\u0275prov=l.Yz7({token:Fi,factory:Fi.\u0275fac});const At=/\s+/,G=[];class ge{constructor(I,Z,xe,ht){this._iterableDiffers=I,this._keyValueDiffers=Z,this._ngEl=xe,this._renderer=ht,this.initialClasses=G,this.stateMap=new Map}set klass(I){this.initialClasses=null!=I?I.trim().split(At):G}set ngClass(I){this.rawClass="string"==typeof I?I.trim().split(At):I}ngDoCheck(){for(const Z of this.initialClasses)this._updateState(Z,!0);const I=this.rawClass;if(Array.isArray(I)||I instanceof Set)for(const Z of I)this._updateState(Z,!0);else if(null!=I)for(const Z of Object.keys(I))this._updateState(Z,Boolean(I[Z]));this._applyStateDiff()}_updateState(I,Z){const xe=this.stateMap.get(I);void 0!==xe?(xe.enabled!==Z&&(xe.changed=!0,xe.enabled=Z),xe.touched=!0):this.stateMap.set(I,{enabled:Z,changed:!0,touched:!0})}_applyStateDiff(){for(const I of this.stateMap){const Z=I[0],xe=I[1];xe.changed?(this._toggleClass(Z,xe.enabled),xe.changed=!1):xe.touched||(xe.enabled&&this._toggleClass(Z,!1),this.stateMap.delete(Z)),xe.touched=!1}}_toggleClass(I,Z){(I=I.trim()).length>0&&I.split(At).forEach(xe=>{Z?this._renderer.addClass(this._ngEl.nativeElement,xe):this._renderer.removeClass(this._ngEl.nativeElement,xe)})}}ge.\u0275fac=function(I){return new(I||ge)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},ge.\u0275dir=l.lG2({type:ge,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});class ze{constructor(I){this._viewContainerRef=I,this.ngComponentOutlet=null}ngOnChanges(I){const{_viewContainerRef:Z,ngComponentOutletNgModule:xe,ngComponentOutletNgModuleFactory:ht}=this;if(Z.clear(),this._componentRef=void 0,this.ngComponentOutlet){const kt=this.ngComponentOutletInjector||Z.parentInjector;(I.ngComponentOutletNgModule||I.ngComponentOutletNgModuleFactory)&&(this._moduleRef&&this._moduleRef.destroy(),this._moduleRef=xe?(0,l.Lck)(xe,xt(kt)):ht?ht.create(xt(kt)):void 0),this._componentRef=Z.createComponent(this.ngComponentOutlet,{index:Z.length,injector:kt,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}function xt(O){return O.get(l.h0i).injector}ze.\u0275fac=function(I){return new(I||ze)(l.Y36(l.s_b))},ze.\u0275dir=l.lG2({type:ze,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[l.TTD]});class In{constructor(I,Z,xe,ht){this.$implicit=I,this.ngForOf=Z,this.index=xe,this.count=ht}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class zn{set ngForOf(I){this._ngForOf=I,this._ngForOfDirty=!0}set ngForTrackBy(I){this._trackByFn=I}get ngForTrackBy(){return this._trackByFn}constructor(I,Z,xe){this._viewContainer=I,this._template=Z,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(I){I&&(this._template=I)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const I=this._ngForOf;!this._differ&&I&&(this._differ=this._differs.find(I).create(this.ngForTrackBy))}if(this._differ){const I=this._differ.diff(this._ngForOf);I&&this._applyChanges(I)}}_applyChanges(I){const Z=this._viewContainer;I.forEachOperation((xe,ht,kt)=>{if(null==xe.previousIndex)Z.createEmbeddedView(this._template,new In(xe.item,this._ngForOf,-1,-1),null===kt?void 0:kt);else if(null==kt)Z.remove(null===ht?void 0:ht);else if(null!==ht){const kn=Z.get(ht);Z.move(kn,kt),Er(kn,xe)}});for(let xe=0,ht=Z.length;xe<ht;xe++){const kn=Z.get(xe).context;kn.index=xe,kn.count=ht,kn.ngForOf=this._ngForOf}I.forEachIdentityChange(xe=>{Er(Z.get(xe.currentIndex),xe)})}static ngTemplateContextGuard(I,Z){return!0}}function Er(O,I){O.context.$implicit=I.item}zn.\u0275fac=function(I){return new(I||zn)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},zn.\u0275dir=l.lG2({type:zn,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});class mt{constructor(I,Z){this._viewContainer=I,this._context=new ct,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(I){this._context.$implicit=this._context.ngIf=I,this._updateView()}set ngIfThen(I){Qe("ngIfThen",I),this._thenTemplateRef=I,this._thenViewRef=null,this._updateView()}set ngIfElse(I){Qe("ngIfElse",I),this._elseTemplateRef=I,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(I,Z){return!0}}mt.\u0275fac=function(I){return new(I||mt)(l.Y36(l.s_b),l.Y36(l.Rgc))},mt.\u0275dir=l.lG2({type:mt,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});class ct{constructor(){this.$implicit=null,this.ngIf=null}}function Qe(O,I){if(I&&!I.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,l.AaK)(I)}'.`)}class jt{constructor(I,Z){this._viewContainerRef=I,this._templateRef=Z,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(I){I&&!this._created?this.create():!I&&this._created&&this.destroy()}}class ln{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(I){this._ngSwitch=I,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(I){this._defaultViews.push(I)}_matchCase(I){const Z=I==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Z,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Z}_updateDefaultCases(I){if(this._defaultViews.length>0&&I!==this._defaultUsed){this._defaultUsed=I;for(const Z of this._defaultViews)Z.enforceState(I)}}}ln.\u0275fac=function(I){return new(I||ln)},ln.\u0275dir=l.lG2({type:ln,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});class Gn{constructor(I,Z,xe){this.ngSwitch=xe,xe._addCase(),this._view=new jt(I,Z)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}Gn.\u0275fac=function(I){return new(I||Gn)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ln,9))},Gn.\u0275dir=l.lG2({type:Gn,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});class cr{constructor(I,Z,xe){xe._addDefault(new jt(I,Z))}}cr.\u0275fac=function(I){return new(I||cr)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ln,9))},cr.\u0275dir=l.lG2({type:cr,selectors:[["","ngSwitchDefault",""]],standalone:!0});class _r{constructor(I){this._localization=I,this._caseViews={}}set ngPlural(I){this._updateView(I)}addCase(I,Z){this._caseViews[I]=Z}_updateView(I){this._clearViews();const xe=io(I,Object.keys(this._caseViews),this._localization);this._activateView(this._caseViews[xe])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(I){I&&(this._activeView=I,this._activeView.create())}}_r.\u0275fac=function(I){return new(I||_r)(l.Y36(Ci))},_r.\u0275dir=l.lG2({type:_r,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"},standalone:!0});class zi{constructor(I,Z,xe,ht){this.value=I;const kt=!isNaN(Number(I));ht.addCase(kt?`=${I}`:I,new jt(xe,Z))}}zi.\u0275fac=function(I){return new(I||zi)(l.$8M("ngPluralCase"),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(_r,1))},zi.\u0275dir=l.lG2({type:zi,selectors:[["","ngPluralCase",""]],standalone:!0});class Ii{constructor(I,Z,xe){this._ngEl=I,this._differs=Z,this._renderer=xe,this._ngStyle=null,this._differ=null}set ngStyle(I){this._ngStyle=I,!this._differ&&I&&(this._differ=this._differs.find(I).create())}ngDoCheck(){if(this._differ){const I=this._differ.diff(this._ngStyle);I&&this._applyChanges(I)}}_setStyle(I,Z){const[xe,ht]=I.split("."),kt=-1===xe.indexOf("-")?void 0:l.JOm.DashCase;null!=Z?this._renderer.setStyle(this._ngEl.nativeElement,xe,ht?`${Z}${ht}`:Z,kt):this._renderer.removeStyle(this._ngEl.nativeElement,xe,kt)}_applyChanges(I){I.forEachRemovedItem(Z=>this._setStyle(Z.key,null)),I.forEachAddedItem(Z=>this._setStyle(Z.key,Z.currentValue)),I.forEachChangedItem(Z=>this._setStyle(Z.key,Z.currentValue))}}Ii.\u0275fac=function(I){return new(I||Ii)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},Ii.\u0275dir=l.lG2({type:Ii,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});class _i{constructor(I){this._viewContainerRef=I,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(I){if(I.ngTemplateOutlet||I.ngTemplateOutletInjector){const Z=this._viewContainerRef;if(this._viewRef&&Z.remove(Z.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:xe,ngTemplateOutletContext:ht,ngTemplateOutletInjector:kt}=this;this._viewRef=Z.createEmbeddedView(xe,ht,kt?{injector:kt}:void 0)}else this._viewRef=null}else this._viewRef&&I.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}_i.\u0275fac=function(I){return new(I||_i)(l.Y36(l.s_b))},_i.\u0275dir=l.lG2({type:_i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]});function Wr(O,I){return new l.vHH(2100,!1)}const ii=new class si{createSubscription(I,Z){return I.then(Z,xe=>{throw xe})}dispose(I){}},pr=new class jo{createSubscription(I,Z){return I.subscribe({next:Z,error:xe=>{throw xe}})}dispose(I){I.unsubscribe()}};class pi{constructor(I){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=I}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(I){return this._obj?I!==this._obj?(this._dispose(),this.transform(I)):this._latestValue:(I&&this._subscribe(I),this._latestValue)}_subscribe(I){this._obj=I,this._strategy=this._selectStrategy(I),this._subscription=this._strategy.createSubscription(I,Z=>this._updateLatestValue(I,Z))}_selectStrategy(I){if((0,l.QGY)(I))return ii;if((0,l.F4k)(I))return pr;throw Wr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(I,Z){I===this._obj&&(this._latestValue=Z,this._ref.markForCheck())}}pi.\u0275fac=function(I){return new(I||pi)(l.Y36(l.sBO,16))},pi.\u0275pipe=l.Yjl({name:"async",type:pi,pure:!1,standalone:!0});class Ar{transform(I){if(null==I)return null;if("string"!=typeof I)throw Wr();return I.toLowerCase()}}Ar.\u0275fac=function(I){return new(I||Ar)},Ar.\u0275pipe=l.Yjl({name:"lowercase",type:Ar,pure:!0,standalone:!0});const no=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;class yo{transform(I){if(null==I)return null;if("string"!=typeof I)throw Wr();return I.replace(no,Z=>Z[0].toUpperCase()+Z.slice(1).toLowerCase())}}yo.\u0275fac=function(I){return new(I||yo)},yo.\u0275pipe=l.Yjl({name:"titlecase",type:yo,pure:!0,standalone:!0});class qr{transform(I){if(null==I)return null;if("string"!=typeof I)throw Wr();return I.toUpperCase()}}qr.\u0275fac=function(I){return new(I||qr)},qr.\u0275pipe=l.Yjl({name:"uppercase",type:qr,pure:!0,standalone:!0});const Jr=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ir=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");class Ur{constructor(I,Z,xe){this.locale=I,this.defaultTimezone=Z,this.defaultOptions=xe}transform(I,Z,xe,ht){if(null==I||""===I||I!=I)return null;try{const kt=Z??this.defaultOptions?.dateFormat??"mediumDate",kn=xe??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Rn(I,kt,ht||this.locale,kn)}catch(kt){throw Wr(0,kt.message)}}}Ur.\u0275fac=function(I){return new(I||Ur)(l.Y36(l.soG,16),l.Y36(Jr,24),l.Y36(Ir,24))},Ur.\u0275pipe=l.Yjl({name:"date",type:Ur,pure:!0,standalone:!0});const vo=/#/g;class Si{constructor(I){this._localization=I}transform(I,Z,xe){if(null==I)return"";if("object"!=typeof Z||null===Z)throw Wr();return Z[io(I,Object.keys(Z),this._localization,xe)].replace(vo,I.toString())}}Si.\u0275fac=function(I){return new(I||Si)(l.Y36(Ci,16))},Si.\u0275pipe=l.Yjl({name:"i18nPlural",type:Si,pure:!0,standalone:!0});class ki{transform(I,Z){if(null==I)return"";if("object"!=typeof Z||"string"!=typeof I)throw Wr();return Z.hasOwnProperty(I)?Z[I]:Z.hasOwnProperty("other")?Z.other:""}}ki.\u0275fac=function(I){return new(I||ki)},ki.\u0275pipe=l.Yjl({name:"i18nSelect",type:ki,pure:!0,standalone:!0});class Pr{transform(I){return JSON.stringify(I,null,2)}}Pr.\u0275fac=function(I){return new(I||Pr)},Pr.\u0275pipe=l.Yjl({name:"json",type:Pr,pure:!1,standalone:!0});class oo{constructor(I){this.differs=I,this.keyValues=[],this.compareFn=Ki}transform(I,Z=Ki){if(!I||!(I instanceof Map)&&"object"!=typeof I)return null;this.differ||(this.differ=this.differs.find(I).create());const xe=this.differ.diff(I),ht=Z!==this.compareFn;return xe&&(this.keyValues=[],xe.forEachItem(kt=>{this.keyValues.push(function Bo(O,I){return{key:O,value:I}}(kt.key,kt.currentValue))})),(xe||ht)&&(this.keyValues.sort(Z),this.compareFn=Z),this.keyValues}}function Ki(O,I){const Z=O.key,xe=I.key;if(Z===xe)return 0;if(void 0===Z)return 1;if(void 0===xe)return-1;if(null===Z)return 1;if(null===xe)return-1;if("string"==typeof Z&&"string"==typeof xe)return Z<xe?-1:1;if("number"==typeof Z&&"number"==typeof xe)return Z-xe;if("boolean"==typeof Z&&"boolean"==typeof xe)return Z<xe?-1:1;const ht=String(Z),kt=String(xe);return ht==kt?0:ht<kt?-1:1}oo.\u0275fac=function(I){return new(I||oo)(l.Y36(l.aQg,16))},oo.\u0275pipe=l.Yjl({name:"keyvalue",type:oo,pure:!1,standalone:!0});class so{constructor(I){this._locale=I}transform(I,Z,xe){if(!po(I))return null;xe=xe||this._locale;try{return function nr(O,I,Z){return yt(O,Zi(xn(I,X.Decimal),on(I,Pn.MinusSign)),I,Pn.Group,Pn.Decimal,Z)}(Io(I),xe,Z)}catch(ht){throw Wr(0,ht.message)}}}so.\u0275fac=function(I){return new(I||so)(l.Y36(l.soG,16))},so.\u0275pipe=l.Yjl({name:"number",type:so,pure:!0,standalone:!0});class ko{constructor(I){this._locale=I}transform(I,Z,xe){if(!po(I))return null;xe=xe||this._locale;try{return function Cn(O,I,Z){return yt(O,Zi(xn(I,X.Percent),on(I,Pn.MinusSign)),I,Pn.Group,Pn.Decimal,Z,!0).replace(new RegExp(Ne,"g"),on(I,Pn.PercentSign))}(Io(I),xe,Z)}catch(ht){throw Wr(0,ht.message)}}}ko.\u0275fac=function(I){return new(I||ko)(l.Y36(l.soG,16))},ko.\u0275pipe=l.Yjl({name:"percent",type:ko,pure:!0,standalone:!0});class Po{constructor(I,Z="USD"){this._locale=I,this._defaultCurrencyCode=Z}transform(I,Z=this._defaultCurrencyCode,xe="symbol",ht,kt){if(!po(I))return null;kt=kt||this._locale,"boolean"==typeof xe&&(xe=xe?"symbol":"code");let kn=Z||this._defaultCurrencyCode;"code"!==xe&&(kn="symbol"===xe||"symbol-narrow"===xe?Hn(kn,"symbol"===xe?"wide":"narrow",kt):xe);try{return Kt(Io(I),kt,kn,Z,ht)}catch(yr){throw Wr(0,yr.message)}}}function po(O){return!(null==O||""===O||O!=O)}function Io(O){if("string"==typeof O&&!isNaN(Number(O)-parseFloat(O)))return Number(O);if("number"!=typeof O)throw new Error(`${O} is not a number`);return O}Po.\u0275fac=function(I){return new(I||Po)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},Po.\u0275pipe=l.Yjl({name:"currency",type:Po,pure:!0,standalone:!0});class Oi{transform(I,Z,xe){if(null==I)return null;if(!this.supports(I))throw Wr();return I.slice(Z,xe)}supports(I){return"string"==typeof I||Array.isArray(I)}}Oi.\u0275fac=function(I){return new(I||Oi)},Oi.\u0275pipe=l.Yjl({name:"slice",type:Oi,pure:!1,standalone:!0});class To{}To.\u0275fac=function(I){return new(I||To)},To.\u0275mod=l.oAB({type:To,imports:[ge,ze,zn,mt,_i,Ii,ln,Gn,cr,_r,zi,pi,qr,Ar,Pr,Oi,so,ko,yo,Po,Ur,Si,ki,oo],exports:[ge,ze,zn,mt,_i,Ii,ln,Gn,cr,_r,zi,pi,qr,Ar,Pr,Oi,so,ko,yo,Po,Ur,Si,ki,oo]}),To.\u0275inj=l.cJS({});const mo="browser",Pi="server";function lo(O){return O===mo}function bo(O){return O===Pi}new l.GfV("15.2.5");class qi{}qi.\u0275prov=(0,l.Yz7)({token:qi,providedIn:"root",factory:()=>new ho((0,l.LFG)(we),window)});class ho{constructor(I,Z){this.document=I,this.window=Z,this.offset=()=>[0,0]}setOffset(I){Array.isArray(I)?this.offset=()=>I:this.offset=I}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(I){this.supportsScrolling()&&this.window.scrollTo(I[0],I[1])}scrollToAnchor(I){if(!this.supportsScrolling())return;const Z=function Mo(O,I){const Z=O.getElementById(I)||O.getElementsByName(I)[0];if(Z)return Z;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const xe=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let ht=xe.currentNode;for(;ht;){const kt=ht.shadowRoot;if(kt){const kn=kt.getElementById(I)||kt.querySelector(`[name="${I}"]`);if(kn)return kn}ht=xe.nextNode()}}return null}(this.document,I);Z&&(this.scrollToElement(Z),Z.focus())}setHistoryScrollRestoration(I){if(this.supportScrollRestoration()){const Z=this.window.history;Z&&Z.scrollRestoration&&(Z.scrollRestoration=I)}}scrollToElement(I){const Z=I.getBoundingClientRect(),xe=Z.left+this.window.pageXOffset,ht=Z.top+this.window.pageYOffset,kt=this.offset();this.window.scrollTo(xe-kt[0],ht-kt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const I=Ds(this.window.history)||Ds(Object.getPrototypeOf(this.window.history));return!(!I||!I.writable&&!I.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ds(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class Vo{}function Co(O,I){return fs(O)?new URL(O):new URL(O,I.location.href)}function fs(O){return/^https?:\/\//.test(O)}function Qo(O){return fs(O)?new URL(O).hostname:O}function Bi(O){return O.startsWith("/")?O.slice(1):O}const yi=O=>O.src,Eo=new l.OlP("ImageLoader",{providedIn:"root",factory:()=>yi});function is(O,I){return function(xe){return function Fr(O){if("string"!=typeof O||""===O.trim())return!1;try{return new URL(O),!0}catch{return!1}}(xe)||function Hr(O,I){throw new l.vHH(2959,!1)}(),xe=function fo(O){return O.endsWith("/")?O.slice(0,-1):O}(xe),[{provide:Eo,useValue:kn=>(fs(kn.src)&&function zo(O,I){throw new l.vHH(2959,!1)}(0,kn.src),O(xe,{...kn,src:Bi(kn.src)}))}]}}is(function co(O,I){let Z="format=auto";return I.width&&(Z+=`,width=${I.width}`),`${O}/cdn-cgi/image/${Z}/${I.src}`});is(function or(O,I){let Z="f_auto,q_auto";return I.width&&(Z+=`,w_${I.width}`),`${O}/image/upload/${Z}/${I.src}`});is(function T(O,I){const{src:Z,width:xe}=I;let ht;if(xe){ht=[O,`tr:w-${xe}`,Z]}else ht=[O,Z];return ht.join("/")});is(function ut(O,I){const Z=new URL(`${O}/${I.src}`);return Z.searchParams.set("auto","format"),I.width&&Z.searchParams.set("w",I.width.toString()),Z.href});function Tt(O,I=!0){return`The NgOptimizedImage directive ${I?`(activated on an <img> element with the \`ngSrc="${O}"\`) `:""}has detected that`}function dt(O){throw new l.vHH(2958,`Unexpected invocation of the ${O} in the prod mode. Please make sure that the prod mode is enabled for production builds.`)}class hn{constructor(){this.images=new Map,this.alreadyWarned=new Set,this.window=null,this.observer=null,dt("LCP checker");const I=(0,l.f3M)(we).defaultView;typeof I<"u"&&typeof PerformanceObserver<"u"&&(this.window=I,this.observer=this.initPerformanceObserver())}initPerformanceObserver(){const I=new PerformanceObserver(Z=>{const xe=Z.getEntries();if(0===xe.length)return;const kt=xe[xe.length-1].element?.src??"";kt.startsWith("data:")||kt.startsWith("blob:")||this.images.get(kt)&&!this.alreadyWarned.has(kt)&&(this.alreadyWarned.add(kt),function Fn(O){const I=Tt(O);console.warn((0,l.kuF)(2955,`${I} this image is the Largest Contentful Paint (LCP) element but was not marked "priority". This image should be marked "priority" in order to prioritize its loading. To fix this, add the "priority" attribute.`))}(kt))});return I.observe({type:"largest-contentful-paint",buffered:!0}),I}registerImage(I,Z){this.observer&&this.images.set(Co(I,this.window).href,Z)}unregisterImage(I){this.observer&&this.images.delete(Co(I,this.window).href)}ngOnDestroy(){this.observer&&(this.observer.disconnect(),this.images.clear(),this.alreadyWarned.clear())}}hn.\u0275fac=function(I){return new(I||hn)},hn.\u0275prov=l.Yz7({token:hn,factory:hn.\u0275fac,providedIn:"root"});const Qr=new Set(["localhost","127.0.0.1","0.0.0.0"]),Rr=new l.OlP("PRECONNECT_CHECK_BLOCKLIST");class go{constructor(){this.document=(0,l.f3M)(we),this.preconnectLinks=null,this.alreadySeen=new Set,this.window=null,this.blocklist=new Set(Qr),dt("preconnect link checker");const I=this.document.defaultView;typeof I<"u"&&(this.window=I);const Z=(0,l.f3M)(Rr,{optional:!0});Z&&this.populateBlocklist(Z)}populateBlocklist(I){Array.isArray(I)?Yr(I,Z=>{this.blocklist.add(Qo(Z))}):this.blocklist.add(Qo(I))}assertPreconnect(I,Z){if(!this.window)return;const xe=Co(I,this.window);this.blocklist.has(xe.hostname)||this.alreadySeen.has(xe.origin)||(this.alreadySeen.add(xe.origin),this.preconnectLinks||(this.preconnectLinks=this.queryPreconnectLinks()),this.preconnectLinks.has(xe.origin)||console.warn((0,l.kuF)(2956,`${Tt(Z)} there is no preconnect tag present for this image. Preconnecting to the origin(s) that serve priority images ensures that these images are delivered as soon as possible. To fix this, please add the following element into the <head> of the document:\n  <link rel="preconnect" href="${xe.origin}">`)))}queryPreconnectLinks(){const I=new Set,xe=Array.from(this.document.querySelectorAll("link[rel=preconnect]"));for(let ht of xe){const kt=Co(ht.href,this.window);I.add(kt.origin)}return I}ngOnDestroy(){this.preconnectLinks?.clear(),this.alreadySeen.clear()}}function Yr(O,I){for(let Z of O)Array.isArray(Z)?Yr(Z,I):I(Z)}go.\u0275fac=function(I){return new(I||go)},go.\u0275prov=l.Yz7({token:go,factory:go.\u0275fac,providedIn:"root"});const Ve=new l.OlP("NG_OPTIMIZED_PRELOADED_IMAGES",{providedIn:"root",factory:()=>new Set});class y{constructor(){this.preloadedImages=(0,l.f3M)(Ve),this.document=(0,l.f3M)(we)}createPreloadLinkTag(I,Z,xe,ht){if(this.preloadedImages.has(Z))return;this.preloadedImages.add(Z);const kt=I.createElement("link");I.setAttribute(kt,"as","image"),I.setAttribute(kt,"href",Z),I.setAttribute(kt,"rel","preload"),I.setAttribute(kt,"fetchpriority","high"),ht&&I.setAttribute(kt,"imageSizes",ht),xe&&I.setAttribute(kt,"imageSrcset",xe),I.appendChild(this.document.head,kt)}}y.\u0275fac=function(I){return new(I||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"});const ie=/^((\s*\d+w\s*(,|$)){1,})$/,Dn=[1,2],Qi={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840]},Yo=new l.OlP("ImageConfig",{providedIn:"root",factory:()=>Qi});class Zo{constructor(){this.imageLoader=(0,l.f3M)(Eo),this.config=function os(O){let I={};return O.breakpoints&&(I.breakpoints=O.breakpoints.sort((Z,xe)=>Z-xe)),Object.assign({},Qi,O,I)}((0,l.f3M)(Yo)),this.renderer=(0,l.f3M)(l.Qsj),this.imgElement=(0,l.f3M)(l.SBq).nativeElement,this.injector=(0,l.f3M)(l.zs3),this.isServer=bo((0,l.f3M)(l.Lbi)),this.preloadLinkChecker=(0,l.f3M)(y),this.lcpObserver=null,this._renderedSrc=null,this._priority=!1,this._disableOptimizedSrcset=!1,this._fill=!1}set width(I){this._width=Vs(I)}get width(){return this._width}set height(I){this._height=Vs(I)}get height(){return this._height}set priority(I){this._priority=qs(I)}get priority(){return this._priority}set disableOptimizedSrcset(I){this._disableOptimizedSrcset=qs(I)}get disableOptimizedSrcset(){return this._disableOptimizedSrcset}set fill(I){this._fill=qs(I)}get fill(){return this._fill}ngOnInit(){this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||(this.sizes="100vw"):(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");const I=this.getRewrittenSrc();let Z;this.setHostAttribute("src",I),this.sizes&&this.setHostAttribute("sizes",this.sizes),this.ngSrcset?Z=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(Z=this.getAutomaticSrcset()),Z&&this.setHostAttribute("srcset",Z),this.isServer&&this.priority&&this.preloadLinkChecker.createPreloadLinkTag(this.renderer,I,Z,this.sizes)}ngOnChanges(I){}callImageLoader(I){let Z=I;return this.loaderParams&&(Z.loaderParams=this.loaderParams),this.imageLoader(Z)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){const I={src:this.ngSrc};this._renderedSrc=this.callImageLoader(I)}return this._renderedSrc}getRewrittenSrcset(){const I=ie.test(this.ngSrcset);return this.ngSrcset.split(",").filter(xe=>""!==xe).map(xe=>{xe=xe.trim();const ht=I?parseFloat(xe):parseFloat(xe)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:ht})} ${xe}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:I}=this.config;let Z=I;return"100vw"===this.sizes?.trim()&&(Z=I.filter(ht=>ht>=640)),Z.map(ht=>`${this.callImageLoader({src:this.ngSrc,width:ht})} ${ht}w`).join(", ")}getFixedSrcset(){return Dn.map(Z=>`${this.callImageLoader({src:this.ngSrc,width:this.width*Z})} ${Z}x`).join(", ")}shouldGenerateAutomaticSrcset(){return!this._disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==yi&&!(this.width>1920||this.height>1080)}ngOnDestroy(){}setHostAttribute(I,Z){this.renderer.setAttribute(this.imgElement,I,Z)}}function Vs(O){return"string"==typeof O?parseInt(O,10):O}function qs(O){return null!=O&&"false"!=`${O}`}Zo.\u0275fac=function(I){return new(I||Zo)},Zo.\u0275dir=l.lG2({type:Zo,selectors:[["img","ngSrc",""]],hostVars:8,hostBindings:function(I,Z){2&I&&l.Udp("position",Z.fill?"absolute":null)("width",Z.fill?"100%":null)("height",Z.fill?"100%":null)("inset",Z.fill?"0px":null)},inputs:{ngSrc:"ngSrc",ngSrcset:"ngSrcset",sizes:"sizes",width:"width",height:"height",loading:"loading",priority:"priority",loaderParams:"loaderParams",disableOptimizedSrcset:"disableOptimizedSrcset",fill:"fill",src:"src",srcset:"srcset"},standalone:!0,features:[l.TTD]})},4650:(En,rt,S)=>{S.d(rt,{$8M:()=>Wa,$WT:()=>io,$Z:()=>kf,AA_:()=>V,AFp:()=>zb,ALo:()=>sb,AaK:()=>le,AcB:()=>Wc,CHM:()=>Fn,CRH:()=>gb,CZH:()=>cd,CqO:()=>$g,D6c:()=>LD,E6H:()=>GE,EJc:()=>nD,EiD:()=>Sl,EpF:()=>jg,F$t:()=>Tm,F4k:()=>wm,FYo:()=>$a,FiY:()=>Ha,GSi:()=>Lp,Gf:()=>pb,GfV:()=>Tp,Gpc:()=>Re,Hsn:()=>xm,IIB:()=>YE,Ikx:()=>g_,JOm:()=>xc,JVY:()=>yp,JZr:()=>Ft,KtG:()=>Qr,L6J:()=>QE,L6k:()=>vp,LAX:()=>_f,LFG:()=>Ce,LSH:()=>Bc,LVF:()=>XE,Lbi:()=>JE,Lck:()=>H0,MAs:()=>Gf,MMx:()=>Xy,MR2:()=>gh,NdJ:()=>Yf,O4$:()=>Je,OlP:()=>No,Oqu:()=>Yd,P3R:()=>_u,PXZ:()=>mD,PiD:()=>bc,Q6J:()=>Vd,QGY:()=>Cm,QbO:()=>eD,Qsj:()=>Ua,R0b:()=>El,RDi:()=>Do,Rgc:()=>cp,SBq:()=>Gi,Sil:()=>hp,Suo:()=>mb,TTD:()=>qi,TgZ:()=>nd,Udp:()=>jd,W1O:()=>bb,X6Q:()=>bD,XFs:()=>Hn,Xek:()=>Ub,Xpm:()=>q,Xts:()=>vd,Y36:()=>Md,YKP:()=>jv,YNc:()=>Em,Yjl:()=>Ti,Yz7:()=>on,Z0I:()=>Un,ZZ4:()=>Su,_Bn:()=>Kv,_UZ:()=>Zh,_Vd:()=>mn,_c5:()=>ND,_uU:()=>ef,aQ5:()=>Hc,aQg:()=>Ou,ahi:()=>tl,c2e:()=>dp,cJS:()=>ur,cg1:()=>$m,dDg:()=>fp,dqk:()=>ir,eBb:()=>Da,eFA:()=>e0,eJc:()=>av,ekj:()=>km,eoX:()=>lf,evT:()=>Ap,f3M:()=>Y,g9A:()=>Hb,h0i:()=>ap,hGG:()=>pp,hij:()=>tf,i9L:()=>ua,iGM:()=>fb,ifc:()=>me,ip1:()=>Vb,jDz:()=>Gv,kL8:()=>$l,kuF:()=>Et,lG2:()=>Ui,lqb:()=>hl,lri:()=>Zb,mCW:()=>gu,n4l:()=>oe,n5z:()=>qa,n_E:()=>T_,oAB:()=>Cn,oxw:()=>Zf,pB0:()=>ah,pfw:()=>qE,q3G:()=>Gc,q4F:()=>Bl,qLn:()=>Eh,qOj:()=>Hh,qZA:()=>zd,qzn:()=>mu,rWj:()=>qb,r_U:()=>ZE,s9C:()=>Wd,sBO:()=>c0,s_b:()=>qm,soG:()=>S_,tBr:()=>da,tb:()=>Xb,tp0:()=>na,uIk:()=>_m,vHH:()=>Ie,vpe:()=>Au,wA2:()=>$E,wAp:()=>ad,xi3:()=>ab,xp6:()=>kp,z2F:()=>ud,z3N:()=>kc,zSh:()=>vh,zlt:()=>eb,zs3:()=>nc});var l=S(7579),g=S(727),z=S(9751),ue=S(6451),Me=S(3099);
/**
         * @license Angular v15.2.5
         * (c) 2010-2022 Google LLC. https://angular.io/
         * License: MIT
         */function we(n){for(let r in n)if(n[r]===we)return r;throw Error("Could not find renamed property on target object.")}function Pe(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function le(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(le).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function _e(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const se=we({__forward_ref__:we});function Re(n){return n.__forward_ref__=Re,n.toString=function(){return le(this())},n}function Le(n){return Xe(n)?n():n}function Xe(n){return"function"==typeof n&&n.hasOwnProperty(se)&&n.__forward_ref__===Re}function We(n){return n&&!!n.\u0275providers}const Ft="https://g.co/ng/security#xss";class Ie extends Error{constructor(r,s){super(Et(r,s)),this.code=r}}function Et(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}function gt(n){return"string"==typeof n?n:null==n?"":String(n)}function bt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():gt(n)}function qt(n,r){throw new Ie(-201,!1)}function en(n,r,s){n!=r&&it(s,n,r,"==")}function Qt(n,r){null==n&&it(r,n,null,"!=")}function it(n,r,s,c){throw new Error(`ASSERTION ERROR: ${n}`+(null==c?"":` [Expected=> ${s} ${c} ${r} <=Actual]`))}function on(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ur(n){return{providers:n.providers||[],imports:n.imports||[]}}function br(n){return vr(n,dr)||vr(n,hr)}function Un(n){return null!==br(n)}function vr(n,r){return n.hasOwnProperty(r)?n[r]:null}function Br(n){return n&&(n.hasOwnProperty(ri)||n.hasOwnProperty(fi))?n[ri]:null}const dr=we({\u0275prov:we}),ri=we({\u0275inj:we}),hr=we({ngInjectableDef:we}),fi=we({ngInjectorDef:we});var Hn,n;let Tr;function er(n){const r=Tr;return Tr=n,r}function Zr(n,r,s){const c=br(n);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:s&Hn.Optional?null:void 0!==r?r:void qt(le(n))}(n=Hn||(Hn={}))[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional";const ir=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)();const ar={},wr="__NG_DI_FLAG__",gr="ngTempTokenPath",jr="ngTokenPath",di=/\n/gm,Wn="\u0275",xr="__source";let Mn;function Xt(n){const r=Mn;return Mn=n,r}function de(n,r=Hn.Default){if(void 0===Mn)throw new Ie(-203,!1);return null===Mn?Zr(n,void 0,r):Mn.get(n,r&Hn.Optional?null:void 0,r)}function Ce(n,r=Hn.Default){return(function Di(){return Tr}()||de)(Le(n),r)}function Ee(n){throw new Ie(202,!1)}function Y(n,r=Hn.Default){return Ce(n,Se(r))}function Se(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function pt(n){const r=[];for(let s=0;s<n.length;s++){const c=Le(n[s]);if(Array.isArray(c)){if(0===c.length)throw new Ie(900,!1);let h,_=Hn.Default;for(let w=0;w<c.length;w++){const N=c[w],B=Zn(N);"number"==typeof B?-1===B?h=N.token:_|=B:h=N}r.push(Ce(h,_))}else r.push(Ce(c))}return r}function yn(n,r){return n[wr]=r,n.prototype[wr]=r,n}function Zn(n){return n[wr]}function He(n,r,s,c){const h=n[gr];throw r[xr]&&h.unshift(r[xr]),n.message=function Ue(n,r,s,c=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Wn?n.slice(2):n;let h=le(r);if(Array.isArray(r))h=r.map(le).join(" -> ");else if("object"==typeof r){let _=[];for(let w in r)if(r.hasOwnProperty(w)){let N=r[w];_.push(w+":"+("string"==typeof N?JSON.stringify(N):le(N)))}h=`{${_.join(", ")}}`}return`${s}${c?"("+c+")":""}[${h}]: ${n.replace(di,"\n  ")}`}("\n"+n.message,h,s,c),n[jr]=h,n[gr]=null,n}function fe(n){return{toString:n}.toString()}var oe,me;!function(n){n[n.OnPush=0]="OnPush",n[n.Default=1]="Default"}(oe||(oe={})),function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(me||(me={}));const Ct={},Ke=[],ee=we({\u0275cmp:we}),Oe=we({\u0275dir:we}),nt=we({\u0275pipe:we}),Ut=we({\u0275mod:we}),tn=we({\u0275fac:we}),On=we({__NG_ELEMENT_ID__:we});let lt=0;function q(n){return fe(()=>{const r=ai(n),s={...r,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||me.Emulated,id:"c"+lt++,styles:n.styles||Ke,_:null,schemas:n.schemas||null,tView:null};Vn(s);const c=n.dependencies;return s.directiveDefs=At(c,!1),s.pipeDefs=At(c,!0),s})}function Ne(n,r,s){const c=n.\u0275cmp;c.directiveDefs=At(r,!1),c.pipeDefs=At(s,!0)}function yt(n){return Or(n)||Vi(n)}function Kt(n){return null!==n}function Cn(n){return fe(()=>({type:n.type,bootstrap:n.bootstrap||Ke,declarations:n.declarations||Ke,imports:n.imports||Ke,exports:n.exports||Ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function nr(n,r){return fe(()=>{const s=Fi(n,!0);s.declarations=r.declarations||Ke,s.imports=r.imports||Ke,s.exports=r.exports||Ke})}function Zi(n,r){if(null==n)return Ct;const s={};for(const c in n)if(n.hasOwnProperty(c)){let h=n[c],_=h;Array.isArray(h)&&(_=h[1],h=h[0]),s[h]=c,r&&(r[h]=_)}return s}function Ui(n){return fe(()=>{const r=ai(n);return Vn(r),r})}function Ti(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Or(n){return n[ee]||null}function Vi(n){return n[Oe]||null}function Ci(n){return n[nt]||null}function io(n){const r=Or(n)||Vi(n)||Ci(n);return null!==r&&r.standalone}function Fi(n,r){const s=n[Ut]||null;if(!s&&!0===r)throw new Error(`Type ${le(n)} does not have '\u0275mod' property.`);return s}function ai(n){const r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ke,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zi(n.inputs,r),outputs:Zi(n.outputs)}}function Vn(n){n.features?.forEach(r=>r(n))}function At(n,r){if(!n)return null;const s=r?Ci:yt;return()=>("function"==typeof n?n():n).map(c=>s(c)).filter(Kt)}const G=0,ge=1,ze=2,xt=3,cn=4,In=5,zn=6,Er=7,fr=8,mt=9,ct=10,Qe=11,jt=12,ln=13,Gn=14,cr=15,$r=16,_r=17,zi=18,Ii=19,_i=20,Oo=21,Wr=22,si=1,ii=2,pr=7,pi=8,Ar=9,no=10;function qr(n){return Array.isArray(n)&&"object"==typeof n[si]}function xi(n){return Array.isArray(n)&&!0===n[si]}function Jr(n){return 0!=(4&n.flags)}function Ir(n){return n.componentOffset>-1}function Ur(n){return 1==(1&n.flags)}function vo(n){return!!n.template}function Si(n){return 0!=(256&n[ze])}function ao(n,r){return n.hasOwnProperty(tn)?n[tn]:null}class uo{constructor(r,s,c){this.previousValue=r,this.currentValue=s,this.firstChange=c}isFirstChange(){return this.firstChange}}function qi(){return ho}function ho(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mo),Ds}function Ds(){const n=Vo(this),r=n?.current;if(r){const s=n.previous;if(s===Ct)n.previous=r;else for(let c in r)s[c]=r[c];n.current=null,this.ngOnChanges(r)}}function Mo(n,r,s,c){const h=this.declaredInputs[s],_=Vo(n)||function Co(n,r){return n[Uo]=r}(n,{previous:Ct,current:null}),w=_.current||(_.current={}),N=_.previous,B=N[h];w[h]=new uo(B&&B.currentValue,r,N===Ct),n[c]=r}qi.ngInherit=!0;const Uo="__ngSimpleChanges__";function Vo(n){return n[Uo]||null}let fs=null;const Fr=function(n,r,s){fs?.(n,r,s)},fo="svg",Bi="math";function yi(n){for(;Array.isArray(n);)n=n[G];return n}function is(n,r){return yi(r[n])}function Hr(n,r){return yi(r[n.index])}function Ni(n,r){return n.data[r]}function co(n,r){return n[r]}function ji(n,r){const s=r[n];return qr(s)?s:s[G]}function $i(n){return 64==(64&n[ze])}function or(n,r){return null==r?null:n[r]}function Cs(n){n[zi]=0}function Wi(n,r){n[In]+=r;let s=n,c=n[xt];for(;null!==c&&(1===r&&1===s[In]||-1===r&&0===s[In]);)c[In]+=r,s=c,c=c[xt]}const mr={lFrame:_a(null),bindingsEnabled:!0};function st(){return mr.bindingsEnabled}function ut(){mr.bindingsEnabled=!0}function Tt(){mr.bindingsEnabled=!1}function dt(){return mr.lFrame.lView}function hn(){return mr.lFrame.tView}function Fn(n){return mr.lFrame.contextLView=n,n[fr]}function Qr(n){return mr.lFrame.contextLView=null,n}function Rr(){let n=go();for(;null!==n&&64===n.type;)n=n.parent;return n}function go(){return mr.lFrame.currentTNode}function Yr(){const n=mr.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function mi(n,r){const s=mr.lFrame;s.currentTNode=n,s.isParent=r}function Ve(){return mr.lFrame.isParent}function y(){mr.lFrame.isParent=!1}function qe(){const n=mr.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Jt(){return mr.lFrame.bindingIndex}function Dn(n){return mr.lFrame.bindingIndex=n}function Ln(){return mr.lFrame.bindingIndex++}function qn(n){const r=mr.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function Vr(n){mr.lFrame.inI18n=n}function Ho(n,r){const s=mr.lFrame;s.bindingIndex=s.bindingRootIndex=n,Qi(r)}function Qi(n){mr.lFrame.currentDirectiveIndex=n}function Yo(n){const r=mr.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}function Zo(){return mr.lFrame.currentQueryIndex}function Vs(n){mr.lFrame.currentQueryIndex=n}function qs(n){const r=n[ge];return 2===r.type?r.declTNode:1===r.type?n[zn]:null}function os(n,r,s){if(s&Hn.SkipSelf){let h=r,_=n;for(;(h=h.parent,null===h&&!(s&Hn.Host))&&(h=qs(_),!(null===h||(_=_[cr],10&h.type))););if(null===h)return!1;r=h,n=_}const c=mr.lFrame=Za();return c.currentTNode=r,c.lView=n,!0}function ga(n){const r=Za(),s=n[ge];mr.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Za(){const n=mr.lFrame,r=null===n?null:n.child;return null===r?_a(n):r}function _a(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function As(){const n=mr.lFrame;return mr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const pe=As;function C(){const n=As();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function A(n){return(mr.lFrame.contextLView=function H(n,r){for(;n>0;)r=r[cr],n--;return r}(n,mr.lFrame.contextLView))[fr]}function ce(){return mr.lFrame.selectedIndex}function ke(n){mr.lFrame.selectedIndex=n}function ve(){const n=mr.lFrame;return Ni(n.tView,n.selectedIndex)}function Je(){mr.lFrame.currentNamespace=fo}function Pt(){mr.lFrame.currentNamespace=Bi}function rn(){!function Yt(){mr.lFrame.currentNamespace=null}()}function un(n,r){for(let s=r.directiveStart,c=r.directiveEnd;s<c;s++){const _=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:N,ngAfterViewInit:B,ngAfterViewChecked:te,ngOnDestroy:be}=_;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),N&&((n.contentHooks||(n.contentHooks=[])).push(s,N),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,N)),B&&(n.viewHooks||(n.viewHooks=[])).push(-s,B),te&&((n.viewHooks||(n.viewHooks=[])).push(s,te),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,te)),null!=be&&(n.destroyHooks||(n.destroyHooks=[])).push(s,be)}}function vt(n,r,s){Z(n,r,3,s)}function O(n,r,s,c){(3&n[ze])===s&&Z(n,r,s,c)}function I(n,r){let s=n[ze];(3&s)===r&&(s&=2047,s+=1,n[ze]=s)}function Z(n,r,s,c){const h=void 0!==c?65535&n[zi]:0,_=c??-1,w=r.length-1;let N=0;for(let B=h;B<w;B++)if("number"==typeof r[B+1]){if(N=r[B],null!=c&&N>=c)break}else r[B]<0&&(n[zi]+=65536),(N<_||-1==_)&&(xe(n,s,r,B),n[zi]=(4294901760&n[zi])+B+2),B++}function xe(n,r,s,c){const h=s[c]<0,_=s[c+1],N=n[h?-s[c]:s[c]];if(h){if(n[ze]>>11<n[zi]>>16&&(3&n[ze])===r){n[ze]+=2048,Fr(4,N,_);try{_.call(N)}finally{Fr(5,N,_)}}}else{Fr(4,N,_);try{_.call(N)}finally{Fr(5,N,_)}}}const ht=-1;class kt{constructor(r,s,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=c}}function Hi(n,r,s){let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const _=s[c++],w=s[c++],N=s[c++];n.setAttribute(r,w,N,_)}else{const _=h,w=s[++c];hi(_)?n.setProperty(r,_,w):n.setAttribute(r,_,w),c++}}return c}function Ji(n){return 3===n||4===n||6===n}function hi(n){return 64===n.charCodeAt(0)}function an(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let c=0;c<r.length;c++){const h=r[c];"number"==typeof h?s=h:0===s||sr(n,s,h,null,-1===s||2===s?r[++c]:null)}}return n}function sr(n,r,s,c,h){let _=0,w=n.length;if(-1===r)w=-1;else for(;_<n.length;){const N=n[_++];if("number"==typeof N){if(N===r){w=-1;break}if(N>r){w=_-1;break}}}for(;_<n.length;){const N=n[_];if("number"==typeof N)break;if(N===s){if(null===c)return void(null!==h&&(n[_+1]=h));if(c===n[_+1])return void(n[_+2]=h)}_++,null!==c&&_++,null!==h&&_++}-1!==w&&(n.splice(w,0,r),_=w+1),n.splice(_++,0,s),null!==c&&n.splice(_++,0,c),null!==h&&n.splice(_++,0,h)}function Nn(n){return n!==ht}function gi(n){return 32767&n}function An(n,r){let s=function Ei(n){return n>>16}(n),c=r;for(;s>0;)c=c[cr],s--;return c}let cs=!0;function qo(n){const r=cs;return cs=n,r}const Ss=255,Qs=5;let ls=0;const Ao={};function js(n,r){const s=Oa(n,r);if(-1!==s)return s;const c=r[ge];c.firstCreatePass&&(n.injectorIndex=r.length,Mi(c.data,n),Mi(r,null),Mi(c.blueprint,null));const h=ws(n,r),_=n.injectorIndex;if(Nn(h)){const w=gi(h),N=An(h,r),B=N[ge].data;for(let te=0;te<8;te++)r[_+te]=N[w+te]|B[w+te]}return r[_+8]=h,_}function Mi(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Oa(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ws(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,c=null,h=r;for(;null!==h;){if(c=yc(h),null===c)return ht;if(s++,h=h[cr],-1!==c.injectorIndex)return c.injectorIndex|s<<16}return ht}function Xs(n,r,s){!function us(n,r,s){let c;"string"==typeof s?c=s.charCodeAt(0)||0:s.hasOwnProperty(On)&&(c=s[On]),null==c&&(c=s[On]=ls++);const h=c&Ss,_=1<<h;r.data[n+(h>>Qs)]|=_}(n,r,s)}function Pa(n,r,s){if(s&Hn.Optional||void 0!==n)return n;qt()}function $t(n,r,s,c){if(s&Hn.Optional&&void 0===c&&(c=null),!(s&(Hn.Self|Hn.Host))){const h=n[mt],_=er(void 0);try{return h?h.get(r,c,s&Hn.Optional):Zr(r,c,s&Hn.Optional)}finally{er(_)}}return Pa(c,0,s)}function Js(n,r,s,c=Hn.Default,h){if(null!==n){if(1024&r[ze]){const w=function Qa(n,r,s,c,h){let _=n,w=r;for(;null!==_&&null!==w&&1024&w[ze]&&!(256&w[ze]);){const N=ps(_,w,s,c|Hn.Self,Ao);if(N!==Ao)return N;let B=_.parent;if(!B){const te=w[Oo];if(te){const be=te.get(s,Ao,c);if(be!==Ao)return be}B=yc(w),w=w[cr]}_=B}return h}(n,r,s,c,Ao);if(w!==Ao)return w}const _=ps(n,r,s,c,Ao);if(_!==Ao)return _}return $t(r,s,c,h)}function ps(n,r,s,c,h){const _=function _c(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(On)?n[On]:void 0;return"number"==typeof r?r>=0?r&Ss:ca:r}(s);if("function"==typeof _){if(!os(r,n,c))return c&Hn.Host?Pa(h,0,c):$t(r,s,c,h);try{const w=_(c);if(null!=w||c&Hn.Optional)return w;qt()}finally{pe()}}else if("number"==typeof _){let w=null,N=Oa(n,r),B=ht,te=c&Hn.Host?r[$r][zn]:null;for((-1===N||c&Hn.SkipSelf)&&(B=-1===N?ws(n,r):r[N+8],B!==ht&&za(c,!1)?(w=r[ge],N=gi(B),r=An(B,r)):N=-1);-1!==N;){const be=r[ge];if(Os(_,N,be.data)){const Ge=aa(N,r,s,w,c,te);if(Ge!==Ao)return Ge}B=r[N+8],B!==ht&&za(c,r[ge].data[N+8]===te)&&Os(_,N,r)?(w=be,N=gi(B),r=An(B,r)):N=-1}}return h}function aa(n,r,s,c,h,_){const w=r[ge],N=w.data[n+8],be=zs(N,w,s,null==c?Ir(N)&&cs:c!=w&&0!=(3&N.type),h&Hn.Host&&_===N);return null!==be?Jo(r,w,be,N):Ao}function zs(n,r,s,c,h){const _=n.providerIndexes,w=r.data,N=1048575&_,B=n.directiveStart,te=n.directiveEnd,be=_>>20,Dt=h?N+be:te;for(let Zt=c?N:N+be;Zt<Dt;Zt++){const bn=w[Zt];if(Zt<B&&s===bn||Zt>=B&&bn.type===s)return Zt}if(h){const Zt=w[B];if(Zt&&vo(Zt)&&Zt.type===s)return B}return null}function Jo(n,r,s,c){let h=n[s];const _=r.data;if(function kn(n){return n instanceof kt}(h)){const w=h;w.resolving&&function _t(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${n}${s}`)}(bt(_[s]));const N=qo(w.canSeeViewProviders);w.resolving=!0;const B=w.injectImpl?er(w.injectImpl):null;os(n,c,Hn.Default);try{h=n[s]=w.factory(void 0,_,n,c),r.firstCreatePass&&s>=c.directiveStart&&function vi(n,r,s){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:_}=r.type.prototype;if(c){const w=ho(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}h&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,h),_&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_))}(s,_[s],r)}finally{null!==B&&er(B),qo(N),w.resolving=!1,pe()}}return h}function Os(n,r,s){const c=1<<n;return!!(s[r+(n>>Qs)]&c)}function za(n,r){return!(n&Hn.Self||n&Hn.Host&&r)}class ms{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,c){return Js(this._tNode,this._lView,r,Se(c),s)}}function ca(){return new ms(Rr(),dt())}function qa(n){return fe(()=>{const r=n.prototype.constructor,s=r[tn]||Is(r),c=Object.prototype;let h=Object.getPrototypeOf(n.prototype).constructor;for(;h&&h!==c;){const _=h[tn]||Is(h);if(_&&_!==s)return _;h=Object.getPrototypeOf(h)}return _=>new _})}function Is(n){return Xe(n)?()=>{const r=Is(Le(n));return r&&r()}:ao(n)}function yc(n){const r=n[ge],s=r.type;return 2===s?r.declTNode:1===s?n[zn]:null}function Wa(n){return function Ia(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const c=s.length;let h=0;for(;h<c;){const _=s[h];if(Ji(_))break;if(0===_)h+=2;else if("number"==typeof _)for(h++;h<c&&"string"==typeof s[h];)h++;else{if(_===r)return s[h+1];h+=2}}}return null}(Rr(),n)}const ss="__annotations__",ya="__parameters__",Xa="__prop__metadata__";function $s(n,r,s,c,h){return fe(()=>{const _=zc(r);function w(...N){if(this instanceof w)return _.call(this,...N),this;const B=new w(...N);return function(be){return h&&h(be,...N),(be.hasOwnProperty(ss)?be[ss]:Object.defineProperty(be,ss,{value:[]})[ss]).push(B),c&&c(be),be}}return s&&(w.prototype=Object.create(s.prototype)),w.prototype.ngMetadataName=n,w.annotationCls=w,w})}function zc(n){return function(...s){if(n){const c=n(...s);for(const h in c)this[h]=c[h]}}}function la(n,r,s){return fe(()=>{const c=zc(r);function h(..._){if(this instanceof h)return c.apply(this,_),this;const w=new h(..._);return N.annotation=w,N;function N(B,te,be){const Ge=B.hasOwnProperty(ya)?B[ya]:Object.defineProperty(B,ya,{value:[]})[ya];for(;Ge.length<=be;)Ge.push(null);return(Ge[be]=Ge[be]||[]).push(w),B}}return s&&(h.prototype=Object.create(s.prototype)),h.prototype.ngMetadataName=n,h.annotationCls=h,h})}function Ra(n,r,s,c){return fe(()=>{const h=zc(r);function _(...w){if(this instanceof _)return h.apply(this,w),this;const N=new _(...w);return function B(te,be){const Ge=te.constructor,Dt=Ge.hasOwnProperty(Xa)?Ge[Xa]:Object.defineProperty(Ge,Xa,{value:{}})[Xa];Dt[be]=Dt.hasOwnProperty(be)&&Dt[be]||[],Dt[be].unshift(N),c&&c(te,be,...w)}}return s&&(_.prototype=Object.create(s.prototype)),_.prototype.ngMetadataName=n,_.annotationCls=_,_})}const tl=la("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>Wa(n)}));class No{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=on({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}new No("AnalyzeForEntryComponents");class Na{}const Wc=Ra("ContentChildren",(n,r={})=>({selector:n,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:true,...r}),Na),Hc=Ra("ContentChild",(n,r={})=>({selector:n,first:!0,isViewQuery:!1,descendants:!0,...r}),Na),ua=(Ra("ViewChildren",(n,r={})=>({selector:n,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:true,...r}),Na),Ra("ViewChild",(n,r)=>({selector:n,first:!0,isViewQuery:!0,descendants:!0,...r}),Na));var ea,vc,rl;function es(n){const r=ir.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}!function(n){n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule"}(ea||(ea={})),function(n){n[n.Directive=0]="Directive",n[n.Pipe=1]="Pipe",n[n.NgModule=2]="NgModule"}(vc||(vc={})),function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(rl||(rl={}));const va=Function;function ds(n){return"function"==typeof n}function ta(n){return n.flat(Number.POSITIVE_INFINITY)}function P(n,r){n.forEach(s=>Array.isArray(s)?P(s,r):r(s))}function b(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function M(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function W(n,r){const s=[];for(let c=0;c<n;c++)s.push(r);return s}function sn(n,r,s){let c=Mr(n,r);return c>=0?n[1|c]=s:(c=~c,function je(n,r,s,c){let h=n.length;if(h==r)n.push(s,c);else if(1===h)n.push(c,n[0]),n[0]=s;else{for(h--,n.push(n[h-1],n[h]);h>r;){const _=h-2;n[h]=n[_],h--}n[r]=s,n[r+1]=c}}(n,c,r,s)),c}function Sn(n,r){const s=Mr(n,r);if(s>=0)return n[1|s]}function Mr(n,r){return as(n,r,1)}function as(n,r,s){let c=0,h=n.length>>s;for(;h!==c;){const _=c+(h-c>>1),w=n[_<<s];if(r===w)return _<<s;w>r?h=_:c=_+1}return~(h<<s)}const ys=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Lo=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Gs=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ts=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Ws{constructor(r){this._reflect=r||ir.Reflect}factory(r){return(...s)=>new r(...s)}_zipTypesAndAnnotations(r,s){let c;c=W(typeof r>"u"?s.length:r.length);for(let h=0;h<c.length;h++)typeof r>"u"?c[h]=[]:r[h]&&r[h]!=Object?c[h]=[r[h]]:c[h]=[],s&&null!=s[h]&&(c[h]=c[h].concat(s[h]));return c}_ownParameters(r,s){if(function ts(n){return ys.test(n)||Ts.test(n)||Lo.test(n)&&!Gs.test(n)}(r.toString()))return null;if(r.parameters&&r.parameters!==s.parameters)return r.parameters;const h=r.ctorParameters;if(h&&h!==s.ctorParameters){const N="function"==typeof h?h():h,B=N.map(be=>be&&be.type),te=N.map(be=>be&&Ta(be.decorators));return this._zipTypesAndAnnotations(B,te)}const _=r.hasOwnProperty(ya)&&r[ya],w=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",r);return w||_?this._zipTypesAndAnnotations(w,_):W(r.length)}parameters(r){if(!ds(r))return[];const s=wo(r);let c=this._ownParameters(r,s);return!c&&s!==Object&&(c=this.parameters(s)),c||[]}_ownAnnotations(r,s){if(r.annotations&&r.annotations!==s.annotations){let c=r.annotations;return"function"==typeof c&&c.annotations&&(c=c.annotations),c}return r.decorators&&r.decorators!==s.decorators?Ta(r.decorators):r.hasOwnProperty(ss)?r[ss]:null}annotations(r){if(!ds(r))return[];const s=wo(r),c=this._ownAnnotations(r,s)||[];return(s!==Object?this.annotations(s):[]).concat(c)}_ownPropMetadata(r,s){if(r.propMetadata&&r.propMetadata!==s.propMetadata){let c=r.propMetadata;return"function"==typeof c&&c.propMetadata&&(c=c.propMetadata),c}if(r.propDecorators&&r.propDecorators!==s.propDecorators){const c=r.propDecorators,h={};return Object.keys(c).forEach(_=>{h[_]=Ta(c[_])}),h}return r.hasOwnProperty(Xa)?r[Xa]:null}propMetadata(r){if(!ds(r))return{};const s=wo(r),c={};if(s!==Object){const _=this.propMetadata(s);Object.keys(_).forEach(w=>{c[w]=_[w]})}const h=this._ownPropMetadata(r,s);return h&&Object.keys(h).forEach(_=>{const w=[];c.hasOwnProperty(_)&&w.push(...c[_]),w.push(...h[_]),c[_]=w}),c}ownPropMetadata(r){return ds(r)&&this._ownPropMetadata(r,wo(r))||{}}hasLifecycleHook(r,s){return r instanceof va&&s in r.prototype}}function Ta(n){return n?n.map(r=>new(0,r.type.annotationCls)(...r.args?r.args:[])):[]}function wo(n){const r=n.prototype?Object.getPrototypeOf(n.prototype):null;return(r?r.constructor:null)||Object}const da=yn(la("Inject",n=>({token:n})),-1),Ha=yn(la("Optional"),8),bc=yn(la("Self"),2),na=yn(la("SkipSelf"),4),V=yn(la("Host"),1);let K=null;function he(){return K=K||new Ws}function Ze(n){return wt(he().parameters(n))}function wt(n){return n.map(r=>function Wt(n){const r={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let s=0;s<n.length;s++){const c=n[s];if(void 0===c)continue;const h=Object.getPrototypeOf(c);if(c instanceof Ha||"Optional"===h.ngMetadataName)r.optional=!0;else if(c instanceof na||"SkipSelf"===h.ngMetadataName)r.skipSelf=!0;else if(c instanceof bc||"Self"===h.ngMetadataName)r.self=!0;else if(c instanceof V||"Host"===h.ngMetadataName)r.host=!0;else if(c instanceof da)r.token=c.token;else if(c instanceof tl){if(void 0===c.attributeName)throw new Ie(204,!1);r.attribute=c.attributeName}else r.token=c}else void 0===n||Array.isArray(n)&&0===n.length?r.token=null:r.token=n;return r}(r))}function wn(n){const r=[],s=new Map;function c(h){let _=s.get(h);if(!_){const w=n(h);s.set(h,_=w.then(Dc))}return _}return lr.forEach((h,_)=>{const w=[];h.templateUrl&&w.push(c(h.templateUrl).then(Ge=>{h.template=Ge}));const N=h.styleUrls,B=h.styles||(h.styles=[]),te=h.styles.length;N&&N.forEach((Ge,Dt)=>{B.push(""),w.push(c(Ge).then(Zt=>{B[te+Dt]=Zt,N.splice(N.indexOf(Ge),1),0==N.length&&(h.styleUrls=void 0)}))});const be=Promise.all(w).then(()=>function xa(n){kr.delete(n)}(_));r.push(be)}),function Ls(){const n=lr;return lr=new Map,n}(),Promise.all(r).then(()=>{})}let lr=new Map;const kr=new Set;function li(n){return!!(n.templateUrl&&!n.hasOwnProperty("template")||n.styleUrls&&n.styleUrls.length)}function Dc(n){return"string"==typeof n?n:n.text()}const bs=new Map;let ha=!0;function Cc(n,r){(function oc(n,r,s){if(r&&r!==s&&ha)throw new Error(`Duplicate module registered for ${n} - ${le(r)} vs ${le(r.name)}`)})(r,bs.get(r)||null,n),bs.set(r,n)}var xc;!function(n){n[n.Important=1]="Important",n[n.DashCase=2]="DashCase"}(xc||(xc={}));const wl=/^>|^->|<!--|-->|--!>|<!-$/g,sl=/(<|>)/,nh="\u200b$1\u200b";function ba(n){return n.replace(wl,r=>r.replace(sl,nh))}const Ql=new Map;let dd=0;const Jl="__ngContext__";function Es(n,r){qr(r)?(n[Jl]=r[_i],function hd(n){Ql.set(n[_i],n)}(r)):n[Jl]=r}let Sc;function R(n,r){return Sc(n,r)}function D(n){const r=n[xt];return xi(r)?r[xt]:r}function Fe(n){return Tn(n[ln])}function Vt(n){return Tn(n[cn])}function Tn(n){for(;null!==n&&!xi(n);)n=n[cn];return n}function Xn(n,r,s,c,h){if(null!=c){let _,w=!1;xi(c)?_=c:qr(c)&&(w=!0,c=c[G]);const N=yi(c);0===n&&null!==s?null==h?Pc(r,s,N):ja(r,s,N,h||null,!0):1===n&&null!==s?ja(r,s,N,h||null,!0):2===n?Ml(r,N,w):3===n&&r.destroyNode(N),null!=_&&function Uu(n,r,s,c,h){const _=s[pr],w=yi(s);_!==w&&Xn(r,n,c,_,h);for(let N=no;N<s.length;N++){const B=s[N];lu(B[ge],B,n,r,c,_)}}(r,n,_,s,h)}}function ei(n,r){return n.createText(r)}function wi(n,r,s){n.setValue(r,s)}function rs(n,r){return n.createComment(ba(r))}function gs(n,r,s){return n.createElement(r,s)}function Ai(n,r,s,c){const h=no+c,_=s.length;c>0&&(s[h-1][cn]=r),c<_-no?(r[cn]=s[h],b(s,no+c,r)):(s.push(r),r[cn]=null),r[xt]=s;const w=r[_r];null!==w&&s!==w&&function iu(n,r){const s=n[Ar],h=r[xt][xt][$r];r[$r]!==h&&(n[ii]=!0),null===s?n[Ar]=[r]:s.push(r)}(w,r);const N=r[Ii];null!==N&&N.insertView(n),r[ze]|=64}function uc(n,r){const s=n[Ar],c=s.indexOf(r),h=r[xt];512&r[ze]&&(r[ze]&=-513,Wi(h,-1)),s.splice(c,1)}function Il(n,r){if(n.length<=no)return;const s=no+r,c=n[s];if(c){const h=c[_r];null!==h&&h!==n&&uc(h,c),r>0&&(n[s-1][cn]=c[cn]);const _=M(n,no+r);!function cc(n,r){lu(n,r,r[Qe],2,null,null),r[G]=null,r[zn]=null}(c[ge],c);const w=_[Ii];null!==w&&w.detachView(_[ge]),c[xt]=null,c[cn]=null,c[ze]&=-65}return c}function ou(n,r){if(!(128&r[ze])){const s=r[Qe];s.destroyNode&&lu(n,r,s,3,null,null),function ru(n){let r=n[ln];if(!r)return Oc(n[ge],n);for(;r;){let s=null;if(qr(r))s=r[ln];else{const c=r[no];c&&(s=c)}if(!s){for(;r&&!r[cn]&&r!==n;)qr(r)&&Oc(r[ge],r),r=r[xt];null===r&&(r=n),qr(r)&&Oc(r[ge],r),s=r&&r[cn]}r=s}}(r)}}function Oc(n,r){if(!(128&r[ze])){r[ze]&=-65,r[ze]|=128,function fd(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let c=0;c<s.length;c+=2){const h=r[s[c]];if(!(h instanceof kt)){const _=s[c+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const N=h[_[w]],B=_[w+1];Fr(4,N,B);try{B.call(N)}finally{Fr(5,N,B)}}else{Fr(4,h,_);try{_.call(h)}finally{Fr(5,h,_)}}}}}(n,r),function Tl(n,r){const s=n.cleanup,c=r[Er];let h=-1;if(null!==s)for(let _=0;_<s.length-1;_+=2)if("string"==typeof s[_]){const w=s[_+3];w>=0?c[h=w]():c[h=-w].unsubscribe(),_+=2}else{const w=c[h=s[_+1]];s[_].call(w)}if(null!==c){for(let _=h+1;_<c.length;_++){(0,c[_])()}r[Er]=null}}(n,r),1===r[ge].type&&r[Qe].destroy();const s=r[_r];if(null!==s&&xi(r[xt])){s!==r[xt]&&uc(s,r);const c=r[Ii];null!==c&&c.detachView(n)}!function Xl(n){Ql.delete(n[_i])}(r)}}function su(n,r,s){return au(n,r.parent,s)}function au(n,r,s){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return s[G];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:_}=n.data[c.directiveStart+h];if(_===me.None||_===me.Emulated)return null}return Hr(c,s)}}function ja(n,r,s,c,h){n.insertBefore(r,s,c,h)}function Pc(n,r,s){n.appendChild(r,s)}function pd(n,r,s,c,h){null!==c?ja(n,r,s,c,h):Pc(n,r,s)}function Ea(n,r){return n.parentNode(r)}function La(n,r,s){return rh(n,r,s)}function ec(n,r,s){return 40&n.type?Hr(n,s):null}let gd,Al,Rs,zu,rh=ec;function Fo(n,r){rh=n,gd=r}function cu(n,r,s,c){const h=su(n,c,r),_=r[Qe],N=La(c.parent||r[zn],c,r);if(null!=h)if(Array.isArray(s))for(let B=0;B<s.length;B++)pd(_,h,s[B],N,!1);else pd(_,h,s,N,!1);void 0!==gd&&gd(_,c,r,s,h)}function xl(n,r){if(null!==r){const s=r.type;if(3&s)return Hr(r,n);if(4&s)return Bu(-1,n[r.index]);if(8&s){const c=r.child;if(null!==c)return xl(n,c);{const h=n[r.index];return xi(h)?Bu(-1,h):yi(h)}}if(32&s)return R(r,n)()||yi(n[r.index]);{const c=ih(n,r);if(null!==c){if(Array.isArray(c))return c[0];return xl(D(n[$r]),c)}return xl(n,r.next)}}return null}function ih(n,r){if(null!==r){const c=n[$r][zn],h=r.projection;return c.projection[h]}return null}function Bu(n,r){const s=no+n+1;if(s<r.length){const c=r[s],h=c[ge].firstChild;if(null!==h)return xl(c,h)}return r[pr]}function Ml(n,r,s){const c=Ea(n,r);c&&function Hs(n,r,s,c){n.removeChild(r,s,c)}(n,c,r,s)}function oh(n,r,s,c,h,_,w){for(;null!=s;){const N=c[s.index],B=s.type;if(w&&0===r&&(N&&Es(yi(N),c),s.flags|=2),32!=(32&s.flags))if(8&B)oh(n,r,s.child,c,h,_,!1),Xn(r,n,h,N,_);else if(32&B){const te=R(s,c);let be;for(;be=te();)Xn(r,n,h,be,_);Xn(r,n,h,N,_)}else 16&B?Fa(n,r,c,s,h,_):Xn(r,n,h,N,_);s=w?s.projectionNext:s.next}}function lu(n,r,s,c,h,_){oh(s,c,n.firstChild,r,h,_,!1)}function Fa(n,r,s,c,h,_){const w=s[$r],B=w[zn].projection[c.projection];if(Array.isArray(B))for(let te=0;te<B.length;te++){Xn(r,n,h,B[te],_)}else{oh(n,r,B,w[xt],h,_,!0)}}function ul(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Vu(n,r,s){const{mergedAttrs:c,classes:h,styles:_}=s;null!==c&&Hi(n,r,c),null!==h&&ul(n,r,h),null!==_&&function _d(n,r,s){n.setAttribute(r,"style",s)}(n,r,_)}function hu(){if(void 0===Al&&(Al=null,ir.trustedTypes))try{Al=ir.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Al}function $c(n){return hu()?.createHTML(n)||n}function mp(n,r,s){const c=dt(),h=ve(),_=Hr(h,c);if(2===h.type&&"iframe"===r.toLowerCase()){const w=_;w.src="",w.srcdoc=$c(""),Ml(c[Qe],w);throw new Ie(-910,!1)}return n}function Do(n){Rs=n}function sh(){return void 0!==Rs?Rs:typeof document<"u"?document:void 0}function Wu(){if(void 0===zu&&(zu=null,ir.trustedTypes))try{zu=ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zu}function Hu(n){return Wu()?.createHTML(n)||n}function fu(n){return Wu()?.createScript(n)||n}function pu(n){return Wu()?.createScriptURL(n)||n}class Rc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ft})`}}class ff extends Rc{getTypeName(){return"HTML"}}class pf extends Rc{getTypeName(){return"Style"}}class mf extends Rc{getTypeName(){return"Script"}}class gp extends Rc{getTypeName(){return"URL"}}class gf extends Rc{getTypeName(){return"ResourceURL"}}function kc(n){return n instanceof Rc?n.changingThisBreaksApplicationSecurity:n}function mu(n,r){const s=function _p(n){return n instanceof Rc&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Ft})`)}return s===r}function yp(n){return new ff(n)}function vp(n){return new pf(n)}function Da(n){return new mf(n)}function _f(n){return new gp(n)}function ah(n){return new gf(n)}function xs(n){const r=new lh(n);return function Ku(){try{return!!(new window.DOMParser).parseFromString($c(""),"text/html")}catch{return!1}}()?new ch(r):r}class ch{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString($c(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class lh{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const s=this.inertDocument.createElement("template");return s.innerHTML=$c(r),s}}const Nc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function gu(n){return(n=String(n)).match(Nc)?n:"unsafe:"+n}function Lc(n){const r={};for(const s of n.split(","))r[s]=!0;return r}function Fc(...n){const r={};for(const s of n)for(const c in s)s.hasOwnProperty(c)&&(r[c]=!0);return r}const uh=Lc("area,br,col,hr,img,wbr"),dh=Lc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yf=Lc("rp,rt"),vf=Fc(yf,dh),bp=Fc(dh,Lc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ju=Fc(yf,Lc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$u=Fc(uh,bp,ju,vf),hh=Lc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bf=Lc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fh=Lc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ph=Fc(hh,bf,fh),Ep=Lc("script,style,template");class Ef{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,c=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?c=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,c&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let h=this.checkClobberedElement(s,s.nextSibling);if(h){s=h;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!$u.hasOwnProperty(s))return this.sanitizedSomething=!0,!Ep.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const c=r.attributes;for(let h=0;h<c.length;h++){const _=c.item(h),w=_.name,N=w.toLowerCase();if(!ph.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let B=_.value;hh[N]&&(B=gu(B)),this.buf.push(" ",w,'="',Df(B),'"')}return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();$u.hasOwnProperty(s)&&!uh.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(Df(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Jm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eg=/([^\#-~ |!])/g;function Df(n){return n.replace(/&/g,"&amp;").replace(Jm,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(eg,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hc;function Sl(n,r){let s=null;try{hc=hc||xs(n);let c=r?String(r):"";s=hc.getInertBodyElement(c);let h=5,_=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=_,_=s.innerHTML,s=hc.getInertBodyElement(c)}while(c!==_);return $c((new Ef).sanitizeChildren(Gu(s)||s))}finally{if(s){const c=Gu(s)||s;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Gu(n){return"content"in n&&function Dp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Gc;function dl(n){const r=Rl();return r?Hu(r.sanitize(Gc.HTML,n)||""):mu(n,"HTML")?Hu(kc(n)):Sl(sh(),gt(n))}function Cf(n){const r=Rl();return r?r.sanitize(Gc.STYLE,n)||"":mu(n,"Style")?kc(n):gt(n)}function Bc(n){const r=Rl();return r?r.sanitize(Gc.URL,n)||"":mu(n,"URL")?kc(n):gu(gt(n))}function Ys(n){const r=Rl();if(r)return pu(r.sanitize(Gc.RESOURCE_URL,n)||"");if(mu(n,"ResourceURL"))return pu(kc(n));throw new Ie(904,!1)}function Ca(n){const r=Rl();if(r)return fu(r.sanitize(Gc.SCRIPT,n)||"");if(mu(n,"Script"))return fu(kc(n));throw new Ie(905,!1)}function fc(n){return $c(n[0])}function Ol(n){return function yd(n){return hu()?.createScriptURL(n)||n}(n[0])}function _u(n,r,s){return function Pl(n,r){return"src"===r&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===r&&("base"===n||"link"===n)?Ys:Bc}(r,s)(n)}function Rl(){const n=dt();return n&&n[jt]}!function(n){n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL"}(Gc||(Gc={}));const vd=new No("ENVIRONMENT_INITIALIZER"),mh=new No("INJECTOR",-1),wf=new No("INJECTOR_DEF_TYPES");class bd{get(r,s=ar){if(s===ar){const c=new Error(`NullInjectorError: No provider for ${le(r)}!`);throw c.name="NullInjectorError",c}return s}}function gh(n){return{\u0275providers:n}}function Yu(...n){return{\u0275providers:kl(!0,n),\u0275fromNgModule:!0}}function kl(n,...r){const s=[],c=new Set;let h;return P(r,_=>{const w=_;_h(w,s,[],c)&&(h||(h=[]),h.push(w))}),void 0!==h&&tc(h,s),s}function tc(n,r){for(let s=0;s<n.length;s++){const{ngModule:c,providers:h}=n[s];yh(h,_=>{r.push(_)})}}function _h(n,r,s,c){if(!(n=Le(n)))return!1;let h=null,_=Br(n);const w=!_&&Or(n);if(_||w){if(w&&!w.standalone)return!1;h=n}else{const B=n.ngModule;if(_=Br(B),!_)return!1;h=B}const N=c.has(h);if(w){if(N)return!1;if(c.add(h),w.dependencies){const B="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const te of B)_h(te,r,s,c)}}else{if(!_)return!1;{if(null!=_.imports&&!N){let te;c.add(h);try{P(_.imports,be=>{_h(be,r,s,c)&&(te||(te=[]),te.push(be))})}finally{}void 0!==te&&tc(te,r)}if(!N){const te=ao(h)||(()=>new h);r.push({provide:h,useFactory:te,deps:Ke},{provide:wf,useValue:h,multi:!0},{provide:vd,useValue:()=>Ce(h),multi:!0})}const B=_.providers;if(null!=B&&!N){yh(B,be=>{r.push(be)})}}}return h!==n&&void 0!==n.providers}function yh(n,r){for(let s of n)We(s)&&(s=s.\u0275providers),Array.isArray(s)?yh(s,r):r(s)}const wp=we({provide:String,useValue:we});function Ed(n){return null!==n&&"object"==typeof n&&wp in n}function Nl(n){return!(!n||!n.useExisting)}function Zc(n){return!(!n||!n.useFactory)}function Ba(n){return"function"==typeof n}const vh=new No("Set Injector scope."),yu={},Ip={};let Zu;function Ll(){return void 0===Zu&&(Zu=new bd),Zu}class hl{}class Dd extends hl{get destroyed(){return this._destroyed}constructor(r,s,c,h){super(),this.parent=s,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,U(r,w=>this.processProvider(w)),this.records.set(mh,a(void 0,this)),h.has("environment")&&this.records.set(hl,a(void 0,this));const _=this.records.get(vh);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(wf.multi,Ke,Hn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Xt(this),c=er(void 0);try{return r()}finally{Xt(s),er(c)}}get(r,s=ar,c=Hn.Default){this.assertNotDestroyed(),c=Se(c);const h=Xt(this),_=er(void 0);try{if(!(c&Hn.SkipSelf)){let N=this.records.get(r);if(void 0===N){const B=function x(n){return"function"==typeof n||"object"==typeof n&&n instanceof No}(r)&&br(r);N=B&&this.injectableDefInScope(B)?a(qu(r),yu):null,this.records.set(r,N)}if(null!=N)return this.hydrate(r,N)}const w=c&Hn.Self?Ll():this.parent;return s=c&Hn.Optional&&s===ar?null:s,w.get(r,s)}catch(w){if("NullInjectorError"===w.name){if((w[gr]=w[gr]||[]).unshift(le(r)),h)throw w;return He(w,r,"R3InjectorError",this.source)}throw w}finally{er(_),Xt(h)}}resolveInjectorInitializers(){const r=Xt(this),s=er(void 0);try{const c=this.get(vd.multi,Ke,Hn.Self);for(const h of c)h()}finally{Xt(r),er(s)}}toString(){const r=[],s=this.records;for(const c of s.keys())r.push(le(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(r){let s=Ba(r=Le(r))?r:Le(r&&r.provide);const c=function qc(n){if(Ed(n))return a(void 0,n.useValue);return a(f(n),yu)}(r);if(Ba(r)||!0!==r.multi){this.records.get(s)}else{let h=this.records.get(s);h||(h=a(void 0,yu,!0),h.factory=()=>pt(h.multi),this.records.set(s,h)),s=r,h.multi.push(r)}this.records.set(s,c)}hydrate(r,s){return s.value===yu&&(s.value=Ip,s.value=s.factory()),"object"==typeof s.value&&s.value&&function v(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Le(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function qu(n){const r=br(n),s=null!==r?r.factory:ao(n);if(null!==s)return s;if(n instanceof No)throw new Ie(204,!1);if(n instanceof Function)return function Fl(n){const r=n.length;if(r>0){W(r,"?");throw new Ie(204,!1)}const s=function Nr(n){const r=n&&(n[dr]||n[hr]);if(r)return function Jn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);null===r||r[1]}(n),r;return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Ie(204,!1)}function f(n,r,s){let c;if(Ba(n)){const h=Le(n);return ao(h)||qu(h)}if(Ed(n))c=()=>Le(n.useValue);else if(Zc(n))c=()=>n.useFactory(...pt(n.deps||[]));else if(Nl(n))c=()=>Ce(Le(n.useExisting));else{const h=Le(n&&(n.useClass||n.provide));if(!function d(n){return!!n.deps}(n))return ao(h)||qu(h);c=()=>new h(...pt(n.deps))}return c}function a(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function U(n,r){for(const s of n)Array.isArray(s)?U(s,r):s&&We(s)?U(s.\u0275providers,r):r(s)}class Q{}class Te{}const et="ngComponent";class dn{resolveComponentFactory(r){throw function $e(n){const r=Error(`No component factory found for ${le(n)}. Did you add it to @NgModule.entryComponents?`);return r[et]=n,r}(r)}}class mn{}function Xr(n,r){return new Gi(Hr(n,r))}mn.NULL=new dn;class Gi{constructor(r){this.nativeElement=r}}function hs(n){return n instanceof Gi?n.nativeElement:n}Gi.__NG_ELEMENT_ID__=function Sr(){return Xr(Rr(),dt())};class $a{}class Ua{}Ua.__NG_ELEMENT_ID__=()=>function bh(){const n=dt(),s=ji(Rr().index,n);return(qr(s)?s:n)[Qe]}();class fl{}fl.\u0275prov=on({token:fl,providedIn:"root",factory:()=>null});class Tp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Bl=new Tp("15.2.5"),xf={},xp="ngOriginalError";function Mp(n){return n[xp]}class Eh{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Mp(r);for(;s&&Mp(s);)s=Mp(s);return s||null}}function L_(n){return n.ownerDocument.defaultView}function Ap(n){return n.ownerDocument}function Qu(n){return n.ownerDocument.body}function ml(n){return n instanceof Function?n():n}function pa(n,r,s){let c=n.length;for(;;){const h=n.indexOf(r,s);if(-1===h)return h;if(0===h||n.charCodeAt(h-1)<=32){const _=r.length;if(h+_===c||n.charCodeAt(h+_)<=32)return h}s=h+1}}const sg="ng-template";function U_(n,r,s){let c=0,h=!0;for(;c<n.length;){let _=n[c++];if("string"==typeof _&&h){const w=n[c++];if(s&&"class"===_&&-1!==pa(w.toLowerCase(),r,0))return!0}else{if(1===_){for(;c<n.length&&"string"==typeof(_=n[c++]);)if(_.toLowerCase()===r)return!0;return!1}"number"==typeof _&&(h=!1)}}return!1}function ag(n){return 4===n.type&&n.value!==sg}function V_(n,r,s){return r===(4!==n.type||s?n.value:sg)}function cg(n,r,s){let c=4;const h=n.attrs||[],_=function Sp(n){for(let r=0;r<n.length;r++){if(Ji(n[r]))return r}return n.length}(h);let w=!1;for(let N=0;N<r.length;N++){const B=r[N];if("number"!=typeof B){if(!w)if(4&c){if(c=2|1&c,""!==B&&!V_(n,B,s)||""===B&&1===r.length){if(Qc(c))return!1;w=!0}}else{const te=8&c?B:r[++N];if(8&c&&null!==n.attrs){if(!U_(n.attrs,te,s)){if(Qc(c))return!1;w=!0}continue}const Ge=Af(8&c?"class":B,h,ag(n),s);if(-1===Ge){if(Qc(c))return!1;w=!0;continue}if(""!==te){let Dt;Dt=Ge>_?"":h[Ge+1].toLowerCase();const Zt=8&c?Dt:null;if(Zt&&-1!==pa(Zt,te,0)||2&c&&te!==Dt){if(Qc(c))return!1;w=!0}}}}else{if(!w&&!Qc(c)&&!Qc(B))return!1;if(w&&Qc(B))continue;w=!1,c=B|1&c}}return Qc(c)||w}function Qc(n){return 0==(1&n)}function Af(n,r,s,c){if(null===r)return-1;let h=0;if(c||!s){let _=!1;for(;h<r.length;){const w=r[h];if(w===n)return h;if(3===w||6===w)_=!0;else{if(1===w||2===w){let N=r[++h];for(;"string"==typeof N;)N=r[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=_?1:2}return-1}return function Op(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const c=n[s];if("number"==typeof c)return-1;if(c===r)return s;s++}return-1}(r,n)}function lg(n,r,s=!1){for(let c=0;c<r.length;c++)if(cg(n,r[c],s))return!0;return!1}function Dh(n,r){e:for(let s=0;s<r.length;s++){const c=r[s];if(n.length===c.length){for(let h=0;h<n.length;h++)if(n[h]!==c[h])continue e;return!0}}return!1}function Ch(n,r){return n?":not("+r.trim()+")":r}function Pp(n){let r=n[0],s=1,c=2,h="",_=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&c){const N=n[++s];h+="["+w+(N.length>0?'="'+N+'"':"")+"]"}else 8&c?h+="."+w:4&c&&(h+=" "+w);else""!==h&&!Qc(w)&&(r+=Ch(_,h),h=""),c=w,_=_||!Qc(c);s++}return""!==h&&(r+=Ch(_,h)),r}const Yi={};function kp(n){Np(hn(),dt(),ce()+n,!1)}function Np(n,r,s,c){if(!c)if(3==(3&r[ze])){const _=n.preOrderCheckHooks;null!==_&&vt(r,_,s)}else{const _=n.preOrderHooks;null!==_&&O(r,_,0,s)}ke(s)}const Sf={\u0275\u0275defineInjectable:on,\u0275\u0275defineInjector:ur,\u0275\u0275inject:Ce,\u0275\u0275invalidFactoryDep:Ee,resolveForwardRef:Le};function z_(n,r){let s=null,c=null;n.hasOwnProperty(dr)||Object.defineProperty(n,dr,{get:()=>(null===s&&(s=es().compileInjectable(Sf,`ng:///${n.name}/\u0275prov.js`,function wd(n,r){const s=r||{providedIn:null},c={name:n.name,type:n,typeArgumentCount:0,providedIn:s.providedIn};return(fg(s)||mg(s))&&void 0!==s.deps&&(c.deps=wt(s.deps)),fg(s)?c.useClass=s.useClass:function pg(n){return hg in n}(s)?c.useValue=s.useValue:mg(s)?c.useFactory=s.useFactory:function Cd(n){return void 0!==n.useExisting}(s)&&(c.useExisting=s.useExisting),c}(n,r))),s)}),n.hasOwnProperty(tn)||Object.defineProperty(n,tn,{get:()=>{if(null===c){const h=es();c=h.compileFactory(Sf,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:Ze(n),target:h.FactoryTarget.Injectable})}return c},configurable:!0})}const hg=we({provide:String,useValue:we});function fg(n){return void 0!==n.useClass}function mg(n){return void 0!==n.useFactory}const Lp=$s("Injectable",void 0,void 0,void 0,(n,r)=>z_(n,r));function wh(n,r=null,s=null,c){const h=Fp(n,r,s,c);return h.resolveInjectorInitializers(),h}function Fp(n,r=null,s=null,c,h=new Set){const _=[s||Ke,Yu(n)];return c=c||("object"==typeof n?void 0:le(n)),new Dd(_,r||Ll(),c||null,h)}class nc{static create(r,s){if(Array.isArray(r))return wh({name:""},s,r,"");{const c=r.name??"";return wh({name:c},r.parent,r.providers,c)}}}function Bp(n){return n.length>1?" ("+function gg(n){const r=[];for(let s=0;s<n.length;++s){if(r.indexOf(n[s])>-1)return r.push(n[s]),r;r.push(n[s])}return r}(n.slice().reverse()).map(c=>le(c.token)).join(" -> ")+")":""}function Ih(n,r,s,c){const h=[r],_=s(h),w=c?function k_(n,r){const s=`${n} caused by: ${r instanceof Error?r.message:r}`,c=Error(s);return c[xp]=r,c}(_,c):Error(_);return w.addKey=W_,w.keys=h,w.injectors=[n],w.constructResolvingMessage=s,w[xp]=c,w}function W_(n,r){this.injectors.push(n),this.keys.push(r),this.message=this.constructResolvingMessage(this.keys)}function Th(n,r){const s=[];for(let c=0,h=r.length;c<h;c++){const _=r[c];_&&0!=_.length?s.push(_.map(le).join(" ")):s.push("?")}return Error("Cannot resolve all parameters for '"+le(n)+"'("+s.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+le(n)+"' is decorated with Injectable.")}function Of(n,r){return Error(`Cannot mix multi providers and regular providers, got: ${n} ${r}`)}nc.THROW_IF_NOT_FOUND=ar,nc.NULL=new bd,nc.\u0275prov=on({token:nc,providedIn:"any",factory:()=>Ce(mh)}),nc.__NG_ELEMENT_ID__=-1;class gl{constructor(r,s){if(this.token=r,this.id=s,!r)throw new Ie(208,!1);this.displayName=le(this.token)}static get(r){return Pf.get(Le(r))}static get numberOfKeys(){return Pf.numberOfKeys}}const Pf=new class zp{constructor(){this._allKeys=new Map}get(r){if(r instanceof gl)return r;if(this._allKeys.has(r))return this._allKeys.get(r);const s=new gl(r,gl.numberOfKeys);return this._allKeys.set(r,s),s}get numberOfKeys(){return this._allKeys.size}};class Mh{constructor(r,s,c){this.key=r,this.optional=s,this.visibility=c}static fromKey(r){return new Mh(r,!1,null)}}const H_=[];class Wp{constructor(r,s,c){this.key=r,this.resolvedFactories=s,this.multiProvider=c,this.resolvedFactory=this.resolvedFactories[0]}}class Rf{constructor(r,s){this.factory=r,this.dependencies=s}}function Hp(n){let r,s;if(n.useClass){const c=Le(n.useClass);r=he().factory(c),s=Ah(c)}else n.useExisting?(r=c=>c,s=[Mh.fromKey(gl.get(n.useExisting))]):n.useFactory?(r=n.useFactory,s=function bg(n,r){if(r){const s=r.map(c=>[c]);return r.map(c=>Id(n,c,s))}return Ah(n)}(n.useFactory,n.deps)):(r=()=>n.useValue,s=H_);return new Rf(r,s)}function K_(n){return new Wp(gl.get(n.provide),[Hp(n)],n.multi||!1)}function j_(n){const c=function Va(n,r){for(let s=0;s<n.length;s++){const c=n[s],h=r.get(c.key.id);if(h){if(c.multiProvider!==h.multiProvider)throw Of(h,c);if(c.multiProvider)for(let _=0;_<c.resolvedFactories.length;_++)h.resolvedFactories.push(c.resolvedFactories[_]);else r.set(c.key.id,c)}else{let _;_=c.multiProvider?new Wp(c.key,c.resolvedFactories.slice(),c.multiProvider):c,r.set(c.key.id,_)}}return r}(vg(n,[]).map(K_),new Map);return Array.from(c.values())}function vg(n,r){return n.forEach(s=>{if(s instanceof va)r.push({provide:s,useClass:s});else if(s&&"object"==typeof s&&void 0!==s.provide)r.push(s);else{if(!Array.isArray(s))throw function Vp(n){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${n}`)}(s);vg(s,r)}}),r}function Ah(n){const r=he().parameters(n);if(!r)return[];if(r.some(s=>null==s))throw Th(n,r);return r.map(s=>Id(n,s,r))}function Id(n,r,s){let c=null,h=!1;if(!Array.isArray(r))return Sh(r instanceof da?r.token:r,h,null);let _=null;for(let w=0;w<r.length;++w){const N=r[w];N instanceof va?c=N:N instanceof da?c=N.token:N instanceof Ha?h=!0:N instanceof bc||N instanceof na?_=N:N instanceof No&&(c=N)}if(c=Le(c),null!=c)return Sh(c,h,_);throw Th(n,s)}function Sh(n,r,s){return new Mh(gl.get(n),r,s)}const Td={};class Oh{static resolve(r){return j_(r)}static resolveAndCreate(r,s){const c=Oh.resolve(r);return Oh.fromResolvedProviders(c,s)}static fromResolvedProviders(r,s){return new xd(r,s)}}class xd{constructor(r,s){this._constructionCounter=0,this._providers=r,this.parent=s||null;const c=r.length;this.keyIds=[],this.objs=[];for(let h=0;h<c;h++)this.keyIds[h]=r[h].key.id,this.objs[h]=Td}get(r,s=ar){return this._getByKey(gl.get(r),null,s)}resolveAndCreateChild(r){const s=Oh.resolve(r);return this.createChildFromResolved(s)}createChildFromResolved(r){const s=new xd(r);return s.parent=this,s}resolveAndInstantiate(r){return this.instantiateResolved(Oh.resolve([r])[0])}instantiateResolved(r){return this._instantiateProvider(r)}getProviderAtIndex(r){if(r<0||r>=this._providers.length)throw function xh(n){return Error(`Index ${n} is out-of-bounds.`)}(r);return this._providers[r]}_new(r){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function _g(n,r){return Ih(n,r,function(s){return`Cannot instantiate cyclic dependency!${Bp(s)}`})}(this,r.key);return this._instantiateProvider(r)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(r){if(r.multiProvider){const s=[];for(let c=0;c<r.resolvedFactories.length;++c)s[c]=this._instantiate(r,r.resolvedFactories[c]);return s}return this._instantiate(r,r.resolvedFactories[0])}_instantiate(r,s){const c=s.factory;let h,_;try{h=s.dependencies.map(w=>this._getByReflectiveDependency(w))}catch(w){throw w.addKey&&w.addKey(this,r.key),w}try{_=c(...h)}catch(w){throw function yg(n,r,s,c){return Ih(n,c,function(h){const _=le(h[0].token);return`${r.message}: Error during instantiation of ${_}!${Bp(h)}.`},r)}(this,w,w.stack,r.key)}return _}_getByReflectiveDependency(r){return this._getByKey(r.key,r.visibility,r.optional?null:ar)}_getByKey(r,s,c){return r===xd.INJECTOR_KEY?this:s instanceof bc?this._getByKeySelf(r,c):this._getByKeyDefault(r,c,s)}_getObjByKeyId(r){for(let s=0;s<this.keyIds.length;s++)if(this.keyIds[s]===r)return this.objs[s]===Td&&(this.objs[s]=this._new(this._providers[s])),this.objs[s];return Td}_throwOrNull(r,s){if(s!==ar)return s;throw function Up(n,r){return Ih(n,r,function(s){return`No provider for ${le(s[0].token)}!${Bp(s)}`})}(this,r)}_getByKeySelf(r,s){const c=this._getObjByKeyId(r.id);return c!==Td?c:this._throwOrNull(r,s)}_getByKeyDefault(r,s,c){let h;for(h=c instanceof na?this.parent:this;h instanceof xd;){const _=h,w=_._getObjByKeyId(r.id);if(w!==Td)return w;h=_.parent}return null!==h?h.get(r.token,s):this._throwOrNull(r,s)}get displayName(){return`ReflectiveInjector(providers: [${function $_(n,r){const s=[];for(let c=0;c<n._providers.length;++c)s[c]=r(n.getProviderAtIndex(c));return s}(this,s=>' "'+s.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}function Md(n,r=Hn.Default){const s=dt();if(null===s)return Ce(n,r);return Js(Rr(),s,Le(n),r)}function kf(){throw new Error("invalid")}function Eg(n,r){const s=n.contentQueries;if(null!==s)for(let c=0;c<s.length;c+=2){const h=s[c],_=s[c+1];if(-1!==_){const w=n.data[_];Vs(h),w.contentQueries(2,r[_],_)}}}function Ul(n,r,s,c,h,_,w,N,B,te,be){const Ge=r.blueprint.slice();return Ge[G]=h,Ge[ze]=76|c,(null!==be||n&&1024&n[ze])&&(Ge[ze]|=1024),Cs(Ge),Ge[xt]=Ge[cr]=n,Ge[fr]=s,Ge[ct]=w||n&&n[ct],Ge[Qe]=N||n&&n[Qe],Ge[jt]=B||n&&n[jt]||null,Ge[mt]=te||n&&n[mt]||null,Ge[zn]=_,Ge[_i]=function al(){return dd++}(),Ge[Oo]=be,Ge[$r]=2==r.type?n[$r]:Ge,Ge}function vu(n,r,s,c,h){let _=n.data[r];if(null===_)_=Ad(n,r,s,c,h),function tr(){return mr.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=s,_.value=c,_.attrs=h;const w=Yr();_.injectorIndex=null===w?-1:w.injectorIndex}return mi(_,!0),_}function Ad(n,r,s,c,h){const _=go(),w=Ve(),N=w?_:_&&_.parent,B=n.data[r]=function $p(n,r,s,c,h,_){let w=r?r.injectorIndex:-1;return{type:s,index:c,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,N,s,r,c,h);return null===n.firstChild&&(n.firstChild=B),null!==_&&(w?null==_.child&&null!==B.parent&&(_.child=B):null===_.next&&(_.next=B,B.prev=_)),B}function Vl(n,r,s,c){if(0===s)return-1;const h=r.length;for(let _=0;_<s;_++)r.push(c),n.blueprint.push(c),n.data.push(null);return h}function Rh(n,r,s){ga(r);try{const c=n.viewQuery;null!==c&&zh(1,c,s);const h=n.template;null!==h&&Nf(n,r,h,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Eg(n,r),n.staticViewQueries&&zh(2,n.viewQuery,s);const _=n.components;null!==_&&function Kp(n,r){for(let s=0;s<r.length;s++)em(n,r[s])}(r,_)}catch(c){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),c}finally{r[ze]&=-5,C()}}function kh(n,r,s,c){const h=r[ze];if(128==(128&h))return;ga(r);try{Cs(r),Dn(n.bindingStartIndex),null!==s&&Nf(n,r,s,2,c);const w=3==(3&h);if(w){const te=n.preOrderCheckHooks;null!==te&&vt(r,te,null)}else{const te=n.preOrderHooks;null!==te&&O(r,te,0,null),I(r,0)}if(function J_(n){for(let r=Fe(n);null!==r;r=Vt(r)){if(!r[ii])continue;const s=r[Ar];for(let c=0;c<s.length;c++){const h=s[c],_=h[xt];512&h[ze]||Wi(_,1),h[ze]|=512}}}(r),function kd(n){for(let r=Fe(n);null!==r;r=Vt(r))for(let s=no;s<r.length;s++){const c=r[s],h=c[ge];$i(c)&&kh(h,c,h.template,c[fr])}}(r),null!==n.contentQueries&&Eg(n,r),w){const te=n.contentCheckHooks;null!==te&&vt(r,te)}else{const te=n.contentHooks;null!==te&&O(r,te,1),I(r,1)}!function G_(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let c=0;c<s.length;c++){const h=s[c];if(h<0)ke(~h);else{const _=h,w=s[++c],N=s[++c];Ho(w,_),N(2,r[_])}}}finally{ke(-1)}}(n,r);const N=n.components;null!==N&&function Ph(n,r){for(let s=0;s<r.length;s++)ey(n,r[s])}(r,N);const B=n.viewQuery;if(null!==B&&zh(2,B,c),w){const te=n.viewCheckHooks;null!==te&&vt(r,te)}else{const te=n.viewHooks;null!==te&&O(r,te,2),I(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[ze]&=-41,512&r[ze]&&(r[ze]&=-513,Wi(r[xt],-1))}finally{C()}}function Nf(n,r,s,c,h){const _=ce(),w=2&c;try{ke(-1),w&&r.length>Wr&&Np(n,r,Wr,!1),Fr(w?2:0,h),s(c,h)}finally{ke(_),Fr(w?3:1,h)}}function Nh(n,r,s){if(Jr(r)){const c=r.directiveStart,h=r.directiveEnd;for(let _=c;_<h;_++){const w=n.data[_];w.contentQueries&&w.contentQueries(1,s[_],_)}}}function Xc(n,r,s){st()&&(function Yp(n,r,s,c){const h=s.directiveStart,_=s.directiveEnd;Ir(s)&&function Od(n,r,s){const c=Hr(r,n),h=Dg(s),_=n[ct],w=Nd(n,Ul(n,h,null,s.onPush?32:16,c,r,_,_.createRenderer(c,s),null,null,null));n[r.index]=w}(r,s,n.data[h+s.componentOffset]),n.firstCreatePass||js(s,r),Es(c,r);const w=s.initialInputs;for(let N=h;N<_;N++){const B=n.data[N],te=Jo(r,n,N,s);if(Es(te,r),null!==w&&Pd(r,N-h,te,B,s,w),vo(B)){ji(s.index,r)[fr]=Jo(r,n,N,s)}}}(n,r,s,Hr(s,r)),64==(64&s.flags)&&xg(n,r,s))}function Lf(n,r,s=Hr){const c=r.localNames;if(null!==c){let h=r.index+1;for(let _=0;_<c.length;_+=2){const w=c[_+1],N=-1===w?s(r,n):n[w];n[h++]=N}}}function Dg(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Lh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Lh(n,r,s,c,h,_,w,N,B,te){const be=Wr+c,Ge=be+h,Dt=function Y_(n,r){const s=[];for(let c=0;c<r;c++)s.push(c<n?null:Yi);return s}(be,Ge),Zt="function"==typeof te?te():te;return Dt[ge]={type:n,blueprint:Dt,template:s,queries:null,viewQuery:N,declTNode:r,data:Dt.slice().fill(null,be),bindingStartIndex:be,expandoStartIndex:Ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:B,consts:Zt,incompleteFirstPass:!1}}function Cg(n,r,s,c){const h=rm(r);null===s?h.push(c):(h.push(s),n.firstCreatePass&&Sg(n).push(c,h.length-1))}function Fh(n,r,s,c){for(let h in n)if(n.hasOwnProperty(h)){s=null===s?{}:s;const _=n[h];null===c?Ff(s,r,h,_):c.hasOwnProperty(h)&&Ff(s,r,c[h],_)}return s}function Ff(n,r,s,c){n.hasOwnProperty(s)?n[s].push(r,c):n[s]=[r,c]}function Ga(n,r,s,c,h,_,w,N){const B=Hr(r,s);let be,te=r.inputs;!N&&null!=te&&(be=te[c])?(Vf(n,s,be,c,h),Ir(r)&&Ig(s,r.index)):3&r.type?(c=function Sd(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(c),h=null!=w?w(h,r.value||"",c):h,_.setProperty(B,c,h)):r.type}function Ig(n,r){const s=ji(r,n);16&s[ze]||(s[ze]|=32)}function Bf(n,r,s,c){if(st()){const h=null===c?null:{"":-1},_=function X_(n,r){const s=n.directiveRegistry;let c=null,h=null;if(s)for(let _=0;_<s.length;_++){const w=s[_];if(lg(r,w.selectors,!1))if(c||(c=[]),vo(w))if(null!==w.findHostDirectiveDefs){const N=[];h=h||new Map,w.findHostDirectiveDefs(w,N,h),c.unshift(...N,w);Bh(n,r,N.length)}else c.unshift(w),Bh(n,r,0);else h=h||new Map,w.findHostDirectiveDefs?.(w,c,h),c.push(w)}return null===c?null:[c,h]}(n,s);let w,N;null===_?w=N=null:[w,N]=_,null!==w&&Tg(n,r,s,w,h,N),h&&function Mg(n,r,s){if(r){const c=n.localNames=[];for(let h=0;h<r.length;h+=2){const _=s[r[h+1]];if(null==_)throw new Ie(-301,!1);c.push(r[h],_)}}}(s,c,h)}s.mergedAttrs=an(s.mergedAttrs,s.attrs)}function Tg(n,r,s,c,h,_){for(let te=0;te<c.length;te++)Xs(js(s,r),n,c[te].type);!function Qp(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}(s,n.data.length,c.length);for(let te=0;te<c.length;te++){const be=c[te];be.providersResolver&&be.providersResolver(be)}let w=!1,N=!1,B=Vl(n,r,c.length,null);for(let te=0;te<c.length;te++){const be=c[te];s.mergedAttrs=an(s.mergedAttrs,be.hostAttrs),Xp(n,s,r,B,be),qp(B,be,h),null!==be.contentQueries&&(s.flags|=4),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(s.flags|=64);const Ge=be.type.prototype;!w&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),w=!0),!N&&(Ge.ngOnChanges||Ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),N=!0),B++}!function wg(n,r,s){const c=r.directiveStart,h=r.directiveEnd,_=n.data,w=r.attrs,N=[];let B=null,te=null;for(let be=c;be<h;be++){const Ge=_[be],Dt=s?s.get(Ge):null,Zt=Dt?Dt.inputs:null,bn=Dt?Dt.outputs:null;B=Fh(Ge.inputs,be,B,Zt),te=Fh(Ge.outputs,be,te,bn);const Qn=null===B||null===w||ag(r)?null:Rd(B,be,w);N.push(Qn)}null!==B&&(B.hasOwnProperty("class")&&(r.flags|=8),B.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=N,r.inputs=B,r.outputs=te}(n,s,_)}function xg(n,r,s){const c=s.directiveStart,h=s.directiveEnd,_=s.index,w=function Go(){return mr.lFrame.currentDirectiveIndex}();try{ke(_);for(let N=c;N<h;N++){const B=n.data[N],te=r[N];Qi(N),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&Zp(B,te)}}finally{ke(-1),Qi(w)}}function Zp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function Bh(n,r,s){r.componentOffset=s,(n.components||(n.components=[])).push(r.index)}function qp(n,r,s){if(s){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)s[r.exportAs[c]]=n;vo(r)&&(s[""]=n)}}function Xp(n,r,s,c,h){n.data[c]=h;const _=h.factory||(h.factory=ao(h.type)),w=new kt(_,vo(h),Md);n.blueprint[c]=w,s[c]=w,function Gp(n,r,s,c,h){const _=h.hostBindings;if(_){let w=n.hostBindingOpCodes;null===w&&(w=n.hostBindingOpCodes=[]);const N=~r.index;(function Q_(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(w)!=N&&w.push(N),w.push(s,c,_)}}(n,r,c,Vl(n,s,h.hostVars,Yi),h)}function Ma(n,r,s,c,h,_){const w=Hr(n,r);Uh(r[Qe],w,_,n.value,s,c,h)}function Uh(n,r,s,c,h,_,w){if(null==_)n.removeAttribute(r,h,s);else{const N=null==w?gt(_):w(_,c||"",h);n.setAttribute(r,h,N,s)}}function Pd(n,r,s,c,h,_){const w=_[r];if(null!==w){const N=c.setInput;for(let B=0;B<w.length;){const te=w[B++],be=w[B++],Ge=w[B++];null!==N?c.setInput(s,Ge,te,be):s[be]=Ge}}}function Rd(n,r,s){let c=null,h=0;for(;h<s.length;){const _=s[h];if(0!==_)if(5!==_){if("number"==typeof _)break;if(n.hasOwnProperty(_)){null===c&&(c=[]);const w=n[_];for(let N=0;N<w.length;N+=2)if(w[N]===r){c.push(_,w[N+1],s[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function Jp(n,r,s,c){return[n,!0,!1,r,null,0,c,s,null,null]}function ey(n,r){const s=ji(r,n);if($i(s)){const c=s[ge];48&s[ze]?kh(c,s,c.template,s[fr]):s[In]>0&&Vh(s)}}function Vh(n){for(let c=Fe(n);null!==c;c=Vt(c))for(let h=no;h<c.length;h++){const _=c[h];if($i(_))if(512&_[ze]){const w=_[ge];kh(w,_,w.template,_[fr])}else _[In]>0&&Vh(_)}const s=n[ge].components;if(null!==s)for(let c=0;c<s.length;c++){const h=ji(s[c],n);$i(h)&&h[In]>0&&Vh(h)}}function em(n,r){const s=ji(r,n),c=s[ge];(function tm(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(c,s),Rh(c,s,s[fr])}function Nd(n,r){return n[ln]?n[Gn][cn]=r:n[ln]=r,n[Gn]=r,r}function nm(n){for(;n;){n[ze]|=32;const r=D(n);if(Si(n)&&!r)return n;n=r}return null}function Uf(n,r,s,c=!0){const h=r[ct];h.begin&&h.begin();try{kh(n,r,n.template,s)}catch(w){throw c&&om(r,w),w}finally{h.end&&h.end()}}function zh(n,r,s){Vs(0),r(n,s)}function rm(n){return n[Er]||(n[Er]=[])}function Sg(n){return n.cleanup||(n.cleanup=[])}function im(n,r,s){return(null===n||vo(n))&&(s=function Eo(n){for(;Array.isArray(n);){if("object"==typeof n[si])return n;n=n[G]}return null}(s[r.index])),s[Qe]}function om(n,r){const s=n[mt],c=s?s.get(Eh,null):null;c&&c.handleError(r)}function Vf(n,r,s,c,h){for(let _=0;_<s.length;){const w=s[_++],N=s[_++],B=r[w],te=n.data[w];null!==te.setInput?te.setInput(B,h,c,N):B[N]=h}}function _l(n,r,s){const c=is(r,n);wi(n[Qe],c,s)}function zf(n,r,s){let c=s?n.styles:null,h=s?n.classes:null,_=0;if(null!==r)for(let w=0;w<r.length;w++){const N=r[w];if("number"==typeof N)_=N;else if(1==_)h=_e(h,N);else if(2==_){c=_e(c,N+": "+r[++w]+";")}}s?n.styles=c:n.stylesWithoutHost=c,s?n.classes=h:n.classesWithoutHost=h}function Wf(n,r,s,c,h=!1){for(;null!==s;){const _=r[s.index];if(null!==_&&c.push(yi(_)),xi(_))for(let N=no;N<_.length;N++){const B=_[N],te=B[ge].firstChild;null!==te&&Wf(B[ge],B,te,c)}const w=s.type;if(8&w)Wf(n,r,s.child,c);else if(32&w){const N=R(s,r);let B;for(;B=N();)c.push(B)}else if(16&w){const N=ih(r,s);if(Array.isArray(N))c.push(...N);else{const B=D(r[$r]);Wf(B[ge],B,N,c,!0)}}s=h?s.projectionNext:s.next}return c}xd.INJECTOR_KEY=gl.get(nc);class Wh{get rootNodes(){const r=this._lView,s=r[ge];return Wf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(r){this._lView[fr]=r}get destroyed(){return 128==(128&this._lView[ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[xt];if(xi(r)){const s=r[pi],c=s?s.indexOf(this):-1;c>-1&&(Il(r,c),M(s,c))}this._attachedToViewContainer=!1}ou(this._lView[ge],this._lView)}onDestroy(r){Cg(this._lView[ge],this._lView,null,r)}markForCheck(){nm(this._cdRefInjectingView||this._lView)}detach(){this._lView[ze]&=-65}reattach(){this._lView[ze]|=64}detectChanges(){Uf(this._lView[ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lu(n,r){lu(n,r,r[Qe],2,null,null)}(this._lView[ge],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=r}}class ty extends Wh{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Uf(r[ge],r,r[fr],!1)}checkNoChanges(){}get context(){return null}}class Hf extends mn{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Or(r);return new Xu(s,this.ngModule)}}function Kf(n){const r=[];for(let s in n)if(n.hasOwnProperty(s)){const c=n[s];r.push({propName:c,templateName:s})}return r}class ny{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,c){c=Se(c);const h=this.injector.get(r,xf,c);return h!==xf||s===xf?h:this.parentInjector.get(r,s,c)}}class Xu extends Te{get inputs(){return Kf(this.componentDef.inputs)}get outputs(){return Kf(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Rp(n){return n.map(Pp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,c,h){let _=(h=h||this.ngModule)instanceof hl?h:h?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new ny(r,_):r,N=w.get($a,null);if(null===N)throw new Ie(407,!1);const B=w.get(fl,null),te=N.createRenderer(null,this.componentDef),be=this.componentDef.selectors[0][0]||"div",Ge=c?function jp(n,r,s){const c=s===me.ShadowDom;return n.selectRootElement(r,c)}(te,c,this.componentDef.encapsulation):gs(te,be,function sm(n){const r=n.toLowerCase();return"svg"===r?fo:"math"===r?Bi:null}(be)),Dt=this.componentDef.onPush?288:272,Zt=Lh(0,null,null,1,0,null,null,null,null,null),bn=Ul(null,Zt,null,Dt,null,null,N,te,B,w,null);let Qn,Cr;ga(bn);try{const ni=this.componentDef;let Ri,Bn=null;ni.findHostDirectiveDefs?(Ri=[],Bn=new Map,ni.findHostDirectiveDefs(ni,Ri,Bn),Ri.push(ni)):Ri=[ni];const to=function Pg(n,r){const s=n[ge],c=Wr;return n[c]=r,vu(s,c,2,"#host",null)}(bn,Ge),Ks=function am(n,r,s,c,h,_,w,N){const B=h[ge];!function Rg(n,r,s,c){for(const h of n)r.mergedAttrs=an(r.mergedAttrs,h.hostAttrs);null!==r.mergedAttrs&&(zf(r,r.mergedAttrs,!0),null!==s&&Vu(c,s,r))}(c,n,r,w);const te=_.createRenderer(r,s),be=Ul(h,Dg(s),null,s.onPush?32:16,h[n.index],n,_,te,N||null,null,null);return B.firstCreatePass&&Bh(B,n,c.length-1),Nd(h,be),h[n.index]=be}(to,Ge,ni,Ri,bn,N,te);Cr=Ni(Zt,Wr),Ge&&function cm(n,r,s,c){if(c)Hi(n,s,["ng-version",Bl.full]);else{const{attrs:h,classes:_}=function dg(n){const r=[],s=[];let c=1,h=2;for(;c<n.length;){let _=n[c];if("string"==typeof _)2===h?""!==_&&r.push(_,n[++c]):8===h&&s.push(_);else{if(!Qc(h))break;h=_}c++}return{attrs:r,classes:s}}(r.selectors[0]);h&&Hi(n,s,h),_&&_.length>0&&ul(n,s,_.join(" "))}}(te,ni,Ge,c),void 0!==s&&function oy(n,r,s){const c=n.projection=[];for(let h=0;h<r.length;h++){const _=s[h];c.push(null!=_?Array.from(_):null)}}(Cr,this.ngContentSelectors,s),Qn=function iy(n,r,s,c,h,_){const w=Rr(),N=h[ge],B=Hr(w,h);Tg(N,h,w,s,null,c);for(let be=0;be<s.length;be++){Es(Jo(h,N,w.directiveStart+be,w),h)}xg(N,h,w),B&&Es(B,h);const te=Jo(h,N,w.directiveStart+w.componentOffset,w);if(n[fr]=h[fr]=te,null!==_)for(const be of _)be(te,r);return Nh(N,w,n),te}(Ks,ni,Ri,Bn,bn,[lm]),Rh(Zt,bn,null)}finally{C()}return new ry(this.componentType,Qn,Xr(Cr,bn),bn,Cr)}}class ry extends Q{constructor(r,s,c,h,_){super(),this.location=c,this._rootLView=h,this._tNode=_,this.instance=s,this.hostView=this.changeDetectorRef=new ty(h),this.componentType=r}setInput(r,s){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[r])){const _=this._rootLView;Vf(_[ge],_,h,r,s),Ig(_,this._tNode.index)}}get injector(){return new ms(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function lm(){const n=Rr();un(dt()[ge],n)}function kg(n){return Object.getPrototypeOf(n.prototype).constructor}function Hh(n){let r=kg(n.type),s=!0;const c=[n];for(;r;){let h;if(vo(n))h=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ie(903,!1);h=r.\u0275dir}if(h){if(s){c.push(h);const w=n;w.inputs=Kh(n.inputs),w.declaredInputs=Kh(n.declaredInputs),w.outputs=Kh(n.outputs);const N=h.hostBindings;N&&Ld(n,N);const B=h.viewQuery,te=h.contentQueries;if(B&&um(n,B),te&&dm(n,te),Pe(n.inputs,h.inputs),Pe(n.declaredInputs,h.declaredInputs),Pe(n.outputs,h.outputs),vo(h)&&h.data.animation){const be=n.data;be.animation=(be.animation||[]).concat(h.data.animation)}}const _=h.features;if(_)for(let w=0;w<_.length;w++){const N=_[w];N&&N.ngInherit&&N(n),N===Hh&&(s=!1)}}r=Object.getPrototypeOf(r)}!function sy(n){let r=0,s=null;for(let c=n.length-1;c>=0;c--){const h=n[c];h.hostVars=r+=h.hostVars,h.hostAttrs=an(h.hostAttrs,s=an(s,h.hostAttrs))}}(c)}function Kh(n){return n===Ct?{}:n===Ke?[]:n}function um(n,r){const s=n.viewQuery;n.viewQuery=s?(c,h)=>{r(c,h),s(c,h)}:r}function dm(n,r){const s=n.contentQueries;n.contentQueries=s?(c,h,_)=>{r(c,h,_),s(c,h,_)}:r}function Ld(n,r){const s=n.hostBindings;n.hostBindings=s?(c,h)=>{r(c,h),s(c,h)}:r}const Ng=["providersResolver"],hm=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function ay(n){let s,r=kg(n.type);s=vo(n)?r.\u0275cmp:r.\u0275dir;const c=n;for(const h of Ng)c[h]=s[h];if(vo(s))for(const h of hm)c[h]=s[h]}function fm(n){return r=>{r.findHostDirectiveDefs=yl,r.hostDirectives=(Array.isArray(n)?n:n()).map(s=>"function"==typeof s?{directive:Le(s),inputs:Ct,outputs:Ct}:{directive:Le(s.directive),inputs:jf(s.inputs),outputs:jf(s.outputs)})}}function yl(n,r,s){if(null!==n.hostDirectives)for(const c of n.hostDirectives){const h=Vi(c.directive);cy(h.declaredInputs,c.inputs),yl(h,r,s),s.set(h,c),r.push(h)}}function jf(n){if(void 0===n||0===n.length)return Ct;const r={};for(let s=0;s<n.length;s+=2)r[n[s]]=n[s+1];return r}function cy(n,r){for(const s in r)if(r.hasOwnProperty(s)){const c=r[s],h=n[s];n[c]=h}}function Fd(n){return!!mm(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function mm(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function vl(n,r,s){return n[r]=s}function Ju(n,r){return n[r]}function Aa(n,r,s){const c=n[r];return!Object.is(c,s)&&(n[r]=s,!0)}function zl(n,r,s,c){const h=Aa(n,r,s);return Aa(n,r+1,c)||h}function jh(n,r,s,c,h){const _=zl(n,r,s,c);return Aa(n,r+2,h)||_}function Uc(n,r,s,c,h,_){const w=zl(n,r,s,c);return zl(n,r+2,h,_)||w}function _m(n,r,s,c){const h=dt();if(Aa(h,Ln(),r)){hn();Ma(ve(),h,n,r,s,c)}return _m}function bu(n,r){let s=!1,c=Jt();for(let _=1;_<r.length;_+=2)s=Aa(n,c++,r[_])||s;if(Dn(c),!s)return Yi;let h=r[0];for(let _=1;_<r.length;_+=2)h+=gt(r[_])+r[_+1];return h}function Bd(n,r,s,c){return Aa(n,Ln(),s)?r+gt(s)+c:Yi}function Eu(n,r,s,c,h,_){const N=zl(n,Jt(),s,h);return qn(2),N?r+gt(s)+c+gt(h)+_:Yi}function Du(n,r,s,c,h,_,w,N){const te=jh(n,Jt(),s,h,w);return qn(3),te?r+gt(s)+c+gt(h)+_+gt(w)+N:Yi}function Cu(n,r,s,c,h,_,w,N,B,te){const Ge=Uc(n,Jt(),s,h,w,B);return qn(4),Ge?r+gt(s)+c+gt(h)+_+gt(w)+N+gt(B)+te:Yi}function Ud(n,r,s,c,h,_,w,N,B,te,be,Ge){const Dt=Jt();let Zt=Uc(n,Dt,s,h,w,B);return Zt=Aa(n,Dt+4,be)||Zt,qn(5),Zt?r+gt(s)+c+gt(h)+_+gt(w)+N+gt(B)+te+gt(be)+Ge:Yi}function Wl(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt){const bn=Jt();let Qn=Uc(n,bn,s,h,w,B);return Qn=zl(n,bn+4,be,Dt)||Qn,qn(6),Qn?r+gt(s)+c+gt(h)+_+gt(w)+N+gt(B)+te+gt(be)+Ge+gt(Dt)+Zt:Yi}function wu(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn){const Cr=Jt();let ni=Uc(n,Cr,s,h,w,B);return ni=jh(n,Cr+4,be,Dt,bn)||ni,qn(7),ni?r+gt(s)+c+gt(h)+_+gt(w)+N+gt(B)+te+gt(be)+Ge+gt(Dt)+Zt+gt(bn)+Qn:Yi}function ed(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr,ni){const Ri=Jt();let Bn=Uc(n,Ri,s,h,w,B);return Bn=Uc(n,Ri+4,be,Dt,bn,Cr)||Bn,qn(8),Bn?r+gt(s)+c+gt(h)+_+gt(w)+N+gt(B)+te+gt(be)+Ge+gt(Dt)+Zt+gt(bn)+Qn+gt(Cr)+ni:Yi}function td(n,r,s,c,h,_){const w=dt(),N=Bd(w,r,s,c);if(N!==Yi){Ma(ve(),w,n,N,h,_)}return td}function ym(n,r,s,c,h,_,w,N){const B=dt(),te=Eu(B,r,s,c,h,_);if(te!==Yi){Ma(ve(),B,n,te,w,N)}return ym}function $h(n,r,s,c,h,_,w,N,B,te){const be=dt(),Ge=Du(be,r,s,c,h,_,w,N);if(Ge!==Yi){Ma(ve(),be,n,Ge,B,te)}return $h}function Bg(n,r,s,c,h,_,w,N,B,te,be,Ge){const Dt=dt(),Zt=Cu(Dt,r,s,c,h,_,w,N,B,te);if(Zt!==Yi){Ma(ve(),Dt,n,Zt,be,Ge)}return Bg}function Ug(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt){const bn=dt(),Qn=Ud(bn,r,s,c,h,_,w,N,B,te,be,Ge);if(Qn!==Yi){Ma(ve(),bn,n,Qn,Dt,Zt)}return Ug}function Vg(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn){const Cr=dt(),ni=Wl(Cr,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt);if(ni!==Yi){Ma(ve(),Cr,n,ni,bn,Qn)}return Vg}function zg(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr,ni){const Ri=dt(),Bn=wu(Ri,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn);if(Bn!==Yi){Ma(ve(),Ri,n,Bn,Cr,ni)}return zg}function Gh(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr,ni,Ri,Bn){const to=dt(),Ks=ed(to,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr,ni);if(Ks!==Yi){Ma(ve(),to,n,Ks,Ri,Bn)}return Gh}function $f(n,r,s,c){const h=dt(),_=bu(h,r);if(_!==Yi){Ma(ve(),h,n,_,s,c)}return $f}function Em(n,r,s,c,h,_,w,N){const B=dt(),te=hn(),be=n+Wr,Ge=te.firstCreatePass?function bm(n,r,s,c,h,_,w,N,B){const te=r.consts,be=vu(r,n,4,w||null,or(te,N));Bf(r,s,be,or(te,B)),un(r,be);const Ge=be.tView=Lh(2,be,c,h,_,r.directiveRegistry,r.pipeRegistry,null,r.schemas,te);return null!==r.queries&&(r.queries.template(r,be),Ge.queries=r.queries.embeddedTView(be)),be}(be,te,B,r,s,c,h,_,w):te.data[be];mi(Ge,!1);const Dt=B[Qe].createComment("");cu(te,B,Dt,Ge),Es(Dt,B),Nd(B,B[be]=Jp(Dt,B,Dt,Ge)),Ur(Ge)&&Xc(te,B,Ge),null!=w&&Lf(B,Ge,N)}function Gf(n){return co(function F(){return mr.lFrame.contextLView}(),Wr+n)}function Vd(n,r,s){const c=dt();if(Aa(c,Ln(),r)){Ga(hn(),ve(),c,n,r,c[Qe],s,!1)}return Vd}function Yh(n,r,s,c,h){const w=h?"class":"style";Vf(n,s,r.inputs[w],w,c)}function nd(n,r,s,c){const h=dt(),_=hn(),w=Wr+n,N=h[Qe],B=_.firstCreatePass?function Wg(n,r,s,c,h,_){const w=r.consts,B=vu(r,n,2,c,or(w,h));return Bf(r,s,B,or(w,_)),null!==B.attrs&&zf(B,B.attrs,!1),null!==B.mergedAttrs&&zf(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(w,_,h,r,s,c):_.data[w],te=h[w]=gs(N,r,function fn(){return mr.lFrame.currentNamespace}()),be=Ur(B);return mi(B,!0),Vu(N,te,B),32!=(32&B.flags)&&cu(_,h,te,B),0===function J(){return mr.lFrame.elementDepthCount}()&&Es(te,h),function ot(){mr.lFrame.elementDepthCount++}(),be&&(Xc(_,h,B),Nh(_,B,h)),null!==c&&Lf(h,B),nd}function zd(){let n=Rr();Ve()?y():(n=n.parent,mi(n,!1));const r=n;!function pn(){mr.lFrame.elementDepthCount--}();const s=hn();return s.firstCreatePass&&(un(s,n),Jr(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function bi(n){return 0!=(8&n.flags)}(r)&&Yh(s,r,dt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Kr(n){return 0!=(16&n.flags)}(r)&&Yh(s,r,dt(),r.stylesWithoutHost,!1),zd}function Zh(n,r,s,c){return nd(n,r,s,c),zd(),Zh}function Iu(n,r,s){const c=dt(),h=hn(),_=n+Wr,w=h.firstCreatePass?function Hg(n,r,s,c,h){const _=r.consts,w=or(_,c),N=vu(r,n,8,"ng-container",w);return null!==w&&zf(N,w,!0),Bf(r,s,N,or(_,h)),null!==r.queries&&r.queries.elementStart(r,N),N}(_,h,c,r,s):h.data[_];mi(w,!0);const N=c[_]=c[Qe].createComment("");return cu(h,c,N,w),Es(N,c),Ur(w)&&(Xc(h,c,w),Nh(h,w,c)),null!=s&&Lf(c,w),Iu}function qh(){let n=Rr();const r=hn();return Ve()?y():(n=n.parent,mi(n,!1)),r.firstCreatePass&&(un(r,n),Jr(n)&&r.queries.elementEnd(n)),qh}function Kg(n,r,s){return Iu(n,r,s),qh(),Kg}function jg(){return dt()}function Cm(n){return!!n&&"function"==typeof n.then}function wm(n){return!!n&&"function"==typeof n.subscribe}const $g=wm;function Yf(n,r,s,c){const h=dt(),_=hn(),w=Rr();return Yg(_,h,h[Qe],w,n,r,c),Yf}function Gg(n,r){const s=Rr(),c=dt(),h=hn();return Yg(h,c,im(Yo(h.data),s,c),s,n,r),Gg}function Yg(n,r,s,c,h,_,w){const N=Ur(c),te=n.firstCreatePass&&Sg(n),be=r[fr],Ge=rm(r);let Dt=!0;if(3&c.type||w){const Qn=Hr(c,r),Cr=w?w(Qn):Qn,ni=Ge.length,Ri=w?to=>w(yi(to[c.index])):c.index;let Bn=null;if(!w&&N&&(Bn=function uy(n,r,s,c){const h=n.cleanup;if(null!=h)for(let _=0;_<h.length-1;_+=2){const w=h[_];if(w===s&&h[_+1]===c){const N=r[Er],B=h[_+2];return N.length>B?N[B]:null}"string"==typeof w&&(_+=2)}return null}(n,r,h,c.index)),null!==Bn){(Bn.__ngLastListenerFn__||Bn).__ngNextListenerFn__=_,Bn.__ngLastListenerFn__=_,Dt=!1}else{_=Im(c,r,be,_,!1);const to=s.listen(Cr,h,_);Ge.push(_,to),te&&te.push(h,Ri,ni,ni+1)}}else _=Im(c,r,be,_,!1);const Zt=c.outputs;let bn;if(Dt&&null!==Zt&&(bn=Zt[h])){const Qn=bn.length;if(Qn)for(let Cr=0;Cr<Qn;Cr+=2){const ni=bn[Cr],Ri=bn[Cr+1],Ks=r[ni][Ri].subscribe(_),ma=Ge.length;Ge.push(_,Ks),te&&te.push(h,c.index,ma,-(ma+1))}}}function Zg(n,r,s,c){try{return Fr(6,r,s),!1!==s(c)}catch(h){return om(n,h),!1}finally{Fr(7,r,s)}}function Im(n,r,s,c,h){return function _(w){if(w===Function)return c;nm(n.componentOffset>-1?ji(n.index,r):r);let B=Zg(r,s,c,w),te=_.__ngNextListenerFn__;for(;te;)B=Zg(r,s,te,w)&&B,te=te.__ngNextListenerFn__;return h&&!1===B&&(w.preventDefault(),w.returnValue=!1),B}}function Zf(n=1){return A(n)}function qg(n,r){let s=null;const c=function ug(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(!(1&s))return r[s+1]}return null}(n);for(let h=0;h<r.length;h++){const _=r[h];if("*"!==_){if(null===c?lg(n,_,!0):Dh(c,_))return h}else s=h}return s}function Tm(n){const r=dt()[$r][zn];if(!r.projection){const s=n?n.length:1,c=r.projection=W(s,null),h=c.slice();let _=r.child;for(;null!==_;){const w=n?qg(_,n):0;null!==w&&(h[w]?h[w].projectionNext=_:c[w]=_,h[w]=_),_=_.next}}}function xm(n,r=0,s){const c=dt(),h=hn(),_=vu(h,Wr+n,16,null,s||null);null===_.projection&&(_.projection=r),y(),32!=(32&_.flags)&&function uu(n,r,s){Fa(r[Qe],0,r,s,su(n,s,r),La(s.parent||r[zn],s,r))}(h,c,_)}function Wd(n,r,s){return _o(n,"",r,"",s),Wd}function _o(n,r,s,c,h){const _=dt(),w=Bd(_,r,s,c);if(w!==Yi){Ga(hn(),ve(),_,n,w,_[Qe],h,!1)}return _o}function Mm(n,r,s,c,h,_,w){const N=dt(),B=Eu(N,r,s,c,h,_);if(B!==Yi){Ga(hn(),ve(),N,n,B,N[Qe],w,!1)}return Mm}function Am(n,r,s,c,h,_,w,N,B){const te=dt(),be=Du(te,r,s,c,h,_,w,N);if(be!==Yi){Ga(hn(),ve(),te,n,be,te[Qe],B,!1)}return Am}function Hd(n,r,s,c,h,_,w,N,B,te,be){const Ge=dt(),Dt=Cu(Ge,r,s,c,h,_,w,N,B,te);if(Dt!==Yi){Ga(hn(),ve(),Ge,n,Dt,Ge[Qe],be,!1)}return Hd}function Sm(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt){const Zt=dt(),bn=Ud(Zt,r,s,c,h,_,w,N,B,te,be,Ge);if(bn!==Yi){Ga(hn(),ve(),Zt,n,bn,Zt[Qe],Dt,!1)}return Sm}function Us(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn){const Qn=dt(),Cr=Wl(Qn,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt);if(Cr!==Yi){Ga(hn(),ve(),Qn,n,Cr,Qn[Qe],bn,!1)}return Us}function wa(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr){const ni=dt(),Ri=wu(ni,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn);if(Ri!==Yi){Ga(hn(),ve(),ni,n,Ri,ni[Qe],Cr,!1)}return wa}function Jc(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr,ni,Ri){const Bn=dt(),to=ed(Bn,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr,ni);if(to!==Yi){Ga(hn(),ve(),Bn,n,to,Bn[Qe],Ri,!1)}return Jc}function Qg(n,r,s){const c=dt(),h=bu(c,r);if(h!==Yi){Ga(hn(),ve(),c,n,h,c[Qe],s,!1)}return Qg}function qf(n,r){return n<<17|r<<2}function Hl(n){return n>>17&32767}function Pm(n){return 2|n}function Kl(n){return(131068&n)>>2}function Rm(n,r){return-131069&n|r<<2}function _s(n){return 1|n}function Zs(n,r,s,c,h,_){let w=_?r.classBindings:r.styleBindings,N=Hl(w),B=Kl(w);n[c]=s;let be,te=!1;if(Array.isArray(s)){const Ge=s;be=Ge[1],(null===be||Mr(Ge,be)>0)&&(te=!0)}else be=s;if(h)if(0!==B){const Dt=Hl(n[N+1]);n[c+1]=qf(Dt,N),0!==Dt&&(n[Dt+1]=Rm(n[Dt+1],c)),n[N+1]=function Om(n,r){return 131071&n|r<<17}(n[N+1],c)}else n[c+1]=qf(N,0),0!==N&&(n[N+1]=Rm(n[N+1],c)),N=c;else n[c+1]=qf(B,0),0===N?N=c:n[B+1]=Rm(n[B+1],c),B=c;te&&(n[c+1]=Pm(n[c+1])),Jg(n,be,c,!0,_),Jg(n,be,c,!1,_),function Xg(n,r,s,c,h){const _=h?n.residualClasses:n.residualStyles;null!=_&&"string"==typeof r&&Mr(_,r)>=0&&(s[c+1]=_s(s[c+1]))}(r,be,n,c,_),w=qf(N,B),_?r.classBindings=w:r.styleBindings=w}function Jg(n,r,s,c,h){const _=n[s+1],w=null===r;let N=c?Hl(_):Kl(_),B=!1;for(;0!==N&&(!1===B||w);){const te=n[N],be=n[N+1];fy(te,r)&&(B=!0,n[N+1]=c?_s(be):Pm(be)),N=c?Hl(be):Kl(be)}B&&(n[s+1]=c?Pm(_):_s(_))}function fy(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Mr(n,r)>=0}const oa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function e_(n){return n.substring(oa.key,oa.keyEnd)}function py(n){return n.substring(oa.value,oa.valueEnd)}function t_(n,r){const s=oa.textEnd;return s===r?-1:(r=oa.keyEnd=function Qh(n,r,s){for(;r<s&&n.charCodeAt(r)>32;)r++;return r}(n,oa.key=r,s),rd(n,r,s))}function n_(n,r){const s=oa.textEnd;let c=oa.key=rd(n,r,s);return s===c?-1:(c=oa.keyEnd=function _y(n,r,s){let c;for(;r<s&&(45===(c=n.charCodeAt(r))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)r++;return r}(n,c,s),c=jl(n,c,s,58),c=oa.value=rd(n,c,s),c=oa.valueEnd=function Tu(n,r,s){let c=-1,h=-1,_=-1,w=r,N=w;for(;w<s;){const B=n.charCodeAt(w++);if(59===B)return N;34===B||39===B?N=w=i_(n,B,w,s):r===w-4&&85===_&&82===h&&76===c&&40===B?N=w=i_(n,41,w,s):B>32&&(N=w),_=h,h=c,c=-33&B}return N}(n,c,s),jl(n,c,s,59))}function r_(n){oa.key=0,oa.keyEnd=0,oa.value=0,oa.valueEnd=0,oa.textEnd=n.length}function rd(n,r,s){for(;r<s&&n.charCodeAt(r)<=32;)r++;return r}function jl(n,r,s,c){return(r=rd(n,r,s))<s&&r++,r}function i_(n,r,s,c){let h=-1,_=s;for(;_<c;){const w=n.charCodeAt(_++);if(w==r&&92!==h)return _;h=92==w&&92===h?0:w}throw new Error}function jd(n,r,s){return el(n,r,s,!1),jd}function km(n,r){return el(n,r,null,!0),km}function bl(n){Sa(Bm,o_,n,!1)}function o_(n,r){for(let s=function gy(n){return r_(n),n_(n,rd(n,0,oa.textEnd))}(r);s>=0;s=n_(r,s))Bm(n,e_(r),py(r))}function s_(n){Sa(sn,pc,n,!0)}function pc(n,r){for(let s=function my(n){return r_(n),t_(n,rd(n,0,oa.textEnd))}(r);s>=0;s=t_(r,s))sn(n,e_(r),!0)}function el(n,r,s,c){const h=dt(),_=hn(),w=qn(2);if(_.firstUpdatePass&&$d(_,n,w,c),r!==Yi&&Aa(h,w,r)){Um(_,_.data[ce()],h,h[Qe],n,h[w+1]=function Jh(n,r){return null==n||""===n||("string"==typeof r?n+=r:"object"==typeof n&&(n=le(kc(n)))),n}(r,s),c,w)}}function Sa(n,r,s,c){const h=hn(),_=qn(2);h.firstUpdatePass&&$d(h,null,_,c);const w=dt();if(s!==Yi&&Aa(w,_,s)){const N=h.data[ce()];if(c_(N,c)&&!Xh(h,_)){let B=c?N.classesWithoutHost:N.stylesWithoutHost;null!==B&&(s=_e(B,s||"")),Yh(h,N,w,s,c)}else!function od(n,r,s,c,h,_,w,N){h===Yi&&(h=Ke);let B=0,te=0,be=0<h.length?h[0]:null,Ge=0<_.length?_[0]:null;for(;null!==be||null!==Ge;){const Dt=B<h.length?h[B+1]:void 0,Zt=te<_.length?_[te+1]:void 0;let Qn,bn=null;be===Ge?(B+=2,te+=2,Dt!==Zt&&(bn=Ge,Qn=Zt)):null===Ge||null!==be&&be<Ge?(B+=2,bn=be):(te+=2,bn=Ge,Qn=Zt),null!==bn&&Um(n,r,s,c,bn,Qn,w,N),be=B<h.length?h[B]:null,Ge=te<_.length?_[te]:null}}(h,N,w,w[Qe],w[_+1],w[_+1]=function Fm(n,r,s){if(null==s||""===s)return Ke;const c=[],h=kc(s);if(Array.isArray(h))for(let _=0;_<h.length;_++)n(c,h[_],!0);else if("object"==typeof h)for(const _ in h)h.hasOwnProperty(_)&&n(c,_,h[_]);else"string"==typeof h&&r(c,h);return c}(n,r,s),c,_)}}function Xh(n,r){return r>=n.expandoStartIndex}function $d(n,r,s,c){const h=n.data;if(null===h[s+1]){const _=h[ce()],w=Xh(n,s);c_(_,c)&&null===r&&!w&&(r=!1),r=function a_(n,r,s,c){const h=Yo(n);let _=c?r.residualClasses:r.residualStyles;if(null===h)0===(c?r.classBindings:r.styleBindings)&&(s=Lm(null,n,r,s,c),s=id(s,r.attrs,c),_=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==h)if(s=Lm(h,n,r,s,c),null===_){let B=function Nm(n,r,s){const c=s?r.classBindings:r.styleBindings;if(0!==Kl(c))return n[Hl(c)]}(n,r,c);void 0!==B&&Array.isArray(B)&&(B=Lm(null,n,r,B[1],c),B=id(B,r.attrs,c),function yy(n,r,s,c){const h=s?r.classBindings:r.styleBindings;n[Hl(h)]=c}(n,r,c,B))}else _=function vy(n,r,s){let c;const h=r.directiveEnd;for(let _=1+r.directiveStylingLast;_<h;_++){c=id(c,n[_].hostAttrs,s)}return id(c,r.attrs,s)}(n,r,c)}return void 0!==_&&(c?r.residualClasses=_:r.residualStyles=_),s}(h,_,r,c),Zs(h,_,r,s,w,c)}}function Lm(n,r,s,c,h){let _=null;const w=s.directiveEnd;let N=s.directiveStylingLast;for(-1===N?N=s.directiveStart:N++;N<w&&(_=r[N],c=id(c,_.hostAttrs,h),_!==n);)N++;return null!==n&&(s.directiveStylingLast=N),c}function id(n,r,s){const c=s?1:2;let h=-1;if(null!==r)for(let _=0;_<r.length;_++){const w=r[_];"number"==typeof w?h=w:h===c&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),sn(n,w,!!s||r[++_]))}return void 0===n?null:n}function Bm(n,r,s){sn(n,r,kc(s))}function Um(n,r,s,c,h,_,w,N){if(!(3&r.type))return;const B=n.data,te=B[N+1],be=function hy(n){return 1==(1&n)}(te)?Vm(B,r,s,h,Kl(te),w):void 0;if(!Gd(be)){Gd(_)||function dy(n){return 2==(2&n)}(te)&&(_=Vm(B,null,s,h,N,w));!function du(n,r,s,c,h){if(r)h?n.addClass(s,c):n.removeClass(s,c);else{let _=-1===c.indexOf("-")?void 0:xc.DashCase;null==h?n.removeStyle(s,c,_):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),_|=xc.Important),n.setStyle(s,c,h,_))}}(c,w,is(ce(),s),h,_)}}function Vm(n,r,s,c,h,_){const w=null===r;let N;for(;h>0;){const B=n[h],te=Array.isArray(B),be=te?B[1]:B,Ge=null===be;let Dt=s[h+1];Dt===Yi&&(Dt=Ge?Ke:void 0);let Zt=Ge?Sn(Dt,c):be===c?Dt:void 0;if(te&&!Gd(Zt)&&(Zt=Sn(B,c)),Gd(Zt)&&(N=Zt,w))return N;const bn=n[h+1];h=w?Hl(bn):Kl(bn)}if(null!==r){let B=_?r.residualClasses:r.residualStyles;null!=B&&(N=Sn(B,c))}return N}function Gd(n){return void 0!==n}function c_(n,r){return 0!=(n.flags&(r?8:16))}function ef(n,r=""){const s=dt(),c=hn(),h=n+Wr,_=c.firstCreatePass?vu(c,h,1,r,null):c.data[h],w=s[h]=ei(s[Qe],r);cu(c,s,w,_),mi(_,!1)}function Yd(n){return tf("",n,""),Yd}function tf(n,r,s){const c=dt(),h=Bd(c,n,r,s);return h!==Yi&&_l(c,ce(),h),tf}function Zd(n,r,s,c,h){const _=dt(),w=Eu(_,n,r,s,c,h);return w!==Yi&&_l(_,ce(),w),Zd}function l_(n,r,s,c,h,_,w){const N=dt(),B=Du(N,n,r,s,c,h,_,w);return B!==Yi&&_l(N,ce(),B),l_}function nf(n,r,s,c,h,_,w,N,B){const te=dt(),be=Cu(te,n,r,s,c,h,_,w,N,B);return be!==Yi&&_l(te,ce(),be),nf}function zm(n,r,s,c,h,_,w,N,B,te,be){const Ge=dt(),Dt=Ud(Ge,n,r,s,c,h,_,w,N,B,te,be);return Dt!==Yi&&_l(Ge,ce(),Dt),zm}function Qf(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt){const Zt=dt(),bn=Wl(Zt,n,r,s,c,h,_,w,N,B,te,be,Ge,Dt);return bn!==Yi&&_l(Zt,ce(),bn),Qf}function qd(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn){const Qn=dt(),Cr=wu(Qn,n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn);return Cr!==Yi&&_l(Qn,ce(),Cr),qd}function u_(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr){const ni=dt(),Ri=ed(ni,n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr);return Ri!==Yi&&_l(ni,ce(),Ri),u_}function Qd(n){const r=dt(),s=bu(r,n);return s!==Yi&&_l(r,ce(),s),Qd}function by(n,r,s){Sa(sn,pc,Bd(dt(),n,r,s),!0)}function Xd(n,r,s,c,h){Sa(sn,pc,Eu(dt(),n,r,s,c,h),!0)}function Mv(n,r,s,c,h,_,w){Sa(sn,pc,Du(dt(),n,r,s,c,h,_,w),!0)}function Av(n,r,s,c,h,_,w,N,B){Sa(sn,pc,Cu(dt(),n,r,s,c,h,_,w,N,B),!0)}function Wm(n,r,s,c,h,_,w,N,B,te,be){Sa(sn,pc,Ud(dt(),n,r,s,c,h,_,w,N,B,te,be),!0)}function Ey(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt){Sa(sn,pc,Wl(dt(),n,r,s,c,h,_,w,N,B,te,be,Ge,Dt),!0)}function Xf(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn){Sa(sn,pc,wu(dt(),n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn),!0)}function Dy(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr){Sa(sn,pc,ed(dt(),n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr),!0)}function Cy(n){Sa(sn,pc,bu(dt(),n),!0)}function Jf(n,r,s){bl(Bd(dt(),n,r,s))}function wy(n,r,s,c,h){bl(Eu(dt(),n,r,s,c,h))}function Iy(n,r,s,c,h,_,w){bl(Du(dt(),n,r,s,c,h,_,w))}function ep(n,r,s,c,h,_,w,N,B){bl(Cu(dt(),n,r,s,c,h,_,w,N,B))}function Ty(n,r,s,c,h,_,w,N,B,te,be){bl(Ud(dt(),n,r,s,c,h,_,w,N,B,te,be))}function xy(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt){bl(Wl(dt(),n,r,s,c,h,_,w,N,B,te,be,Ge,Dt))}function d_(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn){bl(wu(dt(),n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn))}function h_(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr){bl(ed(dt(),n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr))}function f_(n){bl(bu(dt(),n))}function Hm(n,r,s,c,h){return el(n,Bd(dt(),r,s,c),h,!1),Hm}function Km(n,r,s,c,h,_,w){return el(n,Eu(dt(),r,s,c,h,_),w,!1),Km}function jm(n,r,s,c,h,_,w,N,B){return el(n,Du(dt(),r,s,c,h,_,w,N),B,!1),jm}function tp(n,r,s,c,h,_,w,N,B,te,be){return el(n,Cu(dt(),r,s,c,h,_,w,N,B,te),be,!1),tp}function rf(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt){return el(n,Ud(dt(),r,s,c,h,_,w,N,B,te,be,Ge),Dt,!1),rf}function p_(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn){return el(n,Wl(dt(),r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt),bn,!1),p_}function My(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr){return el(n,wu(dt(),r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn),Cr,!1),My}function Ay(n,r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr,ni,Ri){return el(n,ed(dt(),r,s,c,h,_,w,N,B,te,be,Ge,Dt,Zt,bn,Qn,Cr,ni),Ri,!1),Ay}function m_(n,r,s){return el(n,bu(dt(),r),s,!1),m_}function g_(n,r,s){const c=dt();if(Aa(c,Ln(),r)){Ga(hn(),ve(),c,n,r,c[Qe],s,!0)}return g_}function Sy(n,r,s){const c=dt();if(Aa(c,Ln(),r)){const _=hn(),w=ve();Ga(_,w,c,n,r,im(Yo(_.data),w,c),s,!0)}return Sy}const mc=void 0;var of=["en",[["a","p"],["AM","PM"],mc],[["AM","PM"],mc,mc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mc,"{1} 'at' {0}",mc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sd(n){const s=Math.floor(Math.abs(n)),c=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Vc={};function $m(n){const r=function Oy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=__(r);if(s)return s;const c=r.split("-")[0];if(s=__(c),s)return s;if("en"===c)return of;throw new Ie(701,!1)}function $l(n){return $m(n)[ad.PluralCase]}function __(n){return n in Vc||(Vc[n]=ir.ng&&ir.ng.common&&ir.ng.common.locales&&ir.ng.common.locales[n]),Vc[n]}var ad;!function(n){n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData"}(ad||(ad={}));const Py=["zero","one","two","few","many"];const Jd="en-US",np={marker:"element"},rp={marker:"ICU"};var Ya;!function(n){n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT"}(Ya||(Ya={}));let ip=Jd;function Ny(n){Qt(n,"Expected localeId to be defined"),"string"==typeof n&&(ip=n.toLowerCase().replace(/_/g,"-"))}function y_(n,r,s){const c=r.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?ec(n,0,s):yi(s[h])}function v_(n,r,s,c,h){const _=r.insertBeforeIndex;if(Array.isArray(_)){let w=c,N=null;if(3&r.type||(N=w,w=h),null!==w&&-1===r.componentOffset)for(let B=1;B<_.length;B++){ja(n,w,s[_[B]],N,!1)}}}function Fy(n,r){if(n.push(r),n.length>1)for(let s=n.length-2;s>=0;s--){const c=n[s];By(c)||Uy(c,r)&&null===Vy(c)&&zy(c,r.index)}}function By(n){return!(64&n.type)}function Uy(n,r){return By(r)||n.index>r.index}function Vy(n){const r=n.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function zy(n,r){const s=n.insertBeforeIndex;Array.isArray(s)?s[0]=r:(Fo(y_,v_),n.insertBeforeIndex=r)}function op(n,r){const s=n.data[r];return null===s||"string"==typeof s?null:s.hasOwnProperty("currentCaseLViewIndex")?s:s.value}function xu(n,r,s){const c=Ad(n,s,64,null,null);return Fy(r,c),c}function sp(n,r){const s=r[n.currentCaseLViewIndex];return null===s?s:s<0?~s:s}function E_(n){return n>>>17}function D_(n){return(131070&n)>>>1}let af=0,cf=0;function i(n,r,s,c){const h=s[Qe];let w,_=null;for(let N=0;N<r.length;N++){const B=r[N];if("string"==typeof B){const te=r[++N];null===s[te]&&(s[te]=ei(h,B))}else if("number"==typeof B)switch(1&B){case 0:const te=E_(B);let be,Ge;if(null===_&&(_=te,w=Ea(h,c)),te===_?(be=c,Ge=w):(be=null,Ge=yi(s[te])),null!==Ge){const Qn=D_(B);ja(h,Ge,s[Qn],be,!1);const ni=op(n,Qn);if(null!==ni&&"object"==typeof ni){const Ri=sp(ni,s);null!==Ri&&i(n,ni.create[Ri],s,s[ni.anchorIdx])}}break;case 1:const Dt=B>>>1,Zt=r[++N],bn=r[++N];Uh(h,is(Dt,s),null,null,Zt,bn,null)}else switch(B){case rp:const te=r[++N],be=r[++N];if(null===s[be]){Es(s[be]=rs(h,te),s)}break;case np:const Ge=r[++N],Dt=r[++N];if(null===s[Dt]){Es(s[Dt]=gs(h,Ge,null),s)}}}}function e(n,r,s,c,h){for(let _=0;_<s.length;_++){const w=s[_],N=s[++_];if(w&h){let B="";for(let te=_+1;te<=_+N;te++){const be=s[te];if("string"==typeof be)B+=be;else if("number"==typeof be)if(be<0)B+=gt(r[c-be]);else{const Ge=be>>>2;switch(3&be){case 1:const Dt=s[++te],Zt=s[++te],bn=n.data[Ge];"string"==typeof bn?Uh(r[Qe],r[Ge],null,bn,Dt,B,Zt):Ga(n,bn,r,Dt,B,r[Qe],Zt,!1);break;case 0:const Qn=r[Ge];null!==Qn&&wi(r[Qe],Qn,B);break;case 2:o(n,op(n,Ge),r,B);break;case 3:t(n,op(n,Ge),c,r)}}}}else{const B=s[_+1];if(B>0&&3==(3&B)){const be=op(n,B>>>2);r[be.currentCaseLViewIndex]<0&&t(n,be,c,r)}}_+=N}}function t(n,r,s,c){let h=c[r.currentCaseLViewIndex];if(null!==h){let _=af;h<0&&(h=c[r.currentCaseLViewIndex]=~h,_=-1),e(n,c,r.update[h],s,_)}}function o(n,r,s,c){const h=function m(n,r){let s=n.cases.indexOf(r);if(-1===s)switch(n.type){case 1:{const c=function Ry(n,r){const s=$l(r)(parseInt(n,10)),c=Py[s];return void 0!==c?c:"other"}(r,function Ly(){return ip}());s=n.cases.indexOf(c),-1===s&&"other"!==c&&(s=n.cases.indexOf("other"));break}case 0:s=n.cases.indexOf("other")}return-1===s?null:s}(r,c);if(sp(r,s)!==h&&(u(n,r,s),s[r.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const w=s[r.anchorIdx];w&&i(n,r.create[h],s,w)}}function u(n,r,s){let c=sp(r,s);if(null!==c){const h=r.remove[c];for(let _=0;_<h.length;_++){const w=h[_];if(w>0){const N=is(w,s);null!==N&&Ml(s[Qe],N)}else u(n,op(n,~w),s)}}}function E(){const n=[];let s,c,r=-1;function _(N,B){r=0;const te=sp(N,B);c=null!==te?N.remove[te]:Ke}function w(){if(r<c.length){const N=c[r++];if(N>0)return s[N];{n.push(r,c);const B=~N;return _(s[ge].data[B],s),w()}}return 0===n.length?null:(c=n.pop(),r=n.pop(),w())}return function h(N,B){for(s=B;n.length;)n.pop();return _(N.value,B),w}}const zt=/\ufffd(\d+):?\d*\ufffd/gi,gn=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Kn=/\ufffd(\d+)\ufffd/,Dr=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ti="\ufffd",Ko=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ks=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Ro=/\uE500/g;function Ns(n,r,s,c,h,_){const w=Yr(),N=[],B=[],te=[[]];h=function b0(n,r){if(function v0(n){return-1===n}(r))return Nv(n);{const s=n.indexOf(`:${r}${ti}`)+2+r.toString().length,c=n.search(new RegExp(`${ti}\\/\\*\\d+:${r}${ti}`));return Nv(n.substring(s,c))}}(h,_);const be=function rc(n){return n.replace(Ro," ")}(h).split(ks);for(let Ge=0;Ge<be.length;Ge++){let Dt=be[Ge];if(1&Ge){const Zt=47===Dt.charCodeAt(0),Qn=(Dt.charCodeAt(Zt?1:0),Wr+Number.parseInt(Dt.substring(Zt?2:1)));if(Zt)te.shift(),mi(Yr(),!1);else{const Cr=xu(n,te[0],Qn);te.unshift([]),mi(Cr,!0)}}else{const Zt=jy(Dt);for(let bn=0;bn<Zt.length;bn++){let Qn=Zt[bn];if(1&bn){const Cr=Qn;if("object"!=typeof Cr)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Lv(n,s,B,r,Cr,ic(n,w,te[0],s,N,"",!0).index)}else{const Cr=Qn;""!==Cr&&Mu(n,w,te[0],N,B,s,Cr)}}}}n.data[c]={create:N,update:B}}function ic(n,r,s,c,h,_,w){const N=Vl(n,c,1,null);let B=N<<Ya.SHIFT,te=Yr();r===te&&(te=null),null===te&&(B|=Ya.APPEND_EAGERLY),w&&(B|=Ya.COMMENT,function p(n){void 0===Sc&&(Sc=n())}(E)),h.push(B,null===_?"":_);const be=Ad(n,N,w?32:1,null===_?"":_,null);Fy(s,be);const Ge=be.index;return mi(be,!1),null!==te&&r!==te&&function b_(n,r){let s=n.insertBeforeIndex;null===s?(Fo(y_,v_),s=n.insertBeforeIndex=[null,r]):(en(Array.isArray(s),!0,"Expecting array here"),s.push(r))}(te,Ge),be}function Mu(n,r,s,c,h,_,w){const N=w.match(zt),B=ic(n,r,s,_,c,N?null:w,!1);N&&Gm(h,w,B.index,null,0,null)}function Gm(n,r,s,c,h,_){const w=n.length,N=w+1;n.push(null,null);const B=w+2,te=r.split(zt);let be=0;for(let Ge=0;Ge<te.length;Ge++){const Dt=te[Ge];if(1&Ge){const Zt=h+parseInt(Dt,10);n.push(-1-Zt),be|=kv(Zt)}else""!==Dt&&n.push(Dt)}return n.push(s<<2|(c?1:0)),c&&n.push(c,_),n[w]=be,n[N]=n.length-B,be}function y0(n){let r=0;for(let s=0;s<n.length;s++){const c=n[s];"number"==typeof c&&c<0&&r++}return r}function kv(n){return 1<<Math.min(n,31)}function Nv(n){let r,_,s="",c=0,h=!1;for(;null!==(r=Ko.exec(n));)h?r[0]===`${ti}/*${_}${ti}`&&(c=r.index,h=!1):(s+=n.substring(c,r.index+r[0].length),_=r[1],h=!0);return s+=n.slice(c),s}function Lv(n,r,s,c,h,_){let w=0;const N={type:h.type,currentCaseLViewIndex:Vl(n,r,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function w0(n,r,s){n.push(kv(r.mainBinding),2,-1-r.mainBinding,s<<2|2)})(s,h,_),function Wy(n,r,s){const c=n.data[r];null===c?n.data[r]=s:c.value=s}(n,_,N);const B=h.values;for(let te=0;te<B.length;te++){const be=B[te],Ge=[];for(let Dt=0;Dt<be.length;Dt++){const Zt=be[Dt];if("string"!=typeof Zt){const bn=Ge.push(Zt)-1;be[Dt]=`\x3c!--\ufffd${bn}\ufffd--\x3e`}}w=D0(n,N,r,s,c,h.cases[te],be.join(""),Ge)|w}w&&function I0(n,r,s){n.push(r,1,s<<2|3)}(s,w,_)}function E0(n){const r=[],s=[];let c=1,h=0;const _=jy(n=n.replace(Dr,function(w,N,B){return c="select"===B?0:1,h=parseInt(N.slice(1),10),""}));for(let w=0;w<_.length;){let N=_[w++].trim();1===c&&(N=N.replace(/\s*(?:=)?(\w+)\s*/,"$1")),N.length&&r.push(N);const B=jy(_[w++]);r.length>s.length&&s.push(B)}return{type:c,mainBinding:h,cases:r,values:s}}function jy(n){if(!n)return[];let r=0;const s=[],c=[],h=/[{}]/g;let _;for(h.lastIndex=0;_=h.exec(n);){const N=_.index;if("}"==_[0]){if(s.pop(),0==s.length){const B=n.substring(r,N);Dr.test(B)?c.push(E0(B)):c.push(B),r=N+1}}else{if(0==s.length){const B=n.substring(r,N);c.push(B),r=N+1}s.push("{")}}const w=n.substring(r);return c.push(w),c}function D0(n,r,s,c,h,_,w,N){const B=[],te=[],be=[];r.cases.push(_),r.create.push(B),r.remove.push(te),r.update.push(be);const Dt=xs(sh()).getInertBodyElement(w),Zt=Gu(Dt)||Dt;return Zt?Fv(n,r,s,c,B,te,be,Zt,h,N,0):0}function Fv(n,r,s,c,h,_,w,N,B,te,be){let Ge=0,Dt=N.firstChild;for(;Dt;){const Zt=Vl(n,s,1,null);switch(Dt.nodeType){case Node.ELEMENT_NODE:const bn=Dt,Qn=bn.tagName.toLowerCase();if($u.hasOwnProperty(Qn)){$y(h,np,Qn,B,Zt),n.data[Zt]=Qn;const Bn=bn.attributes;for(let to=0;to<Bn.length;to++){const Ks=Bn.item(to),ma=Ks.name.toLowerCase();Ks.value.match(zt)?ph.hasOwnProperty(ma)&&(hh[ma]?Gm(w,Ks.value,Zt,Ks.name,0,gu):Gm(w,Ks.value,Zt,Ks.name,0,null)):T0(h,Zt,Ks)}Ge=Fv(n,r,s,c,h,_,w,Dt,Zt,te,be+1)|Ge,Bv(_,Zt,be)}break;case Node.TEXT_NODE:const Cr=Dt.textContent||"",ni=Cr.match(zt);$y(h,null,ni?"":Cr,B,Zt),Bv(_,Zt,be),ni&&(Ge=Gm(w,Cr,Zt,null,0,null)|Ge);break;case Node.COMMENT_NODE:const Ri=Kn.exec(Dt.textContent||"");if(Ri){const to=te[parseInt(Ri[1],10)];$y(h,rp,"",B,Zt),Lv(n,s,c,B,to,Zt),C0(_,Zt,be)}}Dt=Dt.nextSibling}return Ge}function Bv(n,r,s){0===s&&n.push(r)}function C0(n,r,s){0===s&&(n.push(~r),n.push(r))}function $y(n,r,s,c,h){null!==r&&n.push(r),n.push(s,h,function Hy(n,r,s){return n|r<<17|s<<1}(0,c,h))}function T0(n,r,s){n.push(r<<1|1,s.name,s.value)}const Uv=0,x0=/\[(\ufffd.+?\ufffd?)\]/,M0=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,A0=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,S0=/{([A-Z0-9_]+)}/g,O0=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,P0=/\/\*/,R0=/\d+\:(\d+)/;function Vv(n,r,s=-1){const c=hn(),h=dt(),_=Wr+n,w=or(c.consts,r),N=Yr();c.firstCreatePass&&Ns(c,null===N?0:N.index,h,_,w,s);const B=c.data[_],be=au(c,N===h[zn]?null:N,h),Ge=N&&8&N.type?h[N.index]:null;(function w_(n,r,s,c){const h=n[Qe];for(let _=0;_<r.length;_++){const w=r[_++],N=r[_],B=(w&Ya.COMMENT)===Ya.COMMENT,te=(w&Ya.APPEND_EAGERLY)===Ya.APPEND_EAGERLY,be=w>>>Ya.SHIFT;let Ge=n[be];null===Ge&&(Ge=n[be]=B?h.createComment(N):ei(h,N)),te&&null!==s&&ja(h,s,Ge,c,!1)}})(h,B.create,be,Ge),Vr(!0)}function zv(){Vr(!1)}function N0(n,r,s){Vv(n,r,s),zv()}function L0(n,r){const s=hn(),c=or(s.consts,r);!function _0(n,r,s){const h=Rr().index,_=[];if(n.firstCreatePass&&null===n.data[r]){for(let w=0;w<s.length;w+=2){const N=s[w],B=s[w+1];if(""!==B){if(gn.test(B))throw new Error(`ICU expressions are not supported in attributes. Message: "${B}".`);Gm(_,B,h,N,y0(_),null)}}n.data[r]=_}}(s,n+Wr,c)}function Wv(n){return function Ky(n){n&&(af|=1<<Math.min(cf,31)),cf++}(Aa(dt(),Ln(),n)),Wv}function F0(n){!function Rv(n,r,s){if(cf>0){const c=n.data[s];e(n,r,Array.isArray(c)?c:c.update,Jt()-cf-1,af)}af=0,cf=0}(hn(),dt(),n+Wr)}function B0(n,r={}){return function k0(n,r={}){let s=n;if(x0.test(n)){const c={},h=[Uv];s=s.replace(M0,(_,w,N)=>{const B=w||N,te=c[B]||[];if(te.length||(B.split("|").forEach(Qn=>{const Cr=Qn.match(R0),ni=Cr?parseInt(Cr[1],10):Uv,Ri=P0.test(Qn);te.push([ni,Ri,Qn])}),c[B]=te),!te.length)throw new Error(`i18n postprocess: unmatched placeholder - ${B}`);const be=h[h.length-1];let Ge=0;for(let Qn=0;Qn<te.length;Qn++)if(te[Qn][0]===be){Ge=Qn;break}const[Dt,Zt,bn]=te[Ge];return Zt?h.pop():be!==Dt&&h.push(Dt),te.splice(Ge,1),bn})}return Object.keys(r).length&&(s=s.replace(A0,(c,h,_,w,N,B)=>r.hasOwnProperty(_)?`${h}${r[_]}${B}`:c),s=s.replace(S0,(c,h)=>r.hasOwnProperty(h)?r[h]:c),s=s.replace(O0,(c,h)=>{if(r.hasOwnProperty(h)){const _=r[h];if(!_.length)throw new Error(`i18n postprocess: unmatched ICU - ${c} with key: ${h}`);return _.shift()}return c})),s}(n,r)}function Gy(n,r,s,c,h){if(n=Le(n),Array.isArray(n))for(let _=0;_<n.length;_++)Gy(n[_],r,s,c,h);else{const _=hn(),w=dt();let N=Ba(n)?n:Le(n.provide),B=f(n);const te=Rr(),be=1048575&te.providerIndexes,Ge=te.directiveStart,Dt=te.providerIndexes>>20;if(Ba(n)||!n.multi){const Zt=new kt(B,h,Md),bn=Zy(N,r,h?be:be+Dt,Ge);-1===bn?(Xs(js(te,w),_,N),Yy(_,n,r.length),r.push(N),te.directiveStart++,te.directiveEnd++,h&&(te.providerIndexes+=1048576),s.push(Zt),w.push(Zt)):(s[bn]=Zt,w[bn]=Zt)}else{const Zt=Zy(N,r,be+Dt,Ge),bn=Zy(N,r,be,be+Dt),Qn=Zt>=0&&s[Zt],Cr=bn>=0&&s[bn];if(h&&!Cr||!h&&!Qn){Xs(js(te,w),_,N);const ni=function W0(n,r,s,c,h){const _=new kt(n,s,Md);return _.multi=[],_.index=r,_.componentProviders=0,Hv(_,h,c&&!s),_}(h?z0:V0,s.length,h,c,B);!h&&Cr&&(s[bn].providerFactory=ni),Yy(_,n,r.length,0),r.push(N),te.directiveStart++,te.directiveEnd++,h&&(te.providerIndexes+=1048576),s.push(ni),w.push(ni)}else{Yy(_,n,Zt>-1?Zt:bn,Hv(s[h?bn:Zt],B,!h&&c))}!h&&c&&Cr&&s[bn].componentProviders++}}}function Yy(n,r,s,c){const h=Ba(r),_=function Tf(n){return!!n.useClass}(r);if(h||_){const B=(_?Le(r.useClass):r).prototype.ngOnDestroy;if(B){const te=n.destroyHooks||(n.destroyHooks=[]);if(!h&&r.multi){const be=te.indexOf(s);-1===be?te.push(s,[c,B]):te[be+1].push(c,B)}else te.push(s,B)}}}function Hv(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Zy(n,r,s,c){for(let h=s;h<c;h++)if(r[h]===n)return h;return-1}function V0(n,r,s,c){return qy(this.multi,[])}function z0(n,r,s,c){const h=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,N=Jo(s,s[ge],this.providerFactory.index,c);_=N.slice(0,w),qy(h,_);for(let B=w;B<N.length;B++)_.push(N[B])}else _=[],qy(h,_);return _}function qy(n,r){for(let s=0;s<n.length;s++){const c=n[s];r.push(c())}return r}function Kv(n,r=[]){return s=>{s.providersResolver=(c,h)=>function U0(n,r,s){const c=hn();if(c.firstCreatePass){const h=vo(n);Gy(s,c.data,c.blueprint,h,!0),Gy(r,c.data,c.blueprint,h,!1)}}(c,h?h(n):n,r)}}class ap{}class jv{}function H0(n,r){return new $v(n,r??null)}class $v extends ap{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hf(this);const c=Fi(r);this._bootstrapComponents=ml(c.bootstrap),this._r3Injector=Fp(r,s,[{provide:ap,useValue:this},{provide:mn,useValue:this.componentFactoryResolver}],le(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Qy extends jv{constructor(r){super(),this.moduleType=r}create(r){return new $v(this.moduleType,r)}}class K0 extends ap{constructor(r,s,c){super(),this.componentFactoryResolver=new Hf(this),this.instance=null;const h=new Dd([...r,{provide:ap,useValue:this},{provide:mn,useValue:this.componentFactoryResolver}],s||Ll(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Xy(n,r,s=null){return new K0(n,r,s).injector}class I_{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r.id)){const s=kl(0,r.type),c=s.length>0?Xy([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r.id,c)}return this.cachedInjectors.get(r.id)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}function Gv(n){n.getStandaloneInjector=r=>r.get(I_).getOrCreateStandaloneInjector(n)}function eb(n,r,s,c){return fe(()=>{const h=n;null!==r&&(h.hasOwnProperty("decorators")&&void 0!==h.decorators?h.decorators.push(...r):h.decorators=r),null!==s&&(h.ctorParameters=s),null!==c&&(h.hasOwnProperty("propDecorators")&&void 0!==h.propDecorators?h.propDecorators={...h.propDecorators,...c}:h.propDecorators=c)})}function X0(n,r,s){const c=qe()+n,h=dt();return h[c]===Yi?vl(h,c,s?r.call(s):r()):Ju(h,c)}function J0(n,r,s,c){return tb(dt(),qe(),n,r,s,c)}function eE(n,r,s,c,h){return nb(dt(),qe(),n,r,s,c,h)}function tE(n,r,s,c,h,_){return rb(dt(),qe(),n,r,s,c,h,_)}function nE(n,r,s,c,h,_,w){return ib(dt(),qe(),n,r,s,c,h,_,w)}function rE(n,r,s,c,h,_,w,N){const B=qe()+n,te=dt(),be=Uc(te,B,s,c,h,_);return Aa(te,B+4,w)||be?vl(te,B+5,N?r.call(N,s,c,h,_,w):r(s,c,h,_,w)):Ju(te,B+5)}function iE(n,r,s,c,h,_,w,N,B){const te=qe()+n,be=dt(),Ge=Uc(be,te,s,c,h,_);return zl(be,te+4,w,N)||Ge?vl(be,te+6,B?r.call(B,s,c,h,_,w,N):r(s,c,h,_,w,N)):Ju(be,te+6)}function oE(n,r,s,c,h,_,w,N,B,te){const be=qe()+n,Ge=dt();let Dt=Uc(Ge,be,s,c,h,_);return jh(Ge,be+4,w,N,B)||Dt?vl(Ge,be+7,te?r.call(te,s,c,h,_,w,N,B):r(s,c,h,_,w,N,B)):Ju(Ge,be+7)}function sE(n,r,s,c,h,_,w,N,B,te,be){const Ge=qe()+n,Dt=dt(),Zt=Uc(Dt,Ge,s,c,h,_);return Uc(Dt,Ge+4,w,N,B,te)||Zt?vl(Dt,Ge+8,be?r.call(be,s,c,h,_,w,N,B,te):r(s,c,h,_,w,N,B,te)):Ju(Dt,Ge+8)}function aE(n,r,s,c){return ob(dt(),qe(),n,r,s,c)}function Ym(n,r){const s=n[r];return s===Yi?void 0:s}function tb(n,r,s,c,h,_){const w=r+s;return Aa(n,w,h)?vl(n,w+1,_?c.call(_,h):c(h)):Ym(n,w+1)}function nb(n,r,s,c,h,_,w){const N=r+s;return zl(n,N,h,_)?vl(n,N+2,w?c.call(w,h,_):c(h,_)):Ym(n,N+2)}function rb(n,r,s,c,h,_,w,N){const B=r+s;return jh(n,B,h,_,w)?vl(n,B+3,N?c.call(N,h,_,w):c(h,_,w)):Ym(n,B+3)}function ib(n,r,s,c,h,_,w,N,B){const te=r+s;return Uc(n,te,h,_,w,N)?vl(n,te+4,B?c.call(B,h,_,w,N):c(h,_,w,N)):Ym(n,te+4)}function ob(n,r,s,c,h,_){let w=r+s,N=!1;for(let B=0;B<h.length;B++)Aa(n,w++,h[B])&&(N=!0);return N?vl(n,w,c.apply(_,h)):Ym(n,w)}function sb(n,r){const s=hn();let c;const h=n+Wr;s.firstCreatePass?(c=function cE(n,r){if(r)for(let s=r.length-1;s>=0;s--){const c=r[s];if(n===c.name)return c}}(r,s.pipeRegistry),s.data[h]=c,c.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(h,c.onDestroy)):c=s.data[h];const _=c.factory||(c.factory=ao(c.type)),w=er(Md);try{const N=qo(!1),B=_();return qo(N),function Dm(n,r,s,c){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=c}(s,dt(),h,B),B}finally{er(w)}}function lE(n,r,s){const c=n+Wr,h=dt(),_=co(h,c);return Zm(h,c)?tb(h,qe(),r,_.transform,s,_):_.transform(s)}function ab(n,r,s,c){const h=n+Wr,_=dt(),w=co(_,h);return Zm(_,h)?nb(_,qe(),r,w.transform,s,c,w):w.transform(s,c)}function uE(n,r,s,c,h){const _=n+Wr,w=dt(),N=co(w,_);return Zm(w,_)?rb(w,qe(),r,N.transform,s,c,h,N):N.transform(s,c,h)}function dE(n,r,s,c,h,_){const w=n+Wr,N=dt(),B=co(N,w);return Zm(N,w)?ib(N,qe(),r,B.transform,s,c,h,_,B):B.transform(s,c,h,_)}function hE(n,r,s){const c=n+Wr,h=dt(),_=co(h,c);return Zm(h,c)?ob(h,qe(),r,_.transform,s,_):_.transform.apply(_,s)}function Zm(n,r){return n[ge].data[r].pure}I_.\u0275prov=on({token:I_,providedIn:"environment",factory:()=>new I_(Ce(hl))});class fE extends l.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,c){let h=r,_=s||(()=>null),w=c;if(r&&"object"==typeof r){const B=r;h=B.next?.bind(B),_=B.error?.bind(B),w=B.complete?.bind(B)}this.__isAsync&&(_=ev(_),h&&(h=ev(h)),w&&(w=ev(w)));const N=super.subscribe({next:h,error:_,complete:w});return r instanceof g.w0&&r.add(N),N}}function ev(n){return r=>{setTimeout(n,void 0,r)}}const Au=fE;function pE(){return this._results[Symbol.iterator]()}class T_{get changes(){return this._changes||(this._changes=new Au)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=T_.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=pE)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const c=this;c.dirty=!1;const h=ta(r);(this._changesDetected=!function Ja(n,r,s){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++){let h=n[c],_=r[c];if(s&&(h=s(h),_=s(_)),_!==h)return!1}return!0}(c._results,h,s))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class cp{}cp.__NG_ELEMENT_ID__=function _E(){return x_(Rr(),dt())};const mE=cp,gE=class extends mE{constructor(r,s,c){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=c}createEmbeddedView(r,s){const c=this._declarationTContainer.tView,h=Ul(this._declarationLView,c,r,16,null,c.declTNode,null,null,null,null,s||null),_=this._declarationLView[this._declarationTContainer.index];h[_r]=_;const w=this._declarationLView[Ii];return null!==w&&(h[Ii]=w.createEmbeddedView(c)),Rh(c,h,r),new Wh(h)}};function x_(n,r){return 4&n.type?new gE(r,n,Xr(n,r)):null}class qm{}qm.__NG_ELEMENT_ID__=function yE(){const n=Rr();return ub(n,dt())};const vE=qm,cb=class extends vE{constructor(r,s,c){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=c}get element(){return Xr(this._hostTNode,this._hostLView)}get injector(){return new ms(this._hostTNode,this._hostLView)}get parentInjector(){const r=ws(this._hostTNode,this._hostLView);if(Nn(r)){const s=An(r,this._hostLView),c=gi(r),h=s[ge].data[c+8];return new ms(h,s)}return new ms(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=lb(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-no}createEmbeddedView(r,s,c){let h,_;"number"==typeof c?h=c:null!=c&&(h=c.index,_=c.injector);const w=r.createEmbeddedView(s||{},_);return this.insert(w,h),w}createComponent(r,s,c,h,_){const w=r&&!ds(r);let N;if(w)N=s;else{const Ge=s||{};N=Ge.index,c=Ge.injector,h=Ge.projectableNodes,_=Ge.environmentInjector||Ge.ngModuleRef}const B=w?r:new Xu(Or(r)),te=c||this.parentInjector;if(!_&&null==B.ngModule){const Dt=(w?te:this.parentInjector).get(hl,null);Dt&&(_=Dt)}const be=B.create(te,h,void 0,_);return this.insert(be.hostView,N),be}insert(r,s){const c=r._lView,h=c[ge];if(function Xo(n){return xi(n[xt])}(c)){const be=this.indexOf(r);if(-1!==be)this.detach(be);else{const Ge=c[xt],Dt=new cb(Ge,Ge[zn],Ge[xt]);Dt.detach(Dt.indexOf(r))}}const _=this._adjustIndex(s),w=this._lContainer;Ai(h,c,w,_);const N=Bu(_,w),B=c[Qe],te=Ea(B,w[pr]);return null!==te&&function lc(n,r,s,c,h,_){c[G]=h,c[zn]=r,lu(n,c,s,1,h,_)}(h,w[zn],B,c,te,N),r.attachToViewContainerRef(),b(tv(w),_,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=lb(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),c=Il(this._lContainer,s);c&&(M(tv(this._lContainer),s),ou(c[ge],c))}detach(r){const s=this._adjustIndex(r,-1),c=Il(this._lContainer,s);return c&&null!=M(tv(this._lContainer),s)?new Wh(c):null}_adjustIndex(r,s=0){return r??this.length+s}};function lb(n){return n[pi]}function tv(n){return n[pi]||(n[pi]=[])}function ub(n,r){let s;const c=r[n.index];if(xi(c))s=c;else{let h;if(8&n.type)h=yi(c);else{const _=r[Qe];h=_.createComment("");const w=Hr(n,r);ja(_,Ea(_,w),h,function Fu(n,r){return n.nextSibling(r)}(_,w),!1)}r[n.index]=s=Jp(c,r,h,n),Nd(r,s)}return new cb(s,n,r)}class nv{constructor(r){this.queryList=r,this.matches=null}clone(){return new nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class rv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const c=null!==r.contentQueries?r.contentQueries[0]:s.length,h=[];for(let _=0;_<c;_++){const w=s.getByIndex(_),N=this.queries[w.indexInDeclarationView];h.push(N.clone())}return new rv(h)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==vb(r,s).matches&&this.queries[s].setDirty()}}class db{constructor(r,s,c=null){this.predicate=r,this.flags=s,this.read=c}}class iv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let c=0;c<this.length;c++){const h=null!==s?s.length:0,_=this.getByIndex(c).embeddedTView(r,h);_&&(_.indexInDeclarationView=c,null!==s?s.push(_):s=[_])}return null!==s?new iv(s):null}template(r,s){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class ov{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new ov(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==s;)c=c.parent;return s===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const _=c[h];this.matchTNodeWithReadOption(r,s,bE(s,_)),this.matchTNodeWithReadOption(r,s,zs(s,r,_,!1,!1))}else c===cp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,zs(s,r,c,!1,!1))}matchTNodeWithReadOption(r,s,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Gi||h===qm||h===cp&&4&s.type)this.addMatch(s.index,-2);else{const _=zs(s,r,h,!1,!1);null!==_&&this.addMatch(s.index,_)}else this.addMatch(s.index,c)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function bE(n,r){const s=n.localNames;if(null!==s)for(let c=0;c<s.length;c+=2)if(s[c]===r)return s[c+1];return null}function DE(n,r,s,c){return-1===s?function EE(n,r){return 11&n.type?Xr(n,r):4&n.type?x_(n,r):null}(r,n):-2===s?function CE(n,r,s){if(s===Gi)return Xr(r,n);if(s===cp)return x_(r,n);if(s===qm)return ub(r,n)}(n,r,c):Jo(n,n[ge],s,r)}function hb(n,r,s,c){const h=r[Ii].queries[c];if(null===h.matches){const _=n.data,w=s.matches,N=[];for(let B=0;B<w.length;B+=2){const te=w[B];if(te<0)N.push(null);else{const be=_[te];N.push(DE(r,be,w[B+1],s.metadata.read))}}h.matches=N}return h.matches}function sv(n,r,s,c){const h=n.queries.getByIndex(s),_=h.matches;if(null!==_){const w=hb(n,r,h,s);for(let N=0;N<_.length;N+=2){const B=_[N];if(B>0)c.push(w[N/2]);else{const te=_[N+1],be=r[-B];for(let Ge=no;Ge<be.length;Ge++){const Dt=be[Ge];Dt[_r]===Dt[xt]&&sv(Dt[ge],Dt,te,c)}if(null!==be[Ar]){const Ge=be[Ar];for(let Dt=0;Dt<Ge.length;Dt++){const Zt=Ge[Dt];sv(Zt[ge],Zt,te,c)}}}}}return c}function fb(n){const r=dt(),s=hn(),c=Zo();Vs(c+1);const h=vb(s,c);if(n.dirty&&function Wo(n){return 4==(4&n[ze])}(r)===(2==(2&h.metadata.flags))){if(null===h.matches)n.reset([]);else{const _=h.crossesNgTemplate?sv(s,r,c,[]):hb(s,r,h,c);n.reset(_,hs),n.notifyOnChanges()}return!0}return!1}function pb(n,r,s){const c=hn();c.firstCreatePass&&(yb(c,new db(n,r,s),-1),2==(2&r)&&(c.staticViewQueries=!0)),_b(c,dt(),r)}function mb(n,r,s,c){const h=hn();if(h.firstCreatePass){const _=Rr();yb(h,new db(r,s,c),_.index),function IE(n,r){const s=n.contentQueries||(n.contentQueries=[]),c=s.length?s[s.length-1]:-1;r!==c&&s.push(n.queries.length-1,r)}(h,n),2==(2&s)&&(h.staticContentQueries=!0)}_b(h,dt(),s)}function gb(){return function wE(n,r){return n[Ii].queries[r].queryList}(dt(),Zo())}function _b(n,r,s){const c=new T_(4==(4&s));Cg(n,r,c,c.destroy),null===r[Ii]&&(r[Ii]=new rv),r[Ii].queries.push(new nv(c))}function yb(n,r,s){null===n.queries&&(n.queries=new iv),n.queries.track(new ov(r,s))}function vb(n,r){return n.queries.getByIndex(r)}function bb(n,r){return x_(n,r)}const gc={\u0275\u0275attribute:_m,\u0275\u0275attributeInterpolate1:td,\u0275\u0275attributeInterpolate2:ym,\u0275\u0275attributeInterpolate3:$h,\u0275\u0275attributeInterpolate4:Bg,\u0275\u0275attributeInterpolate5:Ug,\u0275\u0275attributeInterpolate6:Vg,\u0275\u0275attributeInterpolate7:zg,\u0275\u0275attributeInterpolate8:Gh,\u0275\u0275attributeInterpolateV:$f,\u0275\u0275defineComponent:q,\u0275\u0275defineDirective:Ui,\u0275\u0275defineInjectable:on,\u0275\u0275defineInjector:ur,\u0275\u0275defineNgModule:Cn,\u0275\u0275definePipe:Ti,\u0275\u0275directiveInject:Md,\u0275\u0275getInheritedFactory:qa,\u0275\u0275inject:Ce,\u0275\u0275injectAttribute:Wa,\u0275\u0275invalidFactory:kf,\u0275\u0275invalidFactoryDep:Ee,\u0275\u0275templateRefExtractor:bb,\u0275\u0275resetView:Qr,\u0275\u0275HostDirectivesFeature:fm,\u0275\u0275NgOnChangesFeature:qi,\u0275\u0275ProvidersFeature:Kv,\u0275\u0275CopyDefinitionFeature:ay,\u0275\u0275InheritDefinitionFeature:Hh,\u0275\u0275StandaloneFeature:Gv,\u0275\u0275nextContext:Zf,\u0275\u0275namespaceHTML:rn,\u0275\u0275namespaceMathML:Pt,\u0275\u0275namespaceSVG:Je,\u0275\u0275enableBindings:ut,\u0275\u0275disableBindings:Tt,\u0275\u0275elementStart:nd,\u0275\u0275elementEnd:zd,\u0275\u0275element:Zh,\u0275\u0275elementContainerStart:Iu,\u0275\u0275elementContainerEnd:qh,\u0275\u0275elementContainer:Kg,\u0275\u0275pureFunction0:X0,\u0275\u0275pureFunction1:J0,\u0275\u0275pureFunction2:eE,\u0275\u0275pureFunction3:tE,\u0275\u0275pureFunction4:nE,\u0275\u0275pureFunction5:rE,\u0275\u0275pureFunction6:iE,\u0275\u0275pureFunction7:oE,\u0275\u0275pureFunction8:sE,\u0275\u0275pureFunctionV:aE,\u0275\u0275getCurrentView:jg,\u0275\u0275restoreView:Fn,\u0275\u0275listener:Yf,\u0275\u0275projection:xm,\u0275\u0275syntheticHostProperty:Sy,\u0275\u0275syntheticHostListener:Gg,\u0275\u0275pipeBind1:lE,\u0275\u0275pipeBind2:ab,\u0275\u0275pipeBind3:uE,\u0275\u0275pipeBind4:dE,\u0275\u0275pipeBindV:hE,\u0275\u0275projectionDef:Tm,\u0275\u0275hostProperty:g_,\u0275\u0275property:Vd,\u0275\u0275propertyInterpolate:Wd,\u0275\u0275propertyInterpolate1:_o,\u0275\u0275propertyInterpolate2:Mm,\u0275\u0275propertyInterpolate3:Am,\u0275\u0275propertyInterpolate4:Hd,\u0275\u0275propertyInterpolate5:Sm,\u0275\u0275propertyInterpolate6:Us,\u0275\u0275propertyInterpolate7:wa,\u0275\u0275propertyInterpolate8:Jc,\u0275\u0275propertyInterpolateV:Qg,\u0275\u0275pipe:sb,\u0275\u0275queryRefresh:fb,\u0275\u0275viewQuery:pb,\u0275\u0275loadQuery:gb,\u0275\u0275contentQuery:mb,\u0275\u0275reference:Gf,\u0275\u0275classMap:s_,\u0275\u0275classMapInterpolate1:by,\u0275\u0275classMapInterpolate2:Xd,\u0275\u0275classMapInterpolate3:Mv,\u0275\u0275classMapInterpolate4:Av,\u0275\u0275classMapInterpolate5:Wm,\u0275\u0275classMapInterpolate6:Ey,\u0275\u0275classMapInterpolate7:Xf,\u0275\u0275classMapInterpolate8:Dy,\u0275\u0275classMapInterpolateV:Cy,\u0275\u0275styleMap:bl,\u0275\u0275styleMapInterpolate1:Jf,\u0275\u0275styleMapInterpolate2:wy,\u0275\u0275styleMapInterpolate3:Iy,\u0275\u0275styleMapInterpolate4:ep,\u0275\u0275styleMapInterpolate5:Ty,\u0275\u0275styleMapInterpolate6:xy,\u0275\u0275styleMapInterpolate7:d_,\u0275\u0275styleMapInterpolate8:h_,\u0275\u0275styleMapInterpolateV:f_,\u0275\u0275styleProp:jd,\u0275\u0275stylePropInterpolate1:Hm,\u0275\u0275stylePropInterpolate2:Km,\u0275\u0275stylePropInterpolate3:jm,\u0275\u0275stylePropInterpolate4:tp,\u0275\u0275stylePropInterpolate5:rf,\u0275\u0275stylePropInterpolate6:p_,\u0275\u0275stylePropInterpolate7:My,\u0275\u0275stylePropInterpolate8:Ay,\u0275\u0275stylePropInterpolateV:m_,\u0275\u0275classProp:km,\u0275\u0275advance:kp,\u0275\u0275template:Em,\u0275\u0275text:ef,\u0275\u0275textInterpolate:Yd,\u0275\u0275textInterpolate1:tf,\u0275\u0275textInterpolate2:Zd,\u0275\u0275textInterpolate3:l_,\u0275\u0275textInterpolate4:nf,\u0275\u0275textInterpolate5:zm,\u0275\u0275textInterpolate6:Qf,\u0275\u0275textInterpolate7:qd,\u0275\u0275textInterpolate8:u_,\u0275\u0275textInterpolateV:Qd,\u0275\u0275i18n:N0,\u0275\u0275i18nAttributes:L0,\u0275\u0275i18nExp:Wv,\u0275\u0275i18nStart:Vv,\u0275\u0275i18nEnd:zv,\u0275\u0275i18nApply:F0,\u0275\u0275i18nPostprocess:B0,\u0275\u0275resolveWindow:L_,\u0275\u0275resolveDocument:Ap,\u0275\u0275resolveBody:Qu,\u0275\u0275setComponentScope:Ne,\u0275\u0275setNgModuleScope:nr,\u0275\u0275registerNgModuleType:Cc,\u0275\u0275sanitizeHtml:dl,\u0275\u0275sanitizeStyle:Cf,\u0275\u0275sanitizeResourceUrl:Ys,\u0275\u0275sanitizeScript:Ca,\u0275\u0275sanitizeUrl:Bc,\u0275\u0275sanitizeUrlOrResourceUrl:_u,\u0275\u0275trustConstantHtml:fc,\u0275\u0275trustConstantResourceUrl:Ol,\u0275\u0275validateIframeAttribute:mp,forwardRef:Re,resolveForwardRef:Le};let lp=null;function Eb(n){return void 0!==n.ngModule}function av(n){return!!Fi(n)}const Qm=[];let cv=!1;function Db(n){return Array.isArray(n)?n.every(Db):!!Le(n)}function SE(n,r={}){(function OE(n,r,s=!1){const c=ta(r.declarations||Ke);let h=null;Object.defineProperty(n,Ut,{configurable:!0,get:()=>(null===h&&(h=es().compileNgModule(gc,`ng:///${n.name}/\u0275mod.js`,{type:n,bootstrap:ta(r.bootstrap||Ke).map(Le),declarations:c.map(Le),imports:ta(r.imports||Ke).map(Le).map(xb),exports:ta(r.exports||Ke).map(Le).map(xb),schemas:r.schemas?ta(r.schemas):null,id:r.id||null}),h.schemas||(h.schemas=[])),h)});let _=null;Object.defineProperty(n,tn,{get:()=>{if(null===_){const N=es();_=N.compileFactory(gc,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,deps:Ze(n),target:N.FactoryTarget.NgModule,typeArgumentCount:0})}return _},configurable:!1});let w=null;Object.defineProperty(n,ri,{get:()=>{if(null===w){const N={name:n.name,type:n,providers:r.providers||Ke,imports:[(r.imports||Ke).map(Le),(r.exports||Ke).map(Le)]};w=es().compileInjector(gc,`ng:///${n.name}/\u0275inj.js`,N)}return w},configurable:!1})})(n,r),void 0!==r.id&&Cc(n,r.id),function ME(n,r){Qm.push({moduleType:n,ngModule:r})}(n,r)}function RE(n,r){const s=ta(r.declarations||Ke),c=up(n);s.forEach(h=>{if((h=Le(h)).hasOwnProperty(ee)){Tb(Or(h),c)}else!h.hasOwnProperty(Oe)&&!h.hasOwnProperty(nt)&&(h.ngSelectorScope=n)})}function Tb(n,r){n.directiveDefs=()=>Array.from(r.compilation.directives).map(s=>s.hasOwnProperty(ee)?Or(s):Vi(s)).filter(s=>!!s),n.pipeDefs=()=>Array.from(r.compilation.pipes).map(s=>Ci(s)),n.schemas=r.schemas,n.tView=null}function up(n){if(av(n))return function kE(n){const r=Fi(n,!0);if(null!==r.transitiveCompileScopes)return r.transitiveCompileScopes;const s={schemas:r.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ml(r.imports).forEach(c=>{const h=up(c);h.exported.directives.forEach(_=>s.compilation.directives.add(_)),h.exported.pipes.forEach(_=>s.compilation.pipes.add(_))}),ml(r.declarations).forEach(c=>{Ci(c)?s.compilation.pipes.add(c):s.compilation.directives.add(c)}),ml(r.exports).forEach(c=>{const h=c;if(av(h)){const _=up(h);_.exported.directives.forEach(w=>{s.compilation.directives.add(w),s.exported.directives.add(w)}),_.exported.pipes.forEach(w=>{s.compilation.pipes.add(w),s.exported.pipes.add(w)})}else Ci(h)?s.exported.pipes.add(h):s.exported.directives.add(h)}),r.transitiveCompileScopes=s,s}(n);if(io(n)){if(null!==(Or(n)||Vi(n)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([n]),pipes:new Set}};if(null!==Ci(n))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([n])}}}throw new Error(`${n.name} does not have a module def (\u0275mod property)`)}function xb(n){return Eb(n)?n.ngModule:n}let dv=0;function NE(n,r){let s=null;(function zr(n,r){li(r)&&(lr.set(n,r),kr.add(n))})(n,r),Sb(n,r),Object.defineProperty(n,ee,{get:()=>{if(null===s){const c=es();if(li(r)){const te=[`Component '${n.name}' is not resolved:`];throw r.templateUrl&&te.push(` - templateUrl: ${r.templateUrl}`),r.styleUrls&&r.styleUrls.length&&te.push(` - styleUrls: ${JSON.stringify(r.styleUrls)}`),te.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(te.join("\n"))}const h=function xE(){return lp}();let _=r.preserveWhitespaces;void 0===_&&(_=null!==h&&void 0!==h.preserveWhitespaces&&h.preserveWhitespaces);let w=r.encapsulation;void 0===w&&(w=null!==h&&void 0!==h.defaultEncapsulation?h.defaultEncapsulation:me.Emulated);const N=r.templateUrl||`ng:///${n.name}/template.html`,B={...Ob(n,r),typeSourceSpan:c.createParseSourceSpan("Component",n.name,N),template:r.template||"",preserveWhitespaces:_,styles:r.styles||Ke,animations:r.animations,declarations:[],changeDetection:r.changeDetection,encapsulation:w,interpolation:r.interpolation,viewProviders:r.viewProviders||null};dv++;try{if(B.usesInheritance&&Pb(n),s=c.compileComponent(gc,N,B),r.standalone){const te=ta(r.imports||Ke),{directiveDefs:be,pipeDefs:Ge}=function FE(n,r){let s=null,c=null;return{directiveDefs:()=>{if(null===s){s=[Or(n)];const w=new Set;for(const N of r){const B=Le(N);if(!w.has(B))if(w.add(B),Fi(B)){const te=up(B);for(const be of te.exported.directives){const Ge=Or(be)||Vi(be);Ge&&!w.has(be)&&(w.add(be),s.push(Ge))}}else{const te=Or(B)||Vi(B);te&&s.push(te)}}}return s},pipeDefs:()=>{if(null===c){c=[];const w=new Set;for(const N of r){const B=Le(N);if(!w.has(B))if(w.add(B),Fi(B)){const te=up(B);for(const be of te.exported.pipes){const Ge=Ci(be);Ge&&!w.has(be)&&(w.add(be),c.push(Ge))}}else{const te=Ci(B);te&&c.push(te)}}}return c}}}(n,te);s.directiveDefs=be,s.pipeDefs=Ge,s.dependencies=()=>te.map(Le)}}finally{dv--}if(0===dv&&function AE(){if(!cv){cv=!0;try{for(let n=Qm.length-1;n>=0;n--){const{moduleType:r,ngModule:s}=Qm[n];s.declarations&&s.declarations.every(Db)&&(Qm.splice(n,1),RE(r,s))}}finally{cv=!1}}}(),function BE(n){return void 0!==n.ngSelectorScope}(n)){const te=up(n.ngSelectorScope);Tb(s,te)}if(r.schemas){if(!r.standalone)throw new Error(`The 'schemas' was specified for the ${bt(n)} but is only valid on a component that is standalone.`);s.schemas=r.schemas}else r.standalone&&(s.schemas=[])}return s},configurable:!1})}function Mb(n,r){let s=null;Sb(n,r||{}),Object.defineProperty(n,Oe,{get:()=>{if(null===s){const c=Ab(n,r||{});s=es().compileDirective(gc,c.sourceMapUrl,c.metadata)}return s},configurable:!1})}function Ab(n,r){const s=n&&n.name,c=`ng:///${s}/\u0275dir.js`,h=es(),_=Ob(n,r);return _.typeSourceSpan=h.createParseSourceSpan("Directive",s,c),_.usesInheritance&&Pb(n),{metadata:_,sourceMapUrl:c}}function Sb(n,r){let s=null;Object.defineProperty(n,tn,{get:()=>{if(null===s){const c=Ab(n,r),h=es();s=h.compileFactory(gc,`ng:///${n.name}/\u0275fac.js`,{name:c.metadata.name,type:c.metadata.type,typeArgumentCount:0,deps:Ze(n),target:h.FactoryTarget.Directive})}return s},configurable:!1})}function UE(n){return Object.getPrototypeOf(n.prototype)===Object.prototype}function Ob(n,r){const s=he(),c=s.ownPropMetadata(n);return{name:n.name,type:n,selector:void 0!==r.selector?r.selector:null,host:r.host||Ct,propMetadata:c,inputs:r.inputs||Ke,outputs:r.outputs||Ke,queries:Rb(n,c,kb),lifecycle:{usesOnChanges:s.hasLifecycleHook(n,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!UE(n),exportAs:WE(r.exportAs),providers:r.providers||null,viewQueries:Rb(n,c,Nb),isStandalone:!!r.standalone,hostDirectives:r.hostDirectives?.map(h=>"function"==typeof h?{directive:h}:h)||null}}function Pb(n){const r=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==r;)!Vi(s)&&!Or(s)&&KE(s)&&Mb(s,null),s=Object.getPrototypeOf(s)}function VE(n){return"string"==typeof n?Fb(n):Le(n)}function zE(n,r){return{propertyName:n,predicate:VE(r.selector),descendants:r.descendants,first:r.first,read:r.read?r.read:null,static:!!r.static,emitDistinctChangesOnly:!!r.emitDistinctChangesOnly}}function Rb(n,r,s){const c=[];for(const h in r)if(r.hasOwnProperty(h)){const _=r[h];_.forEach(w=>{if(s(w)){if(!w.selector)throw new Error(`Can't construct a query for the property "${h}" of "${bt(n)}" since the query selector wasn't defined.`);if(_.some(Lb))throw new Error("Cannot combine @Input decorators with query decorators");c.push(zE(h,w))}})}return c}function WE(n){return void 0===n?null:Fb(n)}function kb(n){const r=n.ngMetadataName;return"ContentChild"===r||"ContentChildren"===r}function Nb(n){const r=n.ngMetadataName;return"ViewChild"===r||"ViewChildren"===r}function Lb(n){return"Input"===n.ngMetadataName}function Fb(n){return n.split(",").map(r=>r.trim())}const HE=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function KE(n){const r=he();if(HE.some(c=>r.hasLifecycleHook(n,c)))return!0;const s=r.propMetadata(n);for(const c in s){const h=s[c];for(let _=0;_<h.length;_++){const w=h[_],N=w.ngMetadataName;if(Lb(w)||kb(w)||Nb(w)||"Output"===N||"HostBinding"===N||"HostListener"===N)return!0}}return!1}function Bb(n,r){return{type:n,name:n.name,pipeName:r.name,pure:void 0===r.pure||r.pure,isStandalone:!!r.standalone}}const Ub=$s("Directive",(n={})=>n,void 0,void 0,(n,r)=>Mb(n,r)),$E=$s("Component",(n={})=>({changeDetection:oe.Default,...n}),Ub,void 0,(n,r)=>NE(n,r)),GE=$s("Pipe",n=>({pure:!0,...n}),void 0,void 0,(n,r)=>function jE(n,r){let s=null,c=null;Object.defineProperty(n,tn,{get:()=>{if(null===c){const h=Bb(n,r),_=es(h.type);c=_.compileFactory(gc,`ng:///${h.name}/\u0275fac.js`,{name:h.name,type:h.type,typeArgumentCount:0,deps:Ze(n),target:_.FactoryTarget.Pipe})}return c},configurable:!1}),Object.defineProperty(n,nt,{get:()=>{if(null===s){const h=Bb(n,r);s=es(h.type).compilePipe(gc,`ng:///${h.name}/\u0275pipe.js`,h)}return s},configurable:!1})}(n,r)),YE=Ra("Input",n=>({bindingPropertyName:n})),ZE=Ra("Output",n=>({bindingPropertyName:n})),qE=Ra("HostBinding",n=>({hostPropertyName:n})),QE=Ra("HostListener",(n,r)=>({eventName:n,args:r})),XE=$s("NgModule",n=>n,void 0,void 0,(n,r)=>SE(n,r));function A_(...n){}const Vb=new No("Application Initializer");class cd{constructor(r){this.appInits=r,this.resolve=A_,this.reject=A_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,c)=>{this.resolve=s,this.reject=c})}runInitializers(){if(this.initialized)return;const r=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Cm(h))r.push(h);else if($g(h)){const _=new Promise((w,N)=>{h.subscribe({complete:w,error:N})});r.push(_)}}Promise.all(r).then(()=>{s()}).catch(c=>{this.reject(c)}),0===r.length&&s(),this.initialized=!0}}cd.\u0275fac=function(r){return new(r||cd)(Ce(Vb,8))},cd.\u0275prov=on({token:cd,factory:cd.\u0275fac,providedIn:"root"});const zb=new No("AppId",{providedIn:"root",factory:Wb});function Wb(){return`${hv()}${hv()}${hv()}`}function hv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hb=new No("Platform Initializer"),JE=new No("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eD=(new No("Application Packages Root URL"),new No("AnimationModuleType"));class dp{log(r){console.log(r)}warn(r){console.warn(r)}}dp.\u0275fac=function(r){return new(r||dp)},dp.\u0275prov=on({token:dp,factory:dp.\u0275fac,providedIn:"platform"});const S_=new No("LocaleId",{providedIn:"root",factory:()=>Y(S_,Hn.Optional|Hn.SkipSelf)||function tD(){return typeof $localize<"u"&&$localize.locale||Jd}()}),nD=new No("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});new No("Translations"),new No("TranslationsFormat");var Kb;!function(n){n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Ignore=2]="Ignore"}(Kb||(Kb={}));class rD{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}class hp{compileModuleSync(r){return new Qy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),h=ml(Fi(r).declarations).reduce((_,w)=>{const N=Or(w);return N&&_.push(new Xu(N)),_},[]);return new rD(s,h)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}hp.\u0275fac=function(r){return new(r||hp)},hp.\u0275prov=on({token:hp,factory:hp.\u0275fac,providedIn:"root"});const iD=new No("compilerOptions");const sD=Promise.resolve(0);function fv(n){typeof Zone>"u"?sD.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class El{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Au(!1),this.onMicrotaskEmpty=new Au(!1),this.onStable=new Au(!1),this.onError=new Au(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&s,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function aD(){let n=ir.requestAnimationFrame,r=ir.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function uD(n){const r=()=>{!function lD(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ir,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,mv(n),n.isCheckStableRunning=!0,pv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),mv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,c,h,_,w,N)=>{try{return Gb(n),s.invokeTask(h,_,w,N)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||n.shouldCoalesceRunChangeDetection)&&r(),Yb(n)}},onInvoke:(s,c,h,_,w,N,B)=>{try{return Gb(n),s.invoke(h,_,w,N,B)}finally{n.shouldCoalesceRunChangeDetection&&r(),Yb(n)}},onHasTask:(s,c,h,_)=>{s.hasTask(h,_),c===h&&("microTask"==_.change?(n._hasPendingMicrotasks=_.microTask,mv(n),pv(n)):"macroTask"==_.change&&(n.hasPendingMacrotasks=_.macroTask))},onHandleError:(s,c,h,_)=>(s.handleError(h,_),n.runOutsideAngular(()=>n.onError.emit(_)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!El.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(El.isInAngularZone())throw new Ie(909,!1)}run(r,s,c){return this._inner.run(r,s,c)}runTask(r,s,c,h){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+h,r,cD,A_,A_);try{return _.runTask(w,s,c)}finally{_.cancelTask(w)}}runGuarded(r,s,c){return this._inner.runGuarded(r,s,c)}runOutsideAngular(r){return this._outer.run(r)}}const cD={};function pv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function mv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Gb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Yb(n){n._nesting--,pv(n)}class dD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Au,this.onMicrotaskEmpty=new Au,this.onStable=new Au,this.onError=new Au}run(r,s,c){return r.apply(s,c)}runGuarded(r,s,c){return r.apply(s,c)}runOutsideAngular(r){return r()}runTask(r,s,c,h){return r.apply(s,c)}}const Zb=new No(""),qb=new No("");class fp{constructor(r,s,c){this._ngZone=r,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gv||(function hD(n){gv=n}(c),c.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{El.assertNotInAngularZone(),fv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fv(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,c){let h=-1;s&&s>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),r(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:r,timeoutId:h,updateCb:c})}whenStable(r,s,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,c){return[]}}fp.\u0275fac=function(r){return new(r||fp)(Ce(El),Ce(lf),Ce(qb))},fp.\u0275prov=on({token:fp,factory:fp.\u0275fac});class lf{constructor(){this._applications=new Map}registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return gv?.findTestabilityInTree(this,r,s)??null}}let gv;lf.\u0275fac=function(r){return new(r||lf)},lf.\u0275prov=on({token:lf,factory:lf.\u0275fac,providedIn:"platform"});const ld=!1;let eh=null;const Qb=new No("AllowMultipleToken"),_v=new No("PlatformDestroyListeners"),Xb=new No("appBootstrapListener");function fD(n,r,s){const c=new Qy(s);if(typeof ngJitMode<"u"&&!ngJitMode)return Promise.resolve(c);const h=n.get(iD,[]).concat(r);if(function TE(n){null!==lp&&(n.defaultEncapsulation!==lp.defaultEncapsulation||n.preserveWhitespaces!==lp.preserveWhitespaces)||(lp=n)}({defaultEncapsulation:s0(h.map(te=>te.defaultEncapsulation)),preserveWhitespaces:s0(h.map(te=>te.preserveWhitespaces))}),function Ec(){return 0===lr.size}())return Promise.resolve(c);const _=function vD(n){const r=[];return n.forEach(s=>s&&r.push(...s)),r}(h.map(te=>te.providers));if(0===_.length)return Promise.resolve(c);const w=es(),B=nc.create({providers:_}).get(w.ResourceLoader);return wn(te=>Promise.resolve(B.get(te))).then(()=>c)}class mD{constructor(r,s){this.name=r,this.token=s}}function Jb(n){const r=n.get(Hb,null);r&&r.forEach(s=>s())}function e0(n,r,s=[]){const c=`Platform: ${r}`,h=new No(c);return(_=[])=>{let w=yv();if(!w||w.injector.get(Qb,!1)){const N=[...s,..._,{provide:h,useValue:!0}];n?n(N):function gD(n){if(eh&&!eh.get(Qb,!1))throw new Ie(400,!1);eh=n;const r=n.get(uf);return Jb(n),r}(t0(N,c))}return function yD(n){const r=yv();if(!r)throw new Ie(401,!1);return r}()}}function t0(n=[],r){return nc.create({name:r,providers:[{provide:vh,useValue:"platform"},{provide:_v,useValue:new Set([()=>eh=null])},...n]})}function yv(){return eh?.get(uf)??null}class uf{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,s){const c=r0(s?.ngZone,n0(s)),h=[{provide:El,useValue:c}];return c.run(()=>{const _=nc.create({providers:h,parent:this.injector,name:r.moduleType.name}),w=r.create(_),N=w.injector.get(Eh,null);if(!N)throw new Ie(402,!1);return c.runOutsideAngular(()=>{const B=c.onError.subscribe({next:te=>{N.handleError(te)}});w.onDestroy(()=>{O_(this._modules,w),B.unsubscribe()})}),i0(N,c,()=>{const B=w.injector.get(cd);return B.runInitializers(),B.donePromise.then(()=>(Ny(w.injector.get(S_,Jd)||Jd),this._moduleDoBootstrap(w),w))})})}bootstrapModule(r,s=[]){const c=o0({},s);return fD(this.injector,c,r).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(r){const s=r.injector.get(ud);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(c=>s.bootstrap(c));else{if(!r.instance.ngDoBootstrap)throw new Ie(-403,!1);r.instance.ngDoBootstrap(s)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const r=this._injector.get(_v,null);r&&(r.forEach(s=>s()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}function n0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}function r0(n,r){let s;return s="noop"===n?new dD:("zone.js"===n?void 0:n)||new El(r),s}function i0(n,r,s){try{const c=s();return Cm(c)?c.catch(h=>{throw r.runOutsideAngular(()=>n.handleError(h)),h}):c}catch(c){throw r.runOutsideAngular(()=>n.handleError(c)),c}}function o0(n,r){return n=Array.isArray(r)?r.reduce(o0,n):{...n,...r}}uf.\u0275fac=function(r){return new(r||uf)(Ce(nc))},uf.\u0275prov=on({token:uf,factory:uf.\u0275fac,providedIn:"platform"});class ud{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(r,s,c){this._zone=r,this._injector=s,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new z.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new z.y(w=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{El.assertNotInAngularZone(),fv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{El.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{N.unsubscribe(),B.unsubscribe()}});this.isStable=(0,ue.T)(h,_.pipe((0,Me.B)()))}bootstrap(r,s){ld&&this.warnIfDestroyed();const c=r instanceof Te;if(!this._injector.get(cd).done){const Dt="Cannot bootstrap as there are still asynchronous initializers running."+(!c&&io(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new Ie(405,ld&&Dt)}let _;_=c?r:this._injector.get(mn).resolveComponentFactory(r),this.componentTypes.push(_.componentType);const w=function pD(n){return n.isBoundToModule}(_)?void 0:this._injector.get(ap),N=s||_.selector,B=_.create(nc.NULL,[],N,w),te=B.location.nativeElement,be=B.injector.get(Zb,null);return be?.registerApplication(te),B.onDestroy(()=>{this.detachView(B.hostView),O_(this.components,B),be?.unregisterApplication(te)}),this._loadComponent(B),B}tick(){if(ld&&this.warnIfDestroyed(),this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(r))}finally{this._runningTick=!1}}attachView(r){ld&&this.warnIfDestroyed();const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){ld&&this.warnIfDestroyed();const s=r;O_(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const s=this._injector.get(Xb,[]);s.push(...this._bootstrapListeners),s.forEach(c=>c(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return ld&&this.warnIfDestroyed(),this._destroyListeners.push(r),()=>O_(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Ie(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){ld&&this._destroyed&&console.warn(Et(406,"This instance of the `ApplicationRef` has already been destroyed."))}}function O_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}function s0(n){for(let r=n.length-1;r>=0;r--)if(void 0!==n[r])return n[r]}function bD(){return!1}ud.\u0275fac=function(r){return new(r||ud)(Ce(El),Ce(hl),Ce(Eh))},ud.\u0275prov=on({token:ud,factory:ud.\u0275fac,providedIn:"root"});class c0{}c0.__NG_ELEMENT_ID__=function ED(n){return function DD(n,r,s){if(Ir(n)&&!s){const c=ji(n.index,r);return new Wh(c,c)}if(47&n.type){const c=r[$r];return new Wh(c,r)}return null}(Rr(),dt(),16==(16&n))};class d0{constructor(){}supports(r){return Fd(r)}create(r){return new MD(r)}}const xD=(n,r)=>r;class MD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||xD}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,c=this._removalsHead,h=0,_=null;for(;s||c;){const w=!c||s&&s.currentIndex<f0(c,h,_)?s:c,N=f0(w,h,_),B=w.currentIndex;if(w===c)h--,c=c._nextRemoved;else if(s=s._next,null==w.previousIndex)h++;else{_||(_=[]);const te=N-h,be=B-h;if(te!=be){for(let Dt=0;Dt<te;Dt++){const Zt=Dt<_.length?_[Dt]:_[Dt]=0,bn=Zt+Dt;be<=bn&&bn<te&&(_[Dt]=Zt+1)}_[w.previousIndex]=be-te}}N!==B&&r(w,N,B)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Fd(r))throw new Ie(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let h,_,w,s=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let N=0;N<this.length;N++)_=r[N],w=this._trackByFn(N,_),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,_,w,N)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,w,N),c=!0),s=s._next}else h=0,function pm(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Symbol.iterator]();let c;for(;!(c=s.next()).done;)r(c.value)}}(r,N=>{w=this._trackByFn(h,N),null!==s&&Object.is(s.trackById,w)?(c&&(s=this._verifyReinsertion(s,N,w,h)),Object.is(s.item,N)||this._addIdentityChange(s,N)):(s=this._mismatch(s,N,w,h),c=!0),s=s._next,h++}),this.length=h;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,c,h){let _;return null===r?_=this._itTail:(_=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,_,h)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,_,h)):r=this._addAfter(new AD(s,c),_,h),r}_verifyReinsertion(r,s,c,h){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==_?r=this._reinsertAfter(_,r._prev,h):r.currentIndex!=h&&(r.currentIndex=h,this._addToMoves(r,h)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const h=r._prevRemoved,_=r._nextRemoved;return null===h?this._removalsHead=_:h._nextRemoved=_,null===_?this._removalsTail=h:_._prevRemoved=h,this._insertAfter(r,s,c),this._addToMoves(r,c),r}_moveAfter(r,s,c){return this._unlink(r),this._insertAfter(r,s,c),this._addToMoves(r,c),r}_addAfter(r,s,c){return this._insertAfter(r,s,c),null===this._additionsTail?this._additionsTail=this._additionsHead=r:this._additionsTail=this._additionsTail._nextAdded=r,r}_insertAfter(r,s,c){const h=null===s?this._itHead:s._next;return r._next=h,r._prev=s,null===h?this._itTail=r:h._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new h0),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,c=r._next;return null===s?this._itHead=c:s._next=c,null===c?this._itTail=s:c._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(null===this._movesTail?this._movesTail=this._movesHead=r:this._movesTail=this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new h0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=r:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=r,r}}class AD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===s||s<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const s=r._prevDup,c=r._nextDup;return null===s?this._head=c:s._nextDup=c,null===c?this._tail=s:c._prevDup=s,null===this._head}}class h0{constructor(){this.map=new Map}put(r){const s=r.trackById;let c=this.map.get(s);c||(c=new SD,this.map.set(s,c)),c.add(r)}get(r,s){const c=r,h=this.map.get(c);return h?h.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function f0(n,r,s){const c=n.previousIndex;if(null===c)return c;let h=0;return s&&c<s.length&&(h=s[c]),c+r+h}class p0{constructor(){}supports(r){return r instanceof Map||mm(r)}create(){return new OD}}class OD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||mm(r)))throw new Ie(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,h)=>{if(s&&s.key===h)this._maybeAddToChanges(s,c),this._appendAfter=s,s=s._next;else{const _=this._getOrCreateRecordForKey(h,c);s=this._insertBeforeOrAppend(s,_)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let c=s;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const c=r._prev;return s._next=r,s._prev=c,r._prev=s,c&&(c._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const h=this._records.get(r);this._maybeAddToChanges(h,s);const _=h._prev,w=h._next;return _&&(_._next=w),w&&(w._prev=_),h._next=null,h._prev=null,h}const c=new PD(r);return this._records.set(r,c),c.currentValue=s,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(c=>s(r[c],c))}}class PD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function m0(){return new Su([new d0])}class Su{constructor(r){this.factories=r}static create(r,s){if(null!=s){const c=s.factories.slice();r=r.concat(c)}return new Su(r)}static extend(r){return{provide:Su,useFactory:s=>Su.create(r,s||m0()),deps:[[Su,new na,new Ha]]}}find(r){const s=this.factories.find(c=>c.supports(r));if(null!=s)return s;throw new Ie(901,!1)}}function g0(){return new Ou([new p0])}Su.\u0275prov=on({token:Su,providedIn:"root",factory:m0});class Ou{constructor(r){this.factories=r}static create(r,s){if(s){const c=s.factories.slice();r=r.concat(c)}return new Ou(r)}static extend(r){return{provide:Ou,useFactory:s=>Ou.create(r,s||g0()),deps:[[Ou,new na,new Ha]]}}find(r){const s=this.factories.find(c=>c.supports(r));if(s)return s;throw new Ie(901,!1)}}Ou.\u0275prov=on({token:Ou,providedIn:"root",factory:g0});const RD=[new p0],kD=[new d0],ND=(new Su(kD),new Ou(RD),e0(null,"core",[]));class pp{constructor(r){}}function LD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}pp.\u0275fac=function(r){return new(r||pp)(Ce(ud))},pp.\u0275mod=Cn({type:pp}),pp.\u0275inj=ur({})},4006:(En,rt,S)=>{S.d(rt,{Fj:()=>We,JJ:()=>hr,JL:()=>fi,NI:()=>fr,UX:()=>mr,_Y:()=>Oo,cw:()=>oe,kI:()=>_t,sg:()=>Ur,u:()=>Ki,u5:()=>Wi});var l=S(4650),g=S(6895),z=S(8996),ue=S(4128),Me=S(4004);
/**
         * @license Angular v15.2.5
         * (c) 2010-2022 Google LLC. https://angular.io/
         * License: MIT
         */class we{constructor(T,J){this._renderer=T,this._elementRef=J,this.onChange=ot=>{},this.onTouched=()=>{}}setProperty(T,J){this._renderer.setProperty(this._elementRef.nativeElement,T,J)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}we.\u0275fac=function(T){return new(T||we)(l.Y36(l.Qsj),l.Y36(l.SBq))},we.\u0275dir=l.lG2({type:we});class Pe extends we{}Pe.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(Pe)))(J||Pe)}}(),Pe.\u0275dir=l.lG2({type:Pe,features:[l.qOj]});const le=new l.OlP("NgValueAccessor"),_e={provide:le,useExisting:(0,l.Gpc)(()=>se),multi:!0};class se extends Pe{writeValue(T){this.setProperty("checked",T)}}se.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(se)))(J||se)}}(),se.\u0275dir=l.lG2({type:se,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(T,J){1&T&&l.NdJ("change",function(pn){return J.onChange(pn.target.checked)})("blur",function(){return J.onTouched()})},features:[l._Bn([_e]),l.qOj]});const Re={provide:le,useExisting:(0,l.Gpc)(()=>We),multi:!0};const Xe=new l.OlP("CompositionEventMode");class We extends we{constructor(T,J,ot){super(T,J),this._compositionMode=ot,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Le(){const re=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(re.toLowerCase())}())}writeValue(T){const J=T??"";this.setProperty("value",J)}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}We.\u0275fac=function(T){return new(T||We)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Xe,8))},We.\u0275dir=l.lG2({type:We,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,J){1&T&&l.NdJ("input",function(pn){return J._handleInput(pn.target.value)})("blur",function(){return J.onTouched()})("compositionstart",function(){return J._compositionStart()})("compositionend",function(pn){return J._compositionEnd(pn.target.value)})},features:[l._Bn([Re]),l.qOj]});const St=!1;function Ft(re){return null==re||("string"==typeof re||Array.isArray(re))&&0===re.length}function Ie(re){return null!=re&&"number"==typeof re.length}const Et=new l.OlP("NgValidators"),gt=new l.OlP("NgAsyncValidators"),bt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _t{static min(T){return Be(T)}static max(T){return at(T)}static required(T){return qt(T)}static requiredTrue(T){return Ye(T)}static email(T){return X(T)}static minLength(T){return Bt(T)}static maxLength(T){return _n(T)}static pattern(T){return en(T)}static nullValidator(T){return null}static compose(T){return Gt(T)}static composeAsync(T){return it(T)}}function Be(re){return T=>{if(Ft(T.value)||Ft(re))return null;const J=parseFloat(T.value);return!isNaN(J)&&J<re?{min:{min:re,actual:T.value}}:null}}function at(re){return T=>{if(Ft(T.value)||Ft(re))return null;const J=parseFloat(T.value);return!isNaN(J)&&J>re?{max:{max:re,actual:T.value}}:null}}function qt(re){return Ft(re.value)?{required:!0}:null}function Ye(re){return!0===re.value?null:{required:!0}}function X(re){return Ft(re.value)||bt.test(re.value)?null:{email:!0}}function Bt(re){return T=>Ft(T.value)||!Ie(T.value)?null:T.value.length<re?{minlength:{requiredLength:re,actualLength:T.value.length}}:null}function _n(re){return T=>Ie(T.value)&&T.value.length>re?{maxlength:{requiredLength:re,actualLength:T.value.length}}:null}function en(re){if(!re)return jn;let T,J;return"string"==typeof re?(J="","^"!==re.charAt(0)&&(J+="^"),J+=re,"$"!==re.charAt(re.length-1)&&(J+="$"),T=new RegExp(J)):(J=re.toString(),T=re),ot=>{if(Ft(ot.value))return null;const pn=ot.value;return T.test(pn)?null:{pattern:{requiredPattern:J,actualValue:pn}}}}function jn(re){return null}function Pn(re){return null!=re}function ft(re){const T=(0,l.QGY)(re)?(0,z.D)(re):re;if(St&&!(0,l.CqO)(T)){let J="Expected async validator to return Promise or Observable.";throw"object"==typeof re&&(J+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,J)}return T}function Ot(re){let T={};return re.forEach(J=>{T=null!=J?{...T,...J}:T}),0===Object.keys(T).length?null:T}function Rt(re,T){return T.map(J=>J(re))}function Ht(re){return re.map(T=>function Lt(re){return!re.validate}(T)?T:J=>T.validate(J))}function Gt(re){if(!re)return null;const T=re.filter(Pn);return 0==T.length?null:function(J){return Ot(Rt(J,T))}}function Qt(re){return null!=re?Gt(Ht(re)):null}function it(re){if(!re)return null;const T=re.filter(Pn);return 0==T.length?null:function(J){const ot=Rt(J,T).map(ft);return(0,ue.D)(ot).pipe((0,Me.U)(Ot))}}function It(re){return null!=re?it(Ht(re)):null}function Mt(re,T){return null===re?[T]:Array.isArray(re)?[...re,T]:[re,T]}function vn(re){return re._rawValidators}function on(re){return re._rawAsyncValidators}function xn(re){return re?Array.isArray(re)?re:[re]:[]}function ur(re,T){return Array.isArray(re)?re.includes(T):re===T}function br(re,T){const J=xn(T);return xn(re).forEach(pn=>{ur(J,pn)||J.push(pn)}),J}function Un(re,T){return xn(T).filter(J=>!ur(re,J))}class vr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(T){this._rawValidators=T||[],this._composedValidatorFn=Qt(this._rawValidators)}_setAsyncValidators(T){this._rawAsyncValidators=T||[],this._composedAsyncValidatorFn=It(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(T){this._onDestroyCallbacks.push(T)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(T=>T()),this._onDestroyCallbacks=[]}reset(T){this.control&&this.control.reset(T)}hasError(T,J){return!!this.control&&this.control.hasError(T,J)}getError(T,J){return this.control?this.control.getError(T,J):null}}class Nr extends vr{get formDirective(){return null}get path(){return null}}class Jn extends vr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Br{constructor(T){this._cd=T}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}class hr extends Br{constructor(T){super(T)}}hr.\u0275fac=function(T){return new(T||hr)(l.Y36(Jn,2))},hr.\u0275dir=l.lG2({type:hr,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,J){2&T&&l.ekj("ng-untouched",J.isUntouched)("ng-touched",J.isTouched)("ng-pristine",J.isPristine)("ng-dirty",J.isDirty)("ng-valid",J.isValid)("ng-invalid",J.isInvalid)("ng-pending",J.isPending)},features:[l.qOj]});class fi extends Br{constructor(T){super(T)}}fi.\u0275fac=function(T){return new(T||fi)(l.Y36(Nr,10))},fi.\u0275dir=l.lG2({type:fi,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,J){2&T&&l.ekj("ng-untouched",J.isUntouched)("ng-touched",J.isTouched)("ng-pristine",J.isPristine)("ng-dirty",J.isDirty)("ng-valid",J.isValid)("ng-invalid",J.isInvalid)("ng-pending",J.isPending)("ng-submitted",J.isSubmitted)},features:[l.qOj]});function jr(re,T){return re?`with name: '${T}'`:`at index: ${T}`}const Mn=!1,Xt="VALID",de="INVALID",Ce="PENDING",Ee="DISABLED";function Y(re){return(Zn(re)?re.validators:re)||null}function pt(re,T){return(Zn(T)?T.asyncValidators:re)||null}function Zn(re){return null!=re&&!Array.isArray(re)&&"object"==typeof re}function He(re,T,J){const ot=re.controls;if(!(T?Object.keys(ot):ot).length)throw new l.vHH(1e3,Mn?function di(re){return`\n    There are no form controls registered with this ${re?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(T):"");if(!ot[J])throw new l.vHH(1001,Mn?function Wn(re,T){return`Cannot find form control ${jr(re,T)}`}(T,J):"")}function Ue(re,T,J){re._forEachChild((ot,pn)=>{if(void 0===J[pn])throw new l.vHH(1002,Mn?function xr(re,T){return`Must supply a value for form control ${jr(re,T)}`}(T,pn):"")})}class fe{constructor(T,J){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(T),this._assignAsyncValidators(J)}get validator(){return this._composedValidatorFn}set validator(T){this._rawValidators=this._composedValidatorFn=T}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(T){this._rawAsyncValidators=this._composedAsyncValidatorFn=T}get parent(){return this._parent}get valid(){return this.status===Xt}get invalid(){return this.status===de}get pending(){return this.status==Ce}get disabled(){return this.status===Ee}get enabled(){return this.status!==Ee}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(T){this._assignValidators(T)}setAsyncValidators(T){this._assignAsyncValidators(T)}addValidators(T){this.setValidators(br(T,this._rawValidators))}addAsyncValidators(T){this.setAsyncValidators(br(T,this._rawAsyncValidators))}removeValidators(T){this.setValidators(Un(T,this._rawValidators))}removeAsyncValidators(T){this.setAsyncValidators(Un(T,this._rawAsyncValidators))}hasValidator(T){return ur(this._rawValidators,T)}hasAsyncValidator(T){return ur(this._rawAsyncValidators,T)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(T={}){this.touched=!0,this._parent&&!T.onlySelf&&this._parent.markAsTouched(T)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(T=>T.markAllAsTouched())}markAsUntouched(T={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(J=>{J.markAsUntouched({onlySelf:!0})}),this._parent&&!T.onlySelf&&this._parent._updateTouched(T)}markAsDirty(T={}){this.pristine=!1,this._parent&&!T.onlySelf&&this._parent.markAsDirty(T)}markAsPristine(T={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(J=>{J.markAsPristine({onlySelf:!0})}),this._parent&&!T.onlySelf&&this._parent._updatePristine(T)}markAsPending(T={}){this.status=Ce,!1!==T.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!T.onlySelf&&this._parent.markAsPending(T)}disable(T={}){const J=this._parentMarkedDirty(T.onlySelf);this.status=Ee,this.errors=null,this._forEachChild(ot=>{ot.disable({...T,onlySelf:!0})}),this._updateValue(),!1!==T.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...T,skipPristineCheck:J}),this._onDisabledChange.forEach(ot=>ot(!0))}enable(T={}){const J=this._parentMarkedDirty(T.onlySelf);this.status=Xt,this._forEachChild(ot=>{ot.enable({...T,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent}),this._updateAncestors({...T,skipPristineCheck:J}),this._onDisabledChange.forEach(ot=>ot(!1))}_updateAncestors(T){this._parent&&!T.onlySelf&&(this._parent.updateValueAndValidity(T),T.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(T){this._parent=T}getRawValue(){return this.value}updateValueAndValidity(T={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xt||this.status===Ce)&&this._runAsyncValidator(T.emitEvent)),!1!==T.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!T.onlySelf&&this._parent.updateValueAndValidity(T)}_updateTreeValidity(T={emitEvent:!0}){this._forEachChild(J=>J._updateTreeValidity(T)),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ee:Xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(T){if(this.asyncValidator){this.status=Ce,this._hasOwnPendingAsyncValidator=!0;const J=ft(this.asyncValidator(this));this._asyncValidationSubscription=J.subscribe(ot=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ot,{emitEvent:T})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(T,J={}){this.errors=T,this._updateControlsErrors(!1!==J.emitEvent)}get(T){let J=T;return null==J||(Array.isArray(J)||(J=J.split(".")),0===J.length)?null:J.reduce((ot,pn)=>ot&&ot._find(pn),this)}getError(T,J){const ot=J?this.get(J):this;return ot&&ot.errors?ot.errors[T]:null}hasError(T,J){return!!this.getError(T,J)}get root(){let T=this;for(;T._parent;)T=T._parent;return T}_updateControlsErrors(T){this.status=this._calculateStatus(),T&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(T)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Ee:this.errors?de:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ce)?Ce:this._anyControlsHaveStatus(de)?de:Xt}_anyControlsHaveStatus(T){return this._anyControls(J=>J.status===T)}_anyControlsDirty(){return this._anyControls(T=>T.dirty)}_anyControlsTouched(){return this._anyControls(T=>T.touched)}_updatePristine(T={}){this.pristine=!this._anyControlsDirty(),this._parent&&!T.onlySelf&&this._parent._updatePristine(T)}_updateTouched(T={}){this.touched=this._anyControlsTouched(),this._parent&&!T.onlySelf&&this._parent._updateTouched(T)}_registerOnCollectionChange(T){this._onCollectionChange=T}_setUpdateStrategy(T){Zn(T)&&null!=T.updateOn&&(this._updateOn=T.updateOn)}_parentMarkedDirty(T){const J=this._parent&&this._parent.dirty;return!T&&!!J&&!this._parent._anyControlsDirty()}_find(T){return null}_assignValidators(T){this._rawValidators=Array.isArray(T)?T.slice():T,this._composedValidatorFn=function Se(re){return Array.isArray(re)?Qt(re):re||null}(this._rawValidators)}_assignAsyncValidators(T){this._rawAsyncValidators=Array.isArray(T)?T.slice():T,this._composedAsyncValidatorFn=function yn(re){return Array.isArray(re)?It(re):re||null}(this._rawAsyncValidators)}}class oe extends fe{constructor(T,J,ot){super(Y(J),pt(ot,J)),this.controls=T,this._initObservables(),this._setUpdateStrategy(J),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(T,J){return this.controls[T]?this.controls[T]:(this.controls[T]=J,J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange),J)}addControl(T,J,ot={}){this.registerControl(T,J),this.updateValueAndValidity({emitEvent:ot.emitEvent}),this._onCollectionChange()}removeControl(T,J={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),delete this.controls[T],this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}setControl(T,J,ot={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),delete this.controls[T],J&&this.registerControl(T,J),this.updateValueAndValidity({emitEvent:ot.emitEvent}),this._onCollectionChange()}contains(T){return this.controls.hasOwnProperty(T)&&this.controls[T].enabled}setValue(T,J={}){Ue(this,!0,T),Object.keys(T).forEach(ot=>{He(this,!0,ot),this.controls[ot].setValue(T[ot],{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J)}patchValue(T,J={}){null!=T&&(Object.keys(T).forEach(ot=>{const pn=this.controls[ot];pn&&pn.patchValue(T[ot],{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J))}reset(T={},J={}){this._forEachChild((ot,pn)=>{ot.reset(T[pn],{onlySelf:!0,emitEvent:J.emitEvent})}),this._updatePristine(J),this._updateTouched(J),this.updateValueAndValidity(J)}getRawValue(){return this._reduceChildren({},(T,J,ot)=>(T[ot]=J.getRawValue(),T))}_syncPendingControls(){let T=this._reduceChildren(!1,(J,ot)=>!!ot._syncPendingControls()||J);return T&&this.updateValueAndValidity({onlySelf:!0}),T}_forEachChild(T){Object.keys(this.controls).forEach(J=>{const ot=this.controls[J];ot&&T(ot,J)})}_setUpControls(){this._forEachChild(T=>{T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(T){for(const[J,ot]of Object.entries(this.controls))if(this.contains(J)&&T(ot))return!0;return!1}_reduceValue(){return this._reduceChildren({},(J,ot,pn)=>((ot.enabled||this.disabled)&&(J[pn]=ot.value),J))}_reduceChildren(T,J){let ot=T;return this._forEachChild((pn,st)=>{ot=J(ot,pn,st)}),ot}_allControlsDisabled(){for(const T of Object.keys(this.controls))if(this.controls[T].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(T){return this.controls.hasOwnProperty(T)?this.controls[T]:null}}class Ke extends oe{}const Oe=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nt}),nt="always";function Ut(re,T){return[...T.path,re]}function tn(re,T,J=nt){Ne(re,T),T.valueAccessor.writeValue(re.value),(re.disabled||"always"===J)&&T.valueAccessor.setDisabledState?.(re.disabled),function Kt(re,T){T.valueAccessor.registerOnChange(J=>{re._pendingValue=J,re._pendingChange=!0,re._pendingDirty=!0,"change"===re.updateOn&&nr(re,T)})}(re,T),function Zi(re,T){const J=(ot,pn)=>{T.valueAccessor.writeValue(ot),pn&&T.viewToModelUpdate(ot)};re.registerOnChange(J),T._registerOnDestroy(()=>{re._unregisterOnChange(J)})}(re,T),function Cn(re,T){T.valueAccessor.registerOnTouched(()=>{re._pendingTouched=!0,"blur"===re.updateOn&&re._pendingChange&&nr(re,T),"submit"!==re.updateOn&&re.markAsTouched()})}(re,T),function q(re,T){if(T.valueAccessor.setDisabledState){const J=ot=>{T.valueAccessor.setDisabledState(ot)};re.registerOnDisabledChange(J),T._registerOnDestroy(()=>{re._unregisterOnDisabledChange(J)})}}(re,T)}function On(re,T,J=!0){const ot=()=>{};T.valueAccessor&&(T.valueAccessor.registerOnChange(ot),T.valueAccessor.registerOnTouched(ot)),yt(re,T),re&&(T._invokeOnDestroyCallbacks(),re._registerOnCollectionChange(()=>{}))}function lt(re,T){re.forEach(J=>{J.registerOnValidatorChange&&J.registerOnValidatorChange(T)})}function Ne(re,T){const J=vn(re);null!==T.validator?re.setValidators(Mt(J,T.validator)):"function"==typeof J&&re.setValidators([J]);const ot=on(re);null!==T.asyncValidator?re.setAsyncValidators(Mt(ot,T.asyncValidator)):"function"==typeof ot&&re.setAsyncValidators([ot]);const pn=()=>re.updateValueAndValidity();lt(T._rawValidators,pn),lt(T._rawAsyncValidators,pn)}function yt(re,T){let J=!1;if(null!==re){if(null!==T.validator){const pn=vn(re);if(Array.isArray(pn)&&pn.length>0){const st=pn.filter(ut=>ut!==T.validator);st.length!==pn.length&&(J=!0,re.setValidators(st))}}if(null!==T.asyncValidator){const pn=on(re);if(Array.isArray(pn)&&pn.length>0){const st=pn.filter(ut=>ut!==T.asyncValidator);st.length!==pn.length&&(J=!0,re.setAsyncValidators(st))}}}const ot=()=>{};return lt(T._rawValidators,ot),lt(T._rawAsyncValidators,ot),J}function nr(re,T){re._pendingDirty&&re.markAsDirty(),re.setValue(re._pendingValue,{emitModelToViewChange:!1}),T.viewToModelUpdate(re._pendingValue),re._pendingChange=!1}function Ui(re,T){Ne(re,T)}function ai(re,T){if(!re.hasOwnProperty("model"))return!1;const J=re.model;return!!J.isFirstChange()||!Object.is(T,J.currentValue)}function At(re,T){re._syncPendingControls(),T.forEach(J=>{const ot=J.control;"submit"===ot.updateOn&&ot._pendingChange&&(J.viewToModelUpdate(ot._pendingValue),ot._pendingChange=!1)})}function G(re,T){if(!T)return null;let J,ot,pn;return Array.isArray(T),T.forEach(st=>{st.constructor===We?J=st:function Vn(re){return Object.getPrototypeOf(re.constructor)===Pe}(st)?ot=st:pn=st}),pn||ot||J||null}const xt={provide:Nr,useExisting:(0,l.Gpc)(()=>In)},cn=Promise.resolve();class In extends Nr{constructor(T,J,ot){super(),this.callSetDisabledState=ot,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new oe({},Qt(T),It(J))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(T){cn.then(()=>{const J=this._findContainer(T.path);T.control=J.registerControl(T.name,T.control),tn(T.control,T,this.callSetDisabledState),T.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(T)})}getControl(T){return this.form.get(T.path)}removeControl(T){cn.then(()=>{const J=this._findContainer(T.path);J&&J.removeControl(T.name),this._directives.delete(T)})}addFormGroup(T){cn.then(()=>{const J=this._findContainer(T.path),ot=new oe({});Ui(ot,T),J.registerControl(T.name,ot),ot.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(T){cn.then(()=>{const J=this._findContainer(T.path);J&&J.removeControl(T.name)})}getFormGroup(T){return this.form.get(T.path)}updateModel(T,J){cn.then(()=>{this.form.get(T.path).setValue(J)})}setValue(T){this.control.setValue(T)}onSubmit(T){return this.submitted=!0,At(this.form,this._directives),this.ngSubmit.emit(T),"dialog"===T?.target?.method}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(T){return T.pop(),T.length?this.form.get(T):this.form}}function zn(re,T){const J=re.indexOf(T);J>-1&&re.splice(J,1)}function Er(re){return"object"==typeof re&&null!==re&&2===Object.keys(re).length&&"value"in re&&"disabled"in re}In.\u0275fac=function(T){return new(T||In)(l.Y36(Et,10),l.Y36(gt,10),l.Y36(Oe,8))},In.\u0275dir=l.lG2({type:In,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(T,J){1&T&&l.NdJ("submit",function(pn){return J.onSubmit(pn)})("reset",function(){return J.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([xt]),l.qOj]});const fr=class extends fe{constructor(T=null,J,ot){super(Y(J),pt(ot,J)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(T),this._setUpdateStrategy(J),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zn(J)&&(J.nonNullable||J.initialValueIsDefault)&&(Er(T)?this.defaultValue=T.value:this.defaultValue=T)}setValue(T,J={}){this.value=this._pendingValue=T,this._onChange.length&&!1!==J.emitModelToViewChange&&this._onChange.forEach(ot=>ot(this.value,!1!==J.emitViewToModelChange)),this.updateValueAndValidity(J)}patchValue(T,J={}){this.setValue(T,J)}reset(T=this.defaultValue,J={}){this._applyFormState(T),this.markAsPristine(J),this.markAsUntouched(J),this.setValue(this.value,J),this._pendingChange=!1}_updateValue(){}_anyControls(T){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(T){this._onChange.push(T)}_unregisterOnChange(T){zn(this._onChange,T)}registerOnDisabledChange(T){this._onDisabledChange.push(T)}_unregisterOnDisabledChange(T){zn(this._onDisabledChange,T)}_forEachChild(T){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(T){Er(T)?(this.value=this._pendingValue=T.value,T.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=T}};class Qe extends Nr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ut(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}Qe.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(Qe)))(J||Qe)}}(),Qe.\u0275dir=l.lG2({type:Qe,features:[l.qOj]});const $r={provide:Nr,useExisting:(0,l.Gpc)(()=>_r)};class _r extends Qe{constructor(T,J,ot){super(),this._parent=T,this._setValidators(J),this._setAsyncValidators(ot)}_checkParentType(){!(this._parent instanceof _r)&&this._parent}}_r.\u0275fac=function(T){return new(T||_r)(l.Y36(Nr,5),l.Y36(Et,10),l.Y36(gt,10))},_r.\u0275dir=l.lG2({type:_r,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[l._Bn([$r]),l.qOj]});const zi={provide:Jn,useExisting:(0,l.Gpc)(()=>_i)},Ii=Promise.resolve();class _i extends Jn{constructor(T,J,ot,pn,st,ut){super(),this._changeDetectorRef=st,this.callSetDisabledState=ut,this.control=new fr,this._registered=!1,this.update=new l.vpe,this._parent=T,this._setValidators(J),this._setAsyncValidators(ot),this.valueAccessor=G(0,pn)}ngOnChanges(T){if(this._checkForErrors(),!this._registered||"name"in T){if(this._registered&&(this._checkName(),this.formDirective)){const J=T.name.previousValue;this.formDirective.removeControl({name:J,path:this._getPath(J)})}this._setUpControl()}"isDisabled"in T&&this._updateDisabled(T),ai(T,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(T){Ii.then(()=>{this.control.setValue(T,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(T){const J=T.isDisabled.currentValue,ot=0!==J&&(0,l.D6c)(J);Ii.then(()=>{ot&&!this.control.disabled?this.control.disable():!ot&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(T){return this._parent?Ut(T,this._parent):[T]}}_i.\u0275fac=function(T){return new(T||_i)(l.Y36(Nr,9),l.Y36(Et,10),l.Y36(gt,10),l.Y36(le,10),l.Y36(l.sBO,8),l.Y36(Oe,8))},_i.\u0275dir=l.lG2({type:_i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([zi]),l.qOj,l.TTD]});class Oo{}Oo.\u0275fac=function(T){return new(T||Oo)},Oo.\u0275dir=l.lG2({type:Oo,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});const Wr={provide:le,useExisting:(0,l.Gpc)(()=>jo),multi:!0};class jo extends Pe{writeValue(T){const J=T??"";this.setProperty("value",J)}registerOnChange(T){this.onChange=J=>{T(""==J?null:parseFloat(J))}}}jo.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(jo)))(J||jo)}}(),jo.\u0275dir=l.lG2({type:jo,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(T,J){1&T&&l.NdJ("input",function(pn){return J.onChange(pn.target.value)})("blur",function(){return J.onTouched()})},features:[l._Bn([Wr]),l.qOj]});const si={provide:le,useExisting:(0,l.Gpc)(()=>Ar),multi:!0};class pr{}pr.\u0275fac=function(T){return new(T||pr)},pr.\u0275mod=l.oAB({type:pr}),pr.\u0275inj=l.cJS({});class pi{constructor(){this._accessors=[]}add(T,J){this._accessors.push([T,J])}remove(T){for(let J=this._accessors.length-1;J>=0;--J)if(this._accessors[J][1]===T)return void this._accessors.splice(J,1)}select(T){this._accessors.forEach(J=>{this._isSameGroup(J,T)&&J[1]!==T&&J[1].fireUncheck(T.value)})}_isSameGroup(T,J){return!!T[0].control&&(T[0]._parent===J._control._parent&&T[1].name===J.name)}}pi.\u0275fac=function(T){return new(T||pi)},pi.\u0275prov=l.Yz7({token:pi,factory:pi.\u0275fac,providedIn:pr});class Ar extends Pe{constructor(T,J,ot,pn){super(T,J),this._registry=ot,this._injector=pn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,l.f3M)(Oe,{optional:!0})??nt}ngOnInit(){this._control=this._injector.get(Jn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(T){this._state=T===this.value,this.setProperty("checked",this._state)}registerOnChange(T){this._fn=T,this.onChange=()=>{T(this.value),this._registry.select(this)}}setDisabledState(T){(this.setDisabledStateFired||T||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",T),this.setDisabledStateFired=!0}fireUncheck(T){this.writeValue(T)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}}Ar.\u0275fac=function(T){return new(T||Ar)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(pi),l.Y36(l.zs3))},Ar.\u0275dir=l.lG2({type:Ar,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(T,J){1&T&&l.NdJ("change",function(){return J.onChange()})("blur",function(){return J.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l._Bn([si]),l.qOj]});const no={provide:le,useExisting:(0,l.Gpc)(()=>yo),multi:!0};class yo extends Pe{writeValue(T){this.setProperty("value",parseFloat(T))}registerOnChange(T){this.onChange=J=>{T(""==J?null:parseFloat(J))}}}yo.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(yo)))(J||yo)}}(),yo.\u0275dir=l.lG2({type:yo,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(T,J){1&T&&l.NdJ("change",function(pn){return J.onChange(pn.target.value)})("input",function(pn){return J.onChange(pn.target.value)})("blur",function(){return J.onTouched()})},features:[l._Bn([no]),l.qOj]});const qr=new l.OlP("NgModelWithFormControlWarning"),xi={provide:Jn,useExisting:(0,l.Gpc)(()=>Jr)};class Jr extends Jn{set isDisabled(T){}constructor(T,J,ot,pn,st){super(),this._ngModelWarningConfig=pn,this.callSetDisabledState=st,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(T),this._setAsyncValidators(J),this.valueAccessor=G(0,ot)}ngOnChanges(T){if(this._isControlChanged(T)){const J=T.form.previousValue;J&&On(J,this,!1),tn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ai(T,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&On(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}_isControlChanged(T){return T.hasOwnProperty("form")}}Jr._ngModelWarningSentOnce=!1,Jr.\u0275fac=function(T){return new(T||Jr)(l.Y36(Et,10),l.Y36(gt,10),l.Y36(le,10),l.Y36(qr,8),l.Y36(Oe,8))},Jr.\u0275dir=l.lG2({type:Jr,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([xi]),l.qOj,l.TTD]});const Ir={provide:Nr,useExisting:(0,l.Gpc)(()=>Ur)};class Ur extends Nr{constructor(T,J,ot){super(),this.callSetDisabledState=ot,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(T),this._setAsyncValidators(J)}ngOnChanges(T){this._checkFormPresent(),T.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(T){const J=this.form.get(T.path);return tn(J,T,this.callSetDisabledState),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(T),J}getControl(T){return this.form.get(T.path)}removeControl(T){On(T.control||null,T,!1),function ge(re,T){const J=re.indexOf(T);J>-1&&re.splice(J,1)}(this.directives,T)}addFormGroup(T){this._setUpFormContainer(T)}removeFormGroup(T){this._cleanUpFormContainer(T)}getFormGroup(T){return this.form.get(T.path)}addFormArray(T){this._setUpFormContainer(T)}removeFormArray(T){this._cleanUpFormContainer(T)}getFormArray(T){return this.form.get(T.path)}updateModel(T,J){this.form.get(T.path).setValue(J)}onSubmit(T){return this.submitted=!0,At(this.form,this.directives),this.ngSubmit.emit(T),"dialog"===T?.target?.method}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_updateDomValue(){this.directives.forEach(T=>{const J=T.control,ot=this.form.get(T.path);J!==ot&&(On(J||null,T),ot instanceof fr&&(tn(ot,T,this.callSetDisabledState),T.control=ot))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(T){const J=this.form.get(T.path);Ui(J,T),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(T){if(this.form){const J=this.form.get(T.path);J&&function Ti(re,T){return yt(re,T)}(J,T)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ne(this.form,this),this._oldForm&&yt(this._oldForm,this)}_checkFormPresent(){this.form}}Ur.\u0275fac=function(T){return new(T||Ur)(l.Y36(Et,10),l.Y36(gt,10),l.Y36(Oe,8))},Ur.\u0275dir=l.lG2({type:Ur,selectors:[["","formGroup",""]],hostBindings:function(T,J){1&T&&l.NdJ("submit",function(pn){return J.onSubmit(pn)})("reset",function(){return J.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Ir]),l.qOj,l.TTD]});const vo={provide:Nr,useExisting:(0,l.Gpc)(()=>Si)};class Si extends Qe{constructor(T,J,ot){super(),this._parent=T,this._setValidators(J),this._setAsyncValidators(ot)}_checkParentType(){Bo(this._parent)}}Si.\u0275fac=function(T){return new(T||Si)(l.Y36(Nr,13),l.Y36(Et,10),l.Y36(gt,10))},Si.\u0275dir=l.lG2({type:Si,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l._Bn([vo]),l.qOj]});const ki={provide:Nr,useExisting:(0,l.Gpc)(()=>Pr)};class Pr extends Nr{constructor(T,J,ot){super(),this._parent=T,this._setValidators(J),this._setAsyncValidators(ot)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ut(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Bo(this._parent)}}function Bo(re){return!(re instanceof Si||re instanceof Ur||re instanceof Pr)}Pr.\u0275fac=function(T){return new(T||Pr)(l.Y36(Nr,13),l.Y36(Et,10),l.Y36(gt,10))},Pr.\u0275dir=l.lG2({type:Pr,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l._Bn([ki]),l.qOj]});const oo={provide:Jn,useExisting:(0,l.Gpc)(()=>Ki)};class Ki extends Jn{set isDisabled(T){}constructor(T,J,ot,pn,st){super(),this._ngModelWarningConfig=st,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=T,this._setValidators(J),this._setAsyncValidators(ot),this.valueAccessor=G(0,pn)}ngOnChanges(T){this._added||this._setUpControl(),ai(T,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}get path(){return Ut(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}Ki._ngModelWarningSentOnce=!1,Ki.\u0275fac=function(T){return new(T||Ki)(l.Y36(Nr,13),l.Y36(Et,10),l.Y36(gt,10),l.Y36(le,10),l.Y36(qr,8))},Ki.\u0275dir=l.lG2({type:Ki,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([oo]),l.qOj,l.TTD]});const so={provide:le,useExisting:(0,l.Gpc)(()=>po),multi:!0};function ko(re,T){return null==re?`${T}`:(T&&"object"==typeof T&&(T="Object"),`${re}: ${T}`.slice(0,50))}class po extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){this.value=T;const ot=ko(this._getOptionId(T),T);this.setProperty("value",ot)}registerOnChange(T){this.onChange=J=>{this.value=this._getOptionValue(J),T(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(T){for(const J of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(J),T))return J;return null}_getOptionValue(T){const J=function Po(re){return re.split(":")[0]}(T);return this._optionMap.has(J)?this._optionMap.get(J):T}}po.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(po)))(J||po)}}(),po.\u0275dir=l.lG2({type:po,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(T,J){1&T&&l.NdJ("change",function(pn){return J.onChange(pn.target.value)})("blur",function(){return J.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([so]),l.qOj]});class Io{constructor(T,J,ot){this._element=T,this._renderer=J,this._select=ot,this._select&&(this.id=this._select._registerOption())}set ngValue(T){null!=this._select&&(this._select._optionMap.set(this.id,T),this._setElementValue(ko(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._setElementValue(T),this._select&&this._select.writeValue(this._select.value)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}Io.\u0275fac=function(T){return new(T||Io)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(po,9))},Io.\u0275dir=l.lG2({type:Io,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});const Oi={provide:le,useExisting:(0,l.Gpc)(()=>Pi),multi:!0};function Ms(re,T){return null==re?`${T}`:("string"==typeof T&&(T=`'${T}'`),T&&"object"==typeof T&&(T="Object"),`${re}: ${T}`.slice(0,50))}class Pi extends Pe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){let J;if(this.value=T,Array.isArray(T)){const ot=T.map(pn=>this._getOptionId(pn));J=(pn,st)=>{pn._setSelected(ot.indexOf(st.toString())>-1)}}else J=(ot,pn)=>{ot._setSelected(!1)};this._optionMap.forEach(J)}registerOnChange(T){this.onChange=J=>{const ot=[],pn=J.selectedOptions;if(void 0!==pn){const st=pn;for(let ut=0;ut<st.length;ut++){const Tt=st[ut],dt=this._getOptionValue(Tt.value);ot.push(dt)}}else{const st=J.options;for(let ut=0;ut<st.length;ut++){const Tt=st[ut];if(Tt.selected){const dt=this._getOptionValue(Tt.value);ot.push(dt)}}}this.value=ot,T(ot)}}_registerOption(T){const J=(this._idCounter++).toString();return this._optionMap.set(J,T),J}_getOptionId(T){for(const J of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(J)._value,T))return J;return null}_getOptionValue(T){const J=function To(re){return re.split(":")[0]}(T);return this._optionMap.has(J)?this._optionMap.get(J)._value:T}}Pi.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(Pi)))(J||Pi)}}(),Pi.\u0275dir=l.lG2({type:Pi,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(T,J){1&T&&l.NdJ("change",function(pn){return J.onChange(pn.target)})("blur",function(){return J.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Oi]),l.qOj]});class Gr{constructor(T,J,ot){this._element=T,this._renderer=J,this._select=ot,this._select&&(this.id=this._select._registerOption(this))}set ngValue(T){null!=this._select&&(this._value=T,this._setElementValue(Ms(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._select?(this._value=T,this._setElementValue(Ms(this.id,T)),this._select.writeValue(this._select.value)):this._setElementValue(T)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}_setSelected(T){this._renderer.setProperty(this._element.nativeElement,"selected",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function $o(re){return"number"==typeof re?re:parseInt(re,10)}function lo(re){return"number"==typeof re?re:parseFloat(re)}Gr.\u0275fac=function(T){return new(T||Gr)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Pi,9))},Gr.\u0275dir=l.lG2({type:Gr,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});class bo{constructor(){this._validator=jn}ngOnChanges(T){if(this.inputName in T){const J=this.normalizeInput(T[this.inputName].currentValue);this._enabled=this.enabled(J),this._validator=this._enabled?this.createValidator(J):jn,this._onChange&&this._onChange()}}validate(T){return this._validator(T)}registerOnValidatorChange(T){this._onChange=T}enabled(T){return null!=T}}bo.\u0275fac=function(T){return new(T||bo)},bo.\u0275dir=l.lG2({type:bo,features:[l.TTD]});const xo={provide:Et,useExisting:(0,l.Gpc)(()=>ao),multi:!0};class ao extends bo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=T=>lo(T),this.createValidator=T=>at(T)}}ao.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(ao)))(J||ao)}}(),ao.\u0275dir=l.lG2({type:ao,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(T,J){2&T&&l.uIk("max",J._enabled?J.max:null)},inputs:{max:"max"},features:[l._Bn([xo]),l.qOj]});const uo={provide:Et,useExisting:(0,l.Gpc)(()=>qi),multi:!0};class qi extends bo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=T=>lo(T),this.createValidator=T=>Be(T)}}qi.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(qi)))(J||qi)}}(),qi.\u0275dir=l.lG2({type:qi,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(T,J){2&T&&l.uIk("min",J._enabled?J.min:null)},inputs:{min:"min"},features:[l._Bn([uo]),l.qOj]});const ho={provide:Et,useExisting:(0,l.Gpc)(()=>Mo),multi:!0},Ds={provide:Et,useExisting:(0,l.Gpc)(()=>Uo),multi:!0};class Mo extends bo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=T=>qt}enabled(T){return T}}Mo.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(Mo)))(J||Mo)}}(),Mo.\u0275dir=l.lG2({type:Mo,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(T,J){2&T&&l.uIk("required",J._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([ho]),l.qOj]});class Uo extends Mo{constructor(){super(...arguments),this.createValidator=T=>Ye}}Uo.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(Uo)))(J||Uo)}}(),Uo.\u0275dir=l.lG2({type:Uo,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(T,J){2&T&&l.uIk("required",J._enabled?"":null)},features:[l._Bn([Ds]),l.qOj]});const Vo={provide:Et,useExisting:(0,l.Gpc)(()=>Co),multi:!0};class Co extends bo{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=l.D6c,this.createValidator=T=>X}enabled(T){return T}}Co.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(Co)))(J||Co)}}(),Co.\u0275dir=l.lG2({type:Co,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([Vo]),l.qOj]});const fs={provide:Et,useExisting:(0,l.Gpc)(()=>Qo),multi:!0};class Qo extends bo{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=T=>$o(T),this.createValidator=T=>Bt(T)}}Qo.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(Qo)))(J||Qo)}}(),Qo.\u0275dir=l.lG2({type:Qo,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(T,J){2&T&&l.uIk("minlength",J._enabled?J.minlength:null)},inputs:{minlength:"minlength"},features:[l._Bn([fs]),l.qOj]});const Fr={provide:Et,useExisting:(0,l.Gpc)(()=>fo),multi:!0};class fo extends bo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=T=>$o(T),this.createValidator=T=>_n(T)}}fo.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(fo)))(J||fo)}}(),fo.\u0275dir=l.lG2({type:fo,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(T,J){2&T&&l.uIk("maxlength",J._enabled?J.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l._Bn([Fr]),l.qOj]});const Bi={provide:Et,useExisting:(0,l.Gpc)(()=>yi),multi:!0};class yi extends bo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=T=>T,this.createValidator=T=>en(T)}}yi.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(yi)))(J||yi)}}(),yi.\u0275dir=l.lG2({type:yi,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(T,J){2&T&&l.uIk("pattern",J._enabled?J.pattern:null)},inputs:{pattern:"pattern"},features:[l._Bn([Bi]),l.qOj]});class zo{}zo.\u0275fac=function(T){return new(T||zo)},zo.\u0275mod=l.oAB({type:zo,declarations:[Oo,Io,Gr,We,jo,yo,se,po,Pi,Ar,hr,fi,Mo,Qo,fo,yi,Uo,Co,qi,ao],imports:[pr],exports:[Oo,Io,Gr,We,jo,yo,se,po,Pi,Ar,hr,fi,Mo,Qo,fo,yi,Uo,Co,qi,ao]}),zo.\u0275inj=l.cJS({imports:[pr]});class Ni extends fe{constructor(T,J,ot){super(Y(J),pt(ot,J)),this.controls=T,this._initObservables(),this._setUpdateStrategy(J),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(T){return this.controls[this._adjustIndex(T)]}push(T,J={}){this.controls.push(T),this._registerControl(T),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}insert(T,J,ot={}){this.controls.splice(T,0,J),this._registerControl(J),this.updateValueAndValidity({emitEvent:ot.emitEvent})}removeAt(T,J={}){let ot=this._adjustIndex(T);ot<0&&(ot=0),this.controls[ot]&&this.controls[ot]._registerOnCollectionChange(()=>{}),this.controls.splice(ot,1),this.updateValueAndValidity({emitEvent:J.emitEvent})}setControl(T,J,ot={}){let pn=this._adjustIndex(T);pn<0&&(pn=0),this.controls[pn]&&this.controls[pn]._registerOnCollectionChange(()=>{}),this.controls.splice(pn,1),J&&(this.controls.splice(pn,0,J),this._registerControl(J)),this.updateValueAndValidity({emitEvent:ot.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(T,J={}){Ue(this,!1,T),T.forEach((ot,pn)=>{He(this,!1,pn),this.at(pn).setValue(ot,{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J)}patchValue(T,J={}){null!=T&&(T.forEach((ot,pn)=>{this.at(pn)&&this.at(pn).patchValue(ot,{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J))}reset(T=[],J={}){this._forEachChild((ot,pn)=>{ot.reset(T[pn],{onlySelf:!0,emitEvent:J.emitEvent})}),this._updatePristine(J),this._updateTouched(J),this.updateValueAndValidity(J)}getRawValue(){return this.controls.map(T=>T.getRawValue())}clear(T={}){this.controls.length<1||(this._forEachChild(J=>J._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:T.emitEvent}))}_adjustIndex(T){return T<0?T+this.length:T}_syncPendingControls(){let T=this.controls.reduce((J,ot)=>!!ot._syncPendingControls()||J,!1);return T&&this.updateValueAndValidity({onlySelf:!0}),T}_forEachChild(T){this.controls.forEach((J,ot)=>{T(J,ot)})}_updateValue(){this.value=this.controls.filter(T=>T.enabled||this.disabled).map(T=>T.value)}_anyControls(T){return this.controls.some(J=>J.enabled&&T(J))}_setUpControls(){this._forEachChild(T=>this._registerControl(T))}_allControlsDisabled(){for(const T of this.controls)if(T.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(T){T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange)}_find(T){return this.at(T)??null}}function Wo(re){return!!re&&(void 0!==re.asyncValidators||void 0!==re.validators||void 0!==re.updateOn)}class $i{constructor(){this.useNonNullable=!1}get nonNullable(){const T=new $i;return T.useNonNullable=!0,T}group(T,J=null){const ot=this._reduceControls(T);let pn={};return Wo(J)?pn=J:null!==J&&(pn.validators=J.validator,pn.asyncValidators=J.asyncValidator),new oe(ot,pn)}record(T,J=null){const ot=this._reduceControls(T);return new Ke(ot,J)}control(T,J,ot){let pn={};return this.useNonNullable?(Wo(J)?pn=J:(pn.validators=J,pn.asyncValidators=ot),new fr(T,{...pn,nonNullable:!0})):new fr(T,J,ot)}array(T,J,ot){const pn=T.map(st=>this._createControl(st));return new Ni(pn,J,ot)}_reduceControls(T){const J={};return Object.keys(T).forEach(ot=>{J[ot]=this._createControl(T[ot])}),J}_createControl(T){if(T instanceof fr)return T;if(T instanceof fe)return T;if(Array.isArray(T)){const J=T[0],ot=T.length>1?T[1]:null,pn=T.length>2?T[2]:null;return this.control(J,ot,pn)}return this.control(T)}}$i.\u0275fac=function(T){return new(T||$i)},$i.\u0275prov=l.Yz7({token:$i,factory:$i.\u0275fac,providedIn:"root"});class Xo{}Xo.\u0275fac=function(T){return new(T||Xo)},Xo.\u0275prov=l.Yz7({token:Xo,factory:function(){return(0,l.f3M)($i).nonNullable},providedIn:"root"});class or extends $i{group(T,J=null){return super.group(T,J)}control(T,J,ot){return super.control(T,J,ot)}array(T,J,ot){return super.array(T,J,ot)}}or.\u0275fac=function(){let re;return function(J){return(re||(re=l.n5z(or)))(J||or)}}(),or.\u0275prov=l.Yz7({token:or,factory:or.\u0275fac,providedIn:"root"});new l.GfV("15.2.5");class Wi{static withConfig(T){return{ngModule:Wi,providers:[{provide:Oe,useValue:T.callSetDisabledState??nt}]}}}Wi.\u0275fac=function(T){return new(T||Wi)},Wi.\u0275mod=l.oAB({type:Wi,declarations:[_i,_r,In],exports:[zo,_i,_r,In]}),Wi.\u0275inj=l.cJS({imports:[zo]});class mr{static withConfig(T){return{ngModule:mr,providers:[{provide:qr,useValue:T.warnOnNgModelWithFormControl??"always"},{provide:Oe,useValue:T.callSetDisabledState??nt}]}}}mr.\u0275fac=function(T){return new(T||mr)},mr.\u0275mod=l.oAB({type:mr,declarations:[Jr,Ur,Ki,Si,Pr],exports:[zo,Jr,Ur,Ki,Si,Pr]}),mr.\u0275inj=l.cJS({imports:[zo]})},9101:(En,rt,S)=>{S.d(rt,{RK:()=>Lt,ot:()=>Gt});var l=S(3353),g=S(4650),z=S(1994),ue=S(3238),Me=S(1281);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const we=["mat-button",""],Pe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],le=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],se=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Re=["mat-fab",""],Le=["mat-mini-fab",""],Xe='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}',We=["mat-icon-button",""],gt=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],bt=(0,ue.pj)((0,ue.Id)((0,ue.Kr)(class{constructor(Qt){this._elementRef=Qt}})));class _t extends bt{constructor(it,It,Mt,vn){super(it),this._platform=It,this._ngZone=Mt,this._animationMode=vn,this._focusMonitor=(0,g.f3M)(z.tE),this._isFab=!1;const on=it.nativeElement.classList;for(const xn of gt)this._hasHostAttributes(xn.selector)&&xn.mdcClasses.forEach(ur=>{on.add(ur)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(it="program",It){it?this._focusMonitor.focusVia(this._elementRef.nativeElement,it,It):this._elementRef.nativeElement.focus(It)}_hasHostAttributes(...it){return it.some(It=>this._elementRef.nativeElement.hasAttribute(It))}_isRippleDisabled(){return this.disableRipple||this.disabled}}_t.\u0275fac=function(it){g.$Z()},_t.\u0275dir=g.lG2({type:_t,viewQuery:function(it,It){if(1&it&&g.Gf(ue.wG,5),2&it){let Mt;g.iGM(Mt=g.CRH())&&(It.ripple=Mt.first)}},features:[g.qOj]});class qt extends _t{constructor(it,It,Mt,vn){super(it,It,Mt,vn),this._haltDisabledEvents=on=>{this.disabled&&(on.preventDefault(),on.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}qt.\u0275fac=function(it){g.$Z()},qt.\u0275dir=g.lG2({type:qt,features:[g.qOj]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Ye extends _t{constructor(it,It,Mt,vn){super(it,It,Mt,vn)}}Ye.\u0275fac=function(it){return new(it||Ye)(g.Y36(g.SBq),g.Y36(l.t4),g.Y36(g.R0b),g.Y36(g.QbO,8))},Ye.\u0275cmp=g.Xpm({type:Ye,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(it,It){2&it&&(g.uIk("disabled",It.disabled||null),g.ekj("_mat-animation-noopable","NoopAnimations"===It._animationMode)("mat-unthemed",!It.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[g.qOj],attrs:we,ngContentSelectors:le,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(it,It){1&it&&(g.F$t(Pe),g._UZ(0,"span",0),g.Hsn(1),g.TgZ(2,"span",1),g.Hsn(3,1),g.qZA(),g.Hsn(4,2),g._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&it&&(g.ekj("mdc-button__ripple",!It._isFab)("mdc-fab__ripple",It._isFab),g.xp6(6),g.Q6J("matRippleDisabled",It._isRippleDisabled())("matRippleTrigger",It._elementRef.nativeElement))},dependencies:[ue.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});class X extends qt{constructor(it,It,Mt,vn){super(it,It,Mt,vn)}}X.\u0275fac=function(it){return new(it||X)(g.Y36(g.SBq),g.Y36(l.t4),g.Y36(g.R0b),g.Y36(g.QbO,8))},X.\u0275cmp=g.Xpm({type:X,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(it,It){2&it&&(g.uIk("disabled",It.disabled||null)("tabindex",It.disabled?-1:It.tabIndex)("aria-disabled",It.disabled.toString()),g.ekj("_mat-animation-noopable","NoopAnimations"===It._animationMode)("mat-unthemed",!It.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[g.qOj],attrs:we,ngContentSelectors:le,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(it,It){1&it&&(g.F$t(Pe),g._UZ(0,"span",0),g.Hsn(1),g.TgZ(2,"span",1),g.Hsn(3,1),g.qZA(),g.Hsn(4,2),g._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&it&&(g.ekj("mdc-button__ripple",!It._isFab)("mdc-fab__ripple",It._isFab),g.xp6(6),g.Q6J("matRippleDisabled",It._isRippleDisabled())("matRippleTrigger",It._elementRef.nativeElement))},dependencies:[ue.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',se],encapsulation:2,changeDetection:0});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const Bt=new g.OlP("mat-mdc-fab-default-options",{providedIn:"root",factory:_n});function _n(){return{color:"accent"}}const en={color:"accent"};class Pn extends _t{get extended(){return this._extended}set extended(it){this._extended=(0,Me.Ig)(it)}constructor(it,It,Mt,vn,on){super(it,It,Mt,vn),this._options=on,this._isFab=!0,this._options=this._options||en,this.color=this.defaultColor=this._options.color||en.color}}Pn.\u0275fac=function(it){return new(it||Pn)(g.Y36(g.SBq),g.Y36(l.t4),g.Y36(g.R0b),g.Y36(g.QbO,8),g.Y36(Bt,8))},Pn.\u0275cmp=g.Xpm({type:Pn,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(it,It){2&it&&(g.uIk("disabled",It.disabled||null),g.ekj("_mat-animation-noopable","NoopAnimations"===It._animationMode)("mat-unthemed",!It.color)("mat-mdc-button-base",!0)("mdc-fab--extended",It.extended)("mat-mdc-extended-fab",It.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[g.qOj],attrs:Re,ngContentSelectors:le,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(it,It){1&it&&(g.F$t(Pe),g._UZ(0,"span",0),g.Hsn(1),g.TgZ(2,"span",1),g.Hsn(3,1),g.qZA(),g.Hsn(4,2),g._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&it&&(g.ekj("mdc-button__ripple",!It._isFab)("mdc-fab__ripple",It._isFab),g.xp6(6),g.Q6J("matRippleDisabled",It._isRippleDisabled())("matRippleTrigger",It._elementRef.nativeElement))},dependencies:[ue.wG],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0});class ft extends _t{constructor(it,It,Mt,vn,on){super(it,It,Mt,vn),this._options=on,this._isFab=!0,this._options=this._options||en,this.color=this.defaultColor=this._options.color||en.color}}ft.\u0275fac=function(it){return new(it||ft)(g.Y36(g.SBq),g.Y36(l.t4),g.Y36(g.R0b),g.Y36(g.QbO,8),g.Y36(Bt,8))},ft.\u0275cmp=g.Xpm({type:ft,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(it,It){2&it&&(g.uIk("disabled",It.disabled||null),g.ekj("_mat-animation-noopable","NoopAnimations"===It._animationMode)("mat-unthemed",!It.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[g.qOj],attrs:Le,ngContentSelectors:le,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(it,It){1&it&&(g.F$t(Pe),g._UZ(0,"span",0),g.Hsn(1),g.TgZ(2,"span",1),g.Hsn(3,1),g.qZA(),g.Hsn(4,2),g._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&it&&(g.ekj("mdc-button__ripple",!It._isFab)("mdc-fab__ripple",It._isFab),g.xp6(6),g.Q6J("matRippleDisabled",It._isRippleDisabled())("matRippleTrigger",It._elementRef.nativeElement))},dependencies:[ue.wG],styles:[Xe],encapsulation:2,changeDetection:0});class Ot extends X{get extended(){return this._extended}set extended(it){this._extended=(0,Me.Ig)(it)}constructor(it,It,Mt,vn,on){super(it,It,Mt,vn),this._options=on,this._isFab=!0,this._options=this._options||en,this.color=this.defaultColor=this._options.color||en.color}}Ot.\u0275fac=function(it){return new(it||Ot)(g.Y36(g.SBq),g.Y36(l.t4),g.Y36(g.R0b),g.Y36(g.QbO,8),g.Y36(Bt,8))},Ot.\u0275cmp=g.Xpm({type:Ot,selectors:[["a","mat-fab",""]],hostVars:13,hostBindings:function(it,It){2&it&&(g.uIk("disabled",It.disabled||null)("tabindex",It.disabled?-1:It.tabIndex)("aria-disabled",It.disabled.toString()),g.ekj("_mat-animation-noopable","NoopAnimations"===It._animationMode)("mat-unthemed",!It.color)("mat-mdc-button-base",!0)("mdc-fab--extended",It.extended)("mat-mdc-extended-fab",It.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton","matAnchor"],features:[g.qOj],attrs:Re,ngContentSelectors:le,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(it,It){1&it&&(g.F$t(Pe),g._UZ(0,"span",0),g.Hsn(1),g.TgZ(2,"span",1),g.Hsn(3,1),g.qZA(),g.Hsn(4,2),g._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&it&&(g.ekj("mdc-button__ripple",!It._isFab)("mdc-fab__ripple",It._isFab),g.xp6(6),g.Q6J("matRippleDisabled",It._isRippleDisabled())("matRippleTrigger",It._elementRef.nativeElement))},dependencies:[ue.wG],styles:[Xe],encapsulation:2,changeDetection:0});class Rt extends X{constructor(it,It,Mt,vn,on){super(it,It,Mt,vn),this._options=on,this._isFab=!0,this._options=this._options||en,this.color=this.defaultColor=this._options.color||en.color}}Rt.\u0275fac=function(it){return new(it||Rt)(g.Y36(g.SBq),g.Y36(l.t4),g.Y36(g.R0b),g.Y36(g.QbO,8),g.Y36(Bt,8))},Rt.\u0275cmp=g.Xpm({type:Rt,selectors:[["a","mat-mini-fab",""]],hostVars:9,hostBindings:function(it,It){2&it&&(g.uIk("disabled",It.disabled||null)("tabindex",It.disabled?-1:It.tabIndex)("aria-disabled",It.disabled.toString()),g.ekj("_mat-animation-noopable","NoopAnimations"===It._animationMode)("mat-unthemed",!It.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[g.qOj],attrs:Le,ngContentSelectors:le,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(it,It){1&it&&(g.F$t(Pe),g._UZ(0,"span",0),g.Hsn(1),g.TgZ(2,"span",1),g.Hsn(3,1),g.qZA(),g.Hsn(4,2),g._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&it&&(g.ekj("mdc-button__ripple",!It._isFab)("mdc-fab__ripple",It._isFab),g.xp6(6),g.Q6J("matRippleDisabled",It._isRippleDisabled())("matRippleTrigger",It._elementRef.nativeElement))},dependencies:[ue.wG],styles:[Xe],encapsulation:2,changeDetection:0});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Lt extends _t{constructor(it,It,Mt,vn){super(it,It,Mt,vn)}}Lt.\u0275fac=function(it){return new(it||Lt)(g.Y36(g.SBq),g.Y36(l.t4),g.Y36(g.R0b),g.Y36(g.QbO,8))},Lt.\u0275cmp=g.Xpm({type:Lt,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(it,It){2&it&&(g.uIk("disabled",It.disabled||null),g.ekj("_mat-animation-noopable","NoopAnimations"===It._animationMode)("mat-unthemed",!It.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[g.qOj],attrs:We,ngContentSelectors:["*"],decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(it,It){1&it&&(g.F$t(),g._UZ(0,"span",0),g.Hsn(1),g._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&it&&(g.xp6(3),g.Q6J("matRippleDisabled",It._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",It._elementRef.nativeElement))},dependencies:[ue.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',se],encapsulation:2,changeDetection:0});class Ht extends qt{constructor(it,It,Mt,vn){super(it,It,Mt,vn)}}Ht.\u0275fac=function(it){return new(it||Ht)(g.Y36(g.SBq),g.Y36(l.t4),g.Y36(g.R0b),g.Y36(g.QbO,8))},Ht.\u0275cmp=g.Xpm({type:Ht,selectors:[["a","mat-icon-button",""]],hostVars:9,hostBindings:function(it,It){2&it&&(g.uIk("disabled",It.disabled||null)("tabindex",It.disabled?-1:It.tabIndex)("aria-disabled",It.disabled.toString()),g.ekj("_mat-animation-noopable","NoopAnimations"===It._animationMode)("mat-unthemed",!It.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[g.qOj],attrs:We,ngContentSelectors:le,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(it,It){1&it&&(g.F$t(Pe),g._UZ(0,"span",0),g.Hsn(1),g.TgZ(2,"span",1),g.Hsn(3,1),g.qZA(),g.Hsn(4,2),g._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&it&&(g.ekj("mdc-button__ripple",!It._isFab)("mdc-fab__ripple",It._isFab),g.xp6(6),g.Q6J("matRippleDisabled",It._isRippleDisabled())("matRippleTrigger",It._elementRef.nativeElement))},dependencies:[ue.wG],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',se],encapsulation:2,changeDetection:0});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Gt{}Gt.\u0275fac=function(it){return new(it||Gt)},Gt.\u0275mod=g.oAB({type:Gt,declarations:[X,Ye,Ht,Rt,ft,Lt,Ot,Pn],imports:[ue.BQ,ue.si],exports:[X,Ye,Ht,Lt,Rt,ft,Ot,Pn,ue.BQ]}),Gt.\u0275inj=g.cJS({imports:[ue.BQ,ue.si,ue.BQ]})}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */,3238:(En,rt,S)=>{S.d(rt,{BQ:()=>at,wG:()=>Zr,si:()=>Lr,pj:()=>_n,Kr:()=>en,Id:()=>Bt});var l=S(4650),g=S(1994),z=S(445);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */new l.GfV("15.2.5");
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */var Me=S(6895),we=S(3353),Pe=S(1281),le=S(7579),_e=S(9521);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const se=["*",[["mat-option"],["ng-container"]]],Le=["text"];function Xe(Ee,Y){if(1&Ee&&l._UZ(0,"mat-pseudo-checkbox",6),2&Ee){const Se=l.oxw();l.Q6J("state",Se.selected?"checked":"unchecked")("disabled",Se.disabled)}}function We(Ee,Y){if(1&Ee&&l._UZ(0,"mat-pseudo-checkbox",7),2&Ee){const Se=l.oxw();l.Q6J("disabled",Se.disabled)}}function St(Ee,Y){if(1&Ee&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&Ee){const Se=l.oxw();l.xp6(1),l.hij("(",Se.group.label,")")}}const Ft=[[["mat-icon"]],"*"];
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */new l.GfV("15.2.5");class gt{}gt.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",gt.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",gt.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",gt.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";class bt{}bt.COMPLEX="375ms",bt.ENTERING="225ms",bt.EXITING="195ms";const Be=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
function _t(){return!0}});class at{constructor(Y,Se,pt){this._sanityChecks=Se,this._document=pt,this._hasDoneGlobalChecks=!1,Y._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Y){return!(0,we.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Y])}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
function Bt(Ee){return class extends Ee{get disabled(){return this._disabled}set disabled(Y){this._disabled=(0,Pe.Ig)(Y)}constructor(...Y){super(...Y),this._disabled=!1}}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function _n(Ee,Y){return class extends Ee{get color(){return this._color}set color(Se){const pt=Se||this.defaultColor;pt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),pt&&this._elementRef.nativeElement.classList.add(`mat-${pt}`),this._color=pt)}constructor(...Se){super(...Se),this.defaultColor=Y,this.color=Y}}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function en(Ee){return class extends Ee{get disableRipple(){return this._disableRipple}set disableRipple(Y){this._disableRipple=(0,Pe.Ig)(Y)}constructor(...Y){super(...Y),this._disableRipple=!1}}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */at.\u0275fac=function(Y){return new(Y||at)(l.LFG(g.qm),l.LFG(Be,8),l.LFG(Me.K0))},at.\u0275mod=l.oAB({type:at,imports:[z.vT],exports:[z.vT]}),at.\u0275inj=l.cJS({imports:[z.vT,z.vT]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const Ot=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Rt(){return(0,l.f3M)(l.soG)}});class Lt{constructor(){this._localeChanges=new le.x,this.localeChanges=this._localeChanges}getValidDateOrNull(Y){return this.isDateInstance(Y)&&this.isValid(Y)?Y:null}deserialize(Y){return null==Y||this.isDateInstance(Y)&&this.isValid(Y)?Y:this.invalid()}setLocale(Y){this.locale=Y,this._localeChanges.next()}compareDate(Y,Se){return this.getYear(Y)-this.getYear(Se)||this.getMonth(Y)-this.getMonth(Se)||this.getDate(Y)-this.getDate(Se)}sameDate(Y,Se){if(Y&&Se){let pt=this.isValid(Y),yn=this.isValid(Se);return pt&&yn?!this.compareDate(Y,Se):pt==yn}return Y==Se}clampDate(Y,Se,pt){return Se&&this.compareDate(Y,Se)<0?Se:pt&&this.compareDate(Y,pt)>0?pt:Y}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const Ht=new l.OlP("mat-date-formats"),Gt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function Qt(Ee,Y){const Se=Array(Ee);for(let pt=0;pt<Ee;pt++)Se[pt]=Y(pt);return Se}class it extends Lt{constructor(Y,Se){super(),this.useUtcForDisplay=!1,super.setLocale(Y)}getYear(Y){return Y.getFullYear()}getMonth(Y){return Y.getMonth()}getDate(Y){return Y.getDate()}getDayOfWeek(Y){return Y.getDay()}getMonthNames(Y){const Se=new Intl.DateTimeFormat(this.locale,{month:Y,timeZone:"utc"});return Qt(12,pt=>this._format(Se,new Date(2017,pt,1)))}getDateNames(){const Y=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Qt(31,Se=>this._format(Y,new Date(2017,0,Se+1)))}getDayOfWeekNames(Y){const Se=new Intl.DateTimeFormat(this.locale,{weekday:Y,timeZone:"utc"});return Qt(7,pt=>this._format(Se,new Date(2017,0,pt+1)))}getYearName(Y){const Se=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(Se,Y)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Y){return this.getDate(this._createDateWithOverflow(this.getYear(Y),this.getMonth(Y)+1,0))}clone(Y){return new Date(Y.getTime())}createDate(Y,Se,pt){let yn=this._createDateWithOverflow(Y,Se,pt);return yn.getMonth(),yn}today(){return new Date}parse(Y,Se){return"number"==typeof Y?new Date(Y):Y?new Date(Date.parse(Y)):null}format(Y,Se){if(!this.isValid(Y))throw Error("NativeDateAdapter: Cannot format invalid date.");const pt=new Intl.DateTimeFormat(this.locale,{...Se,timeZone:"utc"});return this._format(pt,Y)}addCalendarYears(Y,Se){return this.addCalendarMonths(Y,12*Se)}addCalendarMonths(Y,Se){let pt=this._createDateWithOverflow(this.getYear(Y),this.getMonth(Y)+Se,this.getDate(Y));return this.getMonth(pt)!=((this.getMonth(Y)+Se)%12+12)%12&&(pt=this._createDateWithOverflow(this.getYear(pt),this.getMonth(pt),0)),pt}addCalendarDays(Y,Se){return this._createDateWithOverflow(this.getYear(Y),this.getMonth(Y),this.getDate(Y)+Se)}toIso8601(Y){return[Y.getUTCFullYear(),this._2digit(Y.getUTCMonth()+1),this._2digit(Y.getUTCDate())].join("-")}deserialize(Y){if("string"==typeof Y){if(!Y)return null;if(Gt.test(Y)){let Se=new Date(Y);if(this.isValid(Se))return Se}}return super.deserialize(Y)}isDateInstance(Y){return Y instanceof Date}isValid(Y){return!isNaN(Y.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Y,Se,pt){const yn=new Date;return yn.setFullYear(Y,Se,pt),yn.setHours(0,0,0,0),yn}_2digit(Y){return("00"+Y).slice(-2)}_format(Y,Se){const pt=new Date;return pt.setUTCFullYear(Se.getFullYear(),Se.getMonth(),Se.getDate()),pt.setUTCHours(Se.getHours(),Se.getMinutes(),Se.getSeconds(),Se.getMilliseconds()),Y.format(pt)}}it.\u0275fac=function(Y){return new(Y||it)(l.LFG(Ot,8),l.LFG(we.t4))},it.\u0275prov=l.Yz7({token:it,factory:it.\u0275fac});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Mt{}Mt.\u0275fac=function(Y){return new(Y||Mt)},Mt.\u0275mod=l.oAB({type:Mt}),Mt.\u0275inj=l.cJS({providers:[{provide:Lt,useClass:it}]});class vn{}vn.\u0275fac=function(Y){return new(Y||vn)},vn.\u0275mod=l.oAB({type:vn,imports:[Mt]}),vn.\u0275inj=l.cJS({providers:[{provide:Ht,useValue:{parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}}}],imports:[Mt]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class on{isErrorState(Y,Se){return!!(Y&&Y.invalid&&(Y.dirty||Se&&Se.submitted))}}on.\u0275fac=function(Y){return new(Y||on)},on.\u0275prov=l.Yz7({token:on,factory:on.\u0275fac});class xn{isErrorState(Y,Se){return!!(Y&&Y.invalid&&(Y.touched||Se&&Se.submitted))}}xn.\u0275fac=function(Y){return new(Y||xn)},xn.\u0275prov=l.Yz7({token:xn,factory:xn.\u0275fac,providedIn:"root"});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class ur{}ur.\u0275fac=function(Y){return new(Y||ur)},ur.\u0275dir=l.lG2({type:ur,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]});class vr{}vr.\u0275fac=function(Y){return new(Y||vr)},vr.\u0275mod=l.oAB({type:vr,declarations:[ur],imports:[at],exports:[ur,at]}),vr.\u0275inj=l.cJS({imports:[at,at]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Nr{constructor(Y,Se,pt,yn=!1){this._renderer=Y,this.element=Se,this.config=pt,this._animationForciblyDisabledThroughCss=yn,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const Jn=(0,we.i$)({passive:!0,capture:!0});const dr={enterDuration:225,exitDuration:150},hr=(0,we.i$)({passive:!0,capture:!0}),fi=["mousedown","touchstart"],Hn=["mouseup","mouseleave","touchend","touchcancel"];class Tr{constructor(Y,Se,pt,yn){this._target=Y,this._ngZone=Se,this._platform=yn,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,yn.isBrowser&&(this._containerElement=(0,Pe.fI)(pt))}fadeInRipple(Y,Se,pt={}){const yn=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Zn={...dr,...pt.animation};pt.centered&&(Y=yn.left+yn.width/2,Se=yn.top+yn.height/2);const He=pt.radius||function Di(Ee,Y,Se){const pt=Math.max(Math.abs(Ee-Se.left),Math.abs(Ee-Se.right)),yn=Math.max(Math.abs(Y-Se.top),Math.abs(Y-Se.bottom));return Math.sqrt(pt*pt+yn*yn)}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */(Y,Se,yn),Ue=Y-yn.left,fe=Se-yn.top,oe=Zn.enterDuration,me=document.createElement("div");me.classList.add("mat-ripple-element"),me.style.left=Ue-He+"px",me.style.top=fe-He+"px",me.style.height=2*He+"px",me.style.width=2*He+"px",null!=pt.color&&(me.style.backgroundColor=pt.color),me.style.transitionDuration=`${oe}ms`,this._containerElement.appendChild(me);const Ct=window.getComputedStyle(me),Ke=Ct.transitionProperty,ee=Ct.transitionDuration,Oe="none"===Ke||"0s"===ee||"0s, 0s"===ee||0===yn.width&&0===yn.height,nt=new Nr(this,me,pt,Oe);me.style.transform="scale3d(1, 1, 1)",nt.state=0,pt.persistent||(this._mostRecentTransientRipple=nt);let Ut=null;return!Oe&&(oe||Zn.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const tn=()=>this._finishRippleTransition(nt),On=()=>this._destroyRipple(nt);me.addEventListener("transitionend",tn),me.addEventListener("transitioncancel",On),Ut={onTransitionEnd:tn,onTransitionCancel:On}}),this._activeRipples.set(nt,Ut),(Oe||!oe)&&this._finishRippleTransition(nt),nt}fadeOutRipple(Y){if(2===Y.state||3===Y.state)return;const Se=Y.element,pt={...dr,...Y.config.animation};Se.style.transitionDuration=`${pt.exitDuration}ms`,Se.style.opacity="0",Y.state=2,(Y._animationForciblyDisabledThroughCss||!pt.exitDuration)&&this._finishRippleTransition(Y)}fadeOutAll(){this._getActiveRipples().forEach(Y=>Y.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Y=>{Y.config.persistent||Y.fadeOut()})}setupTriggerEvents(Y){const Se=(0,Pe.fI)(Y);!this._platform.isBrowser||!Se||Se===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Se,fi.forEach(pt=>{Tr._eventManager.addHandler(this._ngZone,pt,Se,this)}))}handleEvent(Y){"mousedown"===Y.type?this._onMousedown(Y):"touchstart"===Y.type?this._onTouchStart(Y):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Hn.forEach(Se=>{this._triggerElement.addEventListener(Se,this,hr)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Y){0===Y.state?this._startFadeOutTransition(Y):2===Y.state&&this._destroyRipple(Y)}_startFadeOutTransition(Y){const Se=Y===this._mostRecentTransientRipple,{persistent:pt}=Y.config;Y.state=1,!pt&&(!Se||!this._isPointerDown)&&Y.fadeOut()}_destroyRipple(Y){const Se=this._activeRipples.get(Y)??null;this._activeRipples.delete(Y),this._activeRipples.size||(this._containerRect=null),Y===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Y.state=3,null!==Se&&(Y.element.removeEventListener("transitionend",Se.onTransitionEnd),Y.element.removeEventListener("transitioncancel",Se.onTransitionCancel)),Y.element.remove()}_onMousedown(Y){const Se=(0,g.X6)(Y),pt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Se&&!pt&&(this._isPointerDown=!0,this.fadeInRipple(Y.clientX,Y.clientY,this._target.rippleConfig))}_onTouchStart(Y){if(!this._target.rippleDisabled&&!(0,g.yG)(Y)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Se=Y.changedTouches;for(let pt=0;pt<Se.length;pt++)this.fadeInRipple(Se[pt].clientX,Se[pt].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(Y=>{const Se=1===Y.state||Y.config.terminateOnPointerUp&&0===Y.state;!Y.config.persistent&&Se&&Y.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const Y=this._triggerElement;Y&&(fi.forEach(Se=>Tr._eventManager.removeHandler(Se,Y,this)),this._pointerUpEventsRegistered&&Hn.forEach(Se=>Y.removeEventListener(Se,this,hr)))}}Tr._eventManager=new class Br{constructor(){this._events=new Map,this._delegateEventHandler=Y=>{const Se=(0,we.sA)(Y);Se&&this._events.get(Y.type)?.forEach((pt,yn)=>{(yn===Se||yn.contains(Se))&&pt.forEach(Zn=>Zn.handleEvent(Y))})}}addHandler(Y,Se,pt,yn){const Zn=this._events.get(Se);if(Zn){const He=Zn.get(pt);He?He.add(yn):Zn.set(pt,new Set([yn]))}else this._events.set(Se,new Map([[pt,new Set([yn])]])),Y.runOutsideAngular(()=>{document.addEventListener(Se,this._delegateEventHandler,Jn)})}removeHandler(Y,Se,pt){const yn=this._events.get(Y);if(!yn)return;const Zn=yn.get(Se);Zn&&(Zn.delete(pt),0===Zn.size&&yn.delete(Se),0===yn.size&&(this._events.delete(Y),document.removeEventListener(Y,this._delegateEventHandler,Jn)))}};const er=new l.OlP("mat-ripple-global-options");class Zr{get disabled(){return this._disabled}set disabled(Y){Y&&this.fadeOutAllNonPersistent(),this._disabled=Y,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Y){this._trigger=Y,this._setupTriggerEventsIfEnabled()}constructor(Y,Se,pt,yn,Zn){this._elementRef=Y,this._animationMode=Zn,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=yn||{},this._rippleRenderer=new Tr(this,Se,Y,pt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Y,Se=0,pt){return"number"==typeof Y?this._rippleRenderer.fadeInRipple(Y,Se,{...this.rippleConfig,...pt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Y})}}Zr.\u0275fac=function(Y){return new(Y||Zr)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(we.t4),l.Y36(er,8),l.Y36(l.QbO,8))},Zr.\u0275dir=l.lG2({type:Zr,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Y,Se){2&Y&&l.ekj("mat-ripple-unbounded",Se.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Lr{}Lr.\u0275fac=function(Y){return new(Y||Lr)},Lr.\u0275mod=l.oAB({type:Lr,declarations:[Zr],imports:[at],exports:[Zr,at]}),Lr.\u0275inj=l.cJS({imports:[at,at]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class ir{constructor(Y){this._animationMode=Y,this.state="unchecked",this.disabled=!1,this.appearance="full"}}ir.\u0275fac=function(Y){return new(Y||ir)(l.Y36(l.QbO,8))},ir.\u0275cmp=l.Xpm({type:ir,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Y,Se){2&Y&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Se.state)("mat-pseudo-checkbox-checked","checked"===Se.state)("mat-pseudo-checkbox-disabled",Se.disabled)("mat-pseudo-checkbox-minimal","minimal"===Se.appearance)("mat-pseudo-checkbox-full","full"===Se.appearance)("_mat-animation-noopable","NoopAnimations"===Se._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(Y,Se){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class rr{}rr.\u0275fac=function(Y){return new(Y||rr)},rr.\u0275mod=l.oAB({type:rr,declarations:[ir],imports:[at],exports:[ir]}),rr.\u0275inj=l.cJS({imports:[at]});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
const $n=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),Rn=Bt(class{});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */let ar=0;class wr extends Rn{constructor(Y){super(),this._labelId="mat-optgroup-label-"+ar++,this._inert=Y?.inertGroups??!1}}wr.\u0275fac=function(Y){return new(Y||wr)(l.Y36($n,8))},wr.\u0275dir=l.lG2({type:wr,inputs:{label:"label"},features:[l.qOj]});const gr=new l.OlP("MatOptgroup");class jr extends wr{}jr.\u0275fac=function(){let Ee;return function(Se){return(Ee||(Ee=l.n5z(jr)))(Se||jr)}}(),jr.\u0275cmp=l.Xpm({type:jr,selectors:[["mat-optgroup"]],hostAttrs:[1,"mat-mdc-optgroup"],hostVars:3,hostBindings:function(Y,Se){2&Y&&l.uIk("role",Se._inert?null:"group")("aria-disabled",Se._inert?null:Se.disabled.toString())("aria-labelledby",Se._inert?null:Se._labelId)},inputs:{disabled:"disabled"},exportAs:["matOptgroup"],features:[l._Bn([{provide:gr,useExisting:jr}]),l.qOj],ngContentSelectors:["*","mat-option, ng-container"],decls:5,vars:4,consts:[["aria-hidden","true",1,"mat-mdc-optgroup-label",3,"id"],[1,"mdc-list-item__primary-text"]],template:function(Y,Se){1&Y&&(l.F$t(se),l.TgZ(0,"span",0)(1,"span",1),l._uU(2),l.Hsn(3),l.qZA()(),l.Hsn(4,1)),2&Y&&(l.ekj("mdc-list-item--disabled",Se.disabled),l.Q6J("id",Se._labelId),l.xp6(2),l.hij("",Se.label," "))},styles:[".mat-mdc-optgroup-label{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;min-height:48px}.mat-mdc-optgroup-label:focus{outline:none}[dir=rtl] .mat-mdc-optgroup-label,.mat-mdc-optgroup-label[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-optgroup-label.mdc-list-item--disabled{opacity:.38}.mat-mdc-optgroup-label .mdc-list-item__primary-text{white-space:normal}"],encapsulation:2,changeDetection:0});let di=0;class Wn{constructor(Y,Se=!1){this.source=Y,this.isUserInput=Se}}class xr{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Y){this._disabled=(0,Pe.Ig)(Y)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Y,Se,pt,yn){this._element=Y,this._changeDetectorRef=Se,this._parent=pt,this.group=yn,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+di++,this.onSelectionChange=new l.vpe,this._stateChanges=new le.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(Y,Se){const pt=this._getHostElement();"function"==typeof pt.focus&&pt.focus(Se)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Y){(Y.keyCode===_e.K5||Y.keyCode===_e.L_)&&!(0,_e.Vb)(Y)&&(this._selectViaInteraction(),Y.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Y=this.viewValue;Y!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Y)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Y=!1){this.onSelectionChange.emit(new Wn(this,Y))}}xr.\u0275fac=function(Y){l.$Z()},xr.\u0275dir=l.lG2({type:xr,viewQuery:function(Y,Se){if(1&Y&&l.Gf(Le,7),2&Y){let pt;l.iGM(pt=l.CRH())&&(Se._text=pt.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}});class Mn extends xr{constructor(Y,Se,pt,yn){super(Y,Se,pt,yn)}}Mn.\u0275fac=function(Y){return new(Y||Mn)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36($n,8),l.Y36(gr,8))},Mn.\u0275cmp=l.Xpm({type:Mn,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:12,hostBindings:function(Y,Se){1&Y&&l.NdJ("click",function(){return Se._selectViaInteraction()})("keydown",function(yn){return Se._handleKeydown(yn)}),2&Y&&(l.Ikx("id",Se.id),l.uIk("tabindex",Se._getTabIndex())("aria-selected",Se.selected)("aria-disabled",Se.disabled.toString()),l.ekj("mdc-list-item--selected",Se.selected)("mat-mdc-option-multiple",Se.multiple)("mat-mdc-option-active",Se.active)("mdc-list-item--disabled",Se.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:["mat-icon","*"],decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(Y,Se){1&Y&&(l.F$t(Ft),l.YNc(0,Xe,1,2,"mat-pseudo-checkbox",0),l.Hsn(1),l.TgZ(2,"span",1,2),l.Hsn(4,1),l.qZA(),l.YNc(5,We,1,1,"mat-pseudo-checkbox",3),l.YNc(6,St,2,1,"span",4),l._UZ(7,"div",5)),2&Y&&(l.Q6J("ngIf",Se.multiple),l.xp6(5),l.Q6J("ngIf",!Se.multiple&&Se.selected&&!Se.hideSingleSelectionIndicator),l.xp6(1),l.Q6J("ngIf",Se.group&&Se.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",Se._getHostElement())("matRippleDisabled",Se.disabled||Se.disableRipple))},dependencies:[Zr,Me.O5,ir],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Ce{}Ce.\u0275fac=function(Y){return new(Y||Ce)},Ce.\u0275mod=l.oAB({type:Ce,declarations:[Mn,jr],imports:[Lr,Me.ez,at,rr],exports:[Mn,jr]}),Ce.\u0275inj=l.cJS({imports:[Lr,Me.ez,at,rr]})}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */,3336:(En,rt,S)=>{S.d(rt,{Hw:()=>ai,Ps:()=>Vn});var l=S(4650),g=S(3238),z=S(1281),ue=S(6895),Me=S(9646),we=S(2843),Pe=S(4128),le=S(727),_e=S(8505),se=S(4004),Re=S(262),Le=S(8746),Xe=S(3099),We=S(5698),St=S(9751),Ft=S(4351),Ie=S(9300);
/**
         * @license Angular v15.2.5
         * (c) 2010-2022 Google LLC. https://angular.io/
         * License: MIT
         */class Et{}class gt{}class bt{constructor(G){this.normalizedNames=new Map,this.lazyUpdate=null,G?this.lazyInit="string"==typeof G?()=>{this.headers=new Map,G.split("\n").forEach(ge=>{const ze=ge.indexOf(":");if(ze>0){const xt=ge.slice(0,ze),cn=xt.toLowerCase(),In=ge.slice(ze+1).trim();this.maybeSetNormalizedName(xt,cn),this.headers.has(cn)?this.headers.get(cn).push(In):this.headers.set(cn,[In])}})}:()=>{this.headers=new Map,Object.keys(G).forEach(ge=>{let ze=G[ge];const xt=ge.toLowerCase();"string"==typeof ze&&(ze=[ze]),ze.length>0&&(this.headers.set(xt,ze),this.maybeSetNormalizedName(ge,xt))})}:this.headers=new Map}has(G){return this.init(),this.headers.has(G.toLowerCase())}get(G){this.init();const ge=this.headers.get(G.toLowerCase());return ge&&ge.length>0?ge[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(G){return this.init(),this.headers.get(G.toLowerCase())||null}append(G,ge){return this.clone({name:G,value:ge,op:"a"})}set(G,ge){return this.clone({name:G,value:ge,op:"s"})}delete(G,ge){return this.clone({name:G,value:ge,op:"d"})}maybeSetNormalizedName(G,ge){this.normalizedNames.has(ge)||this.normalizedNames.set(ge,G)}init(){this.lazyInit&&(this.lazyInit instanceof bt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(G=>this.applyUpdate(G)),this.lazyUpdate=null))}copyFrom(G){G.init(),Array.from(G.headers.keys()).forEach(ge=>{this.headers.set(ge,G.headers.get(ge)),this.normalizedNames.set(ge,G.normalizedNames.get(ge))})}clone(G){const ge=new bt;return ge.lazyInit=this.lazyInit&&this.lazyInit instanceof bt?this.lazyInit:this,ge.lazyUpdate=(this.lazyUpdate||[]).concat([G]),ge}applyUpdate(G){const ge=G.name.toLowerCase();switch(G.op){case"a":case"s":let ze=G.value;if("string"==typeof ze&&(ze=[ze]),0===ze.length)return;this.maybeSetNormalizedName(G.name,ge);const xt=("a"===G.op?this.headers.get(ge):void 0)||[];xt.push(...ze),this.headers.set(ge,xt);break;case"d":const cn=G.value;if(cn){let In=this.headers.get(ge);if(!In)return;In=In.filter(zn=>-1===cn.indexOf(zn)),0===In.length?(this.headers.delete(ge),this.normalizedNames.delete(ge)):this.headers.set(ge,In)}else this.headers.delete(ge),this.normalizedNames.delete(ge)}}forEach(G){this.init(),Array.from(this.normalizedNames.keys()).forEach(ge=>G(this.normalizedNames.get(ge),this.headers.get(ge)))}}class Be{encodeKey(G){return X(G)}encodeValue(G){return X(G)}decodeKey(G){return decodeURIComponent(G)}decodeValue(G){return decodeURIComponent(G)}}const qt=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function X(At){return encodeURIComponent(At).replace(qt,(G,ge)=>Ye[ge]??G)}function Bt(At){return`${At}`}class _n{constructor(G={}){if(this.updates=null,this.cloneFrom=null,this.encoder=G.encoder||new Be,G.fromString){if(G.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function at(At,G){const ge=new Map;return At.length>0&&At.replace(/^\?/,"").split("&").forEach(xt=>{const cn=xt.indexOf("="),[In,zn]=-1==cn?[G.decodeKey(xt),""]:[G.decodeKey(xt.slice(0,cn)),G.decodeValue(xt.slice(cn+1))],Er=ge.get(In)||[];Er.push(zn),ge.set(In,Er)}),ge}(G.fromString,this.encoder)}else G.fromObject?(this.map=new Map,Object.keys(G.fromObject).forEach(ge=>{const ze=G.fromObject[ge],xt=Array.isArray(ze)?ze.map(Bt):[Bt(ze)];this.map.set(ge,xt)})):this.map=null}has(G){return this.init(),this.map.has(G)}get(G){this.init();const ge=this.map.get(G);return ge?ge[0]:null}getAll(G){return this.init(),this.map.get(G)||null}keys(){return this.init(),Array.from(this.map.keys())}append(G,ge){return this.clone({param:G,value:ge,op:"a"})}appendAll(G){const ge=[];return Object.keys(G).forEach(ze=>{const xt=G[ze];Array.isArray(xt)?xt.forEach(cn=>{ge.push({param:ze,value:cn,op:"a"})}):ge.push({param:ze,value:xt,op:"a"})}),this.clone(ge)}set(G,ge){return this.clone({param:G,value:ge,op:"s"})}delete(G,ge){return this.clone({param:G,value:ge,op:"d"})}toString(){return this.init(),this.keys().map(G=>{const ge=this.encoder.encodeKey(G);return this.map.get(G).map(ze=>ge+"="+this.encoder.encodeValue(ze)).join("&")}).filter(G=>""!==G).join("&")}clone(G){const ge=new _n({encoder:this.encoder});return ge.cloneFrom=this.cloneFrom||this,ge.updates=(this.updates||[]).concat(G),ge}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(G=>this.map.set(G,this.cloneFrom.map.get(G))),this.updates.forEach(G=>{switch(G.op){case"a":case"s":const ge=("a"===G.op?this.map.get(G.param):void 0)||[];ge.push(Bt(G.value)),this.map.set(G.param,ge);break;case"d":if(void 0===G.value){this.map.delete(G.param);break}{let ze=this.map.get(G.param)||[];const xt=ze.indexOf(Bt(G.value));-1!==xt&&ze.splice(xt,1),ze.length>0?this.map.set(G.param,ze):this.map.delete(G.param)}}}),this.cloneFrom=this.updates=null)}}class jn{constructor(){this.map=new Map}set(G,ge){return this.map.set(G,ge),this}get(G){return this.map.has(G)||this.map.set(G,G.defaultValue()),this.map.get(G)}delete(G){return this.map.delete(G),this}has(G){return this.map.has(G)}keys(){return this.map.keys()}}function ft(At){return typeof ArrayBuffer<"u"&&At instanceof ArrayBuffer}function Ot(At){return typeof Blob<"u"&&At instanceof Blob}function Rt(At){return typeof FormData<"u"&&At instanceof FormData}class Ht{constructor(G,ge,ze,xt){let cn;if(this.url=ge,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=G.toUpperCase(),function Pn(At){switch(At){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||xt?(this.body=void 0!==ze?ze:null,cn=xt):cn=ze,cn&&(this.reportProgress=!!cn.reportProgress,this.withCredentials=!!cn.withCredentials,cn.responseType&&(this.responseType=cn.responseType),cn.headers&&(this.headers=cn.headers),cn.context&&(this.context=cn.context),cn.params&&(this.params=cn.params)),this.headers||(this.headers=new bt),this.context||(this.context=new jn),this.params){const In=this.params.toString();if(0===In.length)this.urlWithParams=ge;else{const zn=ge.indexOf("?"),Er=-1===zn?"?":zn<ge.length-1?"&":"";this.urlWithParams=ge+Er+In}}else this.params=new _n,this.urlWithParams=ge}serializeBody(){return null===this.body?null:ft(this.body)||Ot(this.body)||Rt(this.body)||function Lt(At){return typeof URLSearchParams<"u"&&At instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _n?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Rt(this.body)?null:Ot(this.body)?this.body.type||null:ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _n?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(G={}){const ge=G.method||this.method,ze=G.url||this.url,xt=G.responseType||this.responseType,cn=void 0!==G.body?G.body:this.body,In=void 0!==G.withCredentials?G.withCredentials:this.withCredentials,zn=void 0!==G.reportProgress?G.reportProgress:this.reportProgress;let Er=G.headers||this.headers,fr=G.params||this.params;const mt=G.context??this.context;return void 0!==G.setHeaders&&(Er=Object.keys(G.setHeaders).reduce((ct,Qe)=>ct.set(Qe,G.setHeaders[Qe]),Er)),G.setParams&&(fr=Object.keys(G.setParams).reduce((ct,Qe)=>ct.set(Qe,G.setParams[Qe]),fr)),new Ht(ge,ze,cn,{params:fr,headers:Er,context:mt,reportProgress:zn,responseType:xt,withCredentials:In})}}var Gt,At;(At=Gt||(Gt={}))[At.Sent=0]="Sent",At[At.UploadProgress=1]="UploadProgress",At[At.ResponseHeader=2]="ResponseHeader",At[At.DownloadProgress=3]="DownloadProgress",At[At.Response=4]="Response",At[At.User=5]="User";class Qt{constructor(G,ge=200,ze="OK"){this.headers=G.headers||new bt,this.status=void 0!==G.status?G.status:ge,this.statusText=G.statusText||ze,this.url=G.url||null,this.ok=this.status>=200&&this.status<300}}class it extends Qt{constructor(G={}){super(G),this.type=Gt.ResponseHeader}clone(G={}){return new it({headers:G.headers||this.headers,status:void 0!==G.status?G.status:this.status,statusText:G.statusText||this.statusText,url:G.url||this.url||void 0})}}class It extends Qt{constructor(G={}){super(G),this.type=Gt.Response,this.body=void 0!==G.body?G.body:null}clone(G={}){return new It({body:void 0!==G.body?G.body:this.body,headers:G.headers||this.headers,status:void 0!==G.status?G.status:this.status,statusText:G.statusText||this.statusText,url:G.url||this.url||void 0})}}class Mt extends Qt{constructor(G){super(G,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${G.url||"(unknown url)"}`:this.message=`Http failure response for ${G.url||"(unknown url)"}: ${G.status} ${G.statusText}`,this.error=G.error||null}}function vn(At,G){return{body:G,headers:At.headers,context:At.context,observe:At.observe,params:At.params,reportProgress:At.reportProgress,responseType:At.responseType,withCredentials:At.withCredentials}}class on{constructor(G){this.handler=G}request(G,ge,ze={}){let xt;if(G instanceof Ht)xt=G;else{let zn,Er;zn=ze.headers instanceof bt?ze.headers:new bt(ze.headers),ze.params&&(Er=ze.params instanceof _n?ze.params:new _n({fromObject:ze.params})),xt=new Ht(G,ge,void 0!==ze.body?ze.body:null,{headers:zn,context:ze.context,params:Er,reportProgress:ze.reportProgress,responseType:ze.responseType||"json",withCredentials:ze.withCredentials})}const cn=(0,Me.of)(xt).pipe((0,Ft.b)(zn=>this.handler.handle(zn)));if(G instanceof Ht||"events"===ze.observe)return cn;const In=cn.pipe((0,Ie.h)(zn=>zn instanceof It));switch(ze.observe||"body"){case"body":switch(xt.responseType){case"arraybuffer":return In.pipe((0,se.U)(zn=>{if(null!==zn.body&&!(zn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return zn.body}));case"blob":return In.pipe((0,se.U)(zn=>{if(null!==zn.body&&!(zn.body instanceof Blob))throw new Error("Response is not a Blob.");return zn.body}));case"text":return In.pipe((0,se.U)(zn=>{if(null!==zn.body&&"string"!=typeof zn.body)throw new Error("Response is not a string.");return zn.body}));default:return In.pipe((0,se.U)(zn=>zn.body))}case"response":return In;default:throw new Error(`Unreachable: unhandled observe type ${ze.observe}}`)}}delete(G,ge={}){return this.request("DELETE",G,ge)}get(G,ge={}){return this.request("GET",G,ge)}head(G,ge={}){return this.request("HEAD",G,ge)}jsonp(G,ge){return this.request("JSONP",G,{params:(new _n).append(ge,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(G,ge={}){return this.request("OPTIONS",G,ge)}patch(G,ge,ze={}){return this.request("PATCH",G,vn(ze,ge))}post(G,ge,ze={}){return this.request("POST",G,vn(ze,ge))}put(G,ge,ze={}){return this.request("PUT",G,vn(ze,ge))}}function xn(At,G){return G(At)}function ur(At,G){return(ge,ze)=>G.intercept(ge,{handle:xt=>At(xt,ze)})}on.\u0275fac=function(G){return new(G||on)(l.LFG(Et))},on.\u0275prov=l.Yz7({token:on,factory:on.\u0275fac});const Un=new l.OlP("HTTP_INTERCEPTORS"),vr=new l.OlP("HTTP_INTERCEPTOR_FNS");function Nr(){let At=null;return(G,ge)=>(null===At&&(At=((0,l.f3M)(Un,{optional:!0})??[]).reduceRight(ur,xn)),At(G,ge))}class Jn extends Et{constructor(G,ge){super(),this.backend=G,this.injector=ge,this.chain=null}handle(G){if(null===this.chain){const ge=Array.from(new Set(this.injector.get(vr)));this.chain=ge.reduceRight((ze,xt)=>function br(At,G,ge){return(ze,xt)=>ge.runInContext(()=>G(ze,cn=>At(cn,xt)))}(ze,xt,this.injector),xn)}return this.chain(G,ge=>this.backend.handle(ge))}}Jn.\u0275fac=function(G){return new(G||Jn)(l.LFG(gt),l.LFG(l.lqb))},Jn.\u0275prov=l.Yz7({token:Jn,factory:Jn.\u0275fac});let dr,Br=0;class Tr{}function Di(){return"object"==typeof window?window:{}}class er{constructor(G,ge){this.callbackMap=G,this.document=ge,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+Br++}handle(G){if("JSONP"!==G.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==G.responseType)throw new Error("JSONP requests must use Json response type.");if(G.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new St.y(ge=>{const ze=this.nextCallback(),xt=G.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${ze}$1`),cn=this.document.createElement("script");cn.src=xt;let In=null,zn=!1;this.callbackMap[ze]=ct=>{delete this.callbackMap[ze],In=ct,zn=!0};const Er=()=>{cn.parentNode&&cn.parentNode.removeChild(cn),delete this.callbackMap[ze]};return cn.addEventListener("load",ct=>{this.resolvedPromise.then(()=>{Er(),zn?(ge.next(new It({body:In,status:200,statusText:"OK",url:xt})),ge.complete()):ge.error(new Mt({url:xt,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),cn.addEventListener("error",ct=>{Er(),ge.error(new Mt({error:ct,status:0,statusText:"JSONP Error",url:xt}))}),this.document.body.appendChild(cn),ge.next({type:Gt.Sent}),()=>{zn||this.removeListeners(cn),Er()}})}removeListeners(G){dr||(dr=this.document.implementation.createHTMLDocument()),dr.adoptNode(G)}}function Zr(At,G){return"JSONP"===At.method?(0,l.f3M)(er).handle(At):G(At)}er.\u0275fac=function(G){return new(G||er)(l.LFG(Tr),l.LFG(ue.K0))},er.\u0275prov=l.Yz7({token:er,factory:er.\u0275fac});class Lr{constructor(G){this.injector=G}intercept(G,ge){return this.injector.runInContext(()=>Zr(G,ze=>ge.handle(ze)))}}Lr.\u0275fac=function(G){return new(G||Lr)(l.LFG(l.lqb))},Lr.\u0275prov=l.Yz7({token:Lr,factory:Lr.\u0275fac});const ir=/^\)\]\}',?\n/;class $n{constructor(G){this.xhrFactory=G}handle(G){if("JSONP"===G.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new St.y(ge=>{const ze=this.xhrFactory.build();if(ze.open(G.method,G.urlWithParams),G.withCredentials&&(ze.withCredentials=!0),G.headers.forEach((Qe,jt)=>ze.setRequestHeader(Qe,jt.join(","))),G.headers.has("Accept")||ze.setRequestHeader("Accept","application/json, text/plain, */*"),!G.headers.has("Content-Type")){const Qe=G.detectContentTypeHeader();null!==Qe&&ze.setRequestHeader("Content-Type",Qe)}if(G.responseType){const Qe=G.responseType.toLowerCase();ze.responseType="json"!==Qe?Qe:"text"}const xt=G.serializeBody();let cn=null;const In=()=>{if(null!==cn)return cn;const Qe=ze.statusText||"OK",jt=new bt(ze.getAllResponseHeaders()),ln=function rr(At){return"responseURL"in At&&At.responseURL?At.responseURL:/^X-Request-URL:/m.test(At.getAllResponseHeaders())?At.getResponseHeader("X-Request-URL"):null}(ze)||G.url;return cn=new it({headers:jt,status:ze.status,statusText:Qe,url:ln}),cn},zn=()=>{let{headers:Qe,status:jt,statusText:ln,url:Gn}=In(),cr=null;204!==jt&&(cr=typeof ze.response>"u"?ze.responseText:ze.response),0===jt&&(jt=cr?200:0);let $r=jt>=200&&jt<300;if("json"===G.responseType&&"string"==typeof cr){const _r=cr;cr=cr.replace(ir,"");try{cr=""!==cr?JSON.parse(cr):null}catch(zi){cr=_r,$r&&($r=!1,cr={error:zi,text:cr})}}$r?(ge.next(new It({body:cr,headers:Qe,status:jt,statusText:ln,url:Gn||void 0})),ge.complete()):ge.error(new Mt({error:cr,headers:Qe,status:jt,statusText:ln,url:Gn||void 0}))},Er=Qe=>{const{url:jt}=In(),ln=new Mt({error:Qe,status:ze.status||0,statusText:ze.statusText||"Unknown Error",url:jt||void 0});ge.error(ln)};let fr=!1;const mt=Qe=>{fr||(ge.next(In()),fr=!0);let jt={type:Gt.DownloadProgress,loaded:Qe.loaded};Qe.lengthComputable&&(jt.total=Qe.total),"text"===G.responseType&&ze.responseText&&(jt.partialText=ze.responseText),ge.next(jt)},ct=Qe=>{let jt={type:Gt.UploadProgress,loaded:Qe.loaded};Qe.lengthComputable&&(jt.total=Qe.total),ge.next(jt)};return ze.addEventListener("load",zn),ze.addEventListener("error",Er),ze.addEventListener("timeout",Er),ze.addEventListener("abort",Er),G.reportProgress&&(ze.addEventListener("progress",mt),null!==xt&&ze.upload&&ze.upload.addEventListener("progress",ct)),ze.send(xt),ge.next({type:Gt.Sent}),()=>{ze.removeEventListener("error",Er),ze.removeEventListener("abort",Er),ze.removeEventListener("load",zn),ze.removeEventListener("timeout",Er),G.reportProgress&&(ze.removeEventListener("progress",mt),null!==xt&&ze.upload&&ze.upload.removeEventListener("progress",ct)),ze.readyState!==ze.DONE&&ze.abort()}})}}$n.\u0275fac=function(G){return new(G||$n)(l.LFG(ue.JF))},$n.\u0275prov=l.Yz7({token:$n,factory:$n.\u0275fac});const Rn=new l.OlP("XSRF_ENABLED"),ar="XSRF-TOKEN",wr=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>ar}),gr="X-XSRF-TOKEN",jr=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>gr});class di{}class Wn{constructor(G,ge,ze){this.doc=G,this.platform=ge,this.cookieName=ze,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const G=this.doc.cookie||"";return G!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ue.Mx)(G,this.cookieName),this.lastCookieString=G),this.lastToken}}function xr(At,G){const ge=At.url.toLowerCase();if(!(0,l.f3M)(Rn)||"GET"===At.method||"HEAD"===At.method||ge.startsWith("http://")||ge.startsWith("https://"))return G(At);const ze=(0,l.f3M)(di).getToken(),xt=(0,l.f3M)(jr);return null!=ze&&!At.headers.has(xt)&&(At=At.clone({headers:At.headers.set(xt,ze)})),G(At)}Wn.\u0275fac=function(G){return new(G||Wn)(l.LFG(ue.K0),l.LFG(l.Lbi),l.LFG(wr))},Wn.\u0275prov=l.Yz7({token:Wn,factory:Wn.\u0275fac});class Mn{constructor(G){this.injector=G}intercept(G,ge){return this.injector.runInContext(()=>xr(G,ze=>ge.handle(ze)))}}var Xt;function de(At,G){return{\u0275kind:At,\u0275providers:G}}Mn.\u0275fac=function(G){return new(G||Mn)(l.LFG(l.lqb))},Mn.\u0275prov=l.Yz7({token:Mn,factory:Mn.\u0275fac}),function(At){At[At.Interceptors=0]="Interceptors",At[At.LegacyInterceptors=1]="LegacyInterceptors",At[At.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",At[At.NoXsrfProtection=3]="NoXsrfProtection",At[At.JsonpSupport=4]="JsonpSupport",At[At.RequestsMadeViaParent=5]="RequestsMadeViaParent"}(Xt||(Xt={}));const Y=new l.OlP("LEGACY_INTERCEPTOR_FN");function pt({cookieName:At,headerName:G}){const ge=[];return void 0!==At&&ge.push({provide:wr,useValue:At}),void 0!==G&&ge.push({provide:jr,useValue:G}),de(Xt.CustomXsrfConfiguration,ge)}class Ue{static disable(){return{ngModule:Ue,providers:[de(Xt.NoXsrfProtection,[{provide:Rn,useValue:!1}]).\u0275providers]}}static withOptions(G={}){return{ngModule:Ue,providers:pt(G).\u0275providers}}}Ue.\u0275fac=function(G){return new(G||Ue)},Ue.\u0275mod=l.oAB({type:Ue}),Ue.\u0275inj=l.cJS({providers:[Mn,{provide:Un,useExisting:Mn,multi:!0},{provide:di,useClass:Wn},pt({cookieName:ar,headerName:gr}).\u0275providers,{provide:Rn,useValue:!0}]});class fe{}fe.\u0275fac=function(G){return new(G||fe)},fe.\u0275mod=l.oAB({type:fe}),fe.\u0275inj=l.cJS({providers:[function Ce(...At){const G=[on,$n,Jn,{provide:Et,useExisting:Jn},{provide:gt,useExisting:$n},{provide:vr,useValue:xr,multi:!0},{provide:Rn,useValue:!0},{provide:di,useClass:Wn}];for(const ge of At)G.push(...ge.\u0275providers);return(0,l.MR2)(G)}(function Se(){return de(Xt.LegacyInterceptors,[{provide:Y,useFactory:Nr},{provide:vr,useExisting:Y,multi:!0}])}())]});class oe{}oe.\u0275fac=function(G){return new(G||oe)},oe.\u0275mod=l.oAB({type:oe}),oe.\u0275inj=l.cJS({providers:[function Zn(){return de(Xt.JsonpSupport,[er,{provide:Tr,useFactory:Di},{provide:vr,useValue:Zr,multi:!0}])}().\u0275providers]});var Ct=S(1481);
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */let ee;function nt(At){return function Oe(){if(void 0===ee&&(ee=null,typeof window<"u")){const At=window;void 0!==At.trustedTypes&&(ee=At.trustedTypes.createPolicy("angular#components",{createHTML:G=>G}))}return ee}()?.createHTML(At)||At}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */function Ut(At){return Error(`Unable to find icon with the name "${At}"`)}function On(At){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${At}".`)}function lt(At){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${At}".`)}class q{constructor(G,ge,ze){this.url=G,this.svgText=ge,this.options=ze}}class Ne{constructor(G,ge,ze,xt){this._httpClient=G,this._sanitizer=ge,this._errorHandler=xt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=ze}addSvgIcon(G,ge,ze){return this.addSvgIconInNamespace("",G,ge,ze)}addSvgIconLiteral(G,ge,ze){return this.addSvgIconLiteralInNamespace("",G,ge,ze)}addSvgIconInNamespace(G,ge,ze,xt){return this._addSvgIconConfig(G,ge,new q(ze,null,xt))}addSvgIconResolver(G){return this._resolvers.push(G),this}addSvgIconLiteralInNamespace(G,ge,ze,xt){const cn=this._sanitizer.sanitize(l.q3G.HTML,ze);if(!cn)throw lt(ze);const In=nt(cn);return this._addSvgIconConfig(G,ge,new q("",In,xt))}addSvgIconSet(G,ge){return this.addSvgIconSetInNamespace("",G,ge)}addSvgIconSetLiteral(G,ge){return this.addSvgIconSetLiteralInNamespace("",G,ge)}addSvgIconSetInNamespace(G,ge,ze){return this._addSvgIconSetConfig(G,new q(ge,null,ze))}addSvgIconSetLiteralInNamespace(G,ge,ze){const xt=this._sanitizer.sanitize(l.q3G.HTML,ge);if(!xt)throw lt(ge);const cn=nt(xt);return this._addSvgIconSetConfig(G,new q("",cn,ze))}registerFontClassAlias(G,ge=G){return this._fontCssClassesByAlias.set(G,ge),this}classNameForFontAlias(G){return this._fontCssClassesByAlias.get(G)||G}setDefaultFontSetClass(...G){return this._defaultFontSetClass=G,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(G){const ge=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,G);if(!ge)throw On(G);const ze=this._cachedIconsByUrl.get(ge);return ze?(0,Me.of)(Cn(ze)):this._loadSvgIconFromConfig(new q(G,null)).pipe((0,_e.b)(xt=>this._cachedIconsByUrl.set(ge,xt)),(0,se.U)(xt=>Cn(xt)))}getNamedSvgIcon(G,ge=""){const ze=nr(ge,G);let xt=this._svgIconConfigs.get(ze);if(xt)return this._getSvgFromConfig(xt);if(xt=this._getIconConfigFromResolvers(ge,G),xt)return this._svgIconConfigs.set(ze,xt),this._getSvgFromConfig(xt);const cn=this._iconSetConfigs.get(ge);return cn?this._getSvgFromIconSetConfigs(G,cn):(0,we._)(Ut(ze))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(G){return G.svgText?(0,Me.of)(Cn(this._svgElementFromConfig(G))):this._loadSvgIconFromConfig(G).pipe((0,se.U)(ge=>Cn(ge)))}_getSvgFromIconSetConfigs(G,ge){const ze=this._extractIconWithNameFromAnySet(G,ge);if(ze)return(0,Me.of)(ze);const xt=ge.filter(cn=>!cn.svgText).map(cn=>this._loadSvgIconSetFromConfig(cn).pipe((0,Re.K)(In=>{const Er=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,cn.url)} failed: ${In.message}`;return this._errorHandler.handleError(new Error(Er)),(0,Me.of)(null)})));return(0,Pe.D)(xt).pipe((0,se.U)(()=>{const cn=this._extractIconWithNameFromAnySet(G,ge);if(!cn)throw Ut(G);return cn}))}_extractIconWithNameFromAnySet(G,ge){for(let ze=ge.length-1;ze>=0;ze--){const xt=ge[ze];if(xt.svgText&&xt.svgText.toString().indexOf(G)>-1){const cn=this._svgElementFromConfig(xt),In=this._extractSvgIconFromSet(cn,G,xt.options);if(In)return In}}return null}_loadSvgIconFromConfig(G){return this._fetchIcon(G).pipe((0,_e.b)(ge=>G.svgText=ge),(0,se.U)(()=>this._svgElementFromConfig(G)))}_loadSvgIconSetFromConfig(G){return G.svgText?(0,Me.of)(null):this._fetchIcon(G).pipe((0,_e.b)(ge=>G.svgText=ge))}_extractSvgIconFromSet(G,ge,ze){const xt=G.querySelector(`[id="${ge}"]`);if(!xt)return null;const cn=xt.cloneNode(!0);if(cn.removeAttribute("id"),"svg"===cn.nodeName.toLowerCase())return this._setSvgAttributes(cn,ze);if("symbol"===cn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(cn),ze);const In=this._svgElementFromString(nt("<svg></svg>"));return In.appendChild(cn),this._setSvgAttributes(In,ze)}_svgElementFromString(G){const ge=this._document.createElement("DIV");ge.innerHTML=G;const ze=ge.querySelector("svg");if(!ze)throw Error("<svg> tag not found");return ze}_toSvgElement(G){const ge=this._svgElementFromString(nt("<svg></svg>")),ze=G.attributes;for(let xt=0;xt<ze.length;xt++){const{name:cn,value:In}=ze[xt];"id"!==cn&&ge.setAttribute(cn,In)}for(let xt=0;xt<G.childNodes.length;xt++)G.childNodes[xt].nodeType===this._document.ELEMENT_NODE&&ge.appendChild(G.childNodes[xt].cloneNode(!0));return ge}_setSvgAttributes(G,ge){return G.setAttribute("fit",""),G.setAttribute("height","100%"),G.setAttribute("width","100%"),G.setAttribute("preserveAspectRatio","xMidYMid meet"),G.setAttribute("focusable","false"),ge&&ge.viewBox&&G.setAttribute("viewBox",ge.viewBox),G}_fetchIcon(G){const{url:ge,options:ze}=G,xt=ze?.withCredentials??!1;if(!this._httpClient)throw function tn(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==ge)throw Error(`Cannot fetch icon from URL "${ge}".`);const cn=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,ge);if(!cn)throw On(ge);const In=this._inProgressUrlFetches.get(cn);if(In)return In;const zn=this._httpClient.get(cn,{responseType:"text",withCredentials:xt}).pipe((0,se.U)(Er=>nt(Er)),(0,Le.x)(()=>this._inProgressUrlFetches.delete(cn)),(0,Xe.B)());return this._inProgressUrlFetches.set(cn,zn),zn}_addSvgIconConfig(G,ge,ze){return this._svgIconConfigs.set(nr(G,ge),ze),this}_addSvgIconSetConfig(G,ge){const ze=this._iconSetConfigs.get(G);return ze?ze.push(ge):this._iconSetConfigs.set(G,[ge]),this}_svgElementFromConfig(G){if(!G.svgElement){const ge=this._svgElementFromString(G.svgText);this._setSvgAttributes(ge,G.options),G.svgElement=ge}return G.svgElement}_getIconConfigFromResolvers(G,ge){for(let ze=0;ze<this._resolvers.length;ze++){const xt=this._resolvers[ze](ge,G);if(xt)return Zi(xt)?new q(xt.url,null,xt.options):new q(xt,null)}}}Ne.\u0275fac=function(G){return new(G||Ne)(l.LFG(on,8),l.LFG(Ct.H7),l.LFG(ue.K0,8),l.LFG(l.qLn))},Ne.\u0275prov=l.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"});new l.FiY,new l.tp0,new l.FiY,Ct.H7,l.qLn,new l.FiY,ue.K0;function Cn(At){return At.cloneNode(!0)}function nr(At,G){return At+":"+G}function Zi(At){return!(!At.url||!At.options)}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */const Ui=(0,g.pj)(class{constructor(At){this._elementRef=At}}),Ti=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),Or=new l.OlP("mat-icon-location",{providedIn:"root",factory:function Vi(){const At=(0,l.f3M)(ue.K0),G=At?At.location:null;return{getPathname:()=>G?G.pathname+G.search:""}}});const Ci=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],io=Ci.map(At=>`[${At}]`).join(", "),Fi=/^url\(['"]?#(.*?)['"]?\)$/;class ai extends Ui{get inline(){return this._inline}set inline(G){this._inline=(0,z.Ig)(G)}get svgIcon(){return this._svgIcon}set svgIcon(G){G!==this._svgIcon&&(G?this._updateSvgIcon(G):this._svgIcon&&this._clearSvgElement(),this._svgIcon=G)}get fontSet(){return this._fontSet}set fontSet(G){const ge=this._cleanupFontValue(G);ge!==this._fontSet&&(this._fontSet=ge,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(G){const ge=this._cleanupFontValue(G);ge!==this._fontIcon&&(this._fontIcon=ge,this._updateFontIconClasses())}constructor(G,ge,ze,xt,cn,In){super(G),this._iconRegistry=ge,this._location=xt,this._errorHandler=cn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=le.w0.EMPTY,In&&(In.color&&(this.color=this.defaultColor=In.color),In.fontSet&&(this.fontSet=In.fontSet)),ze||G.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(G){if(!G)return["",""];const ge=G.split(":");switch(ge.length){case 1:return["",ge[0]];case 2:return ge;default:throw Error(`Invalid icon name: "${G}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const G=this._elementsWithExternalReferences;if(G&&G.size){const ge=this._location.getPathname();ge!==this._previousPath&&(this._previousPath=ge,this._prependPathToReferences(ge))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(G){this._clearSvgElement();const ge=this._location.getPathname();this._previousPath=ge,this._cacheChildrenWithExternalReferences(G),this._prependPathToReferences(ge),this._elementRef.nativeElement.appendChild(G)}_clearSvgElement(){const G=this._elementRef.nativeElement;let ge=G.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();ge--;){const ze=G.childNodes[ge];(1!==ze.nodeType||"svg"===ze.nodeName.toLowerCase())&&ze.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const G=this._elementRef.nativeElement,ge=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(ze=>ze.length>0);this._previousFontSetClass.forEach(ze=>G.classList.remove(ze)),ge.forEach(ze=>G.classList.add(ze)),this._previousFontSetClass=ge,this.fontIcon!==this._previousFontIconClass&&!ge.includes("mat-ligature-font")&&(this._previousFontIconClass&&G.classList.remove(this._previousFontIconClass),this.fontIcon&&G.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(G){return"string"==typeof G?G.trim().split(" ")[0]:G}_prependPathToReferences(G){const ge=this._elementsWithExternalReferences;ge&&ge.forEach((ze,xt)=>{ze.forEach(cn=>{xt.setAttribute(cn.name,`url('${G}#${cn.value}')`)})})}_cacheChildrenWithExternalReferences(G){const ge=G.querySelectorAll(io),ze=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let xt=0;xt<ge.length;xt++)Ci.forEach(cn=>{const In=ge[xt],zn=In.getAttribute(cn),Er=zn?zn.match(Fi):null;if(Er){let fr=ze.get(In);fr||(fr=[],ze.set(In,fr)),fr.push({name:cn,value:Er[1]})}})}_updateSvgIcon(G){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),G){const[ge,ze]=this._splitIconName(G);ge&&(this._svgNamespace=ge),ze&&(this._svgName=ze),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(ze,ge).pipe((0,We.q)(1)).subscribe(xt=>this._setSvgElement(xt),xt=>{const cn=`Error retrieving icon ${ge}:${ze}! ${xt.message}`;this._errorHandler.handleError(new Error(cn))})}}}ai.\u0275fac=function(G){return new(G||ai)(l.Y36(l.SBq),l.Y36(Ne),l.$8M("aria-hidden"),l.Y36(Or),l.Y36(l.qLn),l.Y36(Ti,8))},ai.\u0275cmp=l.Xpm({type:ai,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(G,ge){2&G&&(l.uIk("data-mat-icon-type",ge._usingFontIcon()?"font":"svg")("data-mat-icon-name",ge._svgName||ge.fontIcon)("data-mat-icon-namespace",ge._svgNamespace||ge.fontSet)("fontIcon",ge._usingFontIcon()?ge.fontIcon:null),l.ekj("mat-icon-inline",ge.inline)("mat-icon-no-color","primary"!==ge.color&&"accent"!==ge.color&&"warn"!==ge.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:["*"],decls:1,vars:0,template:function(G,ge){1&G&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
class Vn{}Vn.\u0275fac=function(G){return new(G||Vn)},Vn.\u0275mod=l.oAB({type:Vn,declarations:[ai],imports:[g.BQ],exports:[ai,g.BQ]}),Vn.\u0275inj=l.cJS({imports:[g.BQ,g.BQ]})}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */,1481:(En,rt,S)=>{S.d(rt,{Dx:()=>ir,H7:()=>fe,b2:()=>Tr,q6:()=>ri,se:()=>Pn});var l=S(6895),g=S(4650);
/**
         * @license Angular v15.2.5
         * (c) 2010-2022 Google LLC. https://angular.io/
         * License: MIT
         */class z extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ue extends z{static makeCurrent(){(0,l.HT)(new ue)}onAndCancel(ee,Oe,nt){return ee.addEventListener(Oe,nt,!1),()=>{ee.removeEventListener(Oe,nt,!1)}}dispatchEvent(ee,Oe){ee.dispatchEvent(Oe)}remove(ee){ee.parentNode&&ee.parentNode.removeChild(ee)}createElement(ee,Oe){return(Oe=Oe||this.getDefaultDocument()).createElement(ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ee){return ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(ee){return ee instanceof DocumentFragment}getGlobalEventTarget(ee,Oe){return"window"===Oe?window:"document"===Oe?ee:"body"===Oe?ee.body:null}getBaseHref(ee){const Oe=function we(){return Me=Me||document.querySelector("base"),Me?Me.getAttribute("href"):null}();return null==Oe?null:function le(Ke){Pe=Pe||document.createElement("a"),Pe.setAttribute("href",Ke);const ee=Pe.pathname;return"/"===ee.charAt(0)?ee:`/${ee}`}(Oe)}resetBaseElement(){Me=null}getUserAgent(){return window.navigator.userAgent}getCookie(ee){return(0,l.Mx)(document.cookie,ee)}}let Pe,Me=null;const _e=new g.OlP("TRANSITION_ID");const Re=[{provide:g.ip1,useFactory:function se(Ke,ee,Oe){return()=>{Oe.get(g.CZH).donePromise.then(()=>{const nt=(0,l.q)(),Ut=ee.querySelectorAll(`style[ng-transition="${Ke}"]`);for(let tn=0;tn<Ut.length;tn++)nt.remove(Ut[tn])})}},deps:[_e,l.K0,g.zs3],multi:!0}];class Xe{build(){return new XMLHttpRequest}}Xe.\u0275fac=function(ee){return new(ee||Xe)},Xe.\u0275prov=g.Yz7({token:Xe,factory:Xe.\u0275fac});const We=new g.OlP("EventManagerPlugins");class St{constructor(ee,Oe){this._zone=Oe,this._eventNameToPlugin=new Map,ee.forEach(nt=>{nt.manager=this}),this._plugins=ee.slice().reverse()}addEventListener(ee,Oe,nt){return this._findPluginFor(Oe).addEventListener(ee,Oe,nt)}addGlobalEventListener(ee,Oe,nt){return this._findPluginFor(Oe).addGlobalEventListener(ee,Oe,nt)}getZone(){return this._zone}_findPluginFor(ee){const Oe=this._eventNameToPlugin.get(ee);if(Oe)return Oe;const nt=this._plugins;for(let Ut=0;Ut<nt.length;Ut++){const tn=nt[Ut];if(tn.supports(ee))return this._eventNameToPlugin.set(ee,tn),tn}throw new Error(`No event manager plugin found for event ${ee}`)}}St.\u0275fac=function(ee){return new(ee||St)(g.LFG(We),g.LFG(g.R0b))},St.\u0275prov=g.Yz7({token:St,factory:St.\u0275fac});class Ft{constructor(ee){this._doc=ee}addGlobalEventListener(ee,Oe,nt){const Ut=(0,l.q)().getGlobalEventTarget(this._doc,ee);if(!Ut)throw new Error(`Unsupported event target ${Ut} for event ${Oe}`);return this.addEventListener(Ut,Oe,nt)}}class Ie{constructor(){this.usageCount=new Map}addStyles(ee){for(const Oe of ee)1===this.changeUsageCount(Oe,1)&&this.onStyleAdded(Oe)}removeStyles(ee){for(const Oe of ee)0===this.changeUsageCount(Oe,-1)&&this.onStyleRemoved(Oe)}onStyleRemoved(ee){}onStyleAdded(ee){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ee,Oe){const nt=this.usageCount;let Ut=nt.get(ee)??0;return Ut+=Oe,Ut>0?nt.set(ee,Ut):nt.delete(ee),Ut}ngOnDestroy(){for(const ee of this.getAllStyles())this.onStyleRemoved(ee);this.usageCount.clear()}}Ie.\u0275fac=function(ee){return new(ee||Ie)},Ie.\u0275prov=g.Yz7({token:Ie,factory:Ie.\u0275fac});class Et extends Ie{constructor(ee){super(),this.doc=ee,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ee){for(const Oe of this.hostNodes)this.addStyleToHost(Oe,ee)}onStyleRemoved(ee){const Oe=this.styleRef;Oe.get(ee)?.forEach(Ut=>Ut.remove()),Oe.delete(ee)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ee){this.hostNodes.add(ee);for(const Oe of this.getAllStyles())this.addStyleToHost(ee,Oe)}removeHost(ee){this.hostNodes.delete(ee)}addStyleToHost(ee,Oe){const nt=this.doc.createElement("style");nt.textContent=Oe,ee.appendChild(nt);const Ut=this.styleRef.get(Oe);Ut?Ut.push(nt):this.styleRef.set(Oe,[nt])}resetHostNodes(){const ee=this.hostNodes;ee.clear(),ee.add(this.doc.head)}}Et.\u0275fac=function(ee){return new(ee||Et)(g.LFG(l.K0))},Et.\u0275prov=g.Yz7({token:Et,factory:Et.\u0275fac});const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bt=/%COMP%/g,at="_nghost-%COMP%",qt="_ngcontent-%COMP%",X=new g.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>false});function en(Ke,ee){return ee.flat(100).map(Oe=>Oe.replace(bt,Ke))}function jn(Ke){return ee=>{if("__ngUnwrap__"===ee)return Ke;!1===Ke(ee)&&(ee.preventDefault(),ee.returnValue=!1)}}class Pn{constructor(ee,Oe,nt,Ut){this.eventManager=ee,this.sharedStylesHost=Oe,this.appId=nt,this.removeStylesOnCompDestory=Ut,this.rendererByCompId=new Map,this.defaultRenderer=new ft(ee)}createRenderer(ee,Oe){if(!ee||!Oe)return this.defaultRenderer;const nt=this.getOrCreateRenderer(ee,Oe);return nt instanceof Qt?nt.applyToHost(ee):nt instanceof Gt&&nt.applyStyles(),nt}getOrCreateRenderer(ee,Oe){const nt=this.rendererByCompId;let Ut=nt.get(Oe.id);if(!Ut){const tn=this.eventManager,On=this.sharedStylesHost,lt=this.removeStylesOnCompDestory;switch(Oe.encapsulation){case g.ifc.Emulated:Ut=new Qt(tn,On,Oe,this.appId,lt);break;case g.ifc.ShadowDom:return new Ht(tn,On,ee,Oe);default:Ut=new Gt(tn,On,Oe,lt)}Ut.onDestroy=()=>nt.delete(Oe.id),nt.set(Oe.id,Ut)}return Ut}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}Pn.\u0275fac=function(ee){return new(ee||Pn)(g.LFG(St),g.LFG(Et),g.LFG(g.AFp),g.LFG(X))},Pn.\u0275prov=g.Yz7({token:Pn,factory:Pn.\u0275fac});class ft{constructor(ee){this.eventManager=ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ee,Oe){return Oe?document.createElementNS(gt[Oe]||Oe,ee):document.createElement(ee)}createComment(ee){return document.createComment(ee)}createText(ee){return document.createTextNode(ee)}appendChild(ee,Oe){(Lt(ee)?ee.content:ee).appendChild(Oe)}insertBefore(ee,Oe,nt){ee&&(Lt(ee)?ee.content:ee).insertBefore(Oe,nt)}removeChild(ee,Oe){ee&&ee.removeChild(Oe)}selectRootElement(ee,Oe){let nt="string"==typeof ee?document.querySelector(ee):ee;if(!nt)throw new Error(`The selector "${ee}" did not match any elements`);return Oe||(nt.textContent=""),nt}parentNode(ee){return ee.parentNode}nextSibling(ee){return ee.nextSibling}setAttribute(ee,Oe,nt,Ut){if(Ut){Oe=Ut+":"+Oe;const tn=gt[Ut];tn?ee.setAttributeNS(tn,Oe,nt):ee.setAttribute(Oe,nt)}else ee.setAttribute(Oe,nt)}removeAttribute(ee,Oe,nt){if(nt){const Ut=gt[nt];Ut?ee.removeAttributeNS(Ut,Oe):ee.removeAttribute(`${nt}:${Oe}`)}else ee.removeAttribute(Oe)}addClass(ee,Oe){ee.classList.add(Oe)}removeClass(ee,Oe){ee.classList.remove(Oe)}setStyle(ee,Oe,nt,Ut){Ut&(g.JOm.DashCase|g.JOm.Important)?ee.style.setProperty(Oe,nt,Ut&g.JOm.Important?"important":""):ee.style[Oe]=nt}removeStyle(ee,Oe,nt){nt&g.JOm.DashCase?ee.style.removeProperty(Oe):ee.style[Oe]=""}setProperty(ee,Oe,nt){ee[Oe]=nt}setValue(ee,Oe){ee.nodeValue=Oe}listen(ee,Oe,nt){return"string"==typeof ee?this.eventManager.addGlobalEventListener(ee,Oe,jn(nt)):this.eventManager.addEventListener(ee,Oe,jn(nt))}}"@".charCodeAt(0);function Lt(Ke){return"TEMPLATE"===Ke.tagName&&void 0!==Ke.content}class Ht extends ft{constructor(ee,Oe,nt,Ut){super(ee),this.sharedStylesHost=Oe,this.hostEl=nt,this.shadowRoot=nt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=en(Ut.id,Ut.styles);for(const On of tn){const lt=document.createElement("style");lt.textContent=On,this.shadowRoot.appendChild(lt)}}nodeOrShadowRoot(ee){return ee===this.hostEl?this.shadowRoot:ee}appendChild(ee,Oe){return super.appendChild(this.nodeOrShadowRoot(ee),Oe)}insertBefore(ee,Oe,nt){return super.insertBefore(this.nodeOrShadowRoot(ee),Oe,nt)}removeChild(ee,Oe){return super.removeChild(this.nodeOrShadowRoot(ee),Oe)}parentNode(ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ee)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Gt extends ft{constructor(ee,Oe,nt,Ut,tn=nt.id){super(ee),this.sharedStylesHost=Oe,this.removeStylesOnCompDestory=Ut,this.rendererUsageCount=0,this.styles=en(tn,nt.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Qt extends Gt{constructor(ee,Oe,nt,Ut,tn){const On=Ut+"-"+nt.id;super(ee,Oe,nt,tn,On),this.contentAttr=function Bt(Ke){return qt.replace(bt,Ke)}(On),this.hostAttr=function _n(Ke){return at.replace(bt,Ke)}(On)}applyToHost(ee){this.applyStyles(),this.setAttribute(ee,this.hostAttr,"")}createElement(ee,Oe){const nt=super.createElement(ee,Oe);return super.setAttribute(nt,this.contentAttr,""),nt}}class it extends Ft{constructor(ee){super(ee)}supports(ee){return!0}addEventListener(ee,Oe,nt){return ee.addEventListener(Oe,nt,!1),()=>this.removeEventListener(ee,Oe,nt)}removeEventListener(ee,Oe,nt){return ee.removeEventListener(Oe,nt)}}it.\u0275fac=function(ee){return new(ee||it)(g.LFG(l.K0))},it.\u0275prov=g.Yz7({token:it,factory:it.\u0275fac});const It=["alt","control","meta","shift"],Mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vn={alt:Ke=>Ke.altKey,control:Ke=>Ke.ctrlKey,meta:Ke=>Ke.metaKey,shift:Ke=>Ke.shiftKey};class on extends Ft{constructor(ee){super(ee)}supports(ee){return null!=on.parseEventName(ee)}addEventListener(ee,Oe,nt){const Ut=on.parseEventName(Oe),tn=on.eventCallback(Ut.fullKey,nt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(ee,Ut.domEventName,tn))}static parseEventName(ee){const Oe=ee.toLowerCase().split("."),nt=Oe.shift();if(0===Oe.length||"keydown"!==nt&&"keyup"!==nt)return null;const Ut=on._normalizeKey(Oe.pop());let tn="",On=Oe.indexOf("code");if(On>-1&&(Oe.splice(On,1),tn="code."),It.forEach(q=>{const Ne=Oe.indexOf(q);Ne>-1&&(Oe.splice(Ne,1),tn+=q+".")}),tn+=Ut,0!=Oe.length||0===Ut.length)return null;const lt={};return lt.domEventName=nt,lt.fullKey=tn,lt}static matchEventFullKeyCode(ee,Oe){let nt=Mt[ee.key]||ee.key,Ut="";return Oe.indexOf("code.")>-1&&(nt=ee.code,Ut="code."),!(null==nt||!nt)&&(nt=nt.toLowerCase()," "===nt?nt="space":"."===nt&&(nt="dot"),It.forEach(tn=>{if(tn!==nt){(0,vn[tn])(ee)&&(Ut+=tn+".")}}),Ut+=nt,Ut===Oe)}static eventCallback(ee,Oe,nt){return Ut=>{on.matchEventFullKeyCode(Ut,ee)&&nt.runGuarded(()=>Oe(Ut))}}static _normalizeKey(ee){return"esc"===ee?"escape":ee}}on.\u0275fac=function(ee){return new(ee||on)(g.LFG(l.K0))},on.\u0275prov=g.Yz7({token:on,factory:on.\u0275fac});const dr=[{provide:g.Lbi,useValue:l.bD},{provide:g.g9A,useValue:function Nr(){ue.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function Br(){return(0,g.RDi)(document),document},deps:[]}],ri=(0,g.eFA)(g._c5,"browser",dr),hr=new g.OlP(""),fi=[{provide:g.rWj,useClass:class Le{addToWindow(ee){g.dqk.getAngularTestability=(nt,Ut=!0)=>{const tn=ee.findTestabilityInTree(nt,Ut);if(null==tn)throw new Error("Could not find testability for element.");return tn},g.dqk.getAllAngularTestabilities=()=>ee.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>ee.getAllRootElements();g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(nt=>{const Ut=g.dqk.getAllAngularTestabilities();let tn=Ut.length,On=!1;const lt=function(q){On=On||q,tn--,0==tn&&nt(On)};Ut.forEach(function(q){q.whenStable(lt)})})}findTestabilityInTree(ee,Oe,nt){if(null==Oe)return null;return ee.getTestability(Oe)??(nt?(0,l.q)().isShadowRoot(Oe)?this.findTestabilityInTree(ee,Oe.host,!0):this.findTestabilityInTree(ee,Oe.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Hn=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function Jn(){return new g.qLn},deps:[]},{provide:We,useClass:it,multi:!0,deps:[l.K0,g.R0b,g.Lbi]},{provide:We,useClass:on,multi:!0,deps:[l.K0]},{provide:Pn,useClass:Pn,deps:[St,Et,g.AFp,X]},{provide:g.FYo,useExisting:Pn},{provide:Ie,useExisting:Et},{provide:Et,useClass:Et,deps:[l.K0]},{provide:St,useClass:St,deps:[We,g.R0b]},{provide:l.JF,useClass:Xe,deps:[]},[]];class Tr{constructor(ee){false}static withServerTransition(ee){return{ngModule:Tr,providers:[{provide:g.AFp,useValue:ee.appId},{provide:_e,useExisting:g.AFp},Re]}}}Tr.\u0275fac=function(ee){return new(ee||Tr)(g.LFG(hr,12))},Tr.\u0275mod=g.oAB({type:Tr,exports:[l.ez,g.hGG]}),Tr.\u0275inj=g.cJS({providers:[...Hn,...fi],imports:[l.ez,g.hGG]});class er{constructor(ee){this._doc=ee,this._dom=(0,l.q)()}addTag(ee,Oe=!1){return ee?this._getOrCreateElement(ee,Oe):null}addTags(ee,Oe=!1){return ee?ee.reduce((nt,Ut)=>(Ut&&nt.push(this._getOrCreateElement(Ut,Oe)),nt),[]):[]}getTag(ee){return ee&&this._doc.querySelector(`meta[${ee}]`)||null}getTags(ee){if(!ee)return[];const Oe=this._doc.querySelectorAll(`meta[${ee}]`);return Oe?[].slice.call(Oe):[]}updateTag(ee,Oe){if(!ee)return null;Oe=Oe||this._parseSelector(ee);const nt=this.getTag(Oe);return nt?this._setMetaElementAttributes(ee,nt):this._getOrCreateElement(ee,!0)}removeTag(ee){this.removeTagElement(this.getTag(ee))}removeTagElement(ee){ee&&this._dom.remove(ee)}_getOrCreateElement(ee,Oe=!1){if(!Oe){const tn=this._parseSelector(ee),On=this.getTags(tn).filter(lt=>this._containsAttributes(ee,lt))[0];if(void 0!==On)return On}const nt=this._dom.createElement("meta");return this._setMetaElementAttributes(ee,nt),this._doc.getElementsByTagName("head")[0].appendChild(nt),nt}_setMetaElementAttributes(ee,Oe){return Object.keys(ee).forEach(nt=>Oe.setAttribute(this._getMetaKeyMap(nt),ee[nt])),Oe}_parseSelector(ee){const Oe=ee.name?"name":"property";return`${Oe}="${ee[Oe]}"`}_containsAttributes(ee,Oe){return Object.keys(ee).every(nt=>Oe.getAttribute(this._getMetaKeyMap(nt))===ee[nt])}_getMetaKeyMap(ee){return Zr[ee]||ee}}er.\u0275fac=function(ee){return new(ee||er)(g.LFG(l.K0))},er.\u0275prov=g.Yz7({token:er,factory:function(ee){let Oe=null;return Oe=ee?new ee:function Di(){return new er((0,g.LFG)(l.K0))}(),Oe},providedIn:"root"});const Zr={httpEquiv:"http-equiv"};class ir{constructor(ee){this._doc=ee}getTitle(){return this._doc.title}setTitle(ee){this._doc.title=ee||""}}ir.\u0275fac=function(ee){return new(ee||ir)(g.LFG(l.K0))},ir.\u0275prov=g.Yz7({token:ir,factory:function(ee){let Oe=null;return Oe=ee?new ee:function Lr(){return new ir((0,g.LFG)(l.K0))}(),Oe},providedIn:"root"});typeof window<"u"&&window;class Xt{constructor(){this.store={},this.onSerializeCallbacks={},this.store=function de(Ke,ee){const Oe=Ke.getElementById(ee+"-state");let nt={};if(Oe&&Oe.textContent)try{nt=JSON.parse(function xr(Ke){const ee={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return Ke.replace(/&[^;]+;/g,Oe=>ee[Oe])}(Oe.textContent))}catch(Ut){console.warn("Exception while restoring TransferState for app "+ee,Ut)}return nt}((0,g.f3M)(l.K0),(0,g.f3M)(g.AFp))}get(ee,Oe){return void 0!==this.store[ee]?this.store[ee]:Oe}set(ee,Oe){this.store[ee]=Oe}remove(ee){delete this.store[ee]}hasKey(ee){return this.store.hasOwnProperty(ee)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(ee,Oe){this.onSerializeCallbacks[ee]=Oe}toJson(){for(const ee in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(ee))try{this.store[ee]=this.onSerializeCallbacks[ee]()}catch(Oe){console.warn("Exception in onSerialize callback: ",Oe)}return JSON.stringify(this.store)}}Xt.\u0275fac=function(ee){return new(ee||Xt)},Xt.\u0275prov=g.Yz7({token:Xt,factory:Xt.\u0275fac,providedIn:"root"});class Ce{}Ce.\u0275fac=function(ee){return new(ee||Ce)},Ce.\u0275mod=g.oAB({type:Ce}),Ce.\u0275inj=g.cJS({});const Se={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},pt=new g.OlP("HammerGestureConfig"),yn=new g.OlP("HammerLoader");class Zn{constructor(){this.events=[],this.overrides={}}buildHammer(ee){const Oe=new Hammer(ee,this.options);Oe.get("pinch").set({enable:!0}),Oe.get("rotate").set({enable:!0});for(const nt in this.overrides)Oe.get(nt).set(this.overrides[nt]);return Oe}}Zn.\u0275fac=function(ee){return new(ee||Zn)},Zn.\u0275prov=g.Yz7({token:Zn,factory:Zn.\u0275fac});class He extends Ft{constructor(ee,Oe,nt,Ut){super(ee),this._config=Oe,this.console=nt,this.loader=Ut,this._loaderPromise=null}supports(ee){return!(!Se.hasOwnProperty(ee.toLowerCase())&&!this.isCustomEvent(ee)||!window.Hammer&&!this.loader)}addEventListener(ee,Oe,nt){const Ut=this.manager.getZone();if(Oe=Oe.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||Ut.runOutsideAngular(()=>this.loader());let tn=!1,On=()=>{tn=!0};return Ut.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?tn||(On=this.addEventListener(ee,Oe,nt)):On=()=>{}}).catch(()=>{On=()=>{}})),()=>{On()}}return Ut.runOutsideAngular(()=>{const tn=this._config.buildHammer(ee),On=function(lt){Ut.runGuarded(function(){nt(lt)})};return tn.on(Oe,On),()=>{tn.off(Oe,On),"function"==typeof tn.destroy&&tn.destroy()}})}isCustomEvent(ee){return this._config.events.indexOf(ee)>-1}}He.\u0275fac=function(ee){return new(ee||He)(g.LFG(l.K0),g.LFG(pt),g.LFG(g.c2e),g.LFG(yn,8))},He.\u0275prov=g.Yz7({token:He,factory:He.\u0275fac});class Ue{}Ue.\u0275fac=function(ee){return new(ee||Ue)},Ue.\u0275mod=g.oAB({type:Ue}),Ue.\u0275inj=g.cJS({providers:[{provide:We,useClass:He,multi:!0,deps:[l.K0,pt,g.c2e,[new g.FiY,yn]]},{provide:pt,useClass:Zn,deps:[]}]});class fe{}fe.\u0275fac=function(ee){return new(ee||fe)},fe.\u0275prov=g.Yz7({token:fe,factory:function(ee){let Oe=null;return Oe=ee?new(ee||fe):g.LFG(me),Oe},providedIn:"root"});class me extends fe{constructor(ee){super(),this._doc=ee}sanitize(ee,Oe){if(null==Oe)return null;switch(ee){case g.q3G.NONE:return Oe;case g.q3G.HTML:return(0,g.qzn)(Oe,"HTML")?(0,g.z3N)(Oe):(0,g.EiD)(this._doc,String(Oe)).toString();case g.q3G.STYLE:return(0,g.qzn)(Oe,"Style")?(0,g.z3N)(Oe):Oe;case g.q3G.SCRIPT:if((0,g.qzn)(Oe,"Script"))return(0,g.z3N)(Oe);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.qzn)(Oe,"URL")?(0,g.z3N)(Oe):(0,g.mCW)(String(Oe));case g.q3G.RESOURCE_URL:if((0,g.qzn)(Oe,"ResourceURL"))return(0,g.z3N)(Oe);throw new Error(`unsafe value used in a resource URL context (see ${g.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ee} (see ${g.JZr})`)}}bypassSecurityTrustHtml(ee){return(0,g.JVY)(ee)}bypassSecurityTrustStyle(ee){return(0,g.L6k)(ee)}bypassSecurityTrustScript(ee){return(0,g.eBb)(ee)}bypassSecurityTrustUrl(ee){return(0,g.LAX)(ee)}bypassSecurityTrustResourceUrl(ee){return(0,g.pB0)(ee)}}me.\u0275fac=function(ee){return new(ee||me)(g.LFG(l.K0))},me.\u0275prov=g.Yz7({token:me,factory:function(ee){let Oe=null;return Oe=ee?new ee:function oe(Ke){return new me(Ke.get(l.K0))}(g.LFG(g.zs3)),Oe},providedIn:"root"});new g.GfV("15.2.5")},4586:(En,rt,S)=>{S.d(rt,{F0:()=>Mi,rH:()=>ws,Bz:()=>ua,lC:()=>xo});var l=S(4650),g=S(8996),z=S(9646),ue=S(1135),Me=S(6805),we=S(9841),Pe=S(7272),le=S(9751),_e=S(8421);function se(P){return new le.y(b=>{(0,_e.Xf)(P()).subscribe(b)})}var Re=S(9635),Le=S(2843),Xe=S(515),We=S(4033),St=S(7579),Ft=S(6895),Ie=S(4004),Et=S(3900),gt=S(5698),bt=S(8675),_t=S(9300),Be=S(5577),at=S(590),qt=S(4351),Ye=S(8505),X=S(262),Bt=S(5026),_n=S(4482),en=S(5403);function jn(P){return P<=0?()=>Xe.E:(0,_n.e)((b,M)=>{let W=[];b.subscribe((0,en.x)(M,$=>{W.push($),P<W.length&&W.shift()},()=>{for(const $ of W)M.next($);M.complete()},void 0,()=>{W=null}))})}var Pn=S(8068),ft=S(6590),Ot=S(4671);function Rt(P,b){const M=arguments.length>=2;return W=>W.pipe(P?(0,_t.h)(($,ae)=>P($,ae,W)):Ot.y,jn(1),M?(0,ft.d)(b):(0,Pn.T)(()=>new Me.K))}var Lt=S(2529),Ht=S(9718),Gt=S(8746),Qt=S(8343),it=S(8189),It=S(1481);
/**
         * @license Angular v15.2.5
         * (c) 2010-2022 Google LLC. https://angular.io/
         * License: MIT
         */const Mt="primary",vn=Symbol("RouteTitle");class on{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const M=this.params[b];return Array.isArray(M)?M[0]:M}return null}getAll(b){if(this.has(b)){const M=this.params[b];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function xn(P){return new on(P)}function ur(P,b,M){const W=M.path.split("/");if(W.length>P.length||"full"===M.pathMatch&&(b.hasChildren()||W.length<P.length))return null;const $={};for(let ae=0;ae<W.length;ae++){const je=W[ae],Nt=P[ae];if(je.startsWith(":"))$[je.substring(1)]=Nt;else if(je!==Nt.path)return null}return{consumed:P.slice(0,W.length),posParams:$}}function Un(P,b){const M=P?Object.keys(P):void 0,W=b?Object.keys(b):void 0;if(!M||!W||M.length!=W.length)return!1;let $;for(let ae=0;ae<M.length;ae++)if($=M[ae],!vr(P[$],b[$]))return!1;return!0}function vr(P,b){if(Array.isArray(P)&&Array.isArray(b)){if(P.length!==b.length)return!1;const M=[...P].sort(),W=[...b].sort();return M.every(($,ae)=>W[ae]===$)}return P===b}function Nr(P){return Array.prototype.concat.apply([],P)}function Jn(P){return P.length>0?P[P.length-1]:null}function dr(P,b){for(const M in P)P.hasOwnProperty(M)&&b(P[M],M)}function ri(P){return(0,l.CqO)(P)?P:(0,l.QGY)(P)?(0,g.D)(Promise.resolve(P)):(0,z.of)(P)}const hr=!1,fi={exact:function er(P,b,M){if(!gr(P.segments,b.segments)||!rr(P.segments,b.segments,M)||P.numberOfChildren!==b.numberOfChildren)return!1;for(const W in b.children)if(!P.children[W]||!er(P.children[W],b.children[W],M))return!1;return!0},subset:Lr},Hn={exact:function Di(P,b){return Un(P,b)},subset:function Zr(P,b){return Object.keys(b).length<=Object.keys(P).length&&Object.keys(b).every(M=>vr(P[M],b[M]))},ignored:()=>!0};function Tr(P,b,M){return fi[M.paths](P.root,b.root,M.matrixParams)&&Hn[M.queryParams](P.queryParams,b.queryParams)&&!("exact"===M.fragment&&P.fragment!==b.fragment)}function Lr(P,b,M){return ir(P,b,b.segments,M)}function ir(P,b,M,W){if(P.segments.length>M.length){const $=P.segments.slice(0,M.length);return!(!gr($,M)||b.hasChildren()||!rr($,M,W))}if(P.segments.length===M.length){if(!gr(P.segments,M)||!rr(P.segments,M,W))return!1;for(const $ in b.children)if(!P.children[$]||!Lr(P.children[$],b.children[$],W))return!1;return!0}{const $=M.slice(0,P.segments.length),ae=M.slice(P.segments.length);return!!(gr(P.segments,$)&&rr(P.segments,$,W)&&P.children[Mt])&&ir(P.children[Mt],b,ae,W)}}function rr(P,b,M){return b.every((W,$)=>Hn[M](P[$].parameters,W.parameters))}class $n{constructor(b=new Rn([],{}),M={},W=null){this.root=b,this.queryParams=M,this.fragment=W,hr}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return xr.serialize(this)}}class Rn{constructor(b,M){this.segments=b,this.children=M,this.parent=null,dr(M,(W,$)=>W.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mn(this)}}class ar{constructor(b,M){this.path=b,this.parameters=M}get parameterMap(){return this._parameterMap||(this._parameterMap=xn(this.parameters)),this._parameterMap}toString(){return yn(this)}}function gr(P,b){return P.length===b.length&&P.every((M,W)=>M.path===b[W].path)}class di{}di.\u0275fac=function(b){return new(b||di)},di.\u0275prov=l.Yz7({token:di,factory:function(){return new Wn},providedIn:"root"});class Wn{parse(b){const M=new ee(b);return new $n(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(b){const M=`/${Xt(b.root,!0)}`,W=function He(P){const b=Object.keys(P).map(M=>{const W=P[M];return Array.isArray(W)?W.map($=>`${Ce(M)}=${Ce($)}`).join("&"):`${Ce(M)}=${Ce(W)}`}).filter(M=>!!M);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${M}${W}${"string"==typeof b.fragment?`#${function Ee(P){return encodeURI(P)}(b.fragment)}`:""}`}}const xr=new Wn;function Mn(P){return P.segments.map(b=>yn(b)).join("/")}function Xt(P,b){if(!P.hasChildren())return Mn(P);if(b){const M=P.children[Mt]?Xt(P.children[Mt],!1):"",W=[];return dr(P.children,($,ae)=>{ae!==Mt&&W.push(`${ae}:${Xt($,!1)}`)}),W.length>0?`${M}(${W.join("//")})`:M}{const M=function jr(P,b){let M=[];return dr(P.children,(W,$)=>{$===Mt&&(M=M.concat(b(W,$)))}),dr(P.children,(W,$)=>{$!==Mt&&(M=M.concat(b(W,$)))}),M}(P,(W,$)=>$===Mt?[Xt(P.children[Mt],!1)]:[`${$}:${Xt(W,!1)}`]);return 1===Object.keys(P.children).length&&null!=P.children[Mt]?`${Mn(P)}/${M[0]}`:`${Mn(P)}/(${M.join("//")})`}}function de(P){return encodeURIComponent(P).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ce(P){return de(P).replace(/%3B/gi,";")}function Y(P){return de(P).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Se(P){return decodeURIComponent(P)}function pt(P){return Se(P.replace(/\+/g,"%20"))}function yn(P){return`${Y(P.path)}${function Zn(P){return Object.keys(P).map(b=>`;${Y(b)}=${Y(P[b])}`).join("")}(P.parameters)}`}const Ue=/^[^\/()?;=#]+/;function fe(P){const b=P.match(Ue);return b?b[0]:""}const oe=/^[^=?&#]+/;const Ct=/^[^&#]+/;class ee{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rn([],{}):new Rn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let W={};return this.peekStartsWith("(")&&(W=this.parseParens(!1)),(b.length>0||Object.keys(M).length>0)&&(W[Mt]=new Rn(b,M)),W}parseSegment(){const b=fe(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new l.vHH(4009,hr);return this.capture(b),new ar(Se(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const M=fe(this.remaining);if(!M)return;this.capture(M);let W="";if(this.consumeOptional("=")){const $=fe(this.remaining);$&&(W=$,this.capture(W))}b[Se(M)]=Se(W)}parseQueryParam(b){const M=function me(P){const b=P.match(oe);return b?b[0]:""}(this.remaining);if(!M)return;this.capture(M);let W="";if(this.consumeOptional("=")){const je=function Ke(P){const b=P.match(Ct);return b?b[0]:""}(this.remaining);je&&(W=je,this.capture(W))}const $=pt(M),ae=pt(W);if(b.hasOwnProperty($)){let je=b[$];Array.isArray(je)||(je=[je],b[$]=je),je.push(ae)}else b[$]=ae}parseParens(b){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const W=fe(this.remaining),$=this.remaining[W.length];if("/"!==$&&")"!==$&&";"!==$)throw new l.vHH(4010,hr);let ae;W.indexOf(":")>-1?(ae=W.slice(0,W.indexOf(":")),this.capture(ae),this.capture(":")):b&&(ae=Mt);const je=this.parseChildren();M[ae]=1===Object.keys(je).length?je[Mt]:new Rn([],je),this.consumeOptional("//")}return M}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new l.vHH(4011,hr)}}function Oe(P){return P.segments.length>0?new Rn([],{[Mt]:P}):P}function nt(P){const b={};for(const W of Object.keys(P.children)){const ae=nt(P.children[W]);(ae.segments.length>0||ae.hasChildren())&&(b[W]=ae)}return function Ut(P){if(1===P.numberOfChildren&&P.children[Mt]){const b=P.children[Mt];return new Rn(P.segments.concat(b.segments),b.children)}return P}(new Rn(P.segments,b))}function tn(P){return P instanceof $n}const On=!1;function q(P){let b;const W=function M(ae){const je={};for(const sn of ae.children){const Sn=M(sn);je[sn.outlet]=Sn}const Nt=new Rn(ae.url,je);return ae===P&&(b=Nt),Nt}(P.root),$=Oe(W);return b??$}function Ne(P,b,M,W){let $=P;for(;$.parent;)$=$.parent;if(0===b.length)return nr($,$,$,M,W);const ae=Ti(b);if(ae.toRoot())return nr($,$,new Rn([],{}),M,W);const je=function Vi(P,b,M){if(P.isAbsolute)return new Or(b,!0,0);if(!M)return new Or(b,!1,NaN);if(null===M.parent)return new Or(M,!0,0);const W=Kt(P.commands[0])?0:1,$=M.segments.length-1+W;return io(M,$,P.numberOfDoubleDots)}(ae,$,P),Nt=je.processChildren?Vn(je.segmentGroup,je.index,ae.commands):ai(je.segmentGroup,je.index,ae.commands);return nr($,je.segmentGroup,Nt,M,W)}function yt(P,b,M,W,$){if(0===M.length)return nr(b.root,b.root,b.root,W,$);const ae=Ti(M);if(ae.toRoot())return nr(b.root,b.root,new Rn([],{}),W,$);return function je(sn){const Sn=function Ci(P,b,M,W){if(P.isAbsolute)return new Or(b.root,!0,0);if(-1===W){const je=M===b.root;return new Or(M,je,0)}const $=Kt(P.commands[0])?0:1,ae=W+$;return io(M,ae,P.numberOfDoubleDots)}(ae,b,P.snapshot?._urlSegment,sn),Mr=Sn.processChildren?Vn(Sn.segmentGroup,Sn.index,ae.commands):ai(Sn.segmentGroup,Sn.index,ae.commands);return nr(b.root,Sn.segmentGroup,Mr,W,$)}(P.snapshot?._lastPathIndex)}function Kt(P){return"object"==typeof P&&null!=P&&!P.outlets&&!P.segmentPath}function Cn(P){return"object"==typeof P&&null!=P&&P.outlets}function nr(P,b,M,W,$){let je,ae={};W&&dr(W,(sn,Sn)=>{ae[Sn]=Array.isArray(sn)?sn.map(Mr=>`${Mr}`):`${sn}`}),je=P===b?M:Zi(P,b,M);const Nt=Oe(nt(je));return new $n(Nt,ae,$)}function Zi(P,b,M){const W={};return dr(P.children,($,ae)=>{W[ae]=$===b?M:Zi($,b,M)}),new Rn(P.segments,W)}class Ui{constructor(b,M,W){if(this.isAbsolute=b,this.numberOfDoubleDots=M,this.commands=W,b&&W.length>0&&Kt(W[0]))throw new l.vHH(4003,On&&"Root segment cannot have matrix parameters");const $=W.find(Cn);if($&&$!==Jn(W))throw new l.vHH(4004,On&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}function Ti(P){if("string"==typeof P[0]&&1===P.length&&"/"===P[0])return new Ui(!0,0,P);let b=0,M=!1;const W=P.reduce(($,ae,je)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Nt={};return dr(ae.outlets,(sn,Sn)=>{Nt[Sn]="string"==typeof sn?sn.split("/"):sn}),[...$,{outlets:Nt}]}if(ae.segmentPath)return[...$,ae.segmentPath]}return"string"!=typeof ae?[...$,ae]:0===je?(ae.split("/").forEach((Nt,sn)=>{0==sn&&"."===Nt||(0==sn&&""===Nt?M=!0:".."===Nt?b++:""!=Nt&&$.push(Nt))}),$):[...$,ae]},[]);return new Ui(M,b,W)}class Or{constructor(b,M,W){this.segmentGroup=b,this.processChildren=M,this.index=W}}function io(P,b,M){let W=P,$=b,ae=M;for(;ae>$;){if(ae-=$,W=W.parent,!W)throw new l.vHH(4005,On&&"Invalid number of '../'");$=W.segments.length}return new Or(W,!1,$-ae)}function ai(P,b,M){if(P||(P=new Rn([],{})),0===P.segments.length&&P.hasChildren())return Vn(P,b,M);const W=function At(P,b,M){let W=0,$=b;const ae={match:!1,pathIndex:0,commandIndex:0};for(;$<P.segments.length;){if(W>=M.length)return ae;const je=P.segments[$],Nt=M[W];if(Cn(Nt))break;const sn=`${Nt}`,Sn=W<M.length-1?M[W+1]:null;if($>0&&void 0===sn)break;if(sn&&Sn&&"object"==typeof Sn&&void 0===Sn.outlets){if(!xt(sn,Sn,je))return ae;W+=2}else{if(!xt(sn,{},je))return ae;W++}$++}return{match:!0,pathIndex:$,commandIndex:W}}(P,b,M),$=M.slice(W.commandIndex);if(W.match&&W.pathIndex<P.segments.length){const ae=new Rn(P.segments.slice(0,W.pathIndex),{});return ae.children[Mt]=new Rn(P.segments.slice(W.pathIndex),P.children),Vn(ae,0,$)}return W.match&&0===$.length?new Rn(P.segments,{}):W.match&&!P.hasChildren()?G(P,b,M):W.match?Vn(P,0,$):G(P,b,M)}function Vn(P,b,M){if(0===M.length)return new Rn(P.segments,{});{const W=function Fi(P){return Cn(P[0])?P[0].outlets:{[Mt]:P}}(M),$={};return!W[Mt]&&P.children[Mt]&&1===P.numberOfChildren&&0===P.children[Mt].segments.length?Vn(P.children[Mt],b,M):(dr(W,(ae,je)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&($[je]=ai(P.children[je],b,ae))}),dr(P.children,(ae,je)=>{void 0===W[je]&&($[je]=ae)}),new Rn(P.segments,$))}}function G(P,b,M){const W=P.segments.slice(0,b);let $=0;for(;$<M.length;){const ae=M[$];if(Cn(ae)){const sn=ge(ae.outlets);return new Rn(W,sn)}if(0===$&&Kt(M[0])){const sn=P.segments[b];W.push(new ar(sn.path,ze(M[0]))),$++;continue}const je=Cn(ae)?ae.outlets[Mt]:`${ae}`,Nt=$<M.length-1?M[$+1]:null;je&&Nt&&Kt(Nt)?(W.push(new ar(je,ze(Nt))),$+=2):(W.push(new ar(je,{})),$++)}return new Rn(W,{})}function ge(P){const b={};return dr(P,(M,W)=>{"string"==typeof M&&(M=[M]),null!==M&&(b[W]=G(new Rn([],{}),0,M))}),b}function ze(P){const b={};return dr(P,(M,W)=>b[W]=`${M}`),b}function xt(P,b,M){return P==M.path&&Un(b,M.parameters)}const cn="imperative";class In{constructor(b,M){this.id=b,this.url=M}}class zn extends In{constructor(b,M,W="imperative",$=null){super(b,M),this.type=0,this.navigationTrigger=W,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Er extends In{constructor(b,M,W){super(b,M),this.urlAfterRedirects=W,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fr extends In{constructor(b,M,W,$){super(b,M),this.reason=W,this.code=$,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mt extends In{constructor(b,M,W,$){super(b,M),this.reason=W,this.code=$,this.type=16}}class ct extends In{constructor(b,M,W,$){super(b,M),this.error=W,this.target=$,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qe extends In{constructor(b,M,W,$){super(b,M),this.urlAfterRedirects=W,this.state=$,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jt extends In{constructor(b,M,W,$){super(b,M),this.urlAfterRedirects=W,this.state=$,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends In{constructor(b,M,W,$,ae){super(b,M),this.urlAfterRedirects=W,this.state=$,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gn extends In{constructor(b,M,W,$){super(b,M),this.urlAfterRedirects=W,this.state=$,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr extends In{constructor(b,M,W,$){super(b,M),this.urlAfterRedirects=W,this.state=$,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $r{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _r{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zi{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ii{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _i{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oo{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wr{constructor(b,M,W){this.routerEvent=b,this.position=M,this.anchor=W,this.type=15}toString(){const b=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${b}')`}}class ii{createUrlTree(b,M,W,$,ae,je){const sn=yt(b||M.root,W,$,ae,je);return sn}}ii.\u0275fac=function(b){return new(b||ii)},ii.\u0275prov=l.Yz7({token:ii,factory:ii.\u0275fac});class pr{createUrlTree(b,M,W,$,ae,je){let Nt;try{Nt=q(b?b.snapshot:M.snapshot.root)}catch{("string"!=typeof $[0]||!$[0].startsWith("/"))&&($=[]),Nt=W.root}return Ne(Nt,$,ae,je)}}pr.\u0275fac=function(b){return new(b||pr)},pr.\u0275prov=l.Yz7({token:pr,factory:pr.\u0275fac});class pi{}pi.\u0275fac=function(b){return new(b||pi)},pi.\u0275prov=l.Yz7({token:pi,factory:function(P){return ii.\u0275fac(P)},providedIn:"root"});class Ar{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const M=this.pathFromRoot(b);return M.length>1?M[M.length-2]:null}children(b){const M=no(b,this._root);return M?M.children.map(W=>W.value):[]}firstChild(b){const M=no(b,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(b){const M=yo(b,this._root);return M.length<2?[]:M[M.length-2].children.map($=>$.value).filter($=>$!==b)}pathFromRoot(b){return yo(b,this._root).map(M=>M.value)}}function no(P,b){if(P===b.value)return b;for(const M of b.children){const W=no(P,M);if(W)return W}return null}function yo(P,b){if(P===b.value)return[b];for(const M of b.children){const W=yo(P,M);if(W.length)return W.unshift(b),W}return[]}class qr{constructor(b,M){this.value=b,this.children=M}toString(){return`TreeNode(${this.value})`}}function xi(P){const b={};return P&&P.children.forEach(M=>b[M.value.outlet]=M),b}class Jr extends Ar{constructor(b,M){super(b),this.snapshot=M,oo(this,b)}toString(){return this.snapshot.toString()}}function Ir(P,b){const M=function Ur(P,b){const M={},W={},$={},ae="",je=new Pr([],M,$,ae,W,Mt,b,null,P.root,-1,{});return new Bo("",new qr(je,[]))}(P,b),W=new ue.X([new ar("",{})]),$=new ue.X({}),ae=new ue.X({}),je=new ue.X({}),Nt=new ue.X(""),sn=new vo(W,$,je,Nt,ae,Mt,b,M.root);return sn.snapshot=M.root,new Jr(new qr(sn,[]),M)}class vo{constructor(b,M,W,$,ae,je,Nt,sn){this.url=b,this.params=M,this.queryParams=W,this.fragment=$,this.data=ae,this.outlet=je,this.component=Nt,this.title=this.data?.pipe((0,Ie.U)(Sn=>Sn[vn]))??(0,z.of)(void 0),this._futureSnapshot=sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ie.U)(b=>xn(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ie.U)(b=>xn(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Si(P,b="emptyOnly"){const M=P.pathFromRoot;let W=0;if("always"!==b)for(W=M.length-1;W>=1;){const $=M[W],ae=M[W-1];if($.routeConfig&&""===$.routeConfig.path)W--;else{if(ae.component)break;W--}}return function ki(P){return P.reduce((b,M)=>({params:{...b.params,...M.params},data:{...b.data,...M.data},resolve:{...M.data,...b.resolve,...M.routeConfig?.data,...M._resolvedData}}),{params:{},data:{},resolve:{}})}(M.slice(W))}class Pr{get title(){return this.data?.[vn]}constructor(b,M,W,$,ae,je,Nt,sn,Sn,Mr,oi){this.url=b,this.params=M,this.queryParams=W,this.fragment=$,this.data=ae,this.outlet=je,this.component=Nt,this.routeConfig=sn,this._urlSegment=Sn,this._lastPathIndex=Mr,this._resolve=oi}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(W=>W.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bo extends Ar{constructor(b,M){super(M),this.url=b,oo(this,M)}toString(){return Ki(this._root)}}function oo(P,b){b.value._routerState=P,b.children.forEach(M=>oo(P,M))}function Ki(P){const b=P.children.length>0?` { ${P.children.map(Ki).join(", ")} } `:"";return`${P.value}${b}`}function so(P){if(P.snapshot){const b=P.snapshot,M=P._futureSnapshot;P.snapshot=M,Un(b.queryParams,M.queryParams)||P.queryParams.next(M.queryParams),b.fragment!==M.fragment&&P.fragment.next(M.fragment),Un(b.params,M.params)||P.params.next(M.params),function br(P,b){if(P.length!==b.length)return!1;for(let M=0;M<P.length;++M)if(!Un(P[M],b[M]))return!1;return!0}(b.url,M.url)||P.url.next(M.url),Un(b.data,M.data)||P.data.next(M.data)}else P.snapshot=P._futureSnapshot,P.data.next(P._futureSnapshot.data)}function ko(P,b){const M=Un(P.params,b.params)&&function wr(P,b){return gr(P,b)&&P.every((M,W)=>Un(M.parameters,b[W].parameters))}(P.url,b.url),W=!P.parent!=!b.parent;return M&&!W&&(!P.parent||ko(P.parent,b.parent))}function po(P,b,M){if(M&&P.shouldReuseRoute(b.value,M.value.snapshot)){const W=M.value;W._futureSnapshot=b.value;const $=function Io(P,b,M){return b.children.map(W=>{for(const $ of M.children)if(P.shouldReuseRoute(W.value,$.value.snapshot))return po(P,W,$);return po(P,W)})}(P,b,M);return new qr(W,$)}{if(P.shouldAttach(b.value)){const ae=P.retrieve(b.value);if(null!==ae){const je=ae.route;return je.value._futureSnapshot=b.value,je.children=b.children.map(Nt=>po(P,Nt)),je}}const W=function Oi(P){return new vo(new ue.X(P.url),new ue.X(P.params),new ue.X(P.queryParams),new ue.X(P.fragment),new ue.X(P.data),P.outlet,P.component,P)}(b.value),$=b.children.map(ae=>po(P,ae));return new qr(W,$)}}const Ms="ngNavigationCancelingError";function To(P,b){const{redirectTo:M,navigationBehaviorOptions:W}=tn(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,$=mo(!1,0,b);return $.url=M,$.navigationBehaviorOptions=W,$}function mo(P,b,M){const W=new Error("NavigationCancelingError: "+(P||""));return W[Ms]=!0,W.cancellationCode=b,M&&(W.url=M),W}function Pi(P){return Gr(P)&&tn(P.url)}function Gr(P){return P&&P[Ms]}class $o{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lo,this.attachRef=null}}class lo{constructor(){this.contexts=new Map}onChildOutletCreated(b,M){const W=this.getOrCreateContext(b);W.outlet=M,this.contexts.set(b,W)}onChildOutletDestroyed(b){const M=this.getContext(b);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let M=this.getContext(b);return M||(M=new $o,this.contexts.set(b,M)),M}getContext(b){return this.contexts.get(b)||null}}lo.\u0275fac=function(b){return new(b||lo)},lo.\u0275prov=l.Yz7({token:lo,factory:lo.\u0275fac,providedIn:"root"});const bo=!1;class xo{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(lo),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(b){if(b.name){const{firstChange:M,previousValue:W}=b.name;if(M)return;this.isTrackedInParentContexts(W)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(W)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,bo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,bo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,bo);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,M){this.activated=b,this._activatedRoute=M,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,M){if(this.isActivated)throw new l.vHH(4013,bo);this._activatedRoute=b;const W=this.location,ae=b.snapshot.component,je=this.parentContexts.getOrCreateContext(this.name).children,Nt=new ao(b,je,W.injector);if(M&&function uo(P){return!!P.resolveComponentFactory}(M)){const sn=M.resolveComponentFactory(ae);this.activated=W.createComponent(sn,W.length,Nt)}else{const sn=M??this.environmentInjector;this.activated=W.createComponent(ae,{index:W.length,injector:Nt,environmentInjector:sn})}this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}xo.\u0275fac=function(b){return new(b||xo)},xo.\u0275dir=l.lG2({type:xo,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]});class ao{constructor(b,M,W){this.route=b,this.childContexts=M,this.parent=W}get(b,M){return b===vo?this.route:b===lo?this.childContexts:this.parent.get(b,M)}}class qi{}function ho(P,b){return P.providers&&!P._injector&&(P._injector=(0,l.MMx)(P.providers,b,`Route: ${P.path}`)),P._injector??b}function Co(P,b="",M=!1){for(let W=0;W<P.length;W++){const $=P[W];Qo($,Fr(b,$),M)}}function Qo(P,b,M){P.children&&Co(P.children,b,M)}function Fr(P,b){return b?P||b.path?P&&!b.path?`${P}/`:!P&&b.path?b.path:`${P}/${b.path}`:"":P}function fo(P){const b=P.children&&P.children.map(fo),M=b?{...P,children:b}:{...P};return!M.component&&!M.loadComponent&&(b||M.loadChildren)&&M.outlet&&M.outlet!==Mt&&(M.component=qi),M}function Bi(P){return P.outlet||Mt}function yi(P,b){const M=P.filter(W=>Bi(W)===b);return M.push(...P.filter(W=>Bi(W)!==b)),M}function Eo(P){if(!P)return null;if(P.routeConfig?._injector)return P.routeConfig._injector;for(let b=P.parent;b;b=b.parent){const M=b.routeConfig;if(M?._loadedInjector)return M._loadedInjector;if(M?._injector)return M._injector}return null}qi.\u0275fac=function(b){return new(b||qi)},qi.\u0275cmp=l.Xpm({type:qi,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(b,M){1&b&&l._UZ(0,"router-outlet")},dependencies:[xo],encapsulation:2});class Hr{constructor(b,M,W,$){this.routeReuseStrategy=b,this.futureState=M,this.currState=W,this.forwardEvent=$}activate(b){const M=this.futureState._root,W=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,W,b),so(this.futureState.root),this.activateChildRoutes(M,W,b)}deactivateChildRoutes(b,M,W){const $=xi(M);b.children.forEach(ae=>{const je=ae.value.outlet;this.deactivateRoutes(ae,$[je],W),delete $[je]}),dr($,(ae,je)=>{this.deactivateRouteAndItsChildren(ae,W)})}deactivateRoutes(b,M,W){const $=b.value,ae=M?M.value:null;if($===ae)if($.component){const je=W.getContext($.outlet);je&&this.deactivateChildRoutes(b,M,je.children)}else this.deactivateChildRoutes(b,M,W);else ae&&this.deactivateRouteAndItsChildren(M,W)}deactivateRouteAndItsChildren(b,M){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,M):this.deactivateRouteAndOutlet(b,M)}detachAndStoreRouteSubtree(b,M){const W=M.getContext(b.value.outlet),$=W&&b.value.component?W.children:M,ae=xi(b);for(const je of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[je],$);if(W&&W.outlet){const je=W.outlet.detach(),Nt=W.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:je,route:b,contexts:Nt})}}deactivateRouteAndOutlet(b,M){const W=M.getContext(b.value.outlet),$=W&&b.value.component?W.children:M,ae=xi(b);for(const je of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[je],$);W&&(W.outlet&&(W.outlet.deactivate(),W.children.onOutletDeactivated()),W.attachRef=null,W.resolver=null,W.route=null)}activateChildRoutes(b,M,W){const $=xi(M);b.children.forEach(ae=>{this.activateRoutes(ae,$[ae.value.outlet],W),this.forwardEvent(new Oo(ae.value.snapshot))}),b.children.length&&this.forwardEvent(new Ii(b.value.snapshot))}activateRoutes(b,M,W){const $=b.value,ae=M?M.value:null;if(so($),$===ae)if($.component){const je=W.getOrCreateContext($.outlet);this.activateChildRoutes(b,M,je.children)}else this.activateChildRoutes(b,M,W);else if($.component){const je=W.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Nt=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),je.children.onOutletReAttached(Nt.contexts),je.attachRef=Nt.componentRef,je.route=Nt.route.value,je.outlet&&je.outlet.attach(Nt.componentRef,Nt.route.value),so(Nt.route.value),this.activateChildRoutes(b,null,je.children)}else{const Nt=Eo($.snapshot),sn=Nt?.get(l._Vd)??null;je.attachRef=null,je.route=$,je.resolver=sn,je.injector=Nt,je.outlet&&je.outlet.activateWith($,je.injector),this.activateChildRoutes(b,null,je.children)}}else this.activateChildRoutes(b,null,W)}}class zo{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Ni{constructor(b,M){this.component=b,this.route=M}}function co(P,b,M){const W=P._root;return $i(W,b?b._root:null,M,[W.value])}function Wo(P,b){const M=Symbol(),W=b.get(P,M);return W===M?"function"!=typeof P||(0,l.Z0I)(P)?b.get(P):P:W}function $i(P,b,M,W,$={canDeactivateChecks:[],canActivateChecks:[]}){const ae=xi(b);return P.children.forEach(je=>{(function Xo(P,b,M,W,$={canDeactivateChecks:[],canActivateChecks:[]}){const ae=P.value,je=b?b.value:null,Nt=M?M.getContext(P.value.outlet):null;if(je&&ae.routeConfig===je.routeConfig){const sn=function or(P,b,M){if("function"==typeof M)return M(P,b);switch(M){case"pathParamsChange":return!gr(P.url,b.url);case"pathParamsOrQueryParamsChange":return!gr(P.url,b.url)||!Un(P.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ko(P,b)||!Un(P.queryParams,b.queryParams);default:return!ko(P,b)}}(je,ae,ae.routeConfig.runGuardsAndResolvers);sn?$.canActivateChecks.push(new zo(W)):(ae.data=je.data,ae._resolvedData=je._resolvedData),ae.component?$i(P,b,Nt?Nt.children:null,W,$):$i(P,b,M,W,$),sn&&Nt&&Nt.outlet&&Nt.outlet.isActivated&&$.canDeactivateChecks.push(new Ni(Nt.outlet.component,je))}else je&&Cs(b,Nt,$),$.canActivateChecks.push(new zo(W)),ae.component?$i(P,null,Nt?Nt.children:null,W,$):$i(P,null,M,W,$);return $})(je,ae[je.value.outlet],M,W.concat([je.value]),$),delete ae[je.value.outlet]}),dr(ae,(je,Nt)=>Cs(je,M.getContext(Nt),$)),$}function Cs(P,b,M){const W=xi(P),$=P.value;dr(W,(ae,je)=>{$.component?Cs(ae,b?b.children.getContext(je):null,M):Cs(ae,b,M)}),$.component&&b&&b.outlet&&b.outlet.isActivated?M.canDeactivateChecks.push(new Ni(b.outlet.component,$)):M.canDeactivateChecks.push(new Ni(null,$))}function Wi(P){return"function"==typeof P}function Tt(P){return P instanceof Me.K||"EmptyError"===P?.name}const dt=Symbol("INITIAL_VALUE");function hn(){return(0,Et.w)(P=>(0,we.a)(P.map(b=>b.pipe((0,gt.q)(1),(0,bt.O)(dt)))).pipe((0,Ie.U)(b=>{for(const M of b)if(!0!==M){if(M===dt)return dt;if(!1===M||M instanceof $n)return M}return!0}),(0,_t.h)(b=>b!==dt),(0,gt.q)(1)))}function Fn(P,b){return(0,Be.z)(M=>{const{targetSnapshot:W,currentSnapshot:$,guards:{canActivateChecks:ae,canDeactivateChecks:je}}=M;return 0===je.length&&0===ae.length?(0,z.of)({...M,guardsResult:!0}):function Qr(P,b,M,W){return(0,g.D)(P).pipe((0,Be.z)($=>function y(P,b,M,W,$){const ae=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,z.of)(!0);const je=ae.map(Nt=>{const sn=Eo(b)??$,Sn=Wo(Nt,sn);return ri(function ot(P){return P&&Wi(P.canDeactivate)}(Sn)?Sn.canDeactivate(P,b,M,W):sn.runInContext(()=>Sn(P,b,M,W))).pipe((0,at.P)())});return(0,z.of)(je).pipe(hn())}($.component,$.route,M,b,W)),(0,at.P)($=>!0!==$,!0))}(je,W,$,P).pipe((0,Be.z)(Nt=>Nt&&function mr(P){return"boolean"==typeof P}(Nt)?function Rr(P,b,M,W){return(0,g.D)(b).pipe((0,qt.b)($=>(0,Pe.z)(function Yr(P,b){return null!==P&&b&&b(new zi(P)),(0,z.of)(!0)}($.route.parent,W),function go(P,b){return null!==P&&b&&b(new _i(P)),(0,z.of)(!0)}($.route,W),function Ve(P,b,M){const W=b[b.length-1],ae=b.slice(0,b.length-1).reverse().map(je=>function ji(P){const b=P.routeConfig?P.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:P,guards:b}:null}(je)).filter(je=>null!==je).map(je=>se(()=>{const Nt=je.guards.map(sn=>{const Sn=Eo(je.node)??M,Mr=Wo(sn,Sn);return ri(function J(P){return P&&Wi(P.canActivateChild)}(Mr)?Mr.canActivateChild(W,P):Sn.runInContext(()=>Mr(W,P))).pipe((0,at.P)())});return(0,z.of)(Nt).pipe(hn())}));return(0,z.of)(ae).pipe(hn())}(P,$.path,M),function mi(P,b,M){const W=b.routeConfig?b.routeConfig.canActivate:null;if(!W||0===W.length)return(0,z.of)(!0);const $=W.map(ae=>se(()=>{const je=Eo(b)??M,Nt=Wo(ae,je);return ri(function T(P){return P&&Wi(P.canActivate)}(Nt)?Nt.canActivate(b,P):je.runInContext(()=>Nt(b,P))).pipe((0,at.P)())}));return(0,z.of)($).pipe(hn())}(P,$.route,M))),(0,at.P)($=>!0!==$,!0))}(W,ae,P,b):(0,z.of)(Nt)),(0,Ie.U)(Nt=>({...M,guardsResult:Nt})))})}function F(P,b,M,W){const $=b.canLoad;if(void 0===$||0===$.length)return(0,z.of)(!0);const ae=$.map(je=>{const Nt=Wo(je,P);return ri(function re(P){return P&&Wi(P.canLoad)}(Nt)?Nt.canLoad(b,M):P.runInContext(()=>Nt(b,M)))});return(0,z.of)(ae).pipe(hn(),ie(W))}function ie(P){return(0,Re.z)((0,Ye.b)(b=>{if(tn(b))throw To(0,b)}),(0,Ie.U)(b=>!0===b))}function De(P,b,M,W){const $=b.canMatch;if(!$||0===$.length)return(0,z.of)(!0);const ae=$.map(je=>{const Nt=Wo(je,P);return ri(function pn(P){return P&&Wi(P.canMatch)}(Nt)?Nt.canMatch(b,M):P.runInContext(()=>Nt(b,M)))});return(0,z.of)(ae).pipe(hn(),ie())}const qe={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jt(P,b,M,W,$){const ae=Dn(P,b,M);return ae.matched?De(W=ho(b,W),b,M).pipe((0,Ie.U)(je=>!0===je?ae:{...qe})):(0,z.of)(ae)}function Dn(P,b,M){if(""===b.path)return"full"===b.pathMatch&&(P.hasChildren()||M.length>0)?{...qe}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const $=(b.matcher||ur)(M,P,b);if(!$)return{...qe};const ae={};dr($.posParams,(Nt,sn)=>{ae[sn]=Nt.path});const je=$.consumed.length>0?{...ae,...$.consumed[$.consumed.length-1].parameters}:ae;return{matched:!0,consumedSegments:$.consumed,remainingSegments:M.slice($.consumed.length),parameters:je,positionalParamSegments:$.posParams??{}}}function Ln(P,b,M,W){if(M.length>0&&function Vr(P,b,M){return M.some(W=>Go(P,b,W)&&Bi(W)!==Mt)}(P,M,W)){const ae=new Rn(b,function tr(P,b,M,W){const $={};$[Mt]=W,W._sourceSegment=P,W._segmentIndexShift=b.length;for(const ae of M)if(""===ae.path&&Bi(ae)!==Mt){const je=new Rn([],{});je._sourceSegment=P,je._segmentIndexShift=b.length,$[Bi(ae)]=je}return $}(P,b,W,new Rn(M,P.children)));return ae._sourceSegment=P,ae._segmentIndexShift=b.length,{segmentGroup:ae,slicedSegments:[]}}if(0===M.length&&function Ho(P,b,M){return M.some(W=>Go(P,b,W))}(P,M,W)){const ae=new Rn(P.segments,function qn(P,b,M,W,$){const ae={};for(const je of W)if(Go(P,M,je)&&!$[Bi(je)]){const Nt=new Rn([],{});Nt._sourceSegment=P,Nt._segmentIndexShift=b.length,ae[Bi(je)]=Nt}return{...$,...ae}}(P,b,M,W,P.children));return ae._sourceSegment=P,ae._segmentIndexShift=b.length,{segmentGroup:ae,slicedSegments:M}}const $=new Rn(P.segments,P.children);return $._sourceSegment=P,$._segmentIndexShift=b.length,{segmentGroup:$,slicedSegments:M}}function Go(P,b,M){return(!(P.hasChildren()||b.length>0)||"full"!==M.pathMatch)&&""===M.path}function Qi(P,b,M,W){return!!(Bi(P)===W||W!==Mt&&Go(b,M,P))&&("**"===P.path||Dn(b,P,M).matched)}function Yo(P,b,M){return 0===b.length&&!P.children[M]}const Zo=!1;class Vs{constructor(b){this.segmentGroup=b||null}}class qs{constructor(b){this.urlTree=b}}function os(P){return(0,Le._)(new Vs(P))}function ga(P){return(0,Le._)(new qs(P))}class pe{constructor(b,M,W,$,ae){this.injector=b,this.configLoader=M,this.urlSerializer=W,this.urlTree=$,this.config=ae,this.allowRedirects=!0}apply(){const b=Ln(this.urlTree.root,[],[],this.config).segmentGroup,M=new Rn(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,M,Mt).pipe((0,Ie.U)(ae=>this.createUrlTree(nt(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,X.K)(ae=>{if(ae instanceof qs)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof Vs?this.noMatchError(ae):ae}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,Mt).pipe((0,Ie.U)($=>this.createUrlTree(nt($),b.queryParams,b.fragment))).pipe((0,X.K)($=>{throw $ instanceof Vs?this.noMatchError($):$}))}noMatchError(b){return new l.vHH(4002,Zo&&`Cannot match any routes. URL Segment: '${b.segmentGroup}'`)}createUrlTree(b,M,W){const $=Oe(b);return new $n($,M,W)}expandSegmentGroup(b,M,W,$){return 0===W.segments.length&&W.hasChildren()?this.expandChildren(b,M,W).pipe((0,Ie.U)(ae=>new Rn([],ae))):this.expandSegment(b,W,M,W.segments,$,!0)}expandChildren(b,M,W){const $=[];for(const ae of Object.keys(W.children))"primary"===ae?$.unshift(ae):$.push(ae);return(0,g.D)($).pipe((0,qt.b)(ae=>{const je=W.children[ae],Nt=yi(M,ae);return this.expandSegmentGroup(b,Nt,je,ae).pipe((0,Ie.U)(sn=>({segment:sn,outlet:ae})))}),(0,Bt.R)((ae,je)=>(ae[je.outlet]=je.segment,ae),{}),Rt())}expandSegment(b,M,W,$,ae,je){return(0,g.D)(W).pipe((0,qt.b)(Nt=>this.expandSegmentAgainstRoute(b,M,W,Nt,$,ae,je).pipe((0,X.K)(Sn=>{if(Sn instanceof Vs)return(0,z.of)(null);throw Sn}))),(0,at.P)(Nt=>!!Nt),(0,X.K)((Nt,sn)=>{if(Tt(Nt))return Yo(M,$,ae)?(0,z.of)(new Rn([],{})):os(M);throw Nt}))}expandSegmentAgainstRoute(b,M,W,$,ae,je,Nt){return Qi($,M,ae,je)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(b,M,$,ae,je):Nt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,M,W,$,ae,je):os(M):os(M)}expandSegmentAgainstRouteUsingRedirect(b,M,W,$,ae,je){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,W,$,je):this.expandRegularSegmentAgainstRouteUsingRedirect(b,M,W,$,ae,je)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,M,W,$){const ae=this.applyRedirectCommands([],W.redirectTo,{});return W.redirectTo.startsWith("/")?ga(ae):this.lineralizeSegments(W,ae).pipe((0,Be.z)(je=>{const Nt=new Rn(je,{});return this.expandSegment(b,Nt,M,je,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,M,W,$,ae,je){const{matched:Nt,consumedSegments:sn,remainingSegments:Sn,positionalParamSegments:Mr}=Dn(M,$,ae);if(!Nt)return os(M);const oi=this.applyRedirectCommands(sn,$.redirectTo,Mr);return $.redirectTo.startsWith("/")?ga(oi):this.lineralizeSegments($,oi).pipe((0,Be.z)(as=>this.expandSegment(b,M,W,as.concat(Sn),je,!1)))}matchSegmentAgainstRoute(b,M,W,$,ae){return"**"===W.path?(b=ho(W,b),W.loadChildren?(W._loadedRoutes?(0,z.of)({routes:W._loadedRoutes,injector:W._loadedInjector}):this.configLoader.loadChildren(b,W)).pipe((0,Ie.U)(Nt=>(W._loadedRoutes=Nt.routes,W._loadedInjector=Nt.injector,new Rn($,{})))):(0,z.of)(new Rn($,{}))):Jt(M,W,$,b,this.urlSerializer).pipe((0,Et.w)(({matched:je,consumedSegments:Nt,remainingSegments:sn})=>je?(b=W._injector??b,this.getChildConfig(b,W,$).pipe((0,Be.z)(Mr=>{const oi=Mr.injector??b,as=Mr.routes,{segmentGroup:ys,slicedSegments:Lo}=Ln(M,Nt,sn,as),Gs=new Rn(ys.segments,ys.children);if(0===Lo.length&&Gs.hasChildren())return this.expandChildren(oi,as,Gs).pipe((0,Ie.U)(Ta=>new Rn(Nt,Ta)));if(0===as.length&&0===Lo.length)return(0,z.of)(new Rn(Nt,{}));const Ts=Bi(W)===ae;return this.expandSegment(oi,Gs,as,Lo,Ts?Mt:ae,!0).pipe((0,Ie.U)(Ws=>new Rn(Nt.concat(Ws.segments),Ws.children)))}))):os(M)))}getChildConfig(b,M,W){return M.children?(0,z.of)({routes:M.children,injector:b}):M.loadChildren?void 0!==M._loadedRoutes?(0,z.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):F(b,M,W,this.urlSerializer).pipe((0,Be.z)($=>$?this.configLoader.loadChildren(b,M).pipe((0,Ye.b)(ae=>{M._loadedRoutes=ae.routes,M._loadedInjector=ae.injector})):function _a(P){return(0,Le._)(mo(Zo&&`Cannot load children because the guard of the route "path: '${P.path}'" returned false`,3))}(M))):(0,z.of)({routes:[],injector:b})}lineralizeSegments(b,M){let W=[],$=M.root;for(;;){if(W=W.concat($.segments),0===$.numberOfChildren)return(0,z.of)(W);if($.numberOfChildren>1||!$.children[Mt])return P=b.redirectTo,(0,Le._)(new l.vHH(4e3,Zo&&`Only absolute redirects can have named outlets. redirectTo: '${P}'`));$=$.children[Mt]}var P}applyRedirectCommands(b,M,W){return this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),b,W)}applyRedirectCreateUrlTree(b,M,W,$){const ae=this.createSegmentGroup(b,M.root,W,$);return new $n(ae,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(b,M){const W={};return dr(b,($,ae)=>{if("string"==typeof $&&$.startsWith(":")){const Nt=$.substring(1);W[ae]=M[Nt]}else W[ae]=$}),W}createSegmentGroup(b,M,W,$){const ae=this.createSegments(b,M.segments,W,$);let je={};return dr(M.children,(Nt,sn)=>{je[sn]=this.createSegmentGroup(b,Nt,W,$)}),new Rn(ae,je)}createSegments(b,M,W,$){return M.map(ae=>ae.path.startsWith(":")?this.findPosParam(b,ae,$):this.findOrReturn(ae,W))}findPosParam(b,M,W){const $=W[M.path.substring(1)];if(!$)throw new l.vHH(4001,Zo&&`Cannot redirect to '${b}'. Cannot find '${M.path}'.`);return $}findOrReturn(b,M){let W=0;for(const $ of M){if($.path===b.path)return M.splice(W),$;W++}return b}}function C(P,b,M,W){return(0,Et.w)($=>function As(P,b,M,W,$){return new pe(P,b,M,W,$).apply()}(P,b,M,$.extractedUrl,W).pipe((0,Ie.U)(ae=>({...$,urlAfterRedirects:ae}))))}const A=!1;class H{}function ke(P,b,M,W,$,ae,je="emptyOnly"){return new ve(P,b,M,W,$,je,ae).recognize().pipe((0,Et.w)(Nt=>null===Nt?function ce(P){return new le.y(b=>b.error(P))}(new H):(0,z.of)(Nt)))}class ve{constructor(b,M,W,$,ae,je,Nt){this.injector=b,this.rootComponentType=M,this.config=W,this.urlTree=$,this.url=ae,this.paramsInheritanceStrategy=je,this.urlSerializer=Nt}recognize(){const b=Ln(this.urlTree.root,[],[],this.config.filter(M=>void 0===M.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,Mt).pipe((0,Ie.U)(M=>{if(null===M)return null;const W=new Pr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new qr(W,M),ae=new Bo(this.url,$);return this.inheritParamsAndData(ae._root),ae}))}inheritParamsAndData(b){const M=b.value,W=Si(M,this.paramsInheritanceStrategy);M.params=Object.freeze(W.params),M.data=Object.freeze(W.data),b.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(b,M,W,$){return 0===W.segments.length&&W.hasChildren()?this.processChildren(b,M,W):this.processSegment(b,M,W,W.segments,$)}processChildren(b,M,W){return(0,g.D)(Object.keys(W.children)).pipe((0,qt.b)($=>{const ae=W.children[$],je=yi(M,$);return this.processSegmentGroup(b,je,ae,$)}),(0,Bt.R)(($,ae)=>$&&ae?($.push(...ae),$):null),(0,Lt.o)($=>null!==$),(0,ft.d)(null),Rt(),(0,Ie.U)($=>{if(null===$)return null;const ae=Yt($);return A&&function fn(P){const b={};P.forEach(M=>{const W=b[M.value.outlet];if(W){const $=W.url.map(je=>je.toString()).join("/"),ae=M.value.url.map(je=>je.toString()).join("/");throw new l.vHH(4006,A&&`Two segments cannot have the same outlet name: '${$}' and '${ae}'.`)}b[M.value.outlet]=M.value})}(ae),function Je(P){P.sort((b,M)=>b.value.outlet===Mt?-1:M.value.outlet===Mt?1:b.value.outlet.localeCompare(M.value.outlet))}(ae),ae}))}processSegment(b,M,W,$,ae){return(0,g.D)(M).pipe((0,qt.b)(je=>this.processSegmentAgainstRoute(je._injector??b,je,W,$,ae)),(0,at.P)(je=>!!je),(0,X.K)(je=>{if(Tt(je))return Yo(W,$,ae)?(0,z.of)([]):(0,z.of)(null);throw je}))}processSegmentAgainstRoute(b,M,W,$,ae){if(M.redirectTo||!Qi(M,W,$,ae))return(0,z.of)(null);let je;if("**"===M.path){const Nt=$.length>0?Jn($).parameters:{},sn=un(W)+$.length,Sn=new Pr($,Nt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(M),Bi(M),M.component??M._loadedComponent??null,M,vi(W),sn,I(M));je=(0,z.of)({snapshot:Sn,consumedSegments:[],remainingSegments:[]})}else je=Jt(W,M,$,b,this.urlSerializer).pipe((0,Ie.U)(({matched:Nt,consumedSegments:sn,remainingSegments:Sn,parameters:Mr})=>{if(!Nt)return null;const oi=un(W)+sn.length;return{snapshot:new Pr(sn,Mr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,O(M),Bi(M),M.component??M._loadedComponent??null,M,vi(W),oi,I(M)),consumedSegments:sn,remainingSegments:Sn}}));return je.pipe((0,Et.w)(Nt=>{if(null===Nt)return(0,z.of)(null);const{snapshot:sn,consumedSegments:Sn,remainingSegments:Mr}=Nt;b=M._injector??b;const oi=M._loadedInjector??b,as=function Pt(P){return P.children?P.children:P.loadChildren?P._loadedRoutes:[]}(M),{segmentGroup:ys,slicedSegments:Lo}=Ln(W,Sn,Mr,as.filter(Ts=>void 0===Ts.redirectTo));if(0===Lo.length&&ys.hasChildren())return this.processChildren(oi,as,ys).pipe((0,Ie.U)(Ts=>null===Ts?null:[new qr(sn,Ts)]));if(0===as.length&&0===Lo.length)return(0,z.of)([new qr(sn,[])]);const Gs=Bi(M)===ae;return this.processSegment(oi,as,ys,Lo,Gs?Mt:ae).pipe((0,Ie.U)(Ts=>null===Ts?null:[new qr(sn,Ts)]))}))}}function rn(P){const b=P.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function Yt(P){const b=[],M=new Set;for(const W of P){if(!rn(W)){b.push(W);continue}const $=b.find(ae=>W.value.routeConfig===ae.value.routeConfig);void 0!==$?($.children.push(...W.children),M.add($)):b.push(W)}for(const W of M){const $=Yt(W.children);b.push(new qr(W.value,$))}return b.filter(W=>!M.has(W))}function vi(P){let b=P;for(;b._sourceSegment;)b=b._sourceSegment;return b}function un(P){let b=P,M=b._segmentIndexShift??0;for(;b._sourceSegment;)b=b._sourceSegment,M+=b._segmentIndexShift??0;return M-1}function O(P){return P.data||{}}function I(P){return P.resolve||{}}function xe(P,b){return(0,Be.z)(M=>{const{targetSnapshot:W,guards:{canActivateChecks:$}}=M;if(!$.length)return(0,z.of)(M);let ae=0;return(0,g.D)($).pipe((0,qt.b)(je=>function ht(P,b,M,W){const $=P.routeConfig,ae=P._resolve;return void 0!==$?.title&&!ui($)&&(ae[vn]=$.title),function kt(P,b,M,W){const $=function kn(P){return[...Object.keys(P),...Object.getOwnPropertySymbols(P)]}(P);if(0===$.length)return(0,z.of)({});const ae={};return(0,g.D)($).pipe((0,Be.z)(je=>function yr(P,b,M,W){const $=Eo(b)??W,ae=Wo(P,$),je=ae.resolve?ae.resolve(b,M):$.runInContext(()=>ae(b,M));return ri(je)}(P[je],b,M,W).pipe((0,at.P)(),(0,Ye.b)(Nt=>{ae[je]=Nt}))),jn(1),(0,Ht.h)(ae),(0,X.K)(je=>Tt(je)?Xe.E:(0,Le._)(je)))}(ae,P,b,W).pipe((0,Ie.U)(je=>(P._resolvedData=je,P.data=Si(P,M).resolve,$&&ui($)&&(P.data[vn]=$.title),null)))}(je.route,W,P,b)),(0,Ye.b)(()=>ae++),jn(1),(0,Be.z)(je=>ae===$.length?(0,z.of)(M):Xe.E))})}function ui(P){return"string"==typeof P.title||null===P.title}function ci(P){return(0,Et.w)(b=>{const M=P(b);return M?(0,g.D)(M).pipe((0,Ie.U)(()=>b)):(0,z.of)(b)})}const Kr=new l.OlP("ROUTES");class Xi{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,z.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const M=ri(b.loadComponent()).pipe((0,Ie.U)(Hi),(0,Ye.b)($=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=$}),(0,Gt.x)(()=>{this.componentLoaders.delete(b)})),W=new We.c(M,()=>new St.x).pipe((0,Qt.x)());return this.componentLoaders.set(b,W),W}loadChildren(b,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,z.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const $=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,Ie.U)(je=>{this.onLoadEndListener&&this.onLoadEndListener(M);let Nt,sn,Sn=!1;Array.isArray(je)?(sn=je,Sn=!0):(Nt=je.create(b).injector,sn=Nr(Nt.get(Kr,[],l.XFs.Self|l.XFs.Optional)));const Mr=sn.map(fo);return{routes:Mr,injector:Nt}}),(0,Gt.x)(()=>{this.childrenLoaders.delete(M)})),ae=new We.c($,()=>new St.x).pipe((0,Qt.x)());return this.childrenLoaders.set(M,ae),ae}loadModuleFactoryOrRoutes(b){return ri(b()).pipe((0,Ie.U)(Hi),(0,Be.z)(M=>M instanceof l.YKP||Array.isArray(M)?(0,z.of)(M):(0,g.D)(this.compiler.compileModuleAsync(M))))}}function Hi(P){return function Yn(P){return P&&"object"==typeof P&&"default"in P}(P)?P.default:P}Xi.\u0275fac=function(b){return new(b||Xi)},Xi.\u0275prov=l.Yz7({token:Xi,factory:Xi.\u0275fac,providedIn:"root"});class hi{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new St.x,this.configLoader=(0,l.f3M)(Xi),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(di),this.rootContexts=(0,l.f3M)(lo),this.navigationId=0,this.afterPreactivation=()=>(0,z.of)(void 0),this.rootComponentType=null;this.configLoader.onLoadEndListener=W=>this.events.next(new _r(W)),this.configLoader.onLoadStartListener=W=>this.events.next(new $r(W))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:M})}setupNavigations(b){return this.transitions=new ue.X({id:0,targetPageId:0,currentUrlTree:b.currentUrlTree,currentRawUrl:b.currentUrlTree,extractedUrl:b.urlHandlingStrategy.extract(b.currentUrlTree),urlAfterRedirects:b.urlHandlingStrategy.extract(b.currentUrlTree),rawUrl:b.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cn,restoredState:null,currentSnapshot:b.routerState.snapshot,targetSnapshot:null,currentRouterState:b.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,_t.h)(M=>0!==M.id),(0,Ie.U)(M=>({...M,extractedUrl:b.urlHandlingStrategy.extract(M.rawUrl)})),(0,Et.w)(M=>{let W=!1,$=!1;return(0,z.of)(M).pipe((0,Ye.b)(ae=>{this.currentNavigation={id:ae.id,initialUrl:ae.rawUrl,extractedUrl:ae.extractedUrl,trigger:ae.source,extras:ae.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Et.w)(ae=>{const je=b.browserUrlTree.toString(),Nt=!b.navigated||ae.extractedUrl.toString()!==je||je!==b.currentUrlTree.toString(),sn=ae.extras.onSameUrlNavigation??b.onSameUrlNavigation;if(!Nt&&"reload"!==sn){const Sn="";return this.events.next(new mt(ae.id,b.serializeUrl(M.rawUrl),Sn,0)),b.rawUrlTree=ae.rawUrl,ae.resolve(null),Xe.E}if(b.urlHandlingStrategy.shouldProcessUrl(ae.rawUrl))return an(ae.source)&&(b.browserUrlTree=ae.extractedUrl),(0,z.of)(ae).pipe((0,Et.w)(Sn=>{const Mr=this.transitions?.getValue();return this.events.next(new zn(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),Sn.source,Sn.restoredState)),Mr!==this.transitions?.getValue()?Xe.E:Promise.resolve(Sn)}),C(this.environmentInjector,this.configLoader,this.urlSerializer,b.config),(0,Ye.b)(Sn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Sn.urlAfterRedirects},M.urlAfterRedirects=Sn.urlAfterRedirects}),function Z(P,b,M,W,$){return(0,Be.z)(ae=>ke(P,b,M,ae.urlAfterRedirects,W.serialize(ae.urlAfterRedirects),W,$).pipe((0,Ie.U)(je=>({...ae,targetSnapshot:je}))))}(this.environmentInjector,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),(0,Ye.b)(Sn=>{if(M.targetSnapshot=Sn.targetSnapshot,"eager"===b.urlUpdateStrategy){if(!Sn.extras.skipLocationChange){const oi=b.urlHandlingStrategy.merge(Sn.urlAfterRedirects,Sn.rawUrl);b.setBrowserUrl(oi,Sn)}b.browserUrlTree=Sn.urlAfterRedirects}const Mr=new Qe(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Mr)}));if(Nt&&b.urlHandlingStrategy.shouldProcessUrl(b.rawUrlTree)){const{id:Sn,extractedUrl:Mr,source:oi,restoredState:as,extras:ys}=ae,Lo=new zn(Sn,this.urlSerializer.serialize(Mr),oi,as);this.events.next(Lo);const Gs=Ir(Mr,this.rootComponentType).snapshot;return M={...ae,targetSnapshot:Gs,urlAfterRedirects:Mr,extras:{...ys,skipLocationChange:!1,replaceUrl:!1}},(0,z.of)(M)}{const Sn="";return this.events.next(new mt(ae.id,b.serializeUrl(M.extractedUrl),Sn,1)),b.rawUrlTree=ae.rawUrl,ae.resolve(null),Xe.E}}),(0,Ye.b)(ae=>{const je=new jt(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot);this.events.next(je)}),(0,Ie.U)(ae=>M={...ae,guards:co(ae.targetSnapshot,ae.currentSnapshot,this.rootContexts)}),Fn(this.environmentInjector,ae=>this.events.next(ae)),(0,Ye.b)(ae=>{if(M.guardsResult=ae.guardsResult,tn(ae.guardsResult))throw To(this.urlSerializer,ae.guardsResult);const je=new ln(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(ae.urlAfterRedirects),ae.targetSnapshot,!!ae.guardsResult);this.events.next(je)}),(0,_t.h)(ae=>!!ae.guardsResult||(b.restoreHistory(ae),this.cancelNavigationTransition(ae,"",3),!1)),ci(ae=>{if(ae.guards.canActivateChecks.length)return(0,z.of)(ae).pipe((0,Ye.b)(je=>{const Nt=new Gn(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot);this.events.next(Nt)}),(0,Et.w)(je=>{let Nt=!1;return(0,z.of)(je).pipe(xe(b.paramsInheritanceStrategy,this.environmentInjector),(0,Ye.b)({next:()=>Nt=!0,complete:()=>{Nt||(b.restoreHistory(je),this.cancelNavigationTransition(je,"",2))}}))}),(0,Ye.b)(je=>{const Nt=new cr(je.id,this.urlSerializer.serialize(je.extractedUrl),this.urlSerializer.serialize(je.urlAfterRedirects),je.targetSnapshot);this.events.next(Nt)}))}),ci(ae=>{const je=Nt=>{const sn=[];Nt.routeConfig?.loadComponent&&!Nt.routeConfig._loadedComponent&&sn.push(this.configLoader.loadComponent(Nt.routeConfig).pipe((0,Ye.b)(Sn=>{Nt.component=Sn}),(0,Ie.U)(()=>{})));for(const Sn of Nt.children)sn.push(...je(Sn));return sn};return(0,we.a)(je(ae.targetSnapshot.root)).pipe((0,ft.d)(),(0,gt.q)(1))}),ci(()=>this.afterPreactivation()),(0,Ie.U)(ae=>{const je=function Po(P,b,M){const W=po(P,b._root,M?M._root:void 0);return new Jr(W,b)}(b.routeReuseStrategy,ae.targetSnapshot,ae.currentRouterState);return M={...ae,targetRouterState:je}}),(0,Ye.b)(ae=>{b.currentUrlTree=ae.urlAfterRedirects,b.rawUrlTree=b.urlHandlingStrategy.merge(ae.urlAfterRedirects,ae.rawUrl),b.routerState=ae.targetRouterState,"deferred"===b.urlUpdateStrategy&&(ae.extras.skipLocationChange||b.setBrowserUrl(b.rawUrlTree,ae),b.browserUrlTree=ae.urlAfterRedirects)}),((P,b,M)=>(0,Ie.U)(W=>(new Hr(b,W.targetRouterState,W.currentRouterState,M).activate(P),W)))(this.rootContexts,b.routeReuseStrategy,ae=>this.events.next(ae)),(0,Ye.b)({next:ae=>{W=!0,this.lastSuccessfulNavigation=this.currentNavigation,b.navigated=!0,this.events.next(new Er(ae.id,this.urlSerializer.serialize(ae.extractedUrl),this.urlSerializer.serialize(b.currentUrlTree))),b.titleStrategy?.updateTitle(ae.targetRouterState.snapshot),ae.resolve(!0)},complete:()=>{W=!0}}),(0,Gt.x)(()=>{if(!W&&!$){const ae="";this.cancelNavigationTransition(M,ae,1)}this.currentNavigation?.id===M.id&&(this.currentNavigation=null)}),(0,X.K)(ae=>{if($=!0,Gr(ae)){Pi(ae)||(b.navigated=!0,b.restoreHistory(M,!0));const je=new fr(M.id,this.urlSerializer.serialize(M.extractedUrl),ae.message,ae.cancellationCode);if(this.events.next(je),Pi(ae)){const Nt=b.urlHandlingStrategy.merge(ae.url,b.rawUrlTree),sn={skipLocationChange:M.extras.skipLocationChange,replaceUrl:"eager"===b.urlUpdateStrategy||an(M.source)};b.scheduleNavigation(Nt,cn,null,sn,{resolve:M.resolve,reject:M.reject,promise:M.promise})}else M.resolve(!1)}else{b.restoreHistory(M,!0);const je=new ct(M.id,this.urlSerializer.serialize(M.extractedUrl),ae,M.targetSnapshot??void 0);this.events.next(je);try{M.resolve(b.errorHandler(ae))}catch(Nt){M.reject(Nt)}}return Xe.E}))}))}cancelNavigationTransition(b,M,W){const $=new fr(b.id,this.urlSerializer.serialize(b.extractedUrl),M,W);this.events.next($),b.resolve(!1)}}function an(P){return P!==cn}hi.\u0275fac=function(b){return new(b||hi)},hi.\u0275prov=l.Yz7({token:hi,factory:hi.\u0275fac,providedIn:"root"});class sr{buildTitle(b){let M,W=b.root;for(;void 0!==W;)M=this.getResolvedTitleForRoute(W)??M,W=W.children.find($=>$.outlet===Mt);return M}getResolvedTitleForRoute(b){return b.data[vn]}}sr.\u0275fac=function(b){return new(b||sr)},sr.\u0275prov=l.Yz7({token:sr,factory:function(){return(0,l.f3M)(Nn)},providedIn:"root"});class Nn extends sr{constructor(b){super(),this.title=b}updateTitle(b){const M=this.buildTitle(b);void 0!==M&&this.title.setTitle(M)}}Nn.\u0275fac=function(b){return new(b||Nn)(l.LFG(It.Dx))},Nn.\u0275prov=l.Yz7({token:Nn,factory:Nn.\u0275fac,providedIn:"root"});class gi{}gi.\u0275fac=function(b){return new(b||gi)},gi.\u0275prov=l.Yz7({token:gi,factory:function(){return(0,l.f3M)(An)},providedIn:"root"});class Ei{shouldDetach(b){return!1}store(b,M){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,M){return b.routeConfig===M.routeConfig}}class An extends Ei{}An.\u0275fac=function(){let P;return function(M){return(P||(P=l.n5z(An)))(M||An)}}(),An.\u0275prov=l.Yz7({token:An,factory:An.\u0275fac,providedIn:"root"});const qo=new l.OlP("",{providedIn:"root",factory:()=>({})});class eo{}eo.\u0275fac=function(b){return new(b||eo)},eo.\u0275prov=l.Yz7({token:eo,factory:function(){return(0,l.f3M)(Ss)},providedIn:"root"});class Ss{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,M){return b}}Ss.\u0275fac=function(b){return new(b||Ss)},Ss.\u0275prov=l.Yz7({token:Ss,factory:Ss.\u0275fac,providedIn:"root"});const Qs=!1;function ls(P){throw P}function Ao(P,b,M){return b.parse("/")}const us={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},js={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};class Mi{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(qo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ls,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ao,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(eo),this.routeReuseStrategy=(0,l.f3M)(gi),this.urlCreationStrategy=(0,l.f3M)(pi),this.titleStrategy=(0,l.f3M)(sr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Nr((0,l.f3M)(Kr,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(hi),this.urlSerializer=(0,l.f3M)(di),this.location=(0,l.f3M)(Ft.Ye),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new $n,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ir(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),cn,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const M="popstate"===b.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,M,b.state)},0)}))}navigateToSyncWithBrowser(b,M,W){const $={replaceUrl:!0},ae=W?.navigationId?W:null;if(W){const Nt={...W};delete Nt.navigationId,delete Nt.\u0275routerPageId,0!==Object.keys(Nt).length&&($.state=Nt)}const je=this.parseUrl(b);this.scheduleNavigation(je,M,ae,$)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(b){Qs&&Co(b),this.config=b.map(fo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,M={}){const{relativeTo:W,queryParams:$,fragment:ae,queryParamsHandling:je,preserveFragment:Nt}=M,sn=Nt?this.currentUrlTree.fragment:ae;let Sn=null;switch(je){case"merge":Sn={...this.currentUrlTree.queryParams,...$};break;case"preserve":Sn=this.currentUrlTree.queryParams;break;default:Sn=$||null}return null!==Sn&&(Sn=this.removeEmptyProps(Sn)),this.urlCreationStrategy.createUrlTree(W,this.routerState,this.currentUrlTree,b,Sn,sn??null)}navigateByUrl(b,M={skipLocationChange:!1}){Qs&&(this.isNgZoneEnabled&&!l.R0b.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?"),b instanceof $n&&b._warnIfUsedForNavigation&&this.console.warn(b._warnIfUsedForNavigation));const W=tn(b)?b:this.parseUrl(b),$=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation($,cn,null,M)}navigate(b,M={skipLocationChange:!1}){return function Oa(P){for(let b=0;b<P.length;b++){const M=P[b];if(null==M)throw new l.vHH(4008,Qs&&`The requested path contains ${M} segment at index ${b}`)}}(b),this.navigateByUrl(this.createUrlTree(b,M),M)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let M;try{M=this.urlSerializer.parse(b)}catch(W){M=this.malformedUriErrorHandler(W,this.urlSerializer,b)}return M}isActive(b,M){let W;if(W=!0===M?{...us}:!1===M?{...js}:M,tn(b))return Tr(this.currentUrlTree,b,W);const $=this.parseUrl(b);return Tr(this.currentUrlTree,$,W)}removeEmptyProps(b){return Object.keys(b).reduce((M,W)=>{const $=b[W];return null!=$&&(M[W]=$),M},{})}scheduleNavigation(b,M,W,$,ae){if(this.disposed)return Promise.resolve(!1);let je,Nt,sn,Sn;return ae?(je=ae.resolve,Nt=ae.reject,sn=ae.promise):sn=new Promise((Mr,oi)=>{je=Mr,Nt=oi}),Sn="computed"===this.canceledNavigationResolution?W&&W.\u0275routerPageId?W.\u0275routerPageId:$.replaceUrl||$.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Sn,source:M,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:$,resolve:je,reject:Nt,promise:sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sn.catch(Mr=>Promise.reject(Mr))}setBrowserUrl(b,M){const W=this.urlSerializer.serialize(b),$={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.isCurrentPathEqualTo(W)||M.extras.replaceUrl?this.location.replaceState(W,"",$):this.location.go(W,"",$)}restoreHistory(b,M=!1){if("computed"===this.canceledNavigationResolution){const W=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===W?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===W&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(W)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,M){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:M}:{navigationId:b}}}Mi.\u0275fac=function(b){return new(b||Mi)},Mi.\u0275prov=l.Yz7({token:Mi,factory:Mi.\u0275fac,providedIn:"root"});class ws{constructor(b,M,W,$,ae,je){this.router=b,this.route=M,this.tabIndexAttribute=W,this.renderer=$,this.el=ae,this.locationStrategy=je,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new St.x;const Nt=ae.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Nt||"area"===Nt,this.isAnchorElement?this.subscription=b.events.subscribe(sn=>{sn instanceof Er&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(b){this._preserveFragment=(0,l.D6c)(b)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(b){this._skipLocationChange=(0,l.D6c)(b)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(b){this._replaceUrl=(0,l.D6c)(b)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,M,W,$,ae){if(null===this.urlTree||this.isAnchorElement&&(0!==b||M||W||$||ae||"string"==typeof this.target&&"_self"!=this.target))return!0;const je={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,je),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,M){const W=this.renderer,$=this.el.nativeElement;null!==M?W.setAttribute($,b,M):W.removeAttribute($,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}ws.\u0275fac=function(b){return new(b||ws)(l.Y36(Mi),l.Y36(vo),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ft.S$))},ws.\u0275dir=l.lG2({type:ws,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,M){1&b&&l.NdJ("click",function($){return M.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&b&&l.uIk("target",M.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]});class Xs{get isActive(){return this._isActive}constructor(b,M,W,$,ae){this.router=b,this.element=M,this.renderer=W,this.cdr=$,this.link=ae,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=b.events.subscribe(je=>{je instanceof Er&&this.update()})}ngAfterContentInit(){(0,z.of)(this.links.changes,(0,z.of)(null)).pipe((0,it.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const b=[...this.links.toArray(),this.link].filter(M=>!!M).map(M=>M.onChanges);this.linkInputChangesSubscription=(0,g.D)(b).pipe((0,it.J)()).subscribe(M=>{this._isActive!==this.isLinkActive(this.router)(M)&&this.update()})}set routerLinkActive(b){const M=Array.isArray(b)?b:b.split(" ");this.classes=M.filter(W=>!!W)}ngOnChanges(b){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this._isActive!==b&&(this._isActive=b,this.cdr.markForCheck(),this.classes.forEach(M=>{b?this.renderer.addClass(this.element.nativeElement,M):this.renderer.removeClass(this.element.nativeElement,M)}),b&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(b))})}isLinkActive(b){const M=function Ia(P){return!!P.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return W=>!!W.urlTree&&b.isActive(W.urlTree,M)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.links.some(b)}}Xs.\u0275fac=function(b){return new(b||Xs)(l.Y36(Mi),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(ws,8))},Xs.\u0275dir=l.lG2({type:Xs,selectors:[["","routerLinkActive",""]],contentQueries:function(b,M,W){if(1&b&&l.Suo(W,ws,5),2&b){let $;l.iGM($=l.CRH())&&(M.links=$)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]});class Pa{}class $t{preload(b,M){return M().pipe((0,X.K)(()=>(0,z.of)(null)))}}$t.\u0275fac=function(b){return new(b||$t)},$t.\u0275prov=l.Yz7({token:$t,factory:$t.\u0275fac,providedIn:"root"});class Js{preload(b,M){return(0,z.of)(null)}}Js.\u0275fac=function(b){return new(b||Js)},Js.\u0275prov=l.Yz7({token:Js,factory:Js.\u0275fac,providedIn:"root"});class ps{constructor(b,M,W,$,ae){this.router=b,this.injector=W,this.preloadingStrategy=$,this.loader=ae}setUpPreloading(){this.subscription=this.router.events.pipe((0,_t.h)(b=>b instanceof Er),(0,qt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,M){const W=[];for(const $ of M){$.providers&&!$._injector&&($._injector=(0,l.MMx)($.providers,b,`Route: ${$.path}`));const ae=$._injector??b,je=$._loadedInjector??ae;($.loadChildren&&!$._loadedRoutes&&void 0===$.canLoad||$.loadComponent&&!$._loadedComponent)&&W.push(this.preloadConfig(ae,$)),($.children||$._loadedRoutes)&&W.push(this.processRoutes(je,$.children??$._loadedRoutes))}return(0,g.D)(W).pipe((0,it.J)())}preloadConfig(b,M){return this.preloadingStrategy.preload(M,()=>{let W;W=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(b,M):(0,z.of)(null);const $=W.pipe((0,Be.z)(ae=>null===ae?(0,z.of)(void 0):(M._loadedRoutes=ae.routes,M._loadedInjector=ae.injector,this.processRoutes(ae.injector??b,ae.routes))));if(M.loadComponent&&!M._loadedComponent){const ae=this.loader.loadComponent(M);return(0,g.D)([$,ae]).pipe((0,it.J)())}return $})}}ps.\u0275fac=function(b){return new(b||ps)(l.LFG(Mi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Pa),l.LFG(Xi))},ps.\u0275prov=l.Yz7({token:ps,factory:ps.\u0275fac,providedIn:"root"});const aa=new l.OlP("");class zs{constructor(b,M,W,$,ae={}){this.urlSerializer=b,this.transitions=M,this.viewportScroller=W,this.zone=$,this.options=ae,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ae.scrollPositionRestoration=ae.scrollPositionRestoration||"disabled",ae.anchorScrolling=ae.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof zn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Er&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Wr&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wr(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}var Jo,P;zs.\u0275fac=function(b){l.$Z()},zs.\u0275prov=l.Yz7({token:zs,factory:zs.\u0275fac}),(P=Jo||(Jo={}))[P.COMPLETE=0]="COMPLETE",P[P.FAILED=1]="FAILED",P[P.REDIRECTING=2]="REDIRECTING";const Os=!1;function ms(P){return P.routerState.root}function ca(P,b){return{\u0275kind:P,\u0275providers:b}}const qa=new l.OlP("",{providedIn:"root",factory:()=>!1});l.Xts;function Wa(){const P=(0,l.f3M)(l.zs3);return b=>{const M=P.get(l.z2F);if(b!==M.components[0])return;const W=P.get(Mi),$=P.get(ss);1===P.get(ya)&&W.initialNavigation(),P.get(la,null,l.XFs.Optional)?.setUpPreloading(),P.get(aa,null,l.XFs.Optional)?.init(),W.resetRootComponentType(M.componentTypes[0]),$.closed||($.next(),$.unsubscribe())}}const ss=new l.OlP(Os?"bootstrap done indicator":"",{factory:()=>new St.x}),ya=new l.OlP(Os?"initial navigation":"",{providedIn:"root",factory:()=>1});function Xa(){return ca(2,[{provide:ya,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:b=>{const M=b.get(Ft.V_,Promise.resolve());return()=>M.then(()=>new Promise(W=>{const $=b.get(Mi),ae=b.get(ss);(function _c(P,b){P.events.pipe((0,_t.h)(M=>M instanceof Er||M instanceof fr||M instanceof ct||M instanceof mt),(0,Ie.U)(M=>M instanceof Er||M instanceof mt?Jo.COMPLETE:M instanceof fr&&(0===M.code||1===M.code)?Jo.REDIRECTING:Jo.FAILED),(0,_t.h)(M=>M!==Jo.REDIRECTING),(0,gt.q)(1)).subscribe(()=>{b()})})($,()=>{W(!0)}),b.get(hi).afterPreactivation=()=>(W(!0),ae.closed?(0,z.of)(void 0):ae),$.initialNavigation()}))}}])}function zc(){let P=[];return P=Os?[{provide:l.Xts,multi:!0,useFactory:()=>{const b=(0,l.f3M)(Mi);return()=>b.events.subscribe(M=>{console.group?.(`Router Event: ${M.constructor.name}`),console.log(function jo(P){if(!("type"in P))return`Unknown Router Event: ${P.constructor.name}`;switch(P.type){case 14:return`ActivationEnd(path: '${P.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${P.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${P.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${P.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${P.id}, url: '${P.url}', urlAfterRedirects: '${P.urlAfterRedirects}', state: ${P.state}, shouldActivate: ${P.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${P.id}, url: '${P.url}', urlAfterRedirects: '${P.urlAfterRedirects}', state: ${P.state})`;case 2:return`NavigationCancel(id: ${P.id}, url: '${P.url}')`;case 16:return`NavigationSkipped(id: ${P.id}, url: '${P.url}')`;case 1:return`NavigationEnd(id: ${P.id}, url: '${P.url}', urlAfterRedirects: '${P.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${P.id}, url: '${P.url}', error: ${P.error})`;case 0:return`NavigationStart(id: ${P.id}, url: '${P.url}')`;case 6:return`ResolveEnd(id: ${P.id}, url: '${P.url}', urlAfterRedirects: '${P.urlAfterRedirects}', state: ${P.state})`;case 5:return`ResolveStart(id: ${P.id}, url: '${P.url}', urlAfterRedirects: '${P.urlAfterRedirects}', state: ${P.state})`;case 10:return`RouteConfigLoadEnd(path: ${P.route.path})`;case 9:return`RouteConfigLoadStart(path: ${P.route.path})`;case 4:return`RoutesRecognized(id: ${P.id}, url: '${P.url}', urlAfterRedirects: '${P.urlAfterRedirects}', state: ${P.state})`;case 15:const b=P.position?`${P.position[0]}, ${P.position[1]}`:null;return`Scroll(anchor: '${P.anchor}', position: '${b}')`}}(M)),console.log(M),console.groupEnd?.()})}}]:[],ca(1,P)}const la=new l.OlP(Os?"router preloader":"");function Ra(P){return ca(0,[{provide:la,useExisting:ps},{provide:Pa,useExisting:P}])}const ka=!1,Wc=new l.OlP(ka?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Hc=[Ft.Ye,{provide:di,useClass:Wn},Mi,lo,{provide:vo,useFactory:ms,deps:[Mi]},Xi,ka?{provide:qa,useValue:!0}:[]];function Yl(){return new l.PXZ("Router",Mi)}class ua{constructor(b){}static forRoot(b,M){return{ngModule:ua,providers:[Hc,ka&&M?.enableTracing?zc().\u0275providers:[],{provide:Kr,multi:!0,useValue:b},{provide:Wc,useFactory:es,deps:[[Mi,new l.FiY,new l.tp0]]},{provide:qo,useValue:M||{}},M?.useHash?{provide:Ft.S$,useClass:Ft.Do}:{provide:Ft.S$,useClass:Ft.b0},{provide:aa,useFactory:()=>{const P=(0,l.f3M)(Ft.EM),b=(0,l.f3M)(l.R0b),M=(0,l.f3M)(qo),W=(0,l.f3M)(hi),$=(0,l.f3M)(di);return M.scrollOffset&&P.setOffset(M.scrollOffset),new zs($,W,P,b,M)}},M?.preloadingStrategy?Ra(M.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Yl},M?.initialNavigation?va(M):[],[{provide:ds,useFactory:Wa},{provide:l.tb,multi:!0,useExisting:ds}]]}}static forChild(b){return{ngModule:ua,providers:[{provide:Kr,multi:!0,useValue:b}]}}}function es(P){if(ka&&P)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function va(P){return["disabled"===P.initialNavigation?ca(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const b=(0,l.f3M)(Mi);return()=>{b.setUpLocationChangeListener()}}},{provide:ya,useValue:2}]).\u0275providers:[],"enabledBlocking"===P.initialNavigation?Xa().\u0275providers:[]]}ua.\u0275fac=function(b){return new(b||ua)(l.LFG(Wc,8))},ua.\u0275mod=l.oAB({type:ua,imports:[xo,ws,Xs,qi],exports:[xo,ws,Xs,qi]}),ua.\u0275inj=l.cJS({imports:[qi]});const ds=new l.OlP(ka?"Router Initializer":"");new l.GfV("15.2.5")},3942:(En,rt,S)=>{S.d(rt,{Z:()=>St});var l=S(2090),g=S(4859),z=S(9681),ue=S(1877);
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Me{constructor(Ie,Et){this._delegate=Ie,this.firebase=Et,(0,z._addComponent)(Ie,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=Ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this._delegate.automaticDataCollectionEnabled=Ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ie=>{this._delegate.checkDestroyed(),Ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Ie,Et=z._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(Ie);return!bt.isInitialized()&&"EXPLICIT"===(null===(gt=bt.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:Et})}_removeServiceInstance(Ie,Et=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ie).clearInstance(Et)}_addComponent(Ie){(0,z._addComponent)(this._delegate,Ie)}_addOrOverwriteComponent(Ie){(0,z._addOrOverwriteComponent)(this._delegate,Ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const we={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Pe=new l.LL("app-compat","Firebase",we);
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const se=
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function _e(){const Ft=function le(Ft){const Ie={},Et={__esModule:!0,initializeApp:function _t(Ye,X={}){const Bt=z.initializeApp(Ye,X);if((0,l.r3)(Ie,Bt.name))return Ie[Bt.name];const _n=new Ft(Bt,Et);return Ie[Bt.name]=_n,_n},app:bt,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function at(Ye){const X=Ye.name,Bt=X.replace("-compat","");if(z._registerComponent(Ye)&&"PUBLIC"===Ye.type){const _n=(en=bt())=>{if("function"!=typeof en[Bt])throw Pe.create("invalid-app-argument",{appName:X});return en[Bt]()};void 0!==Ye.serviceProps&&(0,l.ZB)(_n,Ye.serviceProps),Et[Bt]=_n,Ft.prototype[Bt]=function(...en){return this._getService.bind(this,X).apply(this,Ye.multipleInstances?en:[])}}return"PUBLIC"===Ye.type?Et[Bt]:null},removeApp:function gt(Ye){delete Ie[Ye]},useAsService:function qt(Ye,X){return"serverAuth"===X?null:X},modularAPIs:z}};function bt(Ye){if(Ye=Ye||z._DEFAULT_ENTRY_NAME,!(0,l.r3)(Ie,Ye))throw Pe.create("no-app",{appName:Ye});return Ie[Ye]}return Et.default=Et,Object.defineProperty(Et,"apps",{get:function Be(){return Object.keys(Ie).map(Ye=>Ie[Ye])}}),bt.App=Ft,Et}(Me);return Ft.INTERNAL=Object.assign(Object.assign({},Ft.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function Ie(Et){(0,l.ZB)(Ft,Et)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ft}(),Re=new ue.Yd("@firebase/app-compat"),Le="@firebase/app-compat",Xe="0.2.7";
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
if((0,l.jU)()&&void 0!==self.firebase){Re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ft=self.firebase.SDK_VERSION;Ft&&Ft.indexOf("LITE")>=0&&Re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const St=se;!
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function We(Ft){(0,z.registerVersion)(Le,Xe,Ft)}()},9681:(En,rt,S)=>{S.r(rt),S.d(rt,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Nr,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>It,_addOrOverwriteComponent:()=>Mt,_apps:()=>Qt,_clearComponents:()=>ur,_components:()=>it,_getProvider:()=>on,_registerComponent:()=>vn,_removeServiceInstance:()=>xn,deleteApp:()=>ri,getApp:()=>Br,getApps:()=>dr,initializeApp:()=>Jn,onLog:()=>Hn,registerVersion:()=>fi,setLogLevel:()=>Tr});var l=S(5861),g=S(4859),z=S(1877),ue=S(2090),Me=S(8766);
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class we{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(Y=>{if(function Pe(Ce){return"VERSION"===Ce.getComponent()?.type}(Y)){const Se=Y.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(Y=>Y).join(" ")}}const le="@firebase/app",_e="0.9.7",se=new z.Yd("@firebase/app"),Ht="[DEFAULT]",Gt={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,it=new Map;
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function It(Ce,Ee){try{Ce.container.addComponent(Ee)}catch(Y){se.debug(`Component ${Ee.name} failed to register with FirebaseApp ${Ce.name}`,Y)}}function Mt(Ce,Ee){Ce.container.addOrOverwriteComponent(Ee)}function vn(Ce){const Ee=Ce.name;if(it.has(Ee))return se.debug(`There were multiple attempts to register component ${Ee}.`),!1;it.set(Ee,Ce);for(const Y of Qt.values())It(Y,Ce);return!0}function on(Ce,Ee){const Y=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),Ce.container.getProvider(Ee)}function xn(Ce,Ee,Y=Ht){on(Ce,Ee).clearInstance(Y)}function ur(){it.clear()}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const br={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Un=new ue.LL("app","Firebase",br);
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class vr{constructor(Ee,Y,Se){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},Y),this._name=Y.name,this._automaticDataCollectionEnabled=Y.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Nr="9.19.1";function Jn(Ce,Ee={}){let Y=Ce;"object"!=typeof Ee&&(Ee={name:Ee});const Se=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},Ee),pt=Se.name;if("string"!=typeof pt||!pt)throw Un.create("bad-app-name",{appName:String(pt)});if(Y||(Y=(0,ue.aH)()),!Y)throw Un.create("no-options");const yn=Qt.get(pt);if(yn){if((0,ue.vZ)(Y,yn.options)&&(0,ue.vZ)(Se,yn.config))return yn;throw Un.create("duplicate-app",{appName:pt})}const Zn=new g.H0(pt);for(const Ue of it.values())Zn.addComponent(Ue);const He=new vr(Y,Se,Zn);return Qt.set(pt,He),He}function Br(Ce=Ht){const Ee=Qt.get(Ce);if(!Ee&&Ce===Ht)return Jn();if(!Ee)throw Un.create("no-app",{appName:Ce});return Ee}function dr(){return Array.from(Qt.values())}function ri(Ce){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(Ce){const Ee=Ce.name;Qt.has(Ee)&&(Qt.delete(Ee),yield Promise.all(Ce.container.getProviders().map(Y=>Y.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function fi(Ce,Ee,Y){var Se;let pt=null!==(Se=Gt[Ce])&&void 0!==Se?Se:Ce;Y&&(pt+=`-${Y}`);const yn=pt.match(/\s|\//),Zn=Ee.match(/\s|\//);if(yn||Zn){const He=[`Unable to register library "${pt}" with version "${Ee}":`];return yn&&He.push(`library name "${pt}" contains illegal characters (whitespace or "/")`),yn&&Zn&&He.push("and"),Zn&&He.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void se.warn(He.join(" "))}vn(new g.wA(`${pt}-version`,()=>({library:pt,version:Ee}),"VERSION"))}function Hn(Ce,Ee){if(null!==Ce&&"function"!=typeof Ce)throw Un.create("invalid-log-argument");(0,z.Am)(Ce,Ee)}function Tr(Ce){(0,z.Ub)(Ce)}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Di="firebase-heartbeat-database",er=1,Zr="firebase-heartbeat-store";let Lr=null;function ir(){return Lr||(Lr=(0,Me.X3)(Di,er,{upgrade:(Ce,Ee)=>{if(0===Ee)Ce.createObjectStore(Zr)}}).catch(Ce=>{throw Un.create("idb-open",{originalErrorMessage:Ce.message})})),Lr}function $n(){return($n=(0,l.Z)(function*(Ce){try{return(yield ir()).transaction(Zr).objectStore(Zr).get(wr(Ce))}catch(Ee){if(Ee instanceof ue.ZR)se.warn(Ee.message);else{const Y=Un.create("idb-get",{originalErrorMessage:Ee?.message});se.warn(Y.message)}}})).apply(this,arguments)}function Rn(Ce,Ee){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(Ce,Ee){try{const Se=(yield ir()).transaction(Zr,"readwrite");return yield Se.objectStore(Zr).put(Ee,wr(Ce)),Se.done}catch(Y){if(Y instanceof ue.ZR)se.warn(Y.message);else{const Se=Un.create("idb-set",{originalErrorMessage:Y?.message});se.warn(Se.message)}}})).apply(this,arguments)}function wr(Ce){return`${Ce.name}!${Ce.options.appId}`}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const gr=1024;class di{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const Y=this.container.getProvider("app").getImmediate();this._storage=new Mn(Y),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var Ee=this;return(0,l.Z)(function*(){const Se=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),pt=Wn();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==pt&&!Ee._heartbeatsCache.heartbeats.some(yn=>yn.date===pt))return Ee._heartbeatsCache.heartbeats.push({date:pt,agent:Se}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(yn=>{const Zn=new Date(yn.date).valueOf();return Date.now()-Zn<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,l.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const Y=Wn(),{heartbeatsToSend:Se,unsentEntries:pt}=function xr(Ce,Ee=gr){const Y=[];let Se=Ce.slice();for(const pt of Ce){const yn=Y.find(Zn=>Zn.agent===pt.agent);if(yn){if(yn.dates.push(pt.date),Xt(Y)>Ee){yn.dates.pop();break}}else if(Y.push({agent:pt.agent,dates:[pt.date]}),Xt(Y)>Ee){Y.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:Y,unsentEntries:Se}}(Ee._heartbeatsCache.heartbeats),yn=(0,ue.L)(JSON.stringify({version:2,heartbeats:Se}));return Ee._heartbeatsCache.lastSentHeartbeatDate=Y,pt.length>0?(Ee._heartbeatsCache.heartbeats=pt,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),yn})()}}function Wn(){return(new Date).toISOString().substring(0,10)}class Mn{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,l.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function rr(Ce){return $n.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var Y=this;return(0,l.Z)(function*(){var Se;if(yield Y._canUseIndexedDBPromise){const yn=yield Y.read();return Rn(Y.app,{lastSentHeartbeatDate:null!==(Se=Ee.lastSentHeartbeatDate)&&void 0!==Se?Se:yn.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var Y=this;return(0,l.Z)(function*(){var Se;if(yield Y._canUseIndexedDBPromise){const yn=yield Y.read();return Rn(Y.app,{lastSentHeartbeatDate:null!==(Se=Ee.lastSentHeartbeatDate)&&void 0!==Se?Se:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...Ee.heartbeats]})}})()}}function Xt(Ce){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Ce})).length}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */!function de(Ce){vn(new g.wA("platform-logger",Ee=>new we(Ee),"PRIVATE")),vn(new g.wA("heartbeat",Ee=>new di(Ee),"PRIVATE")),fi(le,_e,Ce),fi(le,_e,"esm2017"),fi("fire-js","")}("")},4859:(En,rt,S)=>{S.d(rt,{H0:()=>le,wA:()=>z,zt:()=>Me});var l=S(5861),g=S(2090);class z{constructor(se,Re,Le){this.name=se,this.instanceFactory=Re,this.type=Le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(se){return this.instantiationMode=se,this}setMultipleInstances(se){return this.multipleInstances=se,this}setServiceProps(se){return this.serviceProps=se,this}setInstanceCreatedCallback(se){return this.onInstanceCreated=se,this}}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const ue="[DEFAULT]";
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class Me{constructor(se,Re){this.name=se,this.container=Re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(se){const Re=this.normalizeInstanceIdentifier(se);if(!this.instancesDeferred.has(Re)){const Le=new g.BH;if(this.instancesDeferred.set(Re,Le),this.isInitialized(Re)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:Re});Xe&&Le.resolve(Xe)}catch{}}return this.instancesDeferred.get(Re).promise}getImmediate(se){var Re;const Le=this.normalizeInstanceIdentifier(se?.identifier),Xe=null!==(Re=se?.optional)&&void 0!==Re&&Re;if(!this.isInitialized(Le)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Le})}catch(We){if(Xe)return null;throw We}}getComponent(){return this.component}setComponent(se){if(se.name!==this.name)throw Error(`Mismatching Component ${se.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=se,this.shouldAutoInitialize()){if(function Pe(_e){return"EAGER"===_e.instantiationMode}
/**
         * @license
         * Copyright 2019 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(se))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[Re,Le]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(Re);try{const We=this.getOrInitializeService({instanceIdentifier:Xe});Le.resolve(We)}catch{}}}}clearInstance(se=ue){this.instancesDeferred.delete(se),this.instancesOptions.delete(se),this.instances.delete(se)}delete(){var se=this;return(0,l.Z)(function*(){const Re=Array.from(se.instances.values());yield Promise.all([...Re.filter(Le=>"INTERNAL"in Le).map(Le=>Le.INTERNAL.delete()),...Re.filter(Le=>"_delete"in Le).map(Le=>Le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(se=ue){return this.instances.has(se)}getOptions(se=ue){return this.instancesOptions.get(se)||{}}initialize(se={}){const{options:Re={}}=se,Le=this.normalizeInstanceIdentifier(se.instanceIdentifier);if(this.isInitialized(Le))throw Error(`${this.name}(${Le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:Le,options:Re});for(const[We,St]of this.instancesDeferred.entries()){Le===this.normalizeInstanceIdentifier(We)&&St.resolve(Xe)}return Xe}onInit(se,Re){var Le;const Xe=this.normalizeInstanceIdentifier(Re),We=null!==(Le=this.onInitCallbacks.get(Xe))&&void 0!==Le?Le:new Set;We.add(se),this.onInitCallbacks.set(Xe,We);const St=this.instances.get(Xe);return St&&se(St,Xe),()=>{We.delete(se)}}invokeOnInitCallbacks(se,Re){const Le=this.onInitCallbacks.get(Re);if(Le)for(const Xe of Le)try{Xe(se,Re)}catch{}}getOrInitializeService({instanceIdentifier:se,options:Re={}}){let Le=this.instances.get(se);if(!Le&&this.component&&(Le=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=se,_e===ue?void 0:_e),options:Re}),this.instances.set(se,Le),this.instancesOptions.set(se,Re),this.invokeOnInitCallbacks(Le,se),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,se,Le)}catch{}var _e;return Le||null}normalizeInstanceIdentifier(se=ue){return this.component?this.component.multipleInstances?se:ue:se}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(se){this.name=se,this.providers=new Map}addComponent(se){const Re=this.getProvider(se.name);if(Re.isComponentSet())throw new Error(`Component ${se.name} has already been registered with ${this.name}`);Re.setComponent(se)}addOrOverwriteComponent(se){this.getProvider(se.name).isComponentSet()&&this.providers.delete(se.name),this.addComponent(se)}getProvider(se){if(this.providers.has(se))return this.providers.get(se);const Re=new Me(se,this);return this.providers.set(se,Re),Re}getProviders(){return Array.from(this.providers.values())}}},1877:(En,rt,S)=>{S.d(rt,{Am:()=>_e,Ub:()=>le,Yd:()=>Pe,in:()=>g});
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const l=[];var g,se;(se=g||(g={}))[se.DEBUG=0]="DEBUG",se[se.VERBOSE=1]="VERBOSE",se[se.INFO=2]="INFO",se[se.WARN=3]="WARN",se[se.ERROR=4]="ERROR",se[se.SILENT=5]="SILENT";const z={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},ue=g.INFO,Me={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},we=(se,Re,...Le)=>{if(Re<se.logLevel)return;const Xe=(new Date).toISOString(),We=Me[Re];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${Re})`);console[We](`[${Xe}]  ${se.name}:`,...Le)};class Pe{constructor(Re){this.name=Re,this._logLevel=ue,this._logHandler=we,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(Re){if(!(Re in g))throw new TypeError(`Invalid value "${Re}" assigned to \`logLevel\``);this._logLevel=Re}setLogLevel(Re){this._logLevel="string"==typeof Re?z[Re]:Re}get logHandler(){return this._logHandler}set logHandler(Re){if("function"!=typeof Re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Re}get userLogHandler(){return this._userLogHandler}set userLogHandler(Re){this._userLogHandler=Re}debug(...Re){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...Re),this._logHandler(this,g.DEBUG,...Re)}log(...Re){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...Re),this._logHandler(this,g.VERBOSE,...Re)}info(...Re){this._userLogHandler&&this._userLogHandler(this,g.INFO,...Re),this._logHandler(this,g.INFO,...Re)}warn(...Re){this._userLogHandler&&this._userLogHandler(this,g.WARN,...Re),this._logHandler(this,g.WARN,...Re)}error(...Re){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...Re),this._logHandler(this,g.ERROR,...Re)}}function le(se){l.forEach(Re=>{Re.setLogLevel(se)})}function _e(se,Re){for(const Le of l){let Xe=null;Re&&Re.level&&(Xe=z[Re.level]),Le.userLogHandler=null===se?null:(We,St,...Ft)=>{const Ie=Ft.map(Et=>{if(null==Et)return null;if("string"==typeof Et)return Et;if("number"==typeof Et||"boolean"==typeof Et)return Et.toString();if(Et instanceof Error)return Et.message;try{return JSON.stringify(Et)}catch{return null}}).filter(Et=>Et).join(" ");St>=(Xe??We.logLevel)&&se({level:g[St].toLowerCase(),message:Ie,args:Ft,type:We.name})}}}},259:(En,rt,S)=>{S.d(rt,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,P2:()=>l.deleteApp,TP:()=>l.onLog,Ub:()=>l.setLogLevel,ZF:()=>l.initializeApp});var l=S(9681);
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(0,l.registerVersion)("firebase","9.19.1","app")},9260:(En,rt,S)=>{S.d(rt,{Z:()=>l.Z});var l=S(3942);
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */l.Z.registerVersion("firebase","9.19.1","app-compat")},9568:(En,rt,S)=>{S.r(rt);var l=S(5861),g=S(3942),z=S(3432),ue=S(2090),Pe=(S(9681),S(1877),S(4859));
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function le(){return window}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const _e=2e3;function Re(){return Re=(0,l.Z)(function*(fe,oe,me){var Ct;const{BuildInfo:Ke}=le();(0,z.ar)(oe.sessionId,"AuthEvent did not contain a session ID");const ee=yield function Et(fe){return gt.apply(this,arguments)}(oe.sessionId),Oe={};return(0,z.as)()?Oe.ibi=Ke.packageName:(0,z.at)()?Oe.apn=Ke.packageName:(0,z.au)(fe,"operation-not-supported-in-this-environment"),Ke.displayName&&(Oe.appDisplayName=Ke.displayName),Oe.sessionId=ee,(0,z.av)(fe,me,oe.type,void 0,null!==(Ct=oe.eventId)&&void 0!==Ct?Ct:void 0,Oe)}),Re.apply(this,arguments)}function Xe(){return(Xe=(0,l.Z)(function*(fe){const{BuildInfo:oe}=le(),me={};(0,z.as)()?me.iosBundleId=oe.packageName:(0,z.at)()?me.androidPackageName=oe.packageName:(0,z.au)(fe,"operation-not-supported-in-this-environment"),yield(0,z.aw)(fe,me)})).apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(fe,oe,me){const{cordova:Ct}=le();let Ke=()=>{};try{yield new Promise((ee,Oe)=>{let nt=null;function Ut(){var lt;ee();const q=null===(lt=Ct.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof q&&q(),"function"==typeof me?.close&&me.close()}function tn(){nt||(nt=window.setTimeout(()=>{Oe((0,z.ay)(fe,"redirect-cancelled-by-user"))},_e))}function On(){"visible"===document?.visibilityState&&tn()}oe.addPassiveListener(Ut),document.addEventListener("resume",tn,!1),(0,z.at)()&&document.addEventListener("visibilitychange",On,!1),Ke=()=>{oe.removePassiveListener(Ut),document.removeEventListener("resume",tn,!1),document.removeEventListener("visibilitychange",On,!1),nt&&window.clearTimeout(nt)}})}finally{Ke()}})).apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(fe){const oe=function bt(fe){if((0,z.ar)(/[0-9a-zA-Z]+/.test(fe),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(fe);const oe=new ArrayBuffer(fe.length),me=new Uint8Array(oe);for(let Ct=0;Ct<fe.length;Ct++)me[Ct]=fe.charCodeAt(Ct);return me}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */(fe),me=yield crypto.subtle.digest("SHA-256",oe);return Array.from(new Uint8Array(me)).map(Ke=>Ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const _t=20;class Be extends z.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(oe=>{this.resolveInialized=oe})}addPassiveListener(oe){this.passiveListeners.add(oe)}removePassiveListener(oe){this.passiveListeners.delete(oe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(oe){return this.resolveInialized(),this.passiveListeners.forEach(me=>me(oe)),super.onEvent(oe)}initialized(){var oe=this;return(0,l.Z)(function*(){yield oe.initPromise})()}}function Ye(fe){return X.apply(this,arguments)}function X(){return(X=(0,l.Z)(function*(fe){const oe=yield en()._get(jn(fe));return oe&&(yield en()._remove(jn(fe))),oe})).apply(this,arguments)}function Bt(fe,oe){var me,Ct;const Ke=function ft(fe){const oe=Ot(fe),me=oe.link?decodeURIComponent(oe.link):void 0,Ct=Ot(me).link,Ke=oe.deep_link_id?decodeURIComponent(oe.deep_link_id):void 0;return Ot(Ke).link||Ke||Ct||me||fe}(oe);if(Ke.includes("/__/auth/callback")){const ee=Ot(Ke),Oe=ee.firebaseError?function Pn(fe){try{return JSON.parse(fe)}catch{return null}}(decodeURIComponent(ee.firebaseError)):null,nt=null===(Ct=null===(me=Oe?.code)||void 0===me?void 0:me.split("auth/"))||void 0===Ct?void 0:Ct[1],Ut=nt?(0,z.ay)(nt):null;return Ut?{type:fe.type,eventId:fe.eventId,tenantId:fe.tenantId,error:Ut,urlResponse:null,sessionId:null,postBody:null}:{type:fe.type,eventId:fe.eventId,tenantId:fe.tenantId,sessionId:fe.sessionId,urlResponse:Ke,postBody:null}}return null}function _n(){const fe=[],oe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let me=0;me<_t;me++){const Ct=Math.floor(Math.random()*oe.length);fe.push(oe.charAt(Ct))}return fe.join("")}function en(){return(0,z.aB)(z.b)}function jn(fe){return(0,z.aC)("authEvent",fe.config.apiKey,fe.name)}function Ot(fe){if(!fe?.includes("?"))return{};const[oe,...me]=fe.split("?");return(0,ue.zd)(me.join("?"))}
/**
         * @license
         * Copyright 2021 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Ht=class Lt{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aD,this._overrideRedirectResult=z.aE}_initialize(oe){var me=this;return(0,l.Z)(function*(){const Ct=oe._key();let Ke=me.eventManagers.get(Ct);return Ke||(Ke=new Be(oe),me.eventManagers.set(Ct,Ke),me.attachCallbackListeners(oe,Ke)),Ke})()}_openPopup(oe){(0,z.au)(oe,"operation-not-supported-in-this-environment")}_openRedirect(oe,me,Ct,Ke){var ee=this;return(0,l.Z)(function*(){!function Ie(fe){var oe,me,Ct,Ke,ee,Oe,nt,Ut,tn,On;const lt=le();(0,z.az)("function"==typeof(null===(oe=lt?.universalLinks)||void 0===oe?void 0:oe.subscribe),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.az)(typeof(null===(me=lt?.BuildInfo)||void 0===me?void 0:me.packageName)<"u",fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.az)("function"==typeof(null===(ee=null===(Ke=null===(Ct=lt?.cordova)||void 0===Ct?void 0:Ct.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===ee?void 0:ee.openUrl),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.az)("function"==typeof(null===(Ut=null===(nt=null===(Oe=lt?.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===nt?void 0:nt.browsertab)||void 0===Ut?void 0:Ut.isAvailable),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.az)("function"==typeof(null===(On=null===(tn=lt?.cordova)||void 0===tn?void 0:tn.InAppBrowser)||void 0===On?void 0:On.open),fe,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(oe);const Oe=yield ee._initialize(oe);yield Oe.initialized(),Oe.resetRedirect(),(0,z.aF)(),yield ee._originValidation(oe);const nt=function at(fe,oe,me=null){return{type:oe,eventId:me,urlResponse:null,sessionId:_n(),postBody:null,tenantId:fe.tenantId,error:(0,z.ay)(fe,"no-auth-event")}}(oe,Ct,Ke);yield function qt(fe,oe){return en()._set(jn(fe),oe)}(oe,nt);const Ut=yield function se(fe,oe,me){return Re.apply(this,arguments)}(oe,nt,me),tn=yield function We(fe){const{cordova:oe}=le();return new Promise(me=>{oe.plugins.browsertab.isAvailable(Ct=>{let Ke=null;Ct?oe.plugins.browsertab.openUrl(fe):Ke=oe.InAppBrowser.open(fe,(0,z.ax)()?"_blank":"_system","location=yes"),me(Ke)})})}(Ut);return function St(fe,oe,me){return Ft.apply(this,arguments)}(oe,Oe,tn)})()}_isIframeWebStorageSupported(oe,me){throw new Error("Method not implemented.")}_originValidation(oe){const me=oe._key();return this.originValidationPromises[me]||(this.originValidationPromises[me]=function Le(fe){return Xe.apply(this,arguments)}(oe)),this.originValidationPromises[me]}attachCallbackListeners(oe,me){const{universalLinks:Ct,handleOpenURL:Ke,BuildInfo:ee}=le(),Oe=setTimeout((0,l.Z)(function*(){yield Ye(oe),me.onEvent(Gt())}),500),nt=function(){var On=(0,l.Z)(function*(lt){clearTimeout(Oe);const q=yield Ye(oe);let Ne=null;q&&lt?.url&&(Ne=Bt(q,lt.url)),me.onEvent(Ne||Gt())});return function(q){return On.apply(this,arguments)}}();typeof Ct<"u"&&"function"==typeof Ct.subscribe&&Ct.subscribe(null,nt);const Ut=Ke,tn=`${ee.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var On=(0,l.Z)(function*(lt){if(lt.toLowerCase().startsWith(tn)&&nt({url:lt}),"function"==typeof Ut)try{Ut(lt)}catch(q){console.error(q)}});return function(lt){return On.apply(this,arguments)}}()}};function Gt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.ay)("no-auth-event")}}
/**
         * @license
         * Copyright 2017 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */var it="@firebase/auth-compat",It="0.3.7";
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const Mt=1e3;function vn(){var fe;return(null===(fe=self?.location)||void 0===fe?void 0:fe.protocol)||null}function xn(fe=(0,ue.z$)()){return!("file:"!==vn()&&"ionic:"!==vn()&&"capacitor:"!==vn()||!fe.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(fe=(0,ue.z$)()){return function br(){return(0,ue.w1)()&&11===document?.documentMode}()||function Un(fe=(0,ue.z$)()){return/Edge\/\d+/.test(fe)}(fe)}function Nr(){try{const fe=self.localStorage,oe=z.aK();if(fe)return fe.setItem(oe,"1"),fe.removeItem(oe),!vr()||(0,ue.hl)()}catch{return Jn()&&(0,ue.hl)()}return!1}function Jn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Br(){return(function on(){return"http:"===vn()||"https:"===vn()}()||(0,ue.ru)()||xn())&&!function ur(){return(0,ue.b$)()||(0,ue.UG)()}()&&Nr()&&!Jn()}function dr(){return xn()&&typeof document<"u"}function hr(){return(hr=(0,l.Z)(function*(){return!!dr()&&new Promise(fe=>{const oe=setTimeout(()=>{fe(!1)},Mt);document.addEventListener("deviceready",()=>{clearTimeout(oe),fe(!0)})})})).apply(this,arguments)}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const Hn={LOCAL:"local",NONE:"none",SESSION:"session"},Tr=z.az,Di="persistence";function Zr(fe){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(fe){yield fe._initializationPromise;const oe=rr(),me=z.aC(Di,fe.config.apiKey,fe.name);oe&&oe.setItem(me,fe._getPersistence())})).apply(this,arguments)}function rr(){var fe;try{return(null===(fe=function fi(){return typeof window<"u"?window:null}())||void 0===fe?void 0:fe.sessionStorage)||null}catch{return null}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const $n=z.az;class Rn{constructor(){this.browserResolver=z.aB(z.k),this.cordovaResolver=z.aB(Ht),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aD,this._overrideRedirectResult=z.aE}_initialize(oe){var me=this;return(0,l.Z)(function*(){return yield me.selectUnderlyingResolver(),me.assertedUnderlyingResolver._initialize(oe)})()}_openPopup(oe,me,Ct,Ke){var ee=this;return(0,l.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(oe,me,Ct,Ke)})()}_openRedirect(oe,me,Ct,Ke){var ee=this;return(0,l.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(oe,me,Ct,Ke)})()}_isIframeWebStorageSupported(oe,me){this.assertedUnderlyingResolver._isIframeWebStorageSupported(oe,me)}_originValidation(oe){return this.assertedUnderlyingResolver._originValidation(oe)}get _shouldInitProactively(){return dr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $n(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var oe=this;return(0,l.Z)(function*(){if(oe.underlyingResolver)return;const me=yield function ri(){return hr.apply(this,arguments)}();oe.underlyingResolver=me?oe.cordovaResolver:oe.browserResolver})()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */function ar(fe){return fe.unwrap()}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
function gr(fe){return di(fe)}function di(fe){const{_tokenResponse:oe}=fe instanceof ue.ZR?fe.customData:fe;if(!oe)return null;if(!(fe instanceof ue.ZR)&&"temporaryProof"in oe&&"phoneNumber"in oe)return z.P.credentialFromResult(fe);const me=oe.providerId;if(!me||me===z.p.PASSWORD)return null;let Ct;switch(me){case z.p.GOOGLE:Ct=z.U;break;case z.p.FACEBOOK:Ct=z.Q;break;case z.p.GITHUB:Ct=z.V;break;case z.p.TWITTER:Ct=z.Y;break;default:const{oauthIdToken:Ke,oauthAccessToken:ee,oauthTokenSecret:Oe,pendingToken:nt,nonce:Ut}=oe;return ee||Oe||Ke||nt?nt?me.startsWith("saml.")?z.aN._create(me,nt):z.K._fromParams({providerId:me,signInMethod:me,pendingToken:nt,idToken:Ke,accessToken:ee}):new z.W(me).credential({idToken:Ke,accessToken:ee,rawNonce:Ut}):null}return fe instanceof ue.ZR?Ct.credentialFromError(fe):Ct.credentialFromResult(fe)}function Wn(fe,oe){return oe.catch(me=>{throw me instanceof ue.ZR&&function jr(fe,oe){var me;const Ct=null===(me=oe.customData)||void 0===me?void 0:me._tokenResponse;if("auth/multi-factor-auth-required"===oe?.code)oe.resolver=new Xt(fe,z.ap(fe,oe));else if(Ct){const Ke=di(oe),ee=oe;Ke&&(ee.credential=Ke,ee.tenantId=Ct.tenantId||void 0,ee.email=Ct.email||void 0,ee.phoneNumber=Ct.phoneNumber||void 0)}}(fe,me),me}).then(me=>{const Ct=me.operationType,Ke=me.user;return{operationType:Ct,credential:gr(me),additionalUserInfo:z.an(me),user:de.getOrCreate(Ke)}})}function xr(fe,oe){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(fe,oe){const me=yield oe;return{verificationId:me.verificationId,confirm:Ct=>Wn(fe,me.confirm(Ct))}})).apply(this,arguments)}class Xt{constructor(oe,me){this.resolver=me,this.auth=function wr(fe){return fe.wrapped()}(oe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(oe){return Wn(ar(this.auth),this.resolver.resolveSignIn(oe))}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */class de{constructor(oe){this._delegate=oe,this.multiFactor=z.aq(oe)}static getOrCreate(oe){return de.USER_MAP.has(oe)||de.USER_MAP.set(oe,new de(oe)),de.USER_MAP.get(oe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(oe){return this._delegate.getIdTokenResult(oe)}getIdToken(oe){return this._delegate.getIdToken(oe)}linkAndRetrieveDataWithCredential(oe){return this.linkWithCredential(oe)}linkWithCredential(oe){var me=this;return(0,l.Z)(function*(){return Wn(me.auth,z.$(me._delegate,oe))})()}linkWithPhoneNumber(oe,me){var Ct=this;return(0,l.Z)(function*(){return xr(Ct.auth,z.l(Ct._delegate,oe,me))})()}linkWithPopup(oe){var me=this;return(0,l.Z)(function*(){return Wn(me.auth,z.d(me._delegate,oe,Rn))})()}linkWithRedirect(oe){var me=this;return(0,l.Z)(function*(){return yield Zr(z.aG(me.auth)),z.g(me._delegate,oe,Rn)})()}reauthenticateAndRetrieveDataWithCredential(oe){return this.reauthenticateWithCredential(oe)}reauthenticateWithCredential(oe){var me=this;return(0,l.Z)(function*(){return Wn(me.auth,z.a0(me._delegate,oe))})()}reauthenticateWithPhoneNumber(oe,me){return xr(this.auth,z.r(this._delegate,oe,me))}reauthenticateWithPopup(oe){return Wn(this.auth,z.e(this._delegate,oe,Rn))}reauthenticateWithRedirect(oe){var me=this;return(0,l.Z)(function*(){return yield Zr(z.aG(me.auth)),z.h(me._delegate,oe,Rn)})()}sendEmailVerification(oe){return z.ad(this._delegate,oe)}unlink(oe){var me=this;return(0,l.Z)(function*(){return yield z.am(me._delegate,oe),me})()}updateEmail(oe){return z.ai(this._delegate,oe)}updatePassword(oe){return z.aj(this._delegate,oe)}updatePhoneNumber(oe){return z.u(this._delegate,oe)}updateProfile(oe){return z.ah(this._delegate,oe)}verifyBeforeUpdateEmail(oe,me){return z.ae(this._delegate,oe,me)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}de.USER_MAP=new WeakMap;
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const Ce=z.az;class Ee{constructor(oe,me){if(this.app=oe,me.isInitialized())return this._delegate=me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ct}=oe.options;Ce(Ct,"invalid-api-key",{appName:oe.name}),Ce(Ct,"invalid-api-key",{appName:oe.name});const Ke=typeof window<"u"?Rn:void 0;this._delegate=me.initialize({options:{persistence:Se(Ct,oe.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(z.C),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?de.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(oe){this._delegate.languageCode=oe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(oe){this._delegate.tenantId=oe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(oe,me){z.H(this._delegate,oe,me)}applyActionCode(oe){return z.a4(this._delegate,oe)}checkActionCode(oe){return z.a5(this._delegate,oe)}confirmPasswordReset(oe,me){return z.a3(this._delegate,oe,me)}createUserWithEmailAndPassword(oe,me){var Ct=this;return(0,l.Z)(function*(){return Wn(Ct._delegate,z.a7(Ct._delegate,oe,me))})()}fetchProvidersForEmail(oe){return this.fetchSignInMethodsForEmail(oe)}fetchSignInMethodsForEmail(oe){return z.ac(this._delegate,oe)}isSignInWithEmailLink(oe){return z.aa(this._delegate,oe)}getRedirectResult(){var oe=this;return(0,l.Z)(function*(){Ce(Br(),oe._delegate,"operation-not-supported-in-this-environment");const me=yield z.j(oe._delegate,Rn);return me?Wn(oe._delegate,Promise.resolve(me)):{credential:null,user:null}})()}addFrameworkForLogging(oe){!function Qt(fe,oe){(0,z.aG)(fe)._logFramework(oe)}(this._delegate,oe)}onAuthStateChanged(oe,me,Ct){const{next:Ke,error:ee,complete:Oe}=Y(oe,me,Ct);return this._delegate.onAuthStateChanged(Ke,ee,Oe)}onIdTokenChanged(oe,me,Ct){const{next:Ke,error:ee,complete:Oe}=Y(oe,me,Ct);return this._delegate.onIdTokenChanged(Ke,ee,Oe)}sendSignInLinkToEmail(oe,me){return z.a9(this._delegate,oe,me)}sendPasswordResetEmail(oe,me){return z.a2(this._delegate,oe,me||void 0)}setPersistence(oe){var me=this;return(0,l.Z)(function*(){let Ct;switch(function er(fe,oe){Tr(Object.values(Hn).includes(oe),fe,"invalid-persistence-type"),(0,ue.b$)()?Tr(oe!==Hn.SESSION,fe,"unsupported-persistence-type"):(0,ue.UG)()?Tr(oe===Hn.NONE,fe,"unsupported-persistence-type"):Jn()?Tr(oe===Hn.NONE||oe===Hn.LOCAL&&(0,ue.hl)(),fe,"unsupported-persistence-type"):Tr(oe===Hn.NONE||Nr(),fe,"unsupported-persistence-type")}(me._delegate,oe),oe){case Hn.SESSION:Ct=z.a;break;case Hn.LOCAL:Ct=(yield z.aB(z.i)._isAvailable())?z.i:z.b;break;case Hn.NONE:Ct=z.M;break;default:return z.au("argument-error",{appName:me._delegate.name})}return me._delegate.setPersistence(Ct)})()}signInAndRetrieveDataWithCredential(oe){return this.signInWithCredential(oe)}signInAnonymously(){return Wn(this._delegate,z.Z(this._delegate))}signInWithCredential(oe){return Wn(this._delegate,z._(this._delegate,oe))}signInWithCustomToken(oe){return Wn(this._delegate,z.a1(this._delegate,oe))}signInWithEmailAndPassword(oe,me){return Wn(this._delegate,z.a8(this._delegate,oe,me))}signInWithEmailLink(oe,me){return Wn(this._delegate,z.ab(this._delegate,oe,me))}signInWithPhoneNumber(oe,me){return xr(this._delegate,z.s(this._delegate,oe,me))}signInWithPopup(oe){var me=this;return(0,l.Z)(function*(){return Ce(Br(),me._delegate,"operation-not-supported-in-this-environment"),Wn(me._delegate,z.c(me._delegate,oe,Rn))})()}signInWithRedirect(oe){var me=this;return(0,l.Z)(function*(){return Ce(Br(),me._delegate,"operation-not-supported-in-this-environment"),yield Zr(me._delegate),z.f(me._delegate,oe,Rn)})()}updateCurrentUser(oe){return this._delegate.updateCurrentUser(oe)}verifyPasswordResetCode(oe){return z.a6(this._delegate,oe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Y(fe,oe,me){let Ct=fe;"function"!=typeof fe&&({next:Ct,error:oe,complete:me}=fe);const Ke=Ct;return{next:Oe=>Ke(Oe&&de.getOrCreate(Oe)),error:oe,complete:me}}function Se(fe,oe){const me=function ir(fe,oe){const me=rr();if(!me)return[];const Ct=z.aC(Di,fe,oe);switch(me.getItem(Ct)){case Hn.NONE:return[z.M];case Hn.LOCAL:return[z.i,z.a];case Hn.SESSION:return[z.a];default:return[]}}(fe,oe);if(typeof self<"u"&&!me.includes(z.i)&&me.push(z.i),typeof window<"u")for(const Ct of[z.b,z.a])me.includes(Ct)||me.push(Ct);return me.includes(z.M)||me.push(z.M),me
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */}Ee.Persistence=Hn;class pt{constructor(){this.providerId="phone",this._delegate=new z.P(ar(g.Z.auth()))}static credential(oe,me){return z.P.credential(oe,me)}verifyPhoneNumber(oe,me){return this._delegate.verifyPhoneNumber(oe,me)}unwrap(){return this._delegate}}pt.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,pt.PROVIDER_ID=z.P.PROVIDER_ID;
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */
const yn=z.az;class Zn{constructor(oe,me,Ct=g.Z.app()){var Ke;yn(null===(Ke=Ct.options)||void 0===Ke?void 0:Ke.apiKey,"invalid-api-key",{appName:Ct.name}),this._delegate=new z.R(oe,me,Ct.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
         * @license
         * Copyright 2020 Google LLC
         *
         * Licensed under the Apache License, Version 2.0 (the "License");
         * you may not use this file except in compliance with the License.
         * You may obtain a copy of the License at
         *
         *   http://www.apache.org/licenses/LICENSE-2.0
         *
         * Unless required by applicable law or agreed to in writing, software
         * distributed under the License is distributed on an "AS IS" BASIS,
         * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
         * See the License for the specific language governing permissions and
         * limitations under the License.
         */const He="auth-compat";!function Ue(fe){fe.INTERNAL.registerComponent(new Pe.wA(He,oe=>{const me=oe.getProvider("app-compat").getImmediate(),Ct=oe.getProvider("auth");return new Ee(me,Ct)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.N,FacebookAuthProvider:z.Q,GithubAuthProvider:z.V,GoogleAuthProvider:z.U,OAuthProvider:z.W,SAMLAuthProvider:z.X,PhoneAuthProvider:pt,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:Zn,TwitterAuthProvider:z.Y,Auth:Ee,AuthCredential:z.I,Error:ue.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),fe.registerVersion(it,It)}(g.Z)},8766:(En,rt,S)=>{S.d(rt,{Lj:()=>_t,X3:()=>bt});var l=S(5861);const g=(X,Bt)=>Bt.some(_n=>X instanceof _n);let z,ue;const Pe=new WeakMap,le=new WeakMap,_e=new WeakMap,se=new WeakMap,Re=new WeakMap;let We={get(X,Bt,_n){if(X instanceof IDBTransaction){if("done"===Bt)return le.get(X);if("objectStoreNames"===Bt)return X.objectStoreNames||_e.get(X);if("store"===Bt)return _n.objectStoreNames[1]?void 0:_n.objectStore(_n.objectStoreNames[0])}return Et(X[Bt])},set:(X,Bt,_n)=>(X[Bt]=_n,!0),has:(X,Bt)=>X instanceof IDBTransaction&&("done"===Bt||"store"===Bt)||Bt in X};function Ft(X){return X!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ue||(ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(X)?function(...Bt){return X.apply(gt(this),Bt),Et(Pe.get(this))}:function(...Bt){return Et(X.apply(gt(this),Bt))}:function(Bt,..._n){const en=X.call(gt(this),Bt,..._n);return _e.set(en,Bt.sort?Bt.sort():[Bt]),Et(en)}}function Ie(X){return"function"==typeof X?Ft(X):(X instanceof IDBTransaction&&function Xe(X){if(le.has(X))return;const Bt=new Promise((_n,en)=>{const jn=()=>{X.removeEventListener("complete",Pn),X.removeEventListener("error",ft),X.removeEventListener("abort",ft)},Pn=()=>{_n(),jn()},ft=()=>{en(X.error||new DOMException("AbortError","AbortError")),jn()};X.addEventListener("complete",Pn),X.addEventListener("error",ft),X.addEventListener("abort",ft)});le.set(X,Bt)}(X),g(X,function Me(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(X,We):X)}function Et(X){if(X instanceof IDBRequest)return function Le(X){const Bt=new Promise((_n,en)=>{const jn=()=>{X.removeEventListener("success",Pn),X.removeEventListener("error",ft)},Pn=()=>{_n(Et(X.result)),jn()},ft=()=>{en(X.error),jn()};X.addEventListener("success",Pn),X.addEventListener("error",ft)});return Bt.then(_n=>{_n instanceof IDBCursor&&Pe.set(_n,X)}).catch(()=>{}),Re.set(Bt,X),Bt}(X);if(se.has(X))return se.get(X);const Bt=Ie(X);return Bt!==X&&(se.set(X,Bt),Re.set(Bt,X)),Bt}const gt=X=>Re.get(X);function bt(X,Bt,{blocked:_n,upgrade:en,blocking:jn,terminated:Pn}={}){const ft=indexedDB.open(X,Bt),Ot=Et(ft);return en&&ft.addEventListener("upgradeneeded",Rt=>{en(Et(ft.result),Rt.oldVersion,Rt.newVersion,Et(ft.transaction))}),_n&&ft.addEventListener("blocked",()=>_n()),Ot.then(Rt=>{Pn&&Rt.addEventListener("close",()=>Pn()),jn&&Rt.addEventListener("versionchange",()=>jn())}).catch(()=>{}),Ot}function _t(X,{blocked:Bt}={}){const _n=indexedDB.deleteDatabase(X);return Bt&&_n.addEventListener("blocked",()=>Bt()),Et(_n).then(()=>{})}const Be=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],qt=new Map;function Ye(X,Bt){if(!(X instanceof IDBDatabase)||Bt in X||"string"!=typeof Bt)return;if(qt.get(Bt))return qt.get(Bt);const _n=Bt.replace(/FromIndex$/,""),en=Bt!==_n,jn=at.includes(_n);if(!(_n in(en?IDBIndex:IDBObjectStore).prototype)||!jn&&!Be.includes(_n))return;const Pn=function(){var ft=(0,l.Z)(function*(Ot,...Rt){const Lt=this.transaction(Ot,jn?"readwrite":"readonly");let Ht=Lt.store;return en&&(Ht=Ht.index(Rt.shift())),(yield Promise.all([Ht[_n](...Rt),jn&&Lt.done]))[0]});return function(Rt){return ft.apply(this,arguments)}}();return qt.set(Bt,Pn),Pn}!function St(X){We=X(We)}(X=>({...X,get:(Bt,_n,en)=>Ye(Bt,_n)||X.get(Bt,_n,en),has:(Bt,_n)=>!!Ye(Bt,_n)||X.has(Bt,_n)}))},5861:(En,rt,S)=>{function l(z,ue,Me,we,Pe,le,_e){try{var se=z[le](_e),Re=se.value}catch(Le){return void Me(Le)}se.done?ue(Re):Promise.resolve(Re).then(we,Pe)}function g(z){return function(){var ue=this,Me=arguments;return new Promise(function(we,Pe){var le=z.apply(ue,Me);function _e(Re){l(le,we,Pe,_e,se,"next",Re)}function se(Re){l(le,we,Pe,_e,se,"throw",Re)}_e(void 0)})}}S.d(rt,{Z:()=>g})}},En=>{var l;l=1981,En(En.s=l)}]);